[
  {
    "machines": [
      {
        "identity": "generate-key",
        "variableName": "generateKey",
        "friendlyName": "Generate Key",
        "cacheable": null,
        "sync": null,
        "description": "Generates a crypto secure hex key with 32 characters.",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "44xtha1v228542u5q6ddxzdoukji1m74",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var tfa = require('2fa');\n \n    // lets generate a new key for a user \n    // tfa.generateKey(length (optional), cb) \n    tfa.generateKey(32, function(err, key) {\n      // crypto secure hex key with 32 characters  \n      return exits.success(key);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-2fa/generate-key",
        "docsUrl": "http://node-machine.org/machinepack-2fa/generate-key",
        "defaultExit": "success",
        "machinepack": 101,
        "id": 379,
        "createdAt": "2015-04-27T18:29:33.000Z",
        "updatedAt": "2015-04-27T18:29:33.000Z"
      },
      {
        "identity": "generate-code",
        "variableName": "generateCode",
        "friendlyName": "Generate Code",
        "cacheable": null,
        "sync": null,
        "description": "Generates a Code using the users secret key which can then be verified",
        "inputs": {
          "key": {
            "example": "44xtha1v228542u5q6ddxzdoukji1m74",
            "description": "The secret key, which is to be stored with the userdata.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "123456",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var tfa = require('2fa');\n \n    // calculate the counter for the HOTP (pretending it's actually TOTP) \n    var counter = Math.floor(Date.now() / 1000 / 30);\n   \n    // generate a valid code (in real-life this will be user-input) \n    var code = tfa.generateCode(inputs.key, counter);\n\n    return exits.success(code);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-2fa/generate-code",
        "docsUrl": "http://node-machine.org/machinepack-2fa/generate-code",
        "defaultExit": "success",
        "machinepack": 101,
        "id": 380,
        "createdAt": "2015-04-27T18:29:33.000Z",
        "updatedAt": "2015-04-27T18:29:33.000Z"
      },
      {
        "identity": "generate-qr",
        "variableName": "generateQr",
        "friendlyName": "Generate QR",
        "cacheable": null,
        "sync": null,
        "description": "Generates a QR code to store it by scanning the QR code.",
        "inputs": {
          "application": {
            "example": "MachineDev",
            "description": "The name of the application",
            "required": true,
            "type": "string"
          },
          "username": {
            "example": "John",
            "description": "The name of the user/account.",
            "required": true,
            "type": "string"
          },
          "key": {
            "example": "44xtha1v228542u5q6ddxzdoukji1m74",
            "description": "The secret key, which is to be stored with the userdata.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPUAAAD1CAAAAACt2uy5AAADJElEQVR42u3bwW4iMRAEUP7/p8kxUsSYKnsiEvtx2l3AzJuVGrureTxPfDyoqampqampqampqampqampqal79eP94/t110u/ePGPf7tc5dXbXr04vVJqauqD1WNN/+wlJFggvQnxtVBTU5+mDir35V+Dd9y9VHpPqKmpqUfPXm43x1va8RPjqk9NTU19mzq4ypXLT7ev1NTU1PMn6ODy00J+2WT8e10Famrqf6auso+P/uljiQ81NfVfV8fjHatJbpWHBJqluRRqaur91JN9uZSUPpF+WjXxQk1NfZI6yFarZl/w3mqBIBlZ2pFSU1Nvpa4+brK+9ksFXcWl8zU1NfWm6r6GB4FFcJXBPblcJTn6U1NTn6YeR63pLNzyhrfqUi71SKmpqTdVB+28IG8NDtTL2+EqGaGmpj5JPS7fwQf3s3V9qU7vGDU19cHqqhinoUhwhu/zkGplamrqg9VjYX/SHu9m+1X6+k9NTX2SenKDGiyQluDJ8/VSDaempt5KnYau3WTb8EA9OWWXLkpNTX2menKX2k+eTB7Bg+CFmpqa+pkPtfUJxeQ0XnoFaZxLTU19iLraggYfHLTz0sg4PYcvJbnU1NT7qSeP1tXQSZXapjeBmpqa+pmPBlfJQ9VfrN5bjQtTU1OfqQ6KZzVlElTp/sbc9AsIamrqndWTU8FpLzF4b1/hqampqd8GIFXN7fuBVbcwiTiWe6TU1NT/W9037KqpuOqLIS3LVShMTU19iDoovOnM3D1JRl++Z3ek1NTUW6kn2m9V8hB+JywHu9TU1Kergwg1vUVp4jvZAExzGGpqaurH9G+tgum5qoZPpsDU1NQHqwNNWksnD8/VN0Y/b0dNTX2IOj6mNkMnPTPNiNP/C2pq6uPUaXmsfuiQQoLBlrRlSE1NTT01uzY+D1ev67eb1NTU1Nlesk9Z08Ci6lL+dleBmpr6SHXfS6xS26pep9dCTU1NXQzwVhPFKxvUYJtLTU1N3Z6vq+m5YPOY3uh+jpiamvokdZ999Alt3N17/7o7p3Goqal3UW//oKampqampqampqampqampqamHj++APIwyIKEgmdTAAAAAElFTkSuQmCC",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var tfa = require('2fa');\n    var QR = require('qr-image');\n    // build data\n    var data = 'otpauth://totp/' + encodeURIComponent(inputs.application + ' | ' + inputs.username)\n           + '?secret=' + tfa.base32Encode(inputs.key);\n\n    // turn data into a QR code\n    var formatter = function(buf) {\n      return 'data:image/png;base64,' + buf.toString('base64')\n    };\n    var qrOpts = { type: 'png' };\n    var pngStream = QR.image(data, qrOpts);\n    var pngData = [];\n    pngStream.on('data', function(d) { pngData.push(d); });\n    pngStream.on('end', function() {\n      var png = Buffer.concat(pngData);\n      return exits.success(formatter(png));\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-2fa/generate-qr",
        "docsUrl": "http://node-machine.org/machinepack-2fa/generate-qr",
        "defaultExit": "success",
        "machinepack": 101,
        "id": 381,
        "createdAt": "2015-04-27T18:29:33.000Z",
        "updatedAt": "2015-04-27T18:29:33.000Z"
      },
      {
        "identity": "validate",
        "variableName": "validate",
        "friendlyName": "Validate",
        "cacheable": null,
        "sync": null,
        "description": "Validates the given code compared to user's key.",
        "inputs": {
          "key": {
            "example": "44xtha1v228542u5q6ddxzdoukji1m74",
            "description": "The secret key, which is to be stored with the userdata.",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "123456",
            "description": "The code the user entered to be validated.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "valid": {
            "description": "Valid code."
          },
          "invalid": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var tfa = require('2fa');\n    var opts = {\n      // the number of counters to check before what we're given \n      // default: 0 \n      beforeDrift: 2,\n      // and the number to check after \n      // default: 0 \n      afterDrift: 2,\n      // if before and after drift aren't specified, \n      // before + after drift are set to drift / 2 \n      // default: 0 \n      drift: 4,\n      // the step for the TOTP counter in seconds \n      // default: 30 \n      step: 30\n    };\n    // for TOTP, the counter is calculated internally using Date.now(); \n    if(tfa.verifyTOTP(inputs.key, inputs.code, opts)){\n      return exits.valid();\n    } else {\n      return exits.invalid();\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-2fa/validate",
        "docsUrl": "http://node-machine.org/machinepack-2fa/validate",
        "defaultExit": "invalid",
        "machinepack": 101,
        "id": 382,
        "createdAt": "2015-04-27T18:29:33.000Z",
        "updatedAt": "2015-04-27T18:29:33.000Z"
      }
    ],
    "identity": "machinepack-2fa",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-04-27T00:00:00.000Z",
    "variableName": "FA",
    "friendlyName": "2FA",
    "description": "Two Factor Authentication",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-2fa",
    "docsUrl": "http://node-machine.org/machinepack-2fa",
    "npmUrl": "http://npmjs.org/package/machinepack-2fa",
    "npmPackageName": "machinepack-2fa",
    "githubUrl": "http://github.com/TheWolfNL/machinepack-2fa/",
    "sourceUrl": "http://github.com/TheWolfNL/machinepack-2fa/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "2fa",
        "semverRange": "^0.1.2"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "qr-image",
        "semverRange": "^3.1.0"
      }
    ],
    "contributors": [
      {
        "name": "TheWolfNL - Tjeerd Ritsma",
        "email": "tpritsma@gmail.com"
      },
      {
        "name": "thewolfnl",
        "email": "tpritsma@gmail.com"
      }
    ],
    "id": 101,
    "createdAt": "2015-04-27T18:29:33.000Z",
    "updatedAt": "2015-04-27T18:29:33.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "encrypt",
        "variableName": "encrypt",
        "friendlyName": "Encrypt",
        "cacheable": null,
        "sync": null,
        "description": "Encrypt content",
        "inputs": {
          "value": {
            "example": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
            "description": "a text or a buffer (if buffer = true) for encrypt",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "a secure phrase or password",
            "description": "a secure phrase",
            "required": true,
            "type": "string"
          },
          "buffer": {
            "example": false,
            "description": "a text for encrypt",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "text": "cXJYIINixoiZtVE/gKhx/grE5QMWQblr17wxdlTQyR1uSEcVA/iNpOwVbiF3U+6QaUDhbRDK5VEpzS26e/+kLP+NJmcgfqsA5WRHfPQy4TfmzarIUrbL+NsPJm2Gxq+n8KtovheB6YNCqEyvTeB+fbtosSdFkNgUR+u6EFQwbrGF7200zqZx9UMd+1zcTHXxjdOo+EwZlULlpQ52KInPJlTk9FH2G2hgfqx2kotD2/sdTtcqWTZZSssWINJcVNO4cVM56XWfdcwxhQ=="
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    if (inputs.buffer && require('isbuffer')(inputs.value) !== true)\n      return exits.error({error: \"It's not a valid buffer\"});\n\n    var algorithm = \"aes-256-ctr\"\n    , input_encoding = \"utf8\"\n    , output_encoding = \"hex\"\n    , res = null;\n\n    var cipher = require('crypto').createCipher(algorithm, inputs.secret)\n    if (inputs.buffer) {\n      res = Buffer.concat([cipher.update(inputs.value),cipher.final()]);\n    } else {\n      res = cipher.update(inputs.value, input_encoding, output_encoding)\n          + cipher.final(output_encoding);\n    }\n\n    // Return an a crypted string\n    return exits.success({\n      text: res\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aes256/encrypt",
        "docsUrl": "http://node-machine.org/machinepack-aes256/encrypt",
        "defaultExit": "success",
        "machinepack": 71,
        "id": 266,
        "createdAt": "2015-03-20T20:29:43.000Z",
        "updatedAt": "2016-08-02T10:49:33.000Z"
      },
      {
        "identity": "decrypt",
        "variableName": "decrypt",
        "friendlyName": "Decrypt",
        "cacheable": null,
        "sync": null,
        "description": "Decrypt content",
        "inputs": {
          "value": {
            "example": "cXJYIINixoiZtVE/gKhx/grE5QMWQblr17wxdlTQyR1uSEcVA/iNpOwVbiF3U+6QaUDhbRDK5VEpzS26e/+kLP+NJmcgfqsA5WRHfPQy4TfmzarIUrbL+NsPJm2Gxq+n8KtovheB6YNCqEyvTeB+fbtosSdFkNgUR+u6EFQwbrGF7200zqZx9UMd+1zcTHXxjdOo+EwZlULlpQ52KInPJlTk9FH2G2hgfqx2kotD2/sdTtcqWTZZSssWINJcVNO4cVM56XWfdcwxhQ==",
            "description": "a text or a buffer (if buffer = true) for decrypt",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "a secure phrase",
            "description": "a secure phrase for encrypt",
            "required": true,
            "type": "string"
          },
          "buffer": {
            "example": false,
            "description": "a boolean to define it's a buffer. default: false",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    if (inputs.buffer === true && require('isbuffer')(inputs.value) !== true)\n      return exits.error({error: \"It's not a valid buffer\"});\n\n    var algorithm = \"aes-256-ctr\"\n    , input_encoding = \"hex\"\n    , output_encoding = \"utf8\";\n\n    var decipher = require('crypto').createDecipher(algorithm, inputs.secret);\n    if (inputs.buffer) {\n      res = Buffer.concat([cipher.update(inputs.value),cipher.final()]).toString(output_encoding);\n    } else {\n      res = decipher.update(inputs.value, input_encoding, output_encoding)\n          + decipher.final(output_encoding);\n    }\n\n    // Return an a crypted string\n    return exits.success({\n      text: res\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aes256/decrypt",
        "docsUrl": "http://node-machine.org/machinepack-aes256/decrypt",
        "defaultExit": "success",
        "machinepack": 71,
        "id": 267,
        "createdAt": "2015-03-20T20:29:43.000Z",
        "updatedAt": "2016-08-02T10:49:33.000Z"
      },
      {
        "identity": "encrypt-stream",
        "variableName": "encryptStream",
        "friendlyName": "Encrypt stream",
        "cacheable": null,
        "sync": null,
        "description": "Encrypt stream content and zip it",
        "inputs": {
          "stream": {
            "example": "a stream",
            "description": "a stream",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "a secure phrase or password",
            "description": "a secure phrase",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "example": {
              "stream": "a stream"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var helper = require(\"../lib/helper.js\");\n\n    if (helper.isStream(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    // Return an a crypted stream\n    return exits.success({\n      stream: helper.encryptStream(inputs.stream, inputs.secret)\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aes256/encrypt-stream",
        "docsUrl": "http://node-machine.org/machinepack-aes256/encrypt-stream",
        "defaultExit": "success",
        "machinepack": 71,
        "id": 268,
        "createdAt": "2015-03-20T20:29:43.000Z",
        "updatedAt": "2016-08-02T10:49:33.000Z"
      },
      {
        "identity": "decrypt-stream",
        "variableName": "decryptStream",
        "friendlyName": "Decrypt stream",
        "cacheable": null,
        "sync": null,
        "description": "Decrypt stream content and unzip it",
        "inputs": {
          "stream": {
            "example": "a stream",
            "description": "a stream",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "a secure phrase or password",
            "description": "a secure phrase",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "errorUnzip": {
            "description": "Can not a unzip the stream"
          },
          "success": {
            "example": {
              "stream": "a stream"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var helper = require(\"../lib/helper.js\");\n\n    if (helper.isStream(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    var stream = helper.decryptStream(inputs.stream, inputs.secret, exits.errorUnzip);\n\n    if (inputs.save){\n      stream.pipe(fs.createWriteStream(inputs.path+\".gz\"));\n    }\n\n    // Return an a crypted stream\n    return exits.success({\n      stream: stream\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aes256/decrypt-stream",
        "docsUrl": "http://node-machine.org/machinepack-aes256/decrypt-stream",
        "defaultExit": "success",
        "machinepack": 71,
        "id": 269,
        "createdAt": "2015-03-20T20:29:43.000Z",
        "updatedAt": "2016-08-02T10:49:33.000Z"
      },
      {
        "identity": "encrypt-stream-file",
        "variableName": "encryptStreamFile",
        "friendlyName": "Encrypt stream file",
        "cacheable": null,
        "sync": null,
        "description": "Encrypt a streamfile with source path",
        "inputs": {
          "path": {
            "example": "file.txt",
            "description": "a path",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "a secure phrase or password",
            "description": "a secure phrase",
            "required": true,
            "type": "string"
          },
          "save": {
            "example": true,
            "description": "a boolean, saving in the same folder",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorFileNotFind": {
            "description": "Error: File not find."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var helper = require(\"../lib/helper.js\");\n    var fs = require(\"fs\");\n    if (require('exists-sync')(inputs.path) !== true)\n      return exits.errorFileNotFind();\n\n    var stream = helper.encryptStream(fs.createReadStream(inputs.path), inputs.secret);\n\n    if (inputs.save){\n      stream.pipe(fs.createWriteStream(inputs.path+\".gz\"));\n    }\n\n    return exits.success({\n      stream: stream,\n      path: inputs.save ? inputs.path+\".gz\" : inputs.path\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aes256/encrypt-stream-file",
        "docsUrl": "http://node-machine.org/machinepack-aes256/encrypt-stream-file",
        "defaultExit": "success",
        "machinepack": 71,
        "id": 271,
        "createdAt": "2015-03-21T21:49:45.000Z",
        "updatedAt": "2016-08-02T10:49:33.000Z"
      },
      {
        "identity": "decrypt-stream-file",
        "variableName": "decryptStreamFile",
        "friendlyName": "Decrypt stream file",
        "cacheable": null,
        "sync": null,
        "description": "Decrypt a streamfile with source path",
        "inputs": {
          "path": {
            "example": "file.txt.gz",
            "description": "a path",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "a secure phrase or password",
            "description": "a secure phrase",
            "required": true,
            "type": "string"
          },
          "save": {
            "example": true,
            "description": "a boolean, saving in the same folder",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorFileNotFind": {
            "description": "Error: File not find."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var helper = require(\"../lib/helper.js\");\n    var fs = require(\"fs\");\n\n    if (fs.existsSync(inputs.path) !== true)\n      return exits.errorFileNotFind();\n\n    var stream = helper.decryptStream(fs.createReadStream(inputs.path), inputs.secret);\n\n    if (inputs.save){\n      var newPath = inputs.path.slice(0, -3);\n      console.log(\"newPath\",newPath);\n      stream.pipe(fs.createWriteStream(newPath));\n    }\n\n    return exits.success({\n      stream: stream,\n      path: inputs.save ? inputs.path.slice(0, -3) : inputs.path\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aes256/decrypt-stream-file",
        "docsUrl": "http://node-machine.org/machinepack-aes256/decrypt-stream-file",
        "defaultExit": "success",
        "machinepack": 71,
        "id": 272,
        "createdAt": "2015-03-21T21:49:45.000Z",
        "updatedAt": "2016-08-02T10:49:33.000Z"
      }
    ],
    "identity": "machinepack-aes256",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2016-08-02T00:00:00.000Z",
    "variableName": "AES256",
    "friendlyName": "AES-256",
    "description": "AES-256 Encrypt and decrypt content with node JS crypto API (AES-256)",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-aes256",
    "docsUrl": "http://node-machine.org/machinepack-aes256",
    "npmUrl": "http://npmjs.org/package/machinepack-aes256",
    "npmPackageName": "machinepack-aes256",
    "githubUrl": "http://github.com/wi2/machinepack-aes256/",
    "sourceUrl": "http://github.com/wi2/machinepack-aes256/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "exists-sync",
        "semverRange": "0.0.3"
      },
      {
        "name": "isbuffer",
        "semverRange": "0.0.0"
      },
      {
        "name": "isstream",
        "semverRange": "^0.1.2"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-0"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": ""
      }
    ],
    "id": 71,
    "createdAt": "2015-03-20T20:29:43.000Z",
    "updatedAt": "2016-08-02T10:49:33.000Z",
    "numMachines": 6
  },
  {
    "machines": [
      {
        "identity": "calculate",
        "variableName": "calculate",
        "friendlyName": "Calculate",
        "cacheable": null,
        "sync": null,
        "description": "Calculate an age based on date of birth.",
        "inputs": {
          "dateOfBirth": {
            "example": "1991-04-24",
            "description": "A date of birth `Date` instance or string in yyyy-mm-dd format.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "invalidDateFormat": {
            "description": "Invalid date format supplied (expected yyyy-mm-dd or instance of Date)."
          },
          "success": {
            "description": "OK.",
            "example": 23,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "  var dateOfBirth = inputs.dateOfBirth;\n\n  if (typeof dateOfBirth === 'string') {\n    dateOfBirth = new Date(Date.parse(dateOfBirth));\n  }\n\n  if (!dateOfBirth instanceof Date || dateOfBirth.toString() === 'Invalid Date') {\n    return exits.invalidDateFormat('Invalid date supplied.');\n  }\n\n  return exits.success(~~((Date.now() - (+dateOfBirth)) / (31557600000)));\n",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-age/calculate",
        "docsUrl": "http://node-machine.org/machinepack-age/calculate",
        "defaultExit": "success",
        "machinepack": 46,
        "id": 182,
        "createdAt": "2015-03-08T01:09:26.000Z",
        "updatedAt": "2015-03-08T01:09:26.000Z"
      }
    ],
    "identity": "machinepack-age",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2015-03-04T00:00:00.000Z",
    "variableName": "Age",
    "friendlyName": "Age",
    "description": "A machinepack that allows you to work with ages.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-age",
    "docsUrl": "http://node-machine.org/machinepack-age",
    "npmUrl": "http://npmjs.org/package/machinepack-age",
    "npmPackageName": "machinepack-age",
    "githubUrl": "http://github.com/SpoonX/machinepack-age/",
    "sourceUrl": "http://github.com/SpoonX/machinepack-age/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^4.0.0"
      }
    ],
    "contributors": [
      {
        "name": "SpoonX",
        "email": ""
      },
      {
        "name": "rwoverdijk",
        "email": "r.w.overdijk@gmail.com"
      }
    ],
    "id": 46,
    "createdAt": "2015-03-08T01:09:25.000Z",
    "updatedAt": "2015-03-08T01:09:26.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login URL",
        "cacheable": null,
        "sync": null,
        "description": "Get the URL on angel.co that a user should visit to allow/deny the specified AngelList developer app (i.e. your app).",
        "inputs": {
          "clientId": {
            "description": "The client secret for your developer client application on AngelList.",
            "example": "93fded8e11662d1596e7ebff01e98d1a31ce074a389e95f0",
            "required": true,
            "type": "string"
          },
          "clientSecret": {
            "description": "The private token for your developer client application on AngelList.",
            "protect": true,
            "required": true,
            "example": "43df858806127ed307b2ee576d4772670f7f63d5a81c0024",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var angel = require('angellist');\n\n    // Init an AngelList object\n    angel.init(inputs.clientId, inputs.clientSecret);\n\n    var loginUrl = angel.getAuthUrl();\n\n    return exits.success(loginUrl);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-angellist/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-angellist/get-login-url",
        "defaultExit": "success",
        "machinepack": 66,
        "id": 252,
        "createdAt": "2015-03-18T07:19:43.000Z",
        "updatedAt": "2015-03-18T07:19:43.000Z"
      }
    ],
    "identity": "machinepack-angellist",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-03-18T00:00:00.000Z",
    "variableName": "AngelList",
    "friendlyName": "AngelList",
    "description": "Node.js wrapper for the AngelList API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-angellist",
    "docsUrl": "http://node-machine.org/machinepack-angellist",
    "npmUrl": "http://npmjs.org/package/machinepack-angellist",
    "npmPackageName": "machinepack-angellist",
    "githubUrl": "http://github.com/treelinehq/machinepack-angellist/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-angellist/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "angellist",
        "semverRange": "^0.1.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 66,
    "createdAt": "2015-03-18T07:19:43.000Z",
    "updatedAt": "2015-03-18T07:19:43.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "reverse",
        "variableName": "reverse",
        "friendlyName": "Reverse",
        "cacheable": true,
        "sync": true,
        "description": "Build a new array which is an exact clone of an existing array, but in reverse order.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array to reverse.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "Reversed array",
            "outputDescription": "The result of reversing the input array.",
            "isDefault": true
          }
        },
        "fn": "    return exits.success(inputs.array.reverse());\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/reverse",
        "docsUrl": "http://node-machine.org/machinepack-arrays/reverse",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 384,
        "createdAt": "2015-04-28T21:39:55.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "index-of",
        "variableName": "indexOf",
        "friendlyName": "Get index of item",
        "cacheable": true,
        "sync": true,
        "description": "Look up the first occurrence of the specified item and return its array index.",
        "inputs": {
          "array": {
            "friendlyName": "In array",
            "description": "The array to search in (i.e. \"haystack\")",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "item": {
            "example": "*",
            "friendlyName": "Search for",
            "description": "The value to search for (i.e. \"needle\")",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "Not found",
            "description": "Array does not contain specified item."
          },
          "success": {
            "outputFriendlyName": "Found at index",
            "outputDescription": "The index where the array item is located.",
            "description": "OK.",
            "example": 8,
            "isDefault": true,
            "type": "number"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    var foundAtIndex;\n    _.each(inputs.array, function (item, i){\n      if (!_.isUndefined(foundAtIndex)) {\n        return;\n      }\n      if (_.isEqual(item, inputs.item)) {\n        foundAtIndex = i;\n      }\n    });\n    if (_.isUndefined(foundAtIndex)) {\n      return exits.notFound();\n    }\n    return exits.success(foundAtIndex);\n  ",
        "environment": [],
        "extendedDescription": "This machine uses deep equalityÂ (`_.isEqual()`) for comparison.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/index-of",
        "docsUrl": "http://node-machine.org/machinepack-arrays/index-of",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 385,
        "createdAt": "2015-04-28T21:39:55.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "slice",
        "variableName": "slice",
        "friendlyName": "Slice array",
        "cacheable": true,
        "sync": true,
        "description": "Copy a sub-array of consecutive items from the specified array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array to slice.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "start": {
            "friendlyName": "Start from (index)",
            "description": "The index of the first item to include in the new array.",
            "extendedDescription": "This index should be zero or a positive number.",
            "example": 2,
            "required": true,
            "type": "number"
          },
          "end": {
            "friendlyName": "End with (index)",
            "description": "The index of the last item to include in the new array.",
            "extendedDescription": "This index should be zero or a positive number. Omitting this input value will include the rest of the array.",
            "example": 5,
            "min": 0,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "Array slice",
            "outputDescription": "The requested slice of the input array.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n\n    if (inputs.start < 0) {\n      return exits.error('`start` index must be least zero.');\n    }\n    if (typeof inputs.end === 'undefined') {\n      return exits.success(_.slice(inputs.array, inputs.start));\n    }\n\n    if (inputs.end < 0) {\n      return exits.error('`end` index must be least zero.');\n    }\n    // Increment `end` by 1 (since the third arg to `_.slice` is exclusive)\n    return exits.success(_.slice(inputs.array, inputs.start, inputs.end+1));\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/slice",
        "docsUrl": "http://node-machine.org/machinepack-arrays/slice",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 387,
        "createdAt": "2015-04-29T00:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "length",
        "variableName": "length",
        "friendlyName": "Count items",
        "cacheable": true,
        "sync": true,
        "description": "Get the length of the provided array.",
        "inputs": {
          "array": {
            "friendlyName": "Array to count",
            "example": [
              "*"
            ],
            "description": "The array of items to count",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "example": 32,
            "outputFriendlyName": "Array length",
            "outputDescription": "The length of the array.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.array.length);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/length",
        "docsUrl": "http://node-machine.org/machinepack-arrays/length",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 388,
        "createdAt": "2015-04-29T00:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "concat",
        "variableName": "concat",
        "friendlyName": "Combine two arrays",
        "cacheable": true,
        "sync": true,
        "description": "Combine (aka concatenate) two arrays into a single array- one in front of the other.",
        "inputs": {
          "firstArray": {
            "friendlyName": "First array",
            "description": "The first array",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "secondArray": {
            "friendlyName": "Second array",
            "description": "The second array",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Concatenated Array",
            "outputDescription": "The result of concatenating the input arrays.",
            "getExample": "        var _ = env._;\n\n        // If neither array is avaiable yet, the best we can do is guarantee\n        // that this result will be some sort of homogeneous array of JSON-compatible\n        // values, as per the machine description.\n        if (_.isUndefined(inputs.firstArray) && _.isUndefined(inputs.secondArray)) {\n          return ['*'];\n        }\n\n        // If at least one array is available, and has at least one item, we can use\n        // it to determine the pattern type. This is possible because this machine makes\n        // it clear in the description that both arrays must share a common pattern type.\n        if (inputs.firstArray&&inputs.firstArray.length>0) {\n          return [inputs.firstArray[0]];\n        }\n        else if (inputs.secondArray&&inputs.secondArray.length>0) {\n          return [inputs.secondArray[0]];\n        }\n\n        // If neither array has this information available yet, the best we can\n        // do is return `['*']`, since we know that, barring any weird complications\n        // that would cause a different exit to be traversed, this will be the\n        // result for our machine.\n        return ['*'];\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    return exits.success(inputs.firstArray.concat(inputs.secondArray));\n  ",
        "environment": [],
        "extendedDescription": "Warning: Both arrays must be homogeneous, and their items must have matching/compatible types. Also, both arrays must be JSON-compatible.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/concat",
        "docsUrl": "http://node-machine.org/machinepack-arrays/concat",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 389,
        "createdAt": "2015-04-29T00:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "last",
        "variableName": "last",
        "friendlyName": "Get last item",
        "cacheable": true,
        "sync": true,
        "description": "Look up the last item in an array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array containing the desired item.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "Not found",
            "description": "The array is empty, so it doesn't have any items."
          },
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Last item",
            "outputDescription": "The last item in the array.",
            "itemOf": "array",
            "isDefault": true
          }
        },
        "fn": "\n    if (inputs.array.length===0) {\n      return exits.notFound();\n    }\n    return exits.success(inputs.array[inputs.array.length-1]);\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/last",
        "docsUrl": "http://node-machine.org/machinepack-arrays/last",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 391,
        "createdAt": "2015-04-29T00:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "nth",
        "variableName": "nth",
        "friendlyName": "Get [n]th item",
        "cacheable": true,
        "sync": true,
        "description": "Look up an item from the array at the specified index.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array containing the desired item.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "index": {
            "friendlyName": "Look up index",
            "description": "The index of the item to be gotten.",
            "example": 2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "Not found",
            "description": "The array doesn't have an item at the specified index."
          },
          "success": {
            "description": "OK.",
            "itemOf": "array",
            "outputFriendlyName": "Nth array item",
            "outputDescription": "The item of the array at the specified index.",
            "isDefault": true
          }
        },
        "fn": "\n    var foundItem = inputs.array[inputs.index];\n    if (typeof foundItem === 'undefined') {\n      return exits.notFound();\n    }\n    return exits.success(foundItem);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/nth",
        "docsUrl": "http://node-machine.org/machinepack-arrays/nth",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 392,
        "createdAt": "2015-04-29T00:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "construct",
        "variableName": "construct",
        "friendlyName": "Construct array",
        "cacheable": true,
        "sync": true,
        "description": "Construct an array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The homogeneous array to build.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "outputFriendlyName": "New array",
            "outputDescription": "A new array.",
            "like": "array",
            "isDefault": true
          }
        },
        "fn": "    return exits.success(inputs.array);\n  ",
        "environment": [],
        "extendedDescription": "This machine is not designed for everyday use-- it is an identity operator for the Array type-- but it can certainly be used in any way you see fit.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/construct",
        "docsUrl": "http://node-machine.org/machinepack-arrays/construct",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 393,
        "createdAt": "2015-04-29T00:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "pluck",
        "variableName": "pluck",
        "friendlyName": "Pluck",
        "cacheable": true,
        "sync": true,
        "description": "List the values of a particular key from an array of dictionaries.",
        "inputs": {
          "array": {
            "friendlyName": "Array of dictionaries",
            "description": "The array of dictionaries to iterate over.",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "key": {
            "friendlyName": "Key to pluck",
            "description": "The property to pluck from each dictionary.",
            "example": "id",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If the array is not available yet, or none of its items are, the best we\n        // can do is guarantee that this result will be some sort of homogeneous array\n        // of JSON-compatible values.\n        if (_.isUndefined(inputs.array) || inputs.array.length < 1) {\n          return ['*'];\n        }\n\n        // If the name of the key is not available yet, we can't use it to figure out which\n        // item to grab, so the best we can do is send back ['*']\n        if (_.isUndefined(inputs.key)) {\n          return ['*'];\n        }\n\n        // But if we have the key name, and the array is available with at least one item,\n        // we can just borrow that first item, grab the value of the `key`, and if that exists,\n        // use that to build our example.\n        if (!_.isUndefined(inputs.array[0][inputs.key])) {\n          return [inputs.array[0][inputs.key]];\n        }\n        // Otherwise, if it doesn't exist, we'll fall back to the same generic guarantee we\n        // used above.\n        return ['*'];\n      ",
            "outputName": "Plucked array",
            "outputDescription": "The array of values gathered by plucking the specified key out of each array item.",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n    return exits.success(_.pluck(inputs.array, inputs.key));\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/pluck",
        "docsUrl": "http://node-machine.org/machinepack-arrays/pluck",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 397,
        "createdAt": "2015-04-29T01:29:42.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "sort-strings",
        "variableName": "sortStrings",
        "friendlyName": "Sort (strings)",
        "cacheable": true,
        "sync": true,
        "description": "Sort an array of strings alphabetically (A to Z)",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array of strings to sort.",
            "example": [
              "Roger Wilco"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              "Roger Wilco"
            ],
            "outputFriendlyName": "Sorted array",
            "outputDescription": "The resulting array after sorting by ascending value",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    return exits.success(inputs.array.sort());\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/sort-strings",
        "docsUrl": "http://node-machine.org/machinepack-arrays/sort-strings",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 398,
        "createdAt": "2015-04-29T01:29:42.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "sort-numbers",
        "variableName": "sortNumbers",
        "friendlyName": "Sort (numbers)",
        "cacheable": true,
        "sync": true,
        "description": "Sort an array of numbers (ascending)",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array of numbers to sort.",
            "example": [
              2
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              2
            ],
            "outputFriendlyName": "Sorted array",
            "outputDescription": "The resulting array after sorting by ascending value.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    return exits.success(inputs.array.sort(function compareNumbers(a, b) {\n      return a - b;\n    }));\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/sort-numbers",
        "docsUrl": "http://node-machine.org/machinepack-arrays/sort-numbers",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 399,
        "createdAt": "2015-04-29T01:29:42.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "each",
        "variableName": "each",
        "friendlyName": "Each",
        "cacheable": null,
        "sync": null,
        "description": "Run some logic (the \"iteratee\") once for each item of an array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array to loop over",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "iteratee": {
            "friendlyName": "Iteratee",
            "description": "The function to run for each item in the array.",
            "example": "->",
            "contract": {
              "provides": {
                "item": {
                  "friendlyName": "Current item",
                  "description": "The current item in the array.",
                  "itemOf": "array"
                },
                "index": {
                  "friendlyName": "Current index",
                  "description": "The index of the current item in the array.",
                  "example": 3
                },
                "lastIndex": {
                  "friendlyName": "Last index",
                  "description": "The index of the last item in the array.",
                  "example": 3
                }
              },
              "expects": {
                "error": {
                  "friendlyName": "Break with error",
                  "description": "Something went wrong- stop iterating and skip over all remaining items."
                },
                "halt": {
                  "friendlyName": "Break",
                  "description": "Everything is ok, but stop iterating and skip over all remaining items."
                },
                "success": {
                  "friendlyName": "Next item",
                  "description": "Continue to next item, or if there are no more items, stop."
                }
              }
            },
            "required": true,
            "type": "string"
          },
          "series": {
            "friendlyName": "One item at a time?",
            "description": "Whether to run iteratee on one item at a time (in series)",
            "extendedDescription": "By default, all items are run at the same time (in parallel)",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var async = require('async');\n\n    // Use either `async.each` (parallel) or `async.eachSeries` (series)\n    var iteratorFn = inputs.series ? async.eachSeries : async.each;\n\n    // `haltEarly` is a flag which is used in the iterations\n    // below to indicate that all future iterations should be skipped.\n    var haltEarly = false;\n\n    // `numIterationsStarted` will track the number of iterations\n    // which have been at least started being processed by the iteratee.\n    var numIterationsStarted = 0;\n\n    // Start iterating...\n    iteratorFn(inputs.array, function enumerator(item, next) {\n\n      // Increment iterations counter and track current index\n      var currentIndex = numIterationsStarted;\n      numIterationsStarted++;\n\n      // If the `each` loop has already been halted, just skip\n      // this iteration (which effectively means skipping all future iterations)\n      if (haltEarly) {\n        return next();\n      }\n\n      // Execute iteratee machine using generic input configuration\n      inputs.iteratee({\n        index: currentIndex,\n        lastIndex: inputs.array.length-1,\n        item: item\n      }).exec({\n\n        // Catchall (error) exit\n        // (implies that we should stop early and consider\n        //  the entire operation a failure, including all iterations\n        //  so far. `each` will call its error exit.)\n        error: function (err){\n          return next(err);\n        },\n\n        // Halt exit\n        // (implies that we should stop, performing no further\n        //  iterations; but that past iterations are ok.\n        //  `each` will call its success exit)\n        halt: function (){\n          haltEarly = true;\n          return next();\n        },\n\n        // Default (success) exit\n        // (implies that we should continue iterating)\n        success: function enumeratee(){\n          return next();\n        }\n      });\n    }, function (err){\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/each",
        "docsUrl": "http://node-machine.org/machinepack-arrays/each",
        "defaultExit": null,
        "machinepack": 102,
        "id": 532,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "map",
        "variableName": "map",
        "friendlyName": "Map",
        "cacheable": null,
        "sync": null,
        "description": "Iterate over each item of an array to build a new transformed array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array to loop over",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "resultExemplar": {
            "friendlyName": "Example result",
            "description": "An example of what the final result array will look like.",
            "example": [
              "*"
            ],
            "constant": true,
            "isExemplar": true,
            "type": "array"
          },
          "iteratee": {
            "friendlyName": "Iteratee",
            "description": "The transformation to run for each item in the array.",
            "example": "->",
            "contract": {
              "inputs": {
                "item": {
                  "friendlyName": "Current item",
                  "description": "The current item in the array.",
                  "itemOf": "array"
                },
                "index": {
                  "friendlyName": "Current index",
                  "description": "The index of the current item in the array.",
                  "example": 3
                },
                "lastIndex": {
                  "friendlyName": "Last index",
                  "description": "The index of the last item in the array.",
                  "example": 3
                }
              },
              "exits": {
                "error": {
                  "friendlyName": "Break with error",
                  "description": "Something went wrong- stop iterating and skip over all remaining items."
                },
                "skip": {
                  "friendlyName": "Skip item",
                  "description": "Skip to next item, or if there are no more items, stop.",
                  "extendedDescription": "If the `skip` exit is used, then the length of the Map machine's output array will be shorter than the length of the input array."
                },
                "success": {
                  "friendlyName": "Next item",
                  "description": "Continue to next item, or if there are no more items, stop.",
                  "itemOf": "resultExemplar",
                  "outputFriendlyName": "Transformed item",
                  "outputDescription": "The result of running the current item through the iteratee machine"
                }
              }
            },
            "required": true,
            "type": "string"
          },
          "series": {
            "friendlyName": "One item at a time?",
            "description": "Whether to run iteratee on one item at a time (in series)",
            "extendedDescription": "By default, all items are run at the same time (in parallel)",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Mapped array",
            "outputDescription": "A modified copy of the provided array.",
            "like": "resultExemplar",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var async = require('async');\n\n    // Use either `async.map` (parallel) or `async.mapSeries` (series)\n    var iteratorFn = inputs.series ? async.mapSeries : async.map;\n\n    // `numIterationsStarted` will track the number of iterations\n    // which have been at least started being processed by the iteratee.\n    var numIterationsStarted = 0;\n\n    // Track the index of all iterations which trigger the `exclude` exit.\n    var excludedIndices = [];\n\n    // Start iterating...\n    var indices = _.keys(inputs.array);\n    iteratorFn(indices, function enumerator(currentIndex, next) {\n\n      // We iterate over indices instead of the items themselves to avoid\n      // parallel execution throwing us off.\n      var item = inputs.array[currentIndex];\n\n      // Increment iterations counter\n      numIterationsStarted++;\n\n      // Execute iteratee machine using generic input configuration\n      inputs.iteratee({\n        index: currentIndex,\n        lastIndex: inputs.array.length-1,\n        item: item\n      }).exec({\n\n        // Catchall (error) exit\n        // (implies that we should stop early and consider\n        //  the entire operation a failure, including all iterations\n        //  so far. `map` will call its error exit.)\n        error: function (err){\n          return next(err);\n        },\n\n        // Exclude (skip item) exit\n        // (implies that we should exclude this item from the result set)\n        exclude: function (){\n          excludedIndices.push(currentIndex);\n          next();\n        },\n\n        // Default (success) exit\n        // (implies that we should continue iterating)\n        success: function enumeratee(output){\n          return next(null, output);\n        }\n      });\n    }, function (err, transformedArray){\n      if (err) {\n        return exits.error(err);\n      }\n\n      // Remove items that were skipped above.\n      if (excludedIndices.length > 0) {\n        var retainedIndices = _.difference(indices, excludedIndices);\n        transformedArray = _.at(transformedArray, retainedIndices);\n      }\n\n      return exits.success(transformedArray);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Unlike the native Javascript `.map()` function, the Map machine is not guaranteed to return an array with the same length as the input.  This is due to the availability of the `skip` exit in the iteratee, which allows for skipping an array item completely.",
        "moreInfoUrl": "http://node-machine.org/machinepack-arrays/map",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/map",
        "docsUrl": "http://node-machine.org/machinepack-arrays/map",
        "defaultExit": null,
        "machinepack": 102,
        "id": 533,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "reduce",
        "variableName": "reduce",
        "friendlyName": "Reduce",
        "cacheable": null,
        "sync": null,
        "description": "Run some logic (the \"iteratee\") once for each item of an array, accumulating a single result.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array to loop over",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "iteratee": {
            "friendlyName": "Iteratee",
            "description": "The function to run for each item in the array.",
            "example": "->",
            "contract": {
              "inputs": {
                "item": {
                  "friendlyName": "Current item",
                  "description": "The current item in the array.",
                  "itemOf": "array"
                },
                "index": {
                  "friendlyName": "Current index",
                  "description": "The index of the current item in the array.",
                  "example": 3
                },
                "lastIndex": {
                  "friendlyName": "Last index",
                  "description": "The index of the last item in the array.",
                  "example": 3
                },
                "resultSoFar": {
                  "friendlyName": "Result so far",
                  "description": "The result which has been accumulated so far",
                  "like": "initialValue"
                }
              },
              "exits": {
                "error": {
                  "friendlyName": "Break with error",
                  "description": "Something went wrong- stop iterating and skip over all remaining items."
                },
                "halt": {
                  "friendlyName": "Break",
                  "description": "Everything is ok, but stop iterating and skip over all remaining items."
                },
                "success": {
                  "friendlyName": "Next item",
                  "description": "Continue to next item, or if there are no more items, stop.",
                  "like": "initialValue",
                  "outputFriendlyName": "Transformed result",
                  "outputDescription": "The accumulated result after running the current item through the iteratee machine."
                }
              }
            },
            "required": true,
            "type": "string"
          },
          "resultExemplar": {
            "friendlyName": "Example result",
            "description": "An example of what the final accumulated result will look like.",
            "extendedDescription": "The type of the final result must be compatible with the initial value, as well as the partial result provided to the iteratee during each iteration.",
            "isExemplar": true
          },
          "initialValue": {
            "friendlyName": "Initial value",
            "description": "The initial value for the accumulated result",
            "extendedDescription": "Note that the final accumulated result must have a compatible type!",
            "example": "*",
            "type": "string"
          },
          "series": {
            "friendlyName": "One item at a time?",
            "description": "Whether to run iteratee on all items in series (one at a time) vs. in parallel (all at the same time)",
            "extendedDescription": "Be careful if you disable this input-- make sure you are actually OK with your iteratee being run on each item of the array in a completely arbitrary order. Also release that consequently, the order that your result will accumulate in is impossible to predict.",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Result of reduce",
            "outputDescription": "The accumulated result value.",
            "like": "initialValue",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var async = require('async');\n    var rttc = require('rttc');\n    var Machine = require('machine');\n\n\n    // `initialValue` is the initial value that will be accumulated/folded \"into\".\n    var initialValue;\n    if (!_.isUndefined(inputs.initialValue)) {\n      initialValue = inputs.initialValue;\n    }\n    else {\n      // If `resultExemplar` is set, determine base/empty value for its type\n      // and use that for `initialValue`.\n      if (!_.isUndefined(inputs.resultExemplar)) {\n        initialValue = rttc.getBaseVal(inputs.resultExemplar);\n      }\n      // Otherwise, use `null`.\n      else {\n        initialValue = null;\n      }\n    }\n\n    // `resultSoFar` will hold the result accumulated across\n    // multiple calls to `inputs.iteratee`.\n    var resultSoFar = initialValue;\n\n    // Use either `async.each` (parallel) or `async.eachSeries` (series)\n    var iteratorFn = inputs.series ? async.eachSeries : async.each;\n\n    // `haltEarly` is a flag which is used in the iterations\n    // below to indicate that all future iterations should be skipped.\n    var haltEarly = false;\n\n    // `numIterationsStarted` will track the number of iterations\n    // which have been at least started being processed by the iteratee.\n    var numIterationsStarted = 0;\n\n    // `numIterationsSuccessful` will track the number of iterations\n    // which were successfully completed by the iteratee.\n    var numIterationsSuccessful = 0;\n\n\n    // Start iterating...\n    iteratorFn(inputs.array, function enumerator(item, next) {\n\n      // Increment iterations counter and track current index\n      var currentIndex = numIterationsStarted;\n      numIterationsStarted++;\n\n      // If the `reduce` loop has already been halted, just skip\n      // all future iterations.\n      if (haltEarly) {\n        return next();\n      }\n\n      // Execute iteratee machine using generic input configuration\n      inputs.iteratee({\n        index: currentIndex,\n        lastIndex: inputs.array.length-1,\n        item: item,\n        resultSoFar: resultSoFar\n      }).exec({\n\n        // Catchall (error) exit\n        // (implies that we should stop early and consider\n        //  the entire operation a failure, including all iterations\n        //  so far. `reduce` will call its error exit.)\n        error: function (err){\n          return next(err);\n        },\n\n        // Halt exit\n        // (implies that we should stop, performing no further\n        //  iterations; but that past iterations are ok.\n        //  `reduce` will call its success exit)\n        halt: function (){\n          haltEarly = true;\n          return next();\n        },\n\n        // Default (success) exit\n        // (implies that we should continue iterating)\n        success: function enumeratee(_resultSoFar){\n\n          // Track this successful iteration\n          numIterationsSuccessful++;\n\n          // Keep track of accumulated result so far\n          resultSoFar = _resultSoFar;\n\n          // Next item\n          return next();\n        }\n      });\n    }, function (err){\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(resultSoFar);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/reduce",
        "docsUrl": "http://node-machine.org/machinepack-arrays/reduce",
        "defaultExit": null,
        "machinepack": 102,
        "id": 534,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "find-one",
        "variableName": "findOne",
        "friendlyName": "Find one by...",
        "cacheable": true,
        "sync": true,
        "description": "Search the array for the first dictionary that matches the specified criteria.",
        "inputs": {
          "array": {
            "friendlyName": "Array of dictionaries",
            "description": "The array to search in (i.e. \"haystack\")",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "criteria": {
            "friendlyName": "Criteria",
            "example": {},
            "description": "The Lodash-style criteria to use (i.e. \"metal detector\")",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "Not found",
            "description": "Array does not contain an item matching the specified criteria."
          },
          "success": {
            "outputFriendlyName": "Found item",
            "outputDescription": "The first item in the that matches the criteria.",
            "description": "OK.",
            "itemOf": "array",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    var foundItem = _.find(inputs.array, inputs.criteria);\n    if (!foundItem) {\n      return exits.notFound();\n    }\n    return exits.success(foundItem);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/find-one",
        "docsUrl": "http://node-machine.org/machinepack-arrays/find-one",
        "defaultExit": null,
        "machinepack": 102,
        "id": 535,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "find-where",
        "variableName": "findWhere",
        "friendlyName": "Find all by...",
        "cacheable": true,
        "sync": true,
        "description": "Search the array and return all dictionaries that match the specified criteria.",
        "inputs": {
          "array": {
            "friendlyName": "Array of dictionaries",
            "description": "The array to search in (i.e. \"haystack\")",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "criteria": {
            "friendlyName": "Criteria",
            "example": {},
            "description": "The Lodash-style criteria to use (i.e. \"metal detector\")",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "outputFriendlyName": "Found items",
            "outputDescription": "The array of items matching the criteria.",
            "description": "OK.",
            "like": "array",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    var foundItems = _.where(inputs.array, inputs.criteria);\n    return exits.success(foundItems);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/find-where",
        "docsUrl": "http://node-machine.org/machinepack-arrays/find-where",
        "defaultExit": null,
        "machinepack": 102,
        "id": 536,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "insert",
        "variableName": "insert",
        "friendlyName": "Insert item in array",
        "cacheable": true,
        "sync": true,
        "description": "Insert or append an item and return the result (a new array).",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array where the new item should be inserted.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "index": {
            "friendlyName": "Insert at (index)",
            "description": "The index to insert the new item at.",
            "example": 1,
            "required": true,
            "type": "number"
          },
          "value": {
            "friendlyName": "New item",
            "description": "The new item to insert into the array.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "Not found",
            "description": "The array does not have enough items for anything to exist at the specified index."
          },
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Array with inserted item",
            "outputDescription": "The resulting array after inserting the new item.",
            "like": "array",
            "isDefault": true
          }
        },
        "fn": "\n    if (inputs.index < 0) {\n      return exits.error('Index must be least zero.');\n    }\n    if (inputs.array.length < inputs.index) {\n      return exits.notFound();\n    }\n\n    // Insert item\n    inputs.array.splice(inputs.index, 0, inputs.value);\n\n    return exits.success(inputs.array);\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/insert",
        "docsUrl": "http://node-machine.org/machinepack-arrays/insert",
        "defaultExit": "success",
        "machinepack": 102,
        "id": 537,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "sample",
        "variableName": "sample",
        "friendlyName": "Pick random item",
        "cacheable": null,
        "sync": true,
        "description": "Randomly select one item from an array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "example": [
              "*"
            ],
            "description": "The array of items to pick from.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyArray": {
            "friendlyName": "Empty array",
            "description": "The provided array has no items."
          },
          "success": {
            "description": "OK.",
            "itemOf": "array",
            "outputFriendlyName": "Random item",
            "outputDescription": "A random item selected from the array.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    if (inputs.array.length === 0) {\n      return exits.emptyArray();\n    }\n    return exits.success(_.sample(inputs.array));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/sample",
        "docsUrl": "http://node-machine.org/machinepack-arrays/sample",
        "defaultExit": null,
        "machinepack": 102,
        "id": 538,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "sort-by",
        "variableName": "sortBy",
        "friendlyName": "Sort by...",
        "cacheable": true,
        "sync": true,
        "description": "Sort an array of dictionaries by a particular key.",
        "inputs": {
          "array": {
            "friendlyName": "Array of dictionaries",
            "description": "The array to sort.",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "key": {
            "friendlyName": "Sort by...",
            "description": "The shared key to sort by.",
            "example": "createdAt",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "Sorted array",
            "outputDescription": "The resulting array after sorting by the specified key.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    return exits.success(_.sortBy(inputs.array, inputs.key));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/sort-by",
        "docsUrl": "http://node-machine.org/machinepack-arrays/sort-by",
        "defaultExit": null,
        "machinepack": 102,
        "id": 539,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "uniq-by",
        "variableName": "uniqBy",
        "friendlyName": "Remove duplicate dictionaries",
        "cacheable": true,
        "sync": true,
        "description": "Build a duplicate-free version of an array of dictionaries, judging uniqueness based on a particular key.",
        "inputs": {
          "array": {
            "friendlyName": "Array of dictionaries",
            "description": "The array of dictionaries to remove duplicates from.",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "key": {
            "friendlyName": "Unique key",
            "description": "The key to use when determining uniqueness.",
            "example": "id",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "De-duplicated Array",
            "outputDescription": "The resulting array after removing duplicate items.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    var set = _.uniq(inputs.array, false, inputs.key);\n    return exits.success(set);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/uniq-by",
        "docsUrl": "http://node-machine.org/machinepack-arrays/uniq-by",
        "defaultExit": null,
        "machinepack": 102,
        "id": 540,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "uniq",
        "variableName": "uniq",
        "friendlyName": "Remove duplicates",
        "cacheable": true,
        "sync": true,
        "description": "Build a duplicate-free version of an array.",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array to remove duplicates from.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "De-duplicated Array",
            "outputDescription": "The resulting array after removing duplicate items.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    return exits.success(_.uniq(inputs.array));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/uniq",
        "docsUrl": "http://node-machine.org/machinepack-arrays/uniq",
        "defaultExit": null,
        "machinepack": 102,
        "id": 541,
        "createdAt": "2015-05-25T01:59:43.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "find-index-of",
        "variableName": "findIndexOf",
        "friendlyName": "Find index of...",
        "cacheable": true,
        "sync": true,
        "description": "Look up the first occurrence of the dictionary matching the specified criteria and return its array index.",
        "inputs": {
          "array": {
            "friendlyName": "In array",
            "description": "The array to search in (i.e. \"haystack\")",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "criteria": {
            "friendlyName": "Criteria",
            "example": {},
            "description": "The Lodash-style criteria to use (i.e. \"metal detector\")",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "Not found",
            "description": "Array does not contain specified item."
          },
          "success": {
            "outputFriendlyName": "Found at index",
            "outputDescription": "The index where the array item is located.",
            "description": "OK.",
            "example": 8,
            "isDefault": true,
            "type": "number"
          }
        },
        "fn": "    var _ = require('lodash');\n    var item = _.find(inputs.array, inputs.criteria);\n    if (!item) {\n      return exits.notFound();\n    }\n    var index = _.indexOf(inputs.array, item);\n    if (index === -1 ) {\n      return exits.notFound();\n    }\n    return exits.success(index);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/find-index-of",
        "docsUrl": "http://node-machine.org/machinepack-arrays/find-index-of",
        "defaultExit": null,
        "machinepack": 102,
        "id": 544,
        "createdAt": "2015-05-29T17:40:04.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "replace",
        "variableName": "replace",
        "friendlyName": "Replace item",
        "cacheable": true,
        "sync": true,
        "description": "Replace the item located at the specified index and return the result (a new array).",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "description": "The array where the new item should be inserted.",
            "example": [
              "*"
            ],
            "required": true,
            "type": "array"
          },
          "index": {
            "friendlyName": "Replace at (index)",
            "description": "The index of the item to replace.",
            "example": 1,
            "required": true,
            "type": "number"
          },
          "value": {
            "friendlyName": "New value",
            "description": "The new value to replace the old one with.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notFound": {
            "friendlyName": "Not found",
            "description": "The array does not have enough items for anything to exist at the specified index."
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "Array with replaced item",
            "outputDescription": "The resulting array after replacing the specified item.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    if (inputs.index < 0) {\n      return exits.error('Index must be least zero.');\n    }\n    if (inputs.array.length < inputs.index) {\n      return exits.notFound();\n    }\n\n    // Replace item\n    inputs.array.splice(inputs.index, 1, inputs.value);\n\n    return exits.success(inputs.array);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/replace",
        "docsUrl": "http://node-machine.org/machinepack-arrays/replace",
        "defaultExit": null,
        "machinepack": 102,
        "id": 545,
        "createdAt": "2015-05-29T17:40:04.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      },
      {
        "identity": "sample-subset",
        "variableName": "sampleSubset",
        "friendlyName": "Pick random subset",
        "cacheable": false,
        "sync": true,
        "description": "Randomly select an unordered subset of the array",
        "inputs": {
          "array": {
            "friendlyName": "Array",
            "example": [
              "*"
            ],
            "description": "The array of items to pick from.",
            "required": true,
            "type": "array"
          },
          "size": {
            "friendlyName": "Subset size",
            "example": 2,
            "description": "The number of items to pick out of the array",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyArray": {
            "friendlyName": "Empty array",
            "description": "The provided array has no items."
          },
          "success": {
            "description": "OK.",
            "like": "array",
            "outputFriendlyName": "Random subset",
            "outputDescription": "A random subset selected from the array.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    if (inputs.array.length === 0) {\n      return exits.emptyArray();\n    }\n    return exits.success(_.sample(inputs.array, inputs.size));\n  ",
        "environment": [],
        "extendedDescription": "Note that even if \"Subset size\" is 1, an array will still be returned (as opposed to the Pick random item\" machine which always returns a single value)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-arrays/sample-subset",
        "docsUrl": "http://node-machine.org/machinepack-arrays/sample-subset",
        "defaultExit": null,
        "machinepack": 102,
        "id": 804,
        "createdAt": "2016-07-13T16:10:20.000Z",
        "updatedAt": "2016-07-13T16:10:20.000Z"
      }
    ],
    "identity": "machinepack-arrays",
    "version": "5.4.0",
    "latestVersionPublishedAt": "2016-07-13T00:00:00.000Z",
    "variableName": "Arrays",
    "friendlyName": "Arrays",
    "description": "Work with arrays.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-arrays",
    "docsUrl": "http://node-machine.org/machinepack-arrays",
    "npmUrl": "http://npmjs.org/package/machinepack-arrays",
    "npmPackageName": "machinepack-arrays",
    "githubUrl": "http://github.com/treelinehq/machinepack-arrays/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-arrays/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.7.0"
      },
      {
        "name": "machine",
        "semverRange": "^12.2.5"
      },
      {
        "name": "rttc",
        "semverRange": "^8.1.5"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 102,
    "createdAt": "2015-04-28T21:39:55.000Z",
    "updatedAt": "2016-07-13T16:10:20.000Z",
    "numMachines": 24
  },
  {
    "machines": [
      {
        "identity": "minify-javascript-assets",
        "variableName": "minifyJavascriptAssets",
        "friendlyName": "Compile JavaScript files",
        "cacheable": true,
        "sync": false,
        "description": "Generate a minified js string by reading, concating, and minifying the contents of the specified directory.",
        "inputs": {
          "dir": {
            "friendlyName": "Directory",
            "description": "The path to the folder of JavaScript assets.",
            "example": "./my-stuff/my-proj/js",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "a whole bunch of minified javascript",
            "isDefault": true,
            "type": "string"
          },
          "doesNotExist": {
            "friendlyName": "does not exist",
            "description": "Nothing exists at the specified directory path.",
            "example": "abc123",
            "type": "string"
          }
        },
        "fn": "    var path = require('path');\n    var Arrays = require('@treelinehq/treelinehq/machinepack-arrays');\n    var Filesystem = require('@treelinehq/treelinehq/machinepack-fs');\n    var Javascript = require('@treelinehq/treelinehq/machinepack-javascript');\n\n    // Resolve relative dir\n    inputs.dir = path.resolve(inputs.dir);\n\n    // List contents of a directory on the local filesystem.\n    Filesystem.ls({\n      dir: inputs.dir,\n      depth: 10,\n      includeFiles: true,\n      includeDirs: false,\n      includeSymlinks: false,\n      includeHidden: false\n    }).exec({\n      // An unexpected error occurred.\n      error: exits.error,\n      // The specified source js path does not exist.\n      doesNotExist: function() {\n        return exits.doesNotExist();\n      },\n      // OK.\n      success: function(dirContents) {\n        // Run some logic (the \"iteratee\") once for each item of an array, accumulating a single result.\n        Arrays.reduce({\n          array: dirContents,\n          resultExample: 'a bunch of js code',\n          initialValue: '',\n          series: true,\n          iteratee: function(_inputs, exits) {\n\n            // console.log('\\n\\n');\n            // console.log('thisMachine: ',env.thisMachine());\n            // console.log('Machine version: '+ env.thisMachine().constructor.inspect());\n            // console.log('here are my inputs:: ',_inputs);\n            // console.log('wtf where are my exits: ',exits);\n\n            // If this is not a .js file, we'll skip it.\n            if (path.extname(_inputs.item) !== '.js') {\n              return exits.success();\n            }\n\n            // Read a file on disk as a string.\n            Filesystem.read({\n              source: _inputs.item,\n            }).exec({\n              // An unexpected error occurred.\n              error: exits.error,\n              // OK.\n              success: function(fileContents) {\n                // Accumulate the contents of this JavaScript file alongside\n                // the already-accumulated JavaScript string we're building.\n                return exits.success(_inputs.resultSoFar + fileContents + '\\n\\n');\n              },\n            });\n          }\n        }).exec({\n          // An unexpected error occurred.\n          error: exits.error,\n          // OK.\n          success: function(finalAccumulatedJsString) {\n\n            // Minify a string of JavaScript code.\n            Javascript.minify({\n              javascript: finalAccumulatedJsString,\n            }).exec({\n              error: exits.error,\n              success: function(minifiedJsString) {\n                return exits.success(minifiedJsString);\n              }\n            });\n          },\n        }); //</Arrays.reduce()\n      },\n    }); // </Filesystem.ls()>\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/minify-javascript-assets",
        "docsUrl": "http://node-machine.org/machinepack-assets/minify-javascript-assets",
        "defaultExit": null,
        "machinepack": 144,
        "id": 648,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "copy-fonts",
        "variableName": "copyFonts",
        "friendlyName": "Copy fonts (if relevant)",
        "cacheable": false,
        "sync": false,
        "description": "Copy font files into the output directory.",
        "inputs": {
          "fontsSrcPath": {
            "friendlyName": "Fonts source path",
            "description": "The path to the directory where font files should be copied from.",
            "example": "./foo/fonts",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the temporary directory where production assets are being compiled.",
            "example": "./foo/.tmp/processing",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('@treelinehq/treelinehq/machinepack-fs');\n\n    // Copy over fonts.\n    Filesystem.cp({\n      source: path.resolve(inputs.fontsSrcPath),\n      destination: path.resolve(inputs.outputDir, 'fonts/'),\n    }).exec({\n      error: exits.error,\n      doesNotExist: function() {\n        // If there is no fonts folder, that's cool too-- just exit as \"success\".\n        return exits.success();\n      },\n      success: function() {\n        return exits.success();\n      }\n    }); //</copy fonts>\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/copy-fonts",
        "docsUrl": "http://node-machine.org/machinepack-assets/copy-fonts",
        "defaultExit": null,
        "machinepack": 144,
        "id": 649,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "copy-images",
        "variableName": "copyImages",
        "friendlyName": "Copy images (if relevant)",
        "cacheable": false,
        "sync": false,
        "description": "Copy image files into the output directory.",
        "inputs": {
          "imgSrcPath": {
            "friendlyName": "Images source path",
            "description": "The directory where the source image files live.  It not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./foo/images",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the temporary directory where production assets are being compiled.",
            "example": "./my-projects/some-assets/.tmp/processing",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('@treelinehq/treelinehq/machinepack-fs');\n\n    // Copy over images.\n    Filesystem.cp({\n      source: path.resolve(inputs.imgSrcPath),\n      destination: path.resolve(inputs.outputDir, 'images/'),\n    }).exec({\n      error: exits.error,\n      doesNotExist: function() {\n        // If there is no images folder, that's cool too-- just exit as \"success\".\n        return exits.success();\n      },\n      success: function() {\n        return exits.success();\n      }\n    }); //</copy images>\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/copy-images",
        "docsUrl": "http://node-machine.org/machinepack-assets/copy-images",
        "defaultExit": null,
        "machinepack": 144,
        "id": 650,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "productionify",
        "variableName": "productionify",
        "friendlyName": "Productionify",
        "cacheable": false,
        "sync": false,
        "description": "Prepare the assets in this package for production, then publish to NPM.",
        "inputs": {
          "srcDir": {
            "friendlyName": "srcDir",
            "description": "The path to the source directory where assets should be pulled from.  If specified as a relative path, this will be resolved relative to the current working directory.",
            "example": "/code/treeline-assets",
            "required": true,
            "type": "string"
          },
          "prodPkgName": {
            "friendlyName": "prodPkgName",
            "description": "The NPM module name for the production package.  If omitted, this will simply default to the module name of the development package with a `-prod` suffix.",
            "example": "@treelinehq/whatever",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "error2": {
            "friendlyName": "error2",
            "void": true
          },
          "error3": {
            "friendlyName": "error3",
            "void": true
          },
          "error4": {
            "friendlyName": "error4",
            "void": true
          },
          "error5": {
            "friendlyName": "error5",
            "void": true
          },
          "error6": {
            "friendlyName": "error6",
            "void": true
          },
          "error7": {
            "friendlyName": "error7",
            "void": true
          },
          "error8": {
            "friendlyName": "error8",
            "void": true
          },
          "doesNotExist": {
            "friendlyName": "doesNotExist",
            "void": true
          },
          "couldNotParse": {
            "friendlyName": "couldNotParse",
            "void": true
          },
          "error9": {
            "friendlyName": "error9",
            "void": true
          },
          "alreadyExists": {
            "friendlyName": "alreadyPublishedAtThisVersion",
            "description": "The production asset package has already been published at this version. Please use `npm version` to bump the version of this package, `git push && git push --tags`, then `npm publish` to try again.",
            "void": true
          },
          "noSuchDir": {
            "friendlyName": "noSuchDir",
            "void": true
          },
          "notADir": {
            "friendlyName": "notADir",
            "void": true
          },
          "invalidPackage": {
            "friendlyName": "invalidPackage",
            "void": true
          },
          "success": {
            "friendlyName": "success",
            "example": {
              "name": "@mattmueller/cheerio",
              "version": "2.0.0"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error10": {
            "friendlyName": "error10",
            "void": true
          }
        },
        "fn": "    // Source directory (path)\n    require('@treelinehq/treelinehq/machinepack-paths_1.2.0').resolve({\n      \"paths\": [inputs.srcDir]\n    }).exec({\n      \"error\": function(sourceDirectoryPath) {\n        exits.error3(sourceDirectoryPath);\n      },\n      \"success\": function(sourceDirectoryPath) {\n        // Read package.json\n        require('@treelinehq/treelinehq/machinepack-fs_5.2.0').readJson({\n          \"source\": sourceDirectoryPath + \"/package.json\",\n          \"schema\": {\n            version: \"1.0.0\",\n            name: \"@treelinehq/treeline-assets\"\n          }\n        }).exec({\n          \"error\": function(readPackageJson) {\n            exits.error8(readPackageJson);\n          },\n          \"doesNotExist\": function(readPackageJson) {\n            exits.doesNotExist(readPackageJson);\n          },\n          \"couldNotParse\": function(readPackageJson) {\n            exits.couldNotParse(readPackageJson);\n          },\n          \"success\": function(readPackageJson) {\n            // Production package name\n            require('@treelinehq/treelinehq/machinepack-util_5.1.0').coalesce({\n              \"b\": (readPackageJson && readPackageJson.name) + \"-prod\",\n              \"a\": inputs.prodPkgName\n            }).exec({\n              \"error\": function(productionPackageName) {\n                exits.error10(productionPackageName);\n              },\n              \"success\": function(productionPackageName) {\n                // Tmp output directory (path)\n                require('@treelinehq/treelinehq/machinepack-paths_1.2.0').resolve({\n                  \"paths\": [inputs.srcDir, \".tmp/processing\"]\n                }).exec({\n                  \"error\": function(tmpOutputDirectoryPath) {\n                    exits.error(tmpOutputDirectoryPath);\n                  },\n                  \"success\": function(tmpOutputDirectoryPath) {\n                    // Copy fonts (if relevant)\n                    require('../index').copyFonts({\n                      \"fontsSrcPath\": sourceDirectoryPath + \"/fonts\",\n                      \"outputDir\": tmpOutputDirectoryPath\n                    }).exec({\n                      \"error\": function(copyFontsIfRelevant) {\n                        exits.error2(copyFontsIfRelevant);\n                      },\n                      \"success\": function(copyFontsIfRelevant) {\n                        // Copy images (if relevant)\n                        require('../index').copyImages({\n                          \"imgSrcPath\": sourceDirectoryPath + \"/images\",\n                          \"outputDir\": tmpOutputDirectoryPath\n                        }).exec({\n                          \"error\": function(copyImagesIfRelevant) {\n                            exits.error4(copyImagesIfRelevant);\n                          },\n                          \"success\": function(copyImagesIfRelevant) {\n                            // Write README and package.json\n                            require('../index').writeReadmeAndPackageJson({\n                              \"srcDir\": sourceDirectoryPath,\n                              \"outputDir\": tmpOutputDirectoryPath,\n                              \"prodPkgName\": productionPackageName,\n                              \"prodPkgVersion\": (readPackageJson && readPackageJson.version)\n                            }).exec({\n                              \"error\": function(writeREADMEAndPackageJson) {\n                                exits.error5(writeREADMEAndPackageJson);\n                              },\n                              \"success\": function(writeREADMEAndPackageJson) {\n                                // Write compiled JavaScript (if relevant)\n                                require('../index').writeMinifiedJavascript({\n                                  \"outputDir\": tmpOutputDirectoryPath,\n                                  \"jsSrcDir\": sourceDirectoryPath + \"/js\"\n                                }).exec({\n                                  \"error\": function(writeCompiledJavaScriptIfRelevant) {\n                                    exits.error6(writeCompiledJavaScriptIfRelevant);\n                                  },\n                                  \"success\": function(writeCompiledJavaScriptIfRelevant) {\n                                    // Write compiled stylesheet (if relevant)\n                                    require('../index').writeCompiledStylesheetIfRelevant({\n                                      \"outputDir\": tmpOutputDirectoryPath,\n                                      \"lessSrcDir\": sourceDirectoryPath + \"/styles\"\n                                    }).exec({\n                                      \"error\": function(writeCompiledStylesheetIfRelevant) {\n                                        exits.error7(writeCompiledStylesheetIfRelevant);\n                                      },\n                                      \"success\": function(writeCompiledStylesheetIfRelevant) {\n                                        // Publish package\n                                        require('@treelinehq/treelinehq/machinepack-npm_5.1.0').publish({\n                                          \"dir\": tmpOutputDirectoryPath\n                                        }).exec({\n                                          \"error\": function(publishPackage) {\n                                            exits.error9(publishPackage);\n                                          },\n                                          \"alreadyExists\": function(publishPackage) {\n                                            exits.alreadyExists(publishPackage);\n                                          },\n                                          \"noSuchDir\": function(publishPackage) {\n                                            exits.noSuchDir(publishPackage);\n                                          },\n                                          \"notADir\": function(publishPackage) {\n                                            exits.notADir(publishPackage);\n                                          },\n                                          \"invalidPackage\": function(publishPackage) {\n                                            exits.invalidPackage(publishPackage);\n                                          },\n                                          \"success\": function(publishPackage) {\n                                            exits.success(publishPackage);\n                                          }\n                                        });\n\n                                      }\n                                    });\n\n                                  }\n                                });\n\n                              }\n                            });\n\n                          }\n                        });\n\n                      }\n                    });\n\n                  }\n                });\n\n              }\n            });\n\n          }\n        });\n\n      }\n    });\n  ",
        "environment": [
          "req",
          "res",
          "sails"
        ],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/productionify",
        "docsUrl": "http://node-machine.org/machinepack-assets/productionify",
        "defaultExit": null,
        "machinepack": 144,
        "id": 651,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "write-readme-and-package-json",
        "variableName": "writeReadmeAndPackageJson",
        "friendlyName": "Write README and package.json",
        "cacheable": false,
        "sync": false,
        "description": "Write README.md and package.json files for a production asset package.",
        "inputs": {
          "srcDir": {
            "friendlyName": "Source directory",
            "description": "The directory where the development source lives.  It not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./my-projects/some-assets/",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The output directory where the production assets will be temporarily written.  It not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./my-projects/some-assets/.tmp/processing",
            "required": true,
            "type": "string"
          },
          "prodPkgName": {
            "friendlyName": "Production package name",
            "description": "The name for the production package (i.e. `npm install XXXXX`)",
            "example": "@automatic/socket.io-client",
            "required": true,
            "type": "string"
          },
          "prodPkgDescription": {
            "friendlyName": "Production package description",
            "description": "Description for the production package to include in the package.json file and the README.",
            "example": "This package contains the production-compressed release of an asset package (i.e. shared LESS stylesheets, client-side JavaScript files, fonts, and/or images).",
            "defaultsTo": "This package contains the production-compressed release of an asset package (i.e. shared LESS stylesheets, client-side JavaScript files, fonts, and/or images).",
            "type": "string"
          },
          "prodPkgVersion": {
            "friendlyName": "Production package version",
            "description": "The NPM version for the production package (will be included in the package.json file).",
            "example": "1.0.5",
            "required": true,
            "type": "string"
          },
          "author": {
            "friendlyName": "Author",
            "description": "The package author.",
            "example": "Automatic",
            "defaultsTo": "",
            "type": "string"
          },
          "copyright": {
            "friendlyName": "Copyright",
            "description": "The copyright string for the package.  If left unspecified, will attempt to generate a copyright string from the \"author\".",
            "example": "Copyright &copy; 2015, Guillermo Rauch",
            "defaultsTo": "",
            "type": "string"
          },
          "license": {
            "friendlyName": "License",
            "description": "The license string for this package.",
            "example": "MIT",
            "defaultsTo": "",
            "type": "string"
          },
          "homepageUrl": {
            "friendlyName": "Homepage URL",
            "description": "The homepage URL for this package.",
            "example": "http://socket.io",
            "defaultsTo": "",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('@treelinehq/treelinehq/machinepack-fs');\n\n    // Resolve paths to source and working directory.\n    inputs.srcDir = path.resolve(inputs.srcDir);\n    inputs.workingDir = inputs.workingDir ? path.resolve(inputs.workingDir) : path.resolve(inputs.srcDir, '.tmp/processing');\n\n    inputs.prodPkgDescription = inputs.prodPkgDescription || 'This package contains the production-compressed release of an asset package (i.e. shared LESS stylesheets, client-side JavaScript files, fonts, and/or images).';\n    inputs.author = inputs.author || '';\n    inputs.license = inputs.license || '';\n    if (!inputs.copyright && inputs.author) {\n      inputs.copyright = 'Copyright &copy; 2015, ' + inputs.author;\n    }\n\n    Filesystem.write({\n      destination: path.resolve(inputs.workingDir, 'README.md'),\n      string: '# ' + inputs.prodPkgName + '\\n\\n' + (inputs.prodPkgDescription ? inputs.prodPkgDescription + '\\n\\n' : '') + (inputs.license ? inputs.license + '\\n' : '') + (inputs.copyright),\n      force: true\n    }).exec({\n      error: exits.error,\n      success: function() {\n\n        Filesystem.writeJson({\n          json: {\n            \"name\": inputs.prodPkgName,\n            \"version\": inputs.prodPkgVersion,\n            \"description\": inputs.prodPkgDescription,\n            \"dependencies\": {},\n            \"author\": inputs.author,\n            \"license\": inputs.license,\n            \"homepage\": inputs.homepageUrl,\n          },\n          destination: path.resolve(inputs.workingDir, 'package.json'),\n          force: true\n        }).exec({\n          error: exits.error,\n          success: function() {\n            return exits.success();\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/write-readme-and-package-json",
        "docsUrl": "http://node-machine.org/machinepack-assets/write-readme-and-package-json",
        "defaultExit": null,
        "machinepack": 144,
        "id": 652,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "write-minified-javascript",
        "variableName": "writeMinifiedJavascript",
        "friendlyName": "Write compiled JavaScript (if relevant)",
        "cacheable": false,
        "sync": false,
        "description": "Bundle and write a minified JavaScript file to the output directory.",
        "inputs": {
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the temporary directory where production assets are being compiled.",
            "example": "./my-projects/some-assets/.tmp/processing",
            "required": true,
            "type": "string"
          },
          "jsSrcDir": {
            "friendlyName": "JavaScript source directory",
            "description": "The directory where the JavaScript source files live.  It not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./my-projects/some-assets/js",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('@treelinehq/treelinehq/machinepack-fs');\n    var thisPack = require('../');\n\n    // Ensure provided paths are absolute.\n    inputs.jsSrcDir = path.resolve(inputs.jsSrcDir);\n    inputs.outputDir = path.resolve(inputs.outputDir);\n\n    // Minify JavaScript files.\n    thisPack.minifyJavascriptAssets({\n      dir: inputs.jsSrcDir,\n    }).exec({\n      error: exits.error,\n      // If no JavaScript assets exist, that's ok, just trigger the success exit anyways.\n      doesNotExist: function() {\n        return exits.success();\n      },\n      success: function(js) {\n\n        // Write the resulting JS file to disk.\n        Filesystem.write({\n          destination: path.resolve(inputs.outputDir, 'production.min.js'),\n          string: js,\n          force: true\n        }).exec({\n          error: exits.error,\n          success: function() {\n            return exits.success();\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/write-minified-javascript",
        "docsUrl": "http://node-machine.org/machinepack-assets/write-minified-javascript",
        "defaultExit": null,
        "machinepack": 144,
        "id": 653,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "write-compiled-stylesheet-if-relevant",
        "variableName": "writeCompiledStylesheetIfRelevant",
        "friendlyName": "Write compiled stylesheet (if relevant)",
        "cacheable": false,
        "sync": false,
        "description": "Bundle and write a minified CSS file to the output directory.",
        "inputs": {
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the temporary directory where production assets are being compiled.",
            "example": "./my-projects/some-assets/.tmp/processing",
            "required": true,
            "type": "string"
          },
          "lessSrcDir": {
            "friendlyName": "LESS source directory",
            "description": "The path to the source directory containing LESS stylesheets; including the entry point (i.e. importer.less).  It not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./foo/styles/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('@treelinehq/treelinehq/machinepack-fs');\n    var thisPack = require('../');\n\n    // Ensure provided paths are absolute.\n    inputs.lessEntryPoint = path.resolve(inputs.lessSrcDir);\n    inputs.outputDir = path.resolve(inputs.outputDir);\n\n    // Minify LESS files.\n    thisPack.compileLessStylesheets({\n      lessSrcDir: inputs.lessSrcDir,\n      minify: true\n    }).exec({\n      error: exits.error,\n      // If no LESS assets exist, that's ok, just trigger the success exit anyways.\n      doesNotExist: function() {\n        return exits.success();\n      },\n      success: function(css) {\n\n        // Write the resulting JS file to disk.\n        Filesystem.write({\n          destination: path.resolve(inputs.outputDir, 'production.min.css'),\n          string: css,\n          force: true\n        }).exec({\n          error: exits.error,\n          success: function() {\n            return exits.success();\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/write-compiled-stylesheet-if-relevant",
        "docsUrl": "http://node-machine.org/machinepack-assets/write-compiled-stylesheet-if-relevant",
        "defaultExit": null,
        "machinepack": 144,
        "id": 654,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      },
      {
        "identity": "compile-less-stylesheets",
        "variableName": "compileLessStylesheets",
        "friendlyName": "Compile LESS stylesheets",
        "cacheable": false,
        "sync": false,
        "description": "Compile a LESS importer file and all connected stylesheets into CSS (this is usually the single entry point for all LESS in the project)",
        "inputs": {
          "lessSrcDir": {
            "friendlyName": "LESS source directory",
            "description": "The source directory of LESS stylesheets with a single `importer.less` file which serves as the entry point.",
            "example": "./foo/styles",
            "required": true,
            "type": "string"
          },
          "minify": {
            "friendlyName": "Minify?",
            "description": "Whether or not the resulting CSS should be minified.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": ".button { width: 20px; }",
            "isDefault": true,
            "type": "string"
          },
          "doesNotExist": {
            "friendlyName": "does not exist",
            "description": "Nothing exists at the provided LESS source directory path.",
            "example": "abc123",
            "type": "string"
          }
        },
        "fn": "    // Resolve path to styles directory\n    require('@treelinehq/treelinehq/machinepack-paths_1.2.0').resolve({\n      \"paths\": [inputs.lessSrcDir]\n    }).exec({\n      \"error\": function(resolvePathToStylesDirectory) {\n        exits.error3(resolvePathToStylesDirectory);\n      },\n      \"success\": function(resolvePathToStylesDirectory) {\n        // Resolve path to importer.less\n        require('@treelinehq/treelinehq/machinepack-paths_1.2.0').resolve({\n          \"paths\": [inputs.lessSrcDir, \"importer.less\"]\n        }).exec({\n          \"error\": function(resolvePathToImporterLess) {\n            exits.error2(resolvePathToImporterLess);\n          },\n          \"success\": function(resolvePathToImporterLess) {\n            // Compile stylesheet\n            require('@treelinehq/treelinehq/machinepack-less_1.0.0').compileStylesheet({\n              \"source\": resolvePathToImporterLess,\n              \"importPaths\": [resolvePathToStylesDirectory],\n              \"minify\": inputs.minify\n            }).exec({\n              \"error\": function(compileStylesheet) {\n                exits.error(compileStylesheet);\n              },\n              \"doesNotExist\": function(compileStylesheet) {\n                exits.doesNotExist(compileStylesheet);\n              },\n              \"success\": function(compileStylesheet) {\n                exits.success(compileStylesheet);\n              }\n            });\n\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-assets/compile-less-stylesheets",
        "docsUrl": "http://node-machine.org/machinepack-assets/compile-less-stylesheets",
        "defaultExit": null,
        "machinepack": 144,
        "id": 655,
        "createdAt": "2015-07-22T07:09:28.000Z",
        "updatedAt": "2015-07-22T07:09:28.000Z"
      }
    ],
    "identity": "machinepack-assets",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-07-22T00:00:00.000Z",
    "variableName": "Assets",
    "friendlyName": "Assets",
    "description": "Experimental utilities for preparing fonts, images, JavaScript files, and LESS stylesheets, then publishing them to NPM as production-ready asset packages.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-assets",
    "docsUrl": "http://node-machine.org/machinepack-assets",
    "npmUrl": "http://npmjs.org/package/machinepack-assets",
    "npmPackageName": "machinepack-assets",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "treeline-installer",
        "semverRange": "^1.0.3"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 144,
    "createdAt": "2015-07-22T07:09:28.000Z",
    "updatedAt": "2015-07-22T07:09:28.000Z",
    "numMachines": 8
  },
  {
    "machines": [
      {
        "identity": "login",
        "variableName": "login",
        "friendlyName": "Log in",
        "cacheable": null,
        "sync": null,
        "description": "Log in as the specified user.",
        "inputs": {
          "id": {
            "friendlyName": "User ID",
            "description": "The unique ID to store in the session to represent this user.",
            "example": "ad913nfa0139ame2iekda13",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Session = require('machinepack-session');\n\n    Session.save({\n      key: 'me',\n      value: inputs.id\n    }).setEnvironment({\n      req: env.req\n    }).exec({\n      error: exits.error,\n      success: exits.success\n    });\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": "Assumes that being \"logged in\" means that the session has a key called `me`.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sessionauth/login",
        "docsUrl": "http://node-machine.org/machinepack-sessionauth/login",
        "defaultExit": "success",
        "machinepack": 63,
        "id": 242,
        "createdAt": "2015-03-17T08:09:47.000Z",
        "updatedAt": "2015-06-30T15:50:01.000Z"
      },
      {
        "identity": "logout",
        "variableName": "logout",
        "friendlyName": "Log out",
        "cacheable": null,
        "sync": null,
        "description": "Log the current user session out.",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Session = require('machinepack-session');\n\n    Session.del({\n      key: 'me'\n    }).setEnvironment({\n      req: env.req\n    }).exec({\n      error: exits.error,\n      success: exits.success\n    });\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": "Deletes the `me` key from the current user session.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sessionauth/logout",
        "docsUrl": "http://node-machine.org/machinepack-sessionauth/logout",
        "defaultExit": "success",
        "machinepack": 63,
        "id": 243,
        "createdAt": "2015-03-17T08:09:47.000Z",
        "updatedAt": "2015-06-30T15:50:01.000Z"
      },
      {
        "identity": "check-login",
        "variableName": "checkLogin",
        "friendlyName": "Check login status",
        "cacheable": null,
        "sync": null,
        "description": "Check whether the current user is logged in.",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "logged in",
            "description": "OK.",
            "example": "28ahgdalad9191djga",
            "isDefault": true,
            "type": "string"
          },
          "otherwise": {
            "friendlyName": "not logged in",
            "description": "The requesting user is not logged in."
          }
        },
        "fn": "    var Session = require('machinepack-session');\n\n    Session.load({\n      key: 'me'\n    }).setEnvironment({\n      req: env.req\n    }).exec({\n      error: exits.error,\n      notFound: function (){\n        return exits.otherwise();\n      },\n      success: function (id){\n        return exits.success(id);\n      }\n    });\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": "Assumes that being \"logged in\" means that the session has a key called `me`.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": "/images/icons/female_user.png",
        "nodeMachineUrl": "http://node-machine.org/machinepack-sessionauth/check-login",
        "docsUrl": "http://node-machine.org/machinepack-sessionauth/check-login",
        "defaultExit": "success",
        "machinepack": 63,
        "id": 244,
        "createdAt": "2015-03-17T08:09:47.000Z",
        "updatedAt": "2015-06-30T15:50:01.000Z"
      }
    ],
    "identity": "machinepack-sessionauth",
    "version": "0.3.2",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Authentication",
    "friendlyName": "Authentication",
    "description": "Support for login, logout, and authentication via encrypted cookies and a session store.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-sessionauth",
    "docsUrl": "http://node-machine.org/machinepack-sessionauth",
    "npmUrl": "http://npmjs.org/package/machinepack-sessionauth",
    "npmPackageName": "machinepack-sessionauth",
    "githubUrl": "http://github.com/treelinehq/machinepack-sessionauth/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-sessionauth/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-sessionauth",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-session",
        "semverRange": "^0.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 63,
    "createdAt": "2015-03-17T08:09:47.000Z",
    "updatedAt": "2015-06-30T15:50:01.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "create-transaction-request",
        "variableName": "createTransactionRequest",
        "friendlyName": "Create transaction request",
        "cacheable": false,
        "sync": false,
        "description": "pass credentials to authorize.net to setup a payment transaction",
        "inputs": {
          "apiLoginId": {
            "example": "xxxx4Tk9K",
            "description": "The AN API LOGIN ID",
            "required": true,
            "type": "string"
          },
          "transactionKey": {
            "example": "xxxxN24Hqm7C5V98",
            "description": "Your TRANSACTION KEY .",
            "required": true,
            "type": "string"
          },
          "testMode": {
            "example": true,
            "description": "true or false this.endpoint = options.testMode === true ? 'https://apitest.authorize.net/xml/v1/request.api' : 'https://api.authorize.net/xml/v1/request.api';",
            "required": true,
            "type": "boolean"
          },
          "secretKey": {
            "example": "Simon",
            "description": "Your secret .",
            "required": false,
            "type": "string"
          },
          "amount": {
            "description": "The amount to charge, in the smallest currency unit (e.g. 500 to charge $5.00)",
            "extendedDescription": "A positive integer in the smallest currency unit (e.g 100 cents to charge $1.00, or 1 to charge Â¥1, a 0-decimal currency) representing how much to charge the card. The minimum amount is $0.50 (or equivalent in charge currency).",
            "example": 500,
            "required": true,
            "type": "number"
          },
          "currency": {
            "description": "3-letter ISO code for currency.",
            "example": "usd",
            "required": true,
            "type": "string"
          },
          "cardnumber": {
            "description": "The cc # to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "4242424242424242",
            "required": true,
            "type": "string"
          },
          "cardexpmonth": {
            "description": "The cc expiration month.",
            "extendedDescription": " AuthorizeNet.js.",
            "example": 12,
            "required": true,
            "type": "number"
          },
          "cardexpyear": {
            "description": "The cc expiration year.",
            "extendedDescription": " AuthorizeNet.js.",
            "example": 2016,
            "required": true,
            "type": "number"
          },
          "cvv2": {
            "description": "needed for ccv.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "123",
            "required": true,
            "type": "string"
          },
          "description": {
            "description": "An arbitrary string to attach to the charge object in Stripe.",
            "extendedDescription": "It is displayed when in the web interface alongside the charge. Note that if you use Stripe to send automatic email receipts to your customers, your receipt emails will include the description of the charge(s) that they are describing.",
            "example": "This notable charge was for several gallons of mayonnaise!",
            "type": "string"
          },
          "billingFirstName": {
            "description": "billingFirstName.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "John",
            "required": true,
            "type": "string"
          },
          "billingLastName": {
            "description": "billingLastName.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "Smith",
            "required": true,
            "type": "string"
          },
          "billingAddress1": {
            "description": "billingAddress1.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "500 %th Ave",
            "required": true,
            "type": "string"
          },
          "billingCity": {
            "description": "billingCity.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "New York",
            "required": true,
            "type": "string"
          },
          "billingState": {
            "description": "billingState.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "NY",
            "required": true,
            "type": "string"
          },
          "billingPostalCode": {
            "description": "billingPostalCode.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "10011",
            "required": true,
            "type": "string"
          },
          "billingCountry": {
            "description": "billingCountry.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "USA",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoKey": {
            "description": "Invalid or unprovided API Login Id and transactionKey."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n\r\n    var anet = require('authorize-net');\r\n    var service = new anet({\r\n      API_LOGIN_ID: inputs.apiLoginId,\r\n      TRANSACTION_KEY: inputs.transactionKey,\r\n      testMode: inputs.testMode\r\n    });\r\n\r\n  //  console.log('ser ', service);\r\n\r\n    //// var service=require('node-authorize-net')(inputs.apiLoginId,inputs.transactionKey);\r\n    //// service.authCaptureTransaction(inputs.amount,inputs.cardnumber,inputs.cardexpyear,inputs.cardexpmonth,inputs.cardcode).then(function (transaction) {\r\n    var order = {};\r\n    var creditCard = {};\r\n    var prospect = {};\r\n    var billTo = {};\r\n    var shipTo = {};\r\n    var other = '';\r\n    var order = {};\r\n\r\n\r\n    creditCard.creditCardNumber = inputs.cardnumber;\r\n    creditCard.expirationYear = inputs.cardexpyear;\r\n    creditCard.expirationMonth = inputs.cardexpmonth;\r\n    creditCard.cvv2 = inputs.cvv2;\r\n\r\n\r\n    prospect.billingFirstName= inputs.billingFirstName; //customerFirstName\r\n    prospect.billingLastName= inputs.billingLastName;//customerLastName\r\n    //prospect.customerEmail = inputs.billingEmail;\r\n    prospect.billingAddress = inputs.billingCity;\r\n    prospect.billingCity = inputs.billingState;\r\n    prospect.billingState = inputs.billingPostalCode;\r\n    prospect.billingPostalCode = inputs.billingPostalCode;\r\n    prospect.billingCountry = inputs.billingCountry;\r\n\r\n\r\n\r\n    prospect.shippingFirstName = inputs.billingFirstName;\r\n    prospect.shippingLastName = inputs.billingLastName;\r\n    prospect.shippingAddress = inputs.billingAddress1;\r\n    prospect.shippingCity = inputs.billingCity;\r\n    prospect.shippingState = inputs.billingState;\r\n    prospect.shippingPostalCode = inputs.billingPostalCode;\r\n    prospect.shippingCountry = inputs.billingCountry;\r\n    // prospect (object)\r\n    //\r\n    // 'customerFirstName' (string): First name of the customer (also used for the billing).\r\n    // 'customerLastName' (string): Last name of the customer (also used for the billing).\r\n    // 'customerEmail' (string): Email of the customer.\r\n\r\n\r\n\r\n    order.amount = inputs.amount;\r\n\r\n   // service.authorizeTransaction(order, creditCard, prospect, other).then(function(transaction) {\r\n    // or    //\r\n    service.submitTransaction(order, creditCard, prospect, other).then(function(transaction) {\r\n\r\n      // console.log('1 transaction', transaction);\r\n      //   console.log('2', transaction.authCode)\r\n      // //console.log('3', transaction._orininal);//.transactionResponse);\r\n      //  console.log('3', transaction._original);\r\n      //  console.log('3', transaction._original.responseCode);\r\n      // if (transaction.transactionResponse.responseCode[0] === 1) {\r\n\r\n      if (transaction._original.responseCode[0] === '1') {\r\n             console.log('success');\r\n        return exits.success(transaction) //.transactionResponse)\r\n      } else {\r\n           console.log('error');\r\n        return exits.error('error');\r\n      }\r\n    });\r\n\r\n  ",
        "environment": [],
        "extendedDescription": "nodejs version 1.0.6 from https://www.npmjs.com/package/authorize-net. run npm install -s authorize-net@1.0.6  ",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-authorizenet/create-transaction-request",
        "docsUrl": "http://node-machine.org/machinepack-authorizenet/create-transaction-request",
        "defaultExit": "success",
        "machinepack": 152,
        "id": 679,
        "createdAt": "2015-10-26T19:49:40.000Z",
        "updatedAt": "2015-11-03T16:09:35.000Z"
      },
      {
        "identity": "authorize-transaction-request",
        "variableName": "authorizeTransactionRequest",
        "friendlyName": "authorize transaction request",
        "cacheable": false,
        "sync": false,
        "description": "pass credentials to authorize.net to setup a payment transaction",
        "inputs": {
          "apiLoginId": {
            "example": "xxxx4Tk9K",
            "description": "The AN API LOGIN ID",
            "required": true,
            "type": "string"
          },
          "transactionKey": {
            "example": "xxxxN24Hqm7C5V98",
            "description": "Your TRANSACTION KEY .",
            "required": true,
            "type": "string"
          },
          "testMode": {
            "example": true,
            "description": "true or false this.endpoint = options.testMode === true ? 'https://apitest.authorize.net/xml/v1/request.api' : 'https://api.authorize.net/xml/v1/request.api';",
            "required": true,
            "type": "boolean"
          },
          "secretKey": {
            "example": "Simon",
            "description": "Your secret .",
            "required": false,
            "type": "string"
          },
          "amount": {
            "description": "The amount to charge, in the smallest currency unit (e.g. 500 to charge $5.00)",
            "extendedDescription": "A positive integer in the smallest currency unit (e.g 100 cents to charge $1.00, or 1 to charge Â¥1, a 0-decimal currency) representing how much to charge the card. The minimum amount is $0.50 (or equivalent in charge currency).",
            "example": 500,
            "required": true,
            "type": "number"
          },
          "currency": {
            "description": "3-letter ISO code for currency.",
            "example": "usd",
            "required": true,
            "type": "string"
          },
          "cardnumber": {
            "description": "The cc # to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "4242424242424242",
            "required": true,
            "type": "string"
          },
          "cardexpmonth": {
            "description": "The cc expiration month.",
            "extendedDescription": " AuthorizeNet.js.",
            "example": 12,
            "required": true,
            "type": "number"
          },
          "cardexpyear": {
            "description": "The cc expiration year.",
            "extendedDescription": " AuthorizeNet.js.",
            "example": 2016,
            "required": true,
            "type": "number"
          },
          "cvv2": {
            "description": "needed for ccv.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "123",
            "required": true,
            "type": "string"
          },
          "description": {
            "description": "An arbitrary string to attach to the charge object in Stripe.",
            "extendedDescription": "It is displayed when in the web interface alongside the charge. Note that if you use Stripe to send automatic email receipts to your customers, your receipt emails will include the description of the charge(s) that they are describing.",
            "example": "This notable charge was for several gallons of mayonnaise!",
            "type": "string"
          },
          "billingFirstName": {
            "description": "billingFirstName.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "John",
            "required": true,
            "type": "string"
          },
          "billingLastName": {
            "description": "billingLastName.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "Smith",
            "required": true,
            "type": "string"
          },
          "billingAddress1": {
            "description": "billingAddress1.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "500 %th Ave",
            "required": true,
            "type": "string"
          },
          "billingCity": {
            "description": "billingCity.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "New York",
            "required": true,
            "type": "string"
          },
          "billingState": {
            "description": "billingState.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "NY",
            "required": true,
            "type": "string"
          },
          "billingPostalCode": {
            "description": "billingPostalCode.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "10011",
            "required": true,
            "type": "string"
          },
          "billingCountry": {
            "description": "billingCountry.",
            "extendedDescription": " AuthorizeNet.js",
            "example": "USA",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoKey": {
            "description": "Invalid or unprovided API Login Id and transactionKey."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var anet = require('authorize-net');\n    var service = new anet({\n      API_LOGIN_ID: inputs.apiLoginId,\n      TRANSACTION_KEY: inputs.transactionKey,\n      testMode: inputs.testMode\n    });\n\n      var order = {};\n    var creditCard = {};\n    var prospect = {};\n    var billTo = {};\n    var shipTo = {};\n    var other = '';\n    var order = {};\n\n\n    creditCard.creditCardNumber = inputs.cardnumber;\n    creditCard.expirationYear = inputs.cardexpyear;\n    creditCard.expirationMonth = inputs.cardexpmonth;\n    creditCard.cvv2 = inputs.cvv2;\n\n\n    prospect.billingFirstName= inputs.billingFirstName; //customerFirstName\n    prospect.billingLastName= inputs.billingLastName;//customerLastName\n    //prospect.customerEmail = inputs.billingEmail;\n    prospect.billingAddress = inputs.billingCity;\n    prospect.billingCity = inputs.billingState;\n    prospect.billingState = inputs.billingPostalCode;\n    prospect.billingPostalCode = inputs.billingPostalCode;\n    prospect.billingCountry = inputs.billingCountry;\n\n\n\n    prospect.shippingFirstName = inputs.billingFirstName;\n    prospect.shippingLastName = inputs.billingLastName;\n    prospect.shippingAddress = inputs.billingAddress1;\n    prospect.shippingCity = inputs.billingCity;\n    prospect.shippingState = inputs.billingState;\n    prospect.shippingPostalCode = inputs.billingPostalCode;\n    prospect.shippingCountry = inputs.billingCountry;\n\n\n    order.amount = inputs.amount;\n\n    service.authorizeTransaction(order, creditCard, prospect, other).then(function(transaction) {\n\n\n      if (transaction._original.responseCode[0] === '1') {\n             console.log('success');\n        return exits.success(transaction) //.transactionResponse)\n      } else {\n           console.log('error');\n        return exits.error('error');\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "nodejs version 1.0.6 from https://www.npmjs.com/package/authorize-net. run npm install -s authorize-net@1.0.6  ",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-authorizenet/authorize-transaction-request",
        "docsUrl": "http://node-machine.org/machinepack-authorizenet/authorize-transaction-request",
        "defaultExit": "success",
        "machinepack": 152,
        "id": 680,
        "createdAt": "2015-11-03T16:09:35.000Z",
        "updatedAt": "2015-11-03T16:09:35.000Z"
      }
    ],
    "identity": "machinepack-authorizenet",
    "version": "2.1.0",
    "latestVersionPublishedAt": "2015-11-03T00:00:00.000Z",
    "variableName": "Authorizenet",
    "friendlyName": "Authorizenet",
    "description": "a machinepack for authorize-net version 1.0.6 (nov 2 2015)",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-authorizenet",
    "docsUrl": "http://node-machine.org/machinepack-authorizenet",
    "npmUrl": "http://npmjs.org/package/machinepack-authorizenet",
    "npmPackageName": "machinepack-authorizenet",
    "githubUrl": "http://github.com/johntom/machinepack-authorizenet/",
    "sourceUrl": "http://github.com/johntom/machinepack-authorizenet/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "authorize-net",
        "semverRange": "^1.0.6"
      }
    ],
    "contributors": [
      {
        "name": "johntom",
        "email": ""
      },
      {
        "name": "John Tomaselli",
        "email": ""
      }
    ],
    "id": 152,
    "createdAt": "2015-10-26T19:49:40.000Z",
    "updatedAt": "2015-11-03T16:09:35.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "ecs-register-task-definition",
        "variableName": "ecsRegisterTaskDefinition",
        "friendlyName": "Register ECS task definition",
        "cacheable": null,
        "sync": null,
        "description": "Register a ECS task definition.",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "family": {
            "description": "The ECS family name",
            "example": "aFamily",
            "required": true,
            "type": "string"
          },
          "containerDefinitions": {
            "description": "Describes what the new container will look like",
            "example": "JSON encoded containerDefinitions",
            "required": true,
            "type": "string"
          },
          "volumes": {
            "descriptions": "Volumes to be mapped.",
            "example": [
              {
                "host": {
                  "sourcePath": "STRING_VALUE"
                },
                "name": "STRING_VALUE"
              }
            ],
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidContainerDefinitions": {
            "description": "The container definition must be a valid strigified json object"
          },
          "success": {
            "description": "OK.",
            "example": {
              "taskDefinition": {
                "containerDefinitions": [
                  {
                    "cpu": 1,
                    "environment": [
                      {
                        "name": "ENV_NAME",
                        "value": "ENV_VALUE"
                      }
                    ],
                    "essential": true,
                    "image": "docker/imageName",
                    "memory": 256,
                    "mountPoints": [],
                    "name": "aName",
                    "portMappings": [
                      {
                        "containerPort": 80,
                        "hostPort": 0
                      }
                    ],
                    "volumesFrom": []
                  }
                ],
                "family": "taskName",
                "revision": 1,
                "taskDefinitionArn": "arn:aws:ecs:us-west-2:575231334330:task-definition/taskName:1",
                "volumes": []
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      family: inputs.family\n    };\n\n    if(inputs.volumes) params.volumes = inputs.volumes;\n\n    var containerDef;\n    try {\n      containerDef = JSON.parse(inputs.containerDefinitions);\n    } catch (e) {\n      return exits.invalidContainerDefinitions\n    }\n\n    params.containerDefinitions = containerDef\n    if(!Array.isArray(params.containerDefinitions)) {\n      params.containerDefinitions = [containerDef];\n    }\n\n    ecs.registerTaskDefinition(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-register-task-definition",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-register-task-definition",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 206,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-list-task-definitions",
        "variableName": "ecsListTaskDefinitions",
        "friendlyName": "List ECS task definitions",
        "cacheable": null,
        "sync": null,
        "description": "Return a list of task definitions that are registered to your account.",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "familyPrefix": {
            "description": "The full family name that you want to filter the ListTaskDefinitions results with.",
            "example": "aFamily",
            "type": "string"
          },
          "nextToken": {
            "description": "The nextToken value returned from a previous paginated ListTaskDefinitions request where maxResults was used and the results exceeded the value of that parameter.",
            "example": "aTokenValue",
            "type": "string"
          },
          "maxResults": {
            "description": "The maximum number of task definition results returned by ListTaskDefinitions in paginated output.",
            "example": 100,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "taskDefinitionArns": [
                "arn:aws:ecs:us-west-2:573433844230:task-definition/taskName:1"
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {};\n    if(inputs.familyPrefix) params.familyPrefix = inputs.familyPrefix;\n    if(inputs.nextToken) params.nextToken = inputs.nextToken;\n    if(inputs.maxResults) params.maxResults = inputs.maxResults;\n\n    ecs.listTaskDefinitions(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-list-task-definitions",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-list-task-definitions",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 207,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-run-task",
        "variableName": "ecsRunTask",
        "friendlyName": "Run ECS task",
        "cacheable": null,
        "sync": null,
        "description": "Start a task using random placement and the default Amazon ECS scheduler.",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "taskDefinition": {
            "description": "A registered task definition on ECS that will be used to start a task.",
            "example": "arn:aws:ecs:us-west-2:577431834720:task-definition/taskName:1",
            "required": true,
            "type": "string"
          },
          "cluster": {
            "description": "Which cluster to run the task on. Defaults to `default`",
            "example": "myCluster",
            "type": "string"
          },
          "count": {
            "description": "How many containers to run. Defaults to 1.",
            "example": 1,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "failures": [],
              "tasks": [
                {
                  "clusterArn": "arn:aws:ecs:us-west-2:575431834730:cluster/default",
                  "containerInstanceArn": "arn:aws:ecs:us-west-2:575431834730:container-instance/98950f3c-7347-4249-99cb-168832a1b8f2",
                  "containers": [
                    {
                      "containerArn": "arn:aws:ecs:us-west-2:575431834730:container/23cb1b84-0d02-4a85-a672-7a2b1c0410d7",
                      "lastStatus": "PENDING",
                      "name": "preview",
                      "taskArn": "arn:aws:ecs:us-west-2:575431834730:task/55b9b3b1-f189-4e5e-9e3a-83832c69b57e"
                    }
                  ],
                  "desiredStatus": "RUNNING",
                  "lastStatus": "PENDING",
                  "overrides": {
                    "containerOverrides": [
                      {
                        "name": "container"
                      }
                    ]
                  },
                  "taskArn": "arn:aws:ecs:us-west-2:575431834730:task/55b9b3b1-f189-4e5e-9e3a-83832c69b57e",
                  "taskDefinitionArn": "arn:aws:ecs:us-west-2:575431834730:task-definition/containerName:1"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      taskDefinition: inputs.taskDefinition,\n      cluster: inputs.cluster || 'default',\n      count: inputs.count || 1\n    };\n\n    ecs.runTask(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-run-task",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-run-task",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 208,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-list-tasks",
        "variableName": "ecsListTasks",
        "friendlyName": "List ECS tasks",
        "cacheable": null,
        "sync": null,
        "description": "Return a list of tasks for a specified cluster. ",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "cluster": {
            "description": "The short name or full Amazon Resource Name (ARN) of the cluster that hosts the tasks you want to list. Defaults to `default`",
            "example": "default",
            "type": "string"
          },
          "family": {
            "description": "The full family name that you want to filter the ListTasks results with.",
            "example": "aFamily",
            "type": "string"
          },
          "nextToken": {
            "description": "The nextToken value returned from a previous paginated ListTasks request where maxResults was used and the results exceeded the value of that parameter.",
            "example": "aTokenValue",
            "type": "string"
          },
          "maxResults": {
            "description": "The maximum number of task definition results returned by ListTasks in paginated output.",
            "example": 100,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "taskArns": [
                "arn:aws:ecs:us-west-2:575431834730:task/55b9b3b1-f189-4e5e-9e3a-83832c69b57e"
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      cluster: inputs.cluster || 'default'\n    };\n\n    if(inputs.family) params.family = inputs.family;\n    if(inputs.nextToken) params.nextToken = inputs.nextToken;\n    if(inputs.maxResults) params.maxResults = inputs.maxResults;\n\n    ecs.listTasks(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-list-tasks",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-list-tasks",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 209,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-stop-task",
        "variableName": "ecsStopTask",
        "friendlyName": "Stop ECS task",
        "cacheable": null,
        "sync": null,
        "description": "Stop a running ECS task.",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "task": {
            "description": "The task UUIDs or full Amazon Resource Name (ARN) entry of the task you would like to stop.",
            "example": "arn:aws:ecs:us-west-2:575231334330:task-definition/taskName:1",
            "required": true,
            "type": "string"
          },
          "cluster": {
            "description": "The short name or full Amazon Resource Name (ARN) of the cluster that hosts the task you want to stop. Defaults to `default`",
            "example": "default",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "task": {
                "clusterArn": "arn:aws:ecs:us-west-2:575431834730:cluster/default",
                "containerInstanceArn": "arn:aws:ecs:us-west-2:575431834730:container-instance/98950f3c-7347-4249-99cb-168832a1b8f2",
                "containers": [
                  {
                    "containerArn": "arn:aws:ecs:us-west-2:575431834730:container/23cb1b84-0d02-4a85-a672-7a2b1c0410d7",
                    "lastStatus": "RUNNING",
                    "name": "preview",
                    "networkBindings": [
                      {
                        "bindIP": "0.0.0.0",
                        "containerPort": 1337,
                        "hostPort": 49156
                      }
                    ],
                    "taskArn": "arn:aws:ecs:us-west-2:575431834730:task/55b9b3b1-f189-4e5e-9e3a-83832c69b57e"
                  }
                ],
                "desiredStatus": "STOPPED",
                "lastStatus": "RUNNING",
                "overrides": {
                  "containerOverrides": [
                    {
                      "name": "preview"
                    }
                  ]
                },
                "taskArn": "arn:aws:ecs:us-west-2:575431834730:task/55b9b3b1-f189-4e5e-9e3a-83832c69b57e",
                "taskDefinitionArn": "arn:aws:ecs:us-west-2:575431834730:task-definition/particlebanana-2Factor:1"
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      task: inputs.task,\n      cluster: inputs.cluster || 'default'\n    };\n\n    ecs.stopTask(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-stop-task",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-stop-task",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 210,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ec2-describe-instances",
        "variableName": "ec2DescribeInstances",
        "friendlyName": "Describe EC2 instances",
        "cacheable": null,
        "sync": null,
        "description": "Describe one or more of your instances.",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "instanceIds": {
            "description": "One or more instance IDs.",
            "example": [
              "STRING"
            ],
            "required": true,
            "type": "array"
          },
          "nextToken": {
            "description": "The token for the next set of items to return.",
            "example": "aTokenValue",
            "type": "string"
          },
          "maxResults": {
            "description": "The maximum number of items to return for this call.",
            "example": 100,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "Reservations": [
                {
                  "ReservationId": "r-7801b374",
                  "OwnerId": "57s4f1824733",
                  "Groups": [],
                  "Instances": [
                    {
                      "InstanceId": "i-783aff67",
                      "ImageId": "ami-4esc2a7d",
                      "State": {
                        "Code": 16,
                        "Name": "running"
                      },
                      "PrivateDnsName": "ip-10-0-0-9.us-west-2.compute.internal",
                      "PublicDnsName": "ec2-52-69-178-30.us-west-2.compute.amazonaws.com",
                      "StateTransitionReason": "",
                      "KeyName": "MyKey",
                      "AmiLaunchIndex": 0,
                      "ProductCodes": [],
                      "InstanceType": "m3.xlarge",
                      "LaunchTime": "Sat Mar 14 2015 12:06:13 GMT-0700 (PDT)",
                      "Placement": {
                        "AvailabilityZone": "us-west-2a",
                        "GroupName": "",
                        "Tenancy": "default"
                      },
                      "Monitoring": {
                        "State": "disabled"
                      },
                      "SubnetId": "subnet-530fa024",
                      "VpcId": "vpc-e7a81882",
                      "PrivateIpAddress": "10.0.0.9",
                      "PublicIpAddress": "51.65.162.12",
                      "Architecture": "x86_64",
                      "RootDeviceType": "ebs",
                      "RootDeviceName": "/dev/xvda",
                      "BlockDeviceMappings": [
                        {
                          "DeviceName": "/dev/xvda",
                          "Ebs": {
                            "VolumeId": "vol-bfc810ad",
                            "Status": "attached",
                            "AttachTime": "Sat Mar 14 2015 12:06:15 GMT-0700 (PDT)",
                            "DeleteOnTermination": true
                          }
                        }
                      ],
                      "VirtualizationType": "hvm",
                      "ClientToken": "sdhf3297rkdflksd",
                      "Tags": [],
                      "SecurityGroups": [
                        {
                          "GroupName": "my_SG",
                          "GroupId": "sg-b30928jsdhfyf3"
                        }
                      ],
                      "SourceDestCheck": true,
                      "Hypervisor": "xen"
                    }
                  ]
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ec2 = new AWS.EC2(config);\n\n    var params = {\n      InstanceIds: inputs.instanceIds\n    };\n\n    if(inputs.nextToken) params.NextToken = inputs.nextToken;\n    if(inputs.maxResults) params.MaxResults = inputs.maxResults;\n\n    ec2.describeInstances(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ec2-describe-instances",
        "docsUrl": "http://node-machine.org/machinepack-aws/ec2-describe-instances",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 211,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-describe-container-instances",
        "variableName": "ecsDescribeContainerInstances",
        "friendlyName": "Describe ECS container instances",
        "cacheable": null,
        "sync": null,
        "description": "Describe Amazon EC2 Container Service container instances",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "cluster": {
            "description": "The short name or full Amazon Resource Name (ARN) of the cluster that hosts the container instances you want to describe. Defaults to `default`.",
            "example": "default",
            "type": "string"
          },
          "containerInstances": {
            "description": "Container instance UUIDs or full Amazon Resource Name (ARN) entries to describe.",
            "example": [
              "98950f3c-7347-4249-99cb-168832a1b8f2"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "containerInstances": [
                {
                  "agentConnected": true,
                  "containerInstanceArn": "arn:aws:ecs:us-west-2:575431834730:container-instance/98950f3c-7347-4249-99cb-168832a1b8f2",
                  "ec2InstanceId": "i-783acf77",
                  "registeredResources": [
                    {
                      "doubleValue": 0,
                      "integerValue": 4096,
                      "longValue": 0,
                      "name": "CPU",
                      "type": "INTEGER"
                    }
                  ],
                  "remainingResources": [
                    {
                      "doubleValue": 0,
                      "integerValue": 4096,
                      "longValue": 0,
                      "name": "CPU",
                      "type": "INTEGER"
                    }
                  ],
                  "status": "ACTIVE"
                }
              ],
              "failures": []
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      cluster: inputs.cluster || 'default',\n      containerInstances: inputs.containerInstances\n    };\n\n    ecs.describeContainerInstances(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-describe-container-instances",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-describe-container-instances",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 212,
        "createdAt": "2015-03-14T23:19:40.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-describe-tasks",
        "variableName": "ecsDescribeTasks",
        "friendlyName": "Describe ECS tasks",
        "cacheable": null,
        "sync": null,
        "description": "Describe a specified task or tasks.",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "cluster": {
            "description": "The short name or full Amazon Resource Name (ARN) of the cluster that hosts the container instances you want to describe. Defaults to `default`.",
            "example": "default",
            "type": "string"
          },
          "tasks": {
            "description": "Task UUIDs or full Amazon Resource Name (ARN) entries.",
            "example": [
              "98950f3c-7347-4249-99cb-168832a1b8f2"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "failures": [],
              "tasks": [
                {
                  "clusterArn": "arn:aws:ecs:us-west-2:575431834730:cluster/default",
                  "containerInstanceArn": "arn:aws:ecs:us-west-2:575431834730:container-instance/98950f3c-7347-4249-99cb-168832a1b8f2",
                  "containers": [
                    {
                      "containerArn": "arn:aws:ecs:us-west-2:575431834730:container/7a335481-599e-4a97-8032-161f9e19b26f",
                      "lastStatus": "RUNNING",
                      "name": "preview",
                      "networkBindings": [
                        {
                          "bindIP": "0.0.0.0",
                          "containerPort": 1337,
                          "hostPort": 49157
                        }
                      ],
                      "taskArn": "arn:aws:ecs:us-west-2:575431834730:task/903ba554-510a-4565-99bc-f70c3b2edaed"
                    }
                  ],
                  "desiredStatus": "RUNNING",
                  "lastStatus": "RUNNING",
                  "overrides": {
                    "containerOverrides": [
                      {
                        "name": "preview"
                      }
                    ]
                  },
                  "taskArn": "arn:aws:ecs:us-west-2:575431834730:task/903ba554-510a-4565-99bc-f70c3b2edaed",
                  "taskDefinitionArn": "arn:aws:ecs:us-west-2:575431834730:task-definition/particlebanana-2Factor:1"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      cluster: inputs.cluster || 'default',\n      tasks: inputs.tasks\n    };\n\n    ecs.describeTasks(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-describe-tasks",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-describe-tasks",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 213,
        "createdAt": "2015-03-15T03:49:46.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      },
      {
        "identity": "ecs-describe-task-definition",
        "variableName": "ecsDescribeTaskDefinition",
        "friendlyName": "Describe ECS task definition",
        "cacheable": null,
        "sync": null,
        "description": "Describe an ECS task definition ",
        "inputs": {
          "accessKeyId": {
            "description": "AWS IAM user access key id.",
            "example": "akid",
            "required": true,
            "type": "string"
          },
          "secretAccessKey": {
            "description": "AWS IAM user secret access key",
            "example": "secret",
            "required": true,
            "type": "string"
          },
          "region": {
            "description": "Which region to use. Defaults to us-west-2",
            "example": "us-west-2",
            "type": "string"
          },
          "apiVersion": {
            "description": "Which api version to use. Defaults to: latest",
            "example": "2014-11-13",
            "type": "string"
          },
          "taskDefinition": {
            "description": "The ECS task definition describe",
            "example": "arn:aws:ecs:us-west-2:595131534720:task-definition/my-cool-task",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "taskDefinition": {
                "containerDefinitions": [
                  {
                    "cpu": 1,
                    "environment": [
                      {
                        "name": "ENV_VAR",
                        "value": "some value"
                      }
                    ],
                    "essential": true,
                    "image": "myDockerImage",
                    "memory": 256,
                    "mountPoints": [],
                    "name": "microservices",
                    "portMappings": [
                      {
                        "containerPort": 1337,
                        "hostPort": 0
                      }
                    ],
                    "volumesFrom": []
                  }
                ],
                "family": "my-cool-task",
                "revision": 1,
                "taskDefinitionArn": "arn:aws:ecs:us-west-2:595131534720:task-definition/my-cool-task",
                "volumes": []
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var AWS = require('aws-sdk');\n\n    var config = {\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey,\n      region: inputs.region || 'us-west-2',\n      apiVersion: inputs.apiVersion || 'latest'\n    };\n\n    // Construct the ECS Service\n    var ecs = new AWS.ECS(config);\n\n    var params = {\n      taskDefinition: inputs.taskDefinition\n    };\n\n    ecs.describeTaskDefinition(params, function(err, data) {\n      if(err) {\n        return exits.error(err);\n      }\n\n      exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-aws/ecs-describe-task-definition",
        "docsUrl": "http://node-machine.org/machinepack-aws/ecs-describe-task-definition",
        "defaultExit": "success",
        "machinepack": 52,
        "id": 404,
        "createdAt": "2015-04-29T17:09:44.000Z",
        "updatedAt": "2015-06-30T23:19:40.000Z"
      }
    ],
    "identity": "machinepack-aws",
    "version": "0.3.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Aws",
    "friendlyName": "Aws",
    "description": "SDK for working with the AWS api's",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-aws",
    "docsUrl": "http://node-machine.org/machinepack-aws",
    "npmUrl": "http://npmjs.org/package/machinepack-aws",
    "npmPackageName": "machinepack-aws",
    "githubUrl": "http://github.com/particlebanana/machinepack-aws/",
    "sourceUrl": "http://github.com/particlebanana/machinepack-aws/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "aws-sdk",
        "semverRange": "^2.1.17"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 52,
    "createdAt": "2015-03-14T23:19:40.000Z",
    "updatedAt": "2015-06-30T23:19:40.000Z",
    "numMachines": 9
  },
  {
    "machines": [
      {
        "identity": "upload-to-s3",
        "variableName": "uploadToS3",
        "friendlyName": "Upload to S3",
        "cacheable": null,
        "sync": true,
        "description": "Upload an object to S3.",
        "inputs": {
          "bucket": {
            "example": "my_s3_bucket",
            "description": "Name of the AWS S3 Bucket you wish to upload this file to..",
            "required": true,
            "type": "string"
          },
          "path": {
            "example": "myfile.jpg",
            "description": "Bucket key to upload to (E.G /images/myfile.jpg)",
            "required": true,
            "type": "string"
          },
          "acl": {
            "example": "public-read",
            "description": "Access Control List: Who should be able to read/write your uploaded file? - You can find a list of options on docs.aws.amazon.com.",
            "required": true,
            "type": "string"
          },
          "upload": {
            "example": "/path/to/file",
            "description": "The path to the file you wish to upload.",
            "required": true,
            "type": "string"
          },
          "secret_key": {
            "example": "abc1234cged",
            "description": "Your AWS secret access key",
            "required": true,
            "type": "string"
          },
          "access_key": {
            "example": "abc1234cge2424ded",
            "description": "Your AWS access key ID.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "errorcode": "The following error occured:",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "fileURL": "https://my-bucket.s3.amazonaws.com/path/123456789-ab340-43rkf.txt"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Require NPM package S3\n    var s3 = require('s3');\n\n    // Create an upload client, with all the specified settings. \n    var client = s3.createClient({\n          maxAsyncS3: 20,     \n          s3RetryCount: 3,    \n          s3RetryDelay: 1000,  \n          multipartUploadThreshold: 20971520, \n          multipartUploadSize: 15728640, \n          s3Options: {\n              accessKeyId: inputs.access_key,\n              secretAccessKey: inputs.secret_key,\n\n          },\n        });\n\n  var params = {\n      localFile: inputs.upload,\n\n\n      s3Params: {\n        Bucket: inputs.bucket,\n        Key: inputs.path,\n        ACL: inputs.acl,\n\n      },\n      };\n\n\n    var uploader = client.uploadFile(params);\n\n      uploader.on('error', function(err) {\n       return exits.error({\n        description: '',\n        errorcode: err.stack\n       })\n      });\n      uploader.on('progress', function() {\n            console.log(\"progress\", uploader.progressMd5Amount,\n            uploader.progressAmount, uploader.progressTotal);\n    });\n\n      uploader.on('end', function() {\n        return exits.success({\n          fileURL: \"https://s3.amazonaws.com/\" + inputs.bucket + \"/\" + inputs.path\n        })\n      });\n\n  ",
        "environment": [],
        "extendedDescription": "This allows you to upload a file to S3. If you require additional functionality, please open an Issue on the Github page.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-awss3tools/upload-to-s3",
        "docsUrl": "http://node-machine.org/machinepack-awss3tools/upload-to-s3",
        "defaultExit": "success",
        "machinepack": 160,
        "id": 703,
        "createdAt": "2016-02-24T19:49:38.000Z",
        "updatedAt": "2016-02-24T19:49:38.000Z"
      }
    ],
    "identity": "machinepack-awss3tools",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2016-02-24T00:00:00.000Z",
    "variableName": "AWSS3Tools",
    "friendlyName": "AWS S3 Tools",
    "description": "Upload files to S3 buckets and more with Treeline.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-awss3tools",
    "docsUrl": "http://node-machine.org/machinepack-awss3tools",
    "npmUrl": "http://npmjs.org/package/machinepack-awss3tools",
    "npmPackageName": "machinepack-awss3tools",
    "githubUrl": "http://github.com/nilefrater/machinepack-awss3tools/",
    "sourceUrl": "http://github.com/nilefrater/machinepack-awss3tools/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "aws-sdk",
        "semverRange": "^2.2.38"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "s3",
        "semverRange": "^4.4.0"
      }
    ],
    "contributors": [
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 160,
    "createdAt": "2016-02-24T19:49:38.000Z",
    "updatedAt": "2016-02-24T19:49:38.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "list-images",
        "variableName": "listImages",
        "friendlyName": "List images",
        "cacheable": null,
        "sync": null,
        "description": "List all the virtual machine images available to a particular account.",
        "inputs": {
          "subscriptionId": {
            "friendlyName": "Subscription ID",
            "description": "Your Windows Azure subscription id",
            "example": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx",
            "whereToGet": {
              "url": "https://account.windowsazure.com/Subscriptions/Statement?subscriptionId=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx"
            },
            "required": true,
            "type": "string"
          },
          "certificate": {
            "friendlyName": "Management certificate",
            "description": "The string contents of a management certificate (.pem file) associated with your Azure account",
            "example": "-----BEGIN CERTIFICATE-----\nxxxxxxxxxxxx\nxxxxxxxxxxxx\nxxxxxxxxxxxx\n........\nxxxxxxxxxxxx\n-----END CERTIFICATE-----",
            "whereToGet": {
              "description": "Download or generate the `.pem` certificate file associated with your Azure account.",
              "extendedDescription": "For info on generating a new certificate file, see http://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-use-ssh-key/.  An easy way to grab your existing certificate file is to install the Azure CLI tool with `sudo npm install -g azure-cli` (https://github.com/Azure/azure-xplat-cli) and run `azure account cert export`.  To make the command-line tool work, you'll need to follow the directions to set up an organizational account here: http://azure.microsoft.com/en-us/documentation/articles/xplat-cli/.  Note that the uploaded certificate is in `.cer` format, but you should use the `.pem` version here.",
              "url": "https://github.com/Azure/azure-sdk-for-node/tree/master/lib/services/computeManagement#authentication"
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "forbidden": {
            "description": "The provided subscription id and/or certificate are invalid, incorrect, or do not correspond to the same Azure account.",
            "extendedDescription": "The server failed to authenticate the request. Verify that the certificate is valid and is associated with this subscription."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var AzureCompute = require('azure-mgmt-compute');\n\n    var azureClient = AzureCompute.createComputeManagementClient(AzureCompute.createCertificateCloudCredentials({\n      subscriptionId: inputs.subscriptionId,\n      pem: inputs.certificate\n    }));\n\n    azureClient.virtualMachineOSImages.list(function (err, result) {\n      if (err) {\n        if (!_.isObject(err)) return exits.error(err);\n        if (err.code === 'ForbiddenError') {\n          return exits.forbidden(err);\n        }\n        // console.log(err.code,err.type,err.name,err);\n        return exits.error(err);\n      }\n\n      return exits.success(result);\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/list-images",
        "docsUrl": "http://node-machine.org/machinepack-azure/list-images",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 146,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "register-azure-account",
        "variableName": "registerAzureAccount",
        "friendlyName": "Register Azure Account",
        "cacheable": null,
        "sync": null,
        "description": "Launches default browser to download default .publishsettings",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var readline = require('readline');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout\n    });\n\n    var command;\n\n    command = 'node ' + cliPath + ' account download ';\n\n    child_process.exec(command, function (err, stdout) {\n\n      if(err){\n        return exits.error(err);\n      }\n      rl.question(\"Please enter the location of your .publishsettings file: \", function(answer) {\n\n        var fs = require('fs');\n\n        if(!fs.existsSync(answer)){\n          return exits.success('file: ' + answer + ' does not exist!');\n        }\n\n        //close the interface\n        rl.close();\n\n        //import the the interface\n        var command = 'node ' + cliPath + ' account import ' + answer;\n        console.log('command:',command);\n        child_process.exec(command, function (err, stdout) {\n\n          if(err){\n            return exits.error(err);\n          }\n\n          return exits.success(stdout);\n        });\n\n      });\n    });\n  ",
        "environment": null,
        "extendedDescription": "The user downloads the publish settings file from the browser and specifies its location to the machine",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/register-azure-account",
        "docsUrl": "http://node-machine.org/machinepack-azure/register-azure-account",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 147,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "set-azure-account",
        "variableName": "setAzureAccount",
        "friendlyName": "Set Azure Account",
        "cacheable": null,
        "sync": null,
        "description": "Sets the active azure subscription",
        "inputs": {
          "subNameOrId": {
            "description": "The subscription id or name to set as active",
            "example": "johndoe",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var child_process = require('child_process');\n    var inquirer = require('inquirer');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    \n    var command = 'node ' + cliPath + ' account set ' + inputs.subNameOrId;\n\n    child_process.exec(command, function(err, stdout){\n\n      if(err){\n        return exits.error(err);\n      }\n\n      return exits.success();\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/set-azure-account",
        "docsUrl": "http://node-machine.org/machinepack-azure/set-azure-account",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 148,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "check-active-subscription",
        "variableName": "checkActiveSubscription",
        "friendlyName": "Check Active Subscription",
        "cacheable": null,
        "sync": null,
        "description": "Detects if there is an active azure subscription",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var command;\n\n    command = 'node ' + cliPath + ' account list ';\n    child_process.exec(command, function (err, stdout) {\n\n      if(err){\n        return exits.error(err);\n      }\n\n      if(stdout.indexOf('  true') > -1){\n        return exits.success(true);\n      }\n      else{\n        return exits.success(false);\n      }\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/check-active-subscription",
        "docsUrl": "http://node-machine.org/machinepack-azure/check-active-subscription",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 149,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "create-website",
        "variableName": "createWebsite",
        "friendlyName": "Create Website",
        "cacheable": null,
        "sync": null,
        "description": "Creates an Azure Website Instance",
        "inputs": {
          "name": {
            "description": "The name for the website",
            "example": "mywebsite",
            "required": false,
            "type": "string"
          },
          "location": {
            "description": "The Azure datacenter for the website",
            "example": "West US",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require('lodash');\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var uuid = require('uuid');\n    var defaults, command;\n\n    defaults = {\n      name: uuid.v4(),\n      location: 'West US',\n    };\n\n    _.defaults(inputs, defaults);\n\n    command = 'node ' + cliPath + ' site create --location \"' + inputs.location + '\" \"' + inputs.name + '\"';\n\n    child_process.exec(command, function (err, stdout) {\n      if (err) {\n          return exits.error(err);\n      }\n      return exits.success(stdout);\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/create-website",
        "docsUrl": "http://node-machine.org/machinepack-azure/create-website",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 150,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "exists-website",
        "variableName": "existsWebsite",
        "friendlyName": "Check if Website exists",
        "cacheable": null,
        "sync": null,
        "description": "Detects if a website with a given name exists in the currently selected account",
        "inputs": {
          "name": {
            "description": "The name of the website that will be checked for",
            "example": "mywebsitename",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var _ = require('lodash');\n    var command = 'node ' + cliPath + ' site list --json';\n    \n    child_process.exec(command, function (err, stdout) {\n\n      if(err){\n        return exits.error(err);\n      }\n\n      var listedSites = JSON.parse(stdout);\n      var search = _.findWhere(listedSites, {'name': inputs.name})\n\n      if(search){\n        return exits.success(true);\n      }\n      else{\n        return exits.success(false);\n      }\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/exists-website",
        "docsUrl": "http://node-machine.org/machinepack-azure/exists-website",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 151,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "upload-webjob",
        "variableName": "uploadWebjob",
        "friendlyName": "Upload Webjob",
        "cacheable": null,
        "sync": null,
        "description": "Uploads a webjob to a given website, overwriting if it already exists.",
        "inputs": {
          "deploymentUser": {
            "description": "The deployment username for the website",
            "example": "johndoe",
            "required": true,
            "type": "string"
          },
          "deploymentPassword": {
            "description": "The deployment password for the website",
            "example": "p@ssw0rd",
            "required": true,
            "type": "string"
          },
          "fileLocation": {
            "description": "The path to the script that should be uploaded",
            "example": "/mypath/myscript.sh",
            "required": true,
            "type": "string"
          },
          "website": {
            "description": "The name of the website the file should be uploaded to",
            "example": "mysite",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var _ = require('lodash');\n    var request = require('request');\n    var fs = require('fs');\n\n    var checkForError = function (response) {\n      response = (response[0] && response[0].headers) ? response[0] : response;\n\n      if (response.headers && response.headers['content-type'] && response.headers['content-type'] === 'text/html') {\n        // 'Azure returned text/html (which it shouldn't), checking for errors\n        if (response.body && response.body.indexOf('401 - Unauthorized') > -1) {\n          return 'Invalid Credentials: The Azure Website rejected the given username or password.';\n        }\n      }\n\n      return false;\n    }\n\n    var n = (/^win/.test(process.platform)) ? inputs.fileLocation.lastIndexOf('\\\\') : inputs.fileLocation.lastIndexOf('/');\n    var jobName = (n > -1) ? inputs.fileLocation.substring(n + 1) : inputs.fileLocation;\n    var fileStream = fs.createReadStream(inputs.fileLocation);\n    var targetUrl = 'https://' + inputs.website + '.scm.azurewebsites.net/api/triggeredwebjobs/' + jobName;\n\n    request.del(targetUrl, {\n      'auth': {\n        'user': inputs.deploymentUser,\n        'pass': inputs.deploymentPassword\n      }\n    }, function (err) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      fileStream.pipe(request.put(targetUrl, {\n          'auth': {\n            'user': inputs.deploymentUser,\n            'pass': inputs.deploymentPassword\n          },\n          'headers': {\n            'Content-Disposition': 'attachment; filename=' + jobName\n          }\n        },\n        function (err, result) {\n          if (err) {\n            return exits.error(err);\n          }\n\n          errorCheck = checkForError(result);\n          if (errorCheck) {\n            return exits.error(errorCheck);\n          }\n\n          return exits.success('Done');\n        }));\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/upload-webjob",
        "docsUrl": "http://node-machine.org/machinepack-azure/upload-webjob",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 152,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "trigger-webjob",
        "variableName": "triggerWebjob",
        "friendlyName": "Trigger Webjob",
        "cacheable": null,
        "sync": null,
        "description": "Triggers a webjob on a given website.",
        "inputs": {
          "deploymentUser": {
            "description": "The deployment username for the website",
            "example": "johndoe",
            "required": true,
            "type": "string"
          },
          "deploymentPassword": {
            "description": "The deployment password for the website",
            "example": "p@ssw0rd",
            "required": true,
            "type": "string"
          },
          "name": {
            "description": "The name of the script that should be triggered",
            "example": "myscript.ps1",
            "required": true,
            "type": "string"
          },
          "website": {
            "description": "The name of the website the script should be triggered on",
            "example": "mysite",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var _ = require('lodash');\n    var request = require('request');\n\n    var checkForError = function (response) {\n      response = (response[0] && response[0].headers) ? response[0] : response;\n\n      if (response.headers && response.headers['content-type'] && response.headers['content-type'] === 'text/html') {\n        // 'Azure returned text/html (which it shouldn't), checking for errors\n        if (response.body && response.body.indexOf('401 - Unauthorized') > -1) {\n          return 'Invalid Credentials: The Azure Website rejected the given username or password.';\n        }\n      }\n\n      return false;\n    }\n\n    var targetUrl = 'https://' + inputs.website + '.scm.azurewebsites.net/api/triggeredwebjobs/' + inputs.name + '/run';\n\n    request.post(targetUrl, {\n      'auth': {\n        'user': inputs.deploymentUser,\n        'pass': inputs.deploymentPassword\n      }\n    },\n    function (err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      errorCheck = checkForError(result);\n      if (errorCheck) {\n        return exits.error(errorCheck);\n      }\n\n      return exits.success(result);\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/trigger-webjob",
        "docsUrl": "http://node-machine.org/machinepack-azure/trigger-webjob",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 153,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "info-webjob",
        "variableName": "infoWebjob",
        "friendlyName": "Info Webjob",
        "cacheable": null,
        "sync": null,
        "description": "Gets the latest info about a webjob on a given website.",
        "inputs": {
          "deploymentUser": {
            "description": "The deployment username for the website",
            "example": "johndoe",
            "required": true,
            "type": "string"
          },
          "deploymentPassword": {
            "description": "The deployment password for the website",
            "example": "p@ssw0rd",
            "required": true,
            "type": "string"
          },
          "name": {
            "description": "The name of the script for which info should be requested",
            "example": "myscript.ps1",
            "required": true,
            "type": "string"
          },
          "website": {
            "description": "The name of the website the script lives on",
            "example": "mysite",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var _ = require('lodash');\n    var request = require('request');\n\n    var checkForError = function (response) {\n      response = (response[0] && response[0].headers) ? response[0] : response;\n\n      if (response.headers && response.headers['content-type'] && response.headers['content-type'] === 'text/html') {\n        // 'Azure returned text/html (which it shouldn't), checking for errors\n        if (response.body && response.body.indexOf('401 - Unauthorized') > -1) {\n          return 'Invalid Credentials: The Azure Website rejected the given username or password.';\n        }\n      }\n\n      return false;\n    }\n\n    var targetUrl = 'https://' + inputs.website + '.scm.azurewebsites.net/api/triggeredwebjobs/' + inputs.name;\n\n    request.get(targetUrl, {\n      'auth': {\n        'user': inputs.deploymentUser,\n        'pass': inputs.deploymentPassword\n      },\n    },\n    function (err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      errorCheck = checkForError(result);\n      if (errorCheck) {\n        return exits.error(errorCheck);\n      }\n\n      return exits.success(result);\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/info-webjob",
        "docsUrl": "http://node-machine.org/machinepack-azure/info-webjob",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 154,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "log-webjob",
        "variableName": "logWebjob",
        "friendlyName": "Latest Log Webjob",
        "cacheable": null,
        "sync": null,
        "description": "Gets the latest log from a webjob on a given website.",
        "inputs": {
          "deploymentUser": {
            "description": "The deployment username for the website",
            "example": "johndoe",
            "required": true,
            "type": "string"
          },
          "deploymentPassword": {
            "description": "The deployment password for the website",
            "example": "p@ssw0rd",
            "required": true,
            "type": "string"
          },
          "name": {
            "description": "The name of the script for which info should be requested",
            "example": "myscript.ps1",
            "required": true,
            "type": "string"
          },
          "website": {
            "description": "The name of the website the script lives on",
            "example": "mysite",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var _ = require('lodash');\n    var request = require('request');\n\n    var checkForError = function (response) {\n      response = (response[0] && response[0].headers) ? response[0] : response;\n\n      if (response.headers && response.headers['content-type'] && response.headers['content-type'] === 'text/html') {\n        // 'Azure returned text/html (which it shouldn't), checking for errors\n        if (response.body && response.body.indexOf('401 - Unauthorized') > -1) {\n          return 'Invalid Credentials: The Azure Website rejected the given username or password.';\n        }\n      }\n\n      return false;\n    }\n\n    var targetUrl = 'https://' + inputs.website + '.scm.azurewebsites.net/api/triggeredwebjobs/' + inputs.name;\n\n    request.get(targetUrl, {\n      'auth': {\n        'user': inputs.deploymentUser,\n        'pass': inputs.deploymentPassword\n      },\n    },\n    function (err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      errorCheck = checkForError(result);\n      if (errorCheck) {\n        return exits.error(errorCheck);\n      }\n\n      var responseBody, updaterScriptLog, updaterScriptRunning;\n\n      if (result && result.statusCode === 200) {\n        responseBody = JSON.parse(result.body);\n        updaterScriptLog = (responseBody.latest_run && responseBody.latest_run.output_url) ? responseBody.latest_run.output_url : '';\n        updaterScriptRunning = (updaterScriptLog) ? true : false;\n      } else {\n        return exits.error('No 200, got %d and body: %s', result.statusCode, result.body);\n      }\n\n      request.get(updaterScriptLog, {\n        'auth': {\n          'user': inputs.deploymentUser,\n          'pass': inputs.deploymentPassword\n        },\n      },\n      function (err, result) {\n        if (err) {\n          return exits.error(err);\n        }\n\n        errorCheck = checkForError(result);\n        if (errorCheck) {\n          return exits.error(errorCheck);\n        }\n\n        return exits.success(result);\n      });\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/log-webjob",
        "docsUrl": "http://node-machine.org/machinepack-azure/log-webjob",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 155,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "upload-file",
        "variableName": "uploadFile",
        "friendlyName": "Upload File",
        "cacheable": null,
        "sync": null,
        "description": "Uploads a file to a given website, overwriting if it already exists.",
        "inputs": {
          "deploymentUser": {
            "description": "The deployment username for the website",
            "example": "johndoe",
            "required": true,
            "type": "string"
          },
          "deploymentPassword": {
            "description": "The deployment password for the website",
            "example": "p@ssw0rd",
            "required": true,
            "type": "string"
          },
          "fileLocation": {
            "description": "The path to the file that should be uploaded",
            "example": "",
            "required": true,
            "type": "string"
          },
          "remotePath": {
            "description": "The path the file should be uploaded to, including the filename",
            "example": "/site/wwwroot/myfile.zip",
            "required": true,
            "type": "string"
          },
          "website": {
            "description": "The name of the website the file should be uploaded to",
            "example": "mysite",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var child_process = require('child_process');\n    var readline = require('readline');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var _ = require('lodash');\n    var request = require('request');\n    var fs = require('fs');\n\n    var checkForError = function (response) {\n      response = (response[0] && response[0].headers) ? response[0] : response;\n\n      if (response.headers && response.headers['content-type'] && response.headers['content-type'] === 'text/html') {\n        // 'Azure returned text/html (which it shouldn't), checking for errors\n        if (response.body && response.body.indexOf('401 - Unauthorized') > -1) {\n          return 'Invalid Credentials: The Azure Website rejected the given username or password.';\n        }\n      }\n\n      return false;\n    }\n\n    var fileStream = fs.createReadStream(inputs.fileLocation);\n    var targetUrl = 'https://' + inputs.website + '.scm.azurewebsites.net/api/vfs/' + inputs.remotePath;\n\n    request.del(targetUrl, {\n      'auth': {\n        'user': inputs.deploymentUser,\n        'pass': inputs.deploymentPassword\n      }\n    }, function (err) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      fileStream.pipe(request.put(targetUrl, {\n          'auth': {\n            'user': inputs.deploymentUser,\n            'pass': inputs.deploymentPassword\n          }\n        },\n        function (err, result) {\n          if (err) {\n            return exits.error(err);\n          }\n\n          errorCheck = checkForError(result);\n          if (errorCheck) {\n            return exits.error(errorCheck);\n          }\n\n          return exits.success('Done');\n        }));\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/upload-file",
        "docsUrl": "http://node-machine.org/machinepack-azure/upload-file",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 156,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "set-deploy-credentials",
        "variableName": "setDeployCredentials",
        "friendlyName": "Sets Site Deployment Credentials",
        "cacheable": null,
        "sync": null,
        "description": "Sets the deployment credentials of an Azure website",
        "inputs": {
          "deploymentUser": {
            "description": "The Name of the User",
            "example": "johndoe",
            "required": true,
            "type": "string"
          },
          "deploymentPassword": {
            "description": "The deployment password",
            "example": "p@ssword",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var child_process = require('child_process');\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n\n    var command = 'node ' + cliPath + ' site deployment user set ' + inputs.deploymentUser + ' ' + inputs.deploymentPassword;\n    child_process.exec(command, function (err, stdout) {\n\n      if(err){\n        return exits.error(err);\n      }\n\n      return exits.success();\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/set-deploy-credentials",
        "docsUrl": "http://node-machine.org/machinepack-azure/set-deploy-credentials",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 157,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      },
      {
        "identity": "list-azure-accounts",
        "variableName": "listAzureAccounts",
        "friendlyName": "Sets Site Deployment Credentials",
        "cacheable": null,
        "sync": null,
        "description": "Sets the deployment credntials of an Azure website",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var cliPath = require('path').resolve(__dirname, '../node_modules/azure-cli/bin/azure');\n    var scripty = require('azure-scripty');\n    \n    var command = {\n      cmd: 'account list'\n    };\n\n    scripty.invoke(command, function (err, subscriptions) {\n\n      if(err){\n        return exits.error(err);\n      }\n\n      var output = [];\n      for(var i in subscriptions){\n        output.push({\n          id: subscriptions[i].id,\n          name: subscriptions[i].name\n        });\n      }\n\n      return exits.success(output);\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-azure/list-azure-accounts",
        "docsUrl": "http://node-machine.org/machinepack-azure/list-azure-accounts",
        "defaultExit": "success",
        "machinepack": 37,
        "id": 158,
        "createdAt": "2015-02-26T01:39:45.000Z",
        "updatedAt": "2015-10-30T17:29:34.000Z"
      }
    ],
    "identity": "machinepack-azure",
    "version": "1.2.5",
    "latestVersionPublishedAt": "2015-10-30T00:00:00.000Z",
    "variableName": "Azure",
    "friendlyName": "Azure",
    "description": "Work with the Microsoft Azure API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-azure",
    "docsUrl": "http://node-machine.org/machinepack-azure",
    "npmUrl": "http://npmjs.org/package/machinepack-azure",
    "npmPackageName": "machinepack-azure",
    "githubUrl": "http://github.com/balderdashy/machinepack-azure/",
    "sourceUrl": "http://github.com/balderdashy/machinepack-azure/",
    "testsUrl": "https://travis-ci.org/balderdashy/machinepack-azure",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "azure-cli",
        "semverRange": "^0.8.14"
      },
      {
        "name": "azure-mgmt-compute",
        "semverRange": "^0.9.14"
      },
      {
        "name": "azure-scripty",
        "semverRange": "^1.0.1"
      },
      {
        "name": "inquirer",
        "semverRange": "^0.8.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machine",
        "semverRange": "^2.0.0"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      },
      {
        "name": "uuid",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "Felix Rieseberg",
        "email": "felix@felixrieseberg.com"
      },
      {
        "name": "Steven Edouard",
        "email": "steven.edouard1@gmail.com"
      },
      {
        "name": "Mike McNeil",
        "email": "customers@balderdash.co"
      },
      {
        "name": "felixrieseberg",
        "email": "felix@felixrieseberg.com"
      },
      {
        "name": "sedouard",
        "email": "steven.edouard1@gmail.com"
      }
    ],
    "id": 37,
    "createdAt": "2015-02-26T01:39:45.000Z",
    "updatedAt": "2015-10-30T17:29:34.000Z",
    "numMachines": 13
  },
  {
    "machines": [
      {
        "identity": "shorten-link",
        "variableName": "shortenLink",
        "friendlyName": "Shorten link",
        "cacheable": null,
        "sync": null,
        "description": "Generate a bitly URL",
        "inputs": {
          "clientId": {
            "description": "Your bitly OAuth client ID",
            "friendlyName": "Client ID",
            "example": "xyz123abcxxx",
            "required": true,
            "type": "string"
          },
          "clientSecret": {
            "description": "Your bitly OAuth client secret",
            "friendlyName": "Client Secret",
            "example": "xyz123abcxxx",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "description": "Your bitly OAuth access token",
            "friendlyName": "Access Token",
            "example": "xyz123abcxxx",
            "required": true,
            "type": "string"
          },
          "url": {
            "description": "The URL to shorten",
            "friendlyName": "URL",
            "example": "http://www.somereallylongurl.com/man/that/is/long.html",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "http://bit.ly/abc123",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var BitlyAPI = require(\"node-bitlyapi\");\n    var Bitly = new BitlyAPI({\n        client_id: inputs.clientId,\n        client_secret: inputs.clientSecret,\n    });\n    Bitly.setAccessToken(inputs.accessToken);\n    Bitly.shorten({longUrl:inputs.url}, function(err, json) {\n      try {\n        var results = JSON.parse(json);\n        if (results.status_code != 200) {return exits.error(results);}\n        if (!results.data || !results.data.url) {return exits.error(results);}\n        return exits.success(results.data.url.trim());\n      } catch (e) {\n        return exits.error(e);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Given a long URL, create a shortened link using the bitly API.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-bitly/shorten-link",
        "docsUrl": "http://node-machine.org/machinepack-bitly/shorten-link",
        "defaultExit": "success",
        "machinepack": 86,
        "id": 322,
        "createdAt": "2015-04-07T08:09:18.000Z",
        "updatedAt": "2015-07-01T00:09:46.000Z"
      }
    ],
    "identity": "machinepack-bitly",
    "version": "0.3.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Bitly",
    "friendlyName": "Bitly",
    "description": "Work with the bitly API ",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-bitly",
    "docsUrl": "http://node-machine.org/machinepack-bitly",
    "npmUrl": "http://npmjs.org/package/machinepack-bitly",
    "npmPackageName": "machinepack-bitly",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "node-bitlyapi",
        "semverRange": "^0.4.0"
      }
    ],
    "contributors": [
      {
        "name": "Scott Gress",
        "email": "sgress454@treeline.io"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      }
    ],
    "id": 86,
    "createdAt": "2015-04-07T08:09:18.000Z",
    "updatedAt": "2015-07-01T00:09:46.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "to-boolean",
        "variableName": "toBoolean",
        "friendlyName": "Convert string to boolean",
        "cacheable": null,
        "sync": true,
        "description": "Convert the given string value to a boolean.",
        "inputs": {
          "string": {
            "description": "The string to convert to a boolean.",
            "example": "foo",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Boolean",
            "outputDescription": "The value obtained by converting the input value to a boolean.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Return `true` through the `success` exit for \"true\" and \"1\".\n    if (inputs.string === 'true' || inputs.string === '1') {\n      return exits.success(true);\n    }\n    // Return `false` through the `success` exit for \"false\" and \"0\" and \"\".\n    if (inputs.string === 'false' || inputs.string === '0' || inputs.string === '') {\n      return exits.success(false);\n    }\n    // Otherwise thrown an error\n    return exits.error('The given value could not be converted to a boolean.');\n\n  ",
        "environment": [],
        "extendedDescription": "This machine specifically converts the strings 'true' and '1' to the boolean `true`, and the strings 'false', '0' and '' (the empty string) to the boolean `false`.  All other string values will trigger an error.  To simply determine whether a given string is \"truthy\", use the `Is truthy?` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/to-boolean",
        "docsUrl": "http://node-machine.org/machinepack-booleans/to-boolean",
        "defaultExit": null,
        "machinepack": 178,
        "id": 815,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-between",
        "variableName": "isBetween",
        "friendlyName": "Is between?",
        "cacheable": null,
        "sync": true,
        "description": "Check that a number is within the specified range (inclusive).",
        "inputs": {
          "value": {
            "description": "The number to check.",
            "example": 3,
            "required": true,
            "type": "number"
          },
          "min": {
            "friendlyName": "Minimum (>=)",
            "example": 1,
            "description": "The lower bound to check the number against.",
            "extendedDescription": "Must be less than or equal to the value of `Maximum`.",
            "required": true,
            "type": "number"
          },
          "max": {
            "friendlyName": "Maximum (<=)",
            "example": 4,
            "description": "The upper bound to check the number against.",
            "extendedDescription": "Must be greater than or equal to the value of `Minimum`.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is between?",
            "outputExample": true,
            "outputDescription": "A boolean indicating whether the number falls within the specified bounds.",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // If inputs are inconsistent with expectations, bail out w/ `error`.\n    if (inputs.min > inputs.max) {\n      return exits.error(new Error('The configured value of the `min` input must be <= that of `max`.'));\n    }\n\n    // Because lodash's `inRange` is only inclusive on the bottom side,\n    // we'll make it inclusive here by adding an additional check:\n    if (_.inRange(inputs.value, inputs.min, inputs.max) || (inputs.max === inputs.value)){\n      return exits.success(true);\n    }\n\n    // If the input value is outside the range, return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": "Since this is an inclusive check, this returns `true` if the given number is equal to the minimum or maximum boundary specified.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-between",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-between",
        "defaultExit": null,
        "machinepack": 178,
        "id": 816,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-defined",
        "variableName": "isDefined",
        "friendlyName": "Is defined?",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the value is defined.",
        "inputs": {
          "value": {
            "description": "The value to check.",
            "extendedDescription": "A value of any type may be provided.  If it evaluates to `undefined`, the machine will return `false`.  Otherwise it will return `true`.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is defined?",
            "outputDescription": "A boolean indicating whether the input value is defined.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If the input valid is undefined, return `false` through the `success` exit.\n    if (typeof(inputs.value) === 'undefined') {\n      return exits.success(false);\n    }\n\n    // Otherwise return `true` through the `success` exit.\n    return exits.success(true);\n  ",
        "environment": [],
        "extendedDescription": "Returns `true` for any value other than `undefined`.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-defined",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-defined",
        "defaultExit": null,
        "machinepack": 178,
        "id": 817,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-undefined",
        "variableName": "isUndefined",
        "friendlyName": "Is undefined?",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the value is undefined.",
        "inputs": {
          "value": {
            "description": "The value to check.",
            "extendedDescription": "A value of any type may be provided.  If it evaluates to `undefined`, the machine will return `true`.  Otherwise it will return `false`.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is undefined?",
            "outputDescription": "A boolean indicating whether the input value is undefined.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If the input valid is undefined, return `true` through the `success` exit.\n    if (typeof(inputs.value) === 'undefined') {\n      return exits.success(true);\n    }\n\n    // Otherwise return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": "Returns `false` for any value other than `undefined`.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-undefined",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-undefined",
        "defaultExit": null,
        "machinepack": 178,
        "id": 818,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-equal",
        "variableName": "isEqual",
        "friendlyName": "Is equal? (===)",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the first value is equivalent to the second.",
        "inputs": {
          "a": {
            "friendlyName": "First value",
            "description": "The first value to check (expected to be equal to the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Second value",
            "description": "The second value to check (expected to be equal to the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is equal?",
            "outputExample": true,
            "outputDescription": "A boolean indicating whether the first value is equal to the second.",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // If the two input values are semantically equal, return `true`\n    // through the `success` exit.\n    if (_.isEqual(inputs.a, inputs.b)) {\n      return exits.success(true);\n    }\n\n    // Otherwise return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": "Note that this machine performs a deep equality check by value.  That is, it doesn't care about memory addresses or things like that-- it's only interested in the actual semantic value of the data.  Basically, this is like what you would get if you stringified two JSON values and compared the resulting strings.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-equal",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-equal",
        "defaultExit": null,
        "machinepack": 178,
        "id": 819,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-not-equal",
        "variableName": "isNotEqual",
        "friendlyName": "Is equal? (!==)",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the first value is not equivalent to the second.",
        "inputs": {
          "a": {
            "friendlyName": "First value",
            "description": "The first value to check (expected to not be equal to the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Second value",
            "description": "The second value to check (expected to not be equal to the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is not equal?",
            "outputExample": true,
            "outputDescription": "A boolean indicating whether the first value is not equal to the second.",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // If the two input values are semantically equal, return `false`\n    // through the `success` exit.\n    if (_.isEqual(inputs.a, inputs.b)) {\n      return exits.success(false);\n    }\n\n    // Otherwise return `true` through the `success` exit.\n    return exits.success(true);\n  ",
        "environment": [],
        "extendedDescription": "Note that this machine performs a deep equality check by value.  That is, it doesn't care about memory addresses or things like that-- it's only interested in the actual semantic value of the data.  Basically, this is like what you would get if you stringified two JSON values and compared the resulting strings.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-not-equal",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-not-equal",
        "defaultExit": null,
        "machinepack": 178,
        "id": 820,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-greater-than",
        "variableName": "isGreaterThan",
        "friendlyName": "Is greater than? (>)",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the first value is greater than the second.",
        "inputs": {
          "a": {
            "friendlyName": "Greater value",
            "description": "The first value to check (expected to be greater than the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Other value",
            "description": "The second value to check (expected to be less than the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "isInclusive": {
            "friendlyName": "Inclusive? (>=)",
            "description": "Whether to return 'true' if both values are equal.",
            "defaultsTo": false,
            "example": true,
            "extendedDescription": "If set, this machine will use the >= operator for comparison.",
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is greater than?",
            "outputDescription": "A boolean indicating whether the first value is greater than (or equal to, if `Inclusive?` was set) the second.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If using the `isInclusive` flag, check whether a >= b.\n    if (inputs.isInclusive){\n\n      // If so, return `true` through the `success` exit.\n      if (inputs.a >= inputs.b) {\n        return exits.success(true);\n      }\n\n      // Otherwise, return `false` through the `success` exit.\n      return exits.success(false);\n    }\n\n    // If not using the `isInclusive` flag, check whether a > b.\n    // If so, return `true` through the `success` exit.\n    if (inputs.a > inputs.b) {\n      return exits.success(true);\n    }\n\n    // Otherwise, return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-greater-than",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-greater-than",
        "defaultExit": null,
        "machinepack": 178,
        "id": 821,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-less-than",
        "variableName": "isLessThan",
        "friendlyName": "Is less than? (>)",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the first value is less than the second.",
        "inputs": {
          "a": {
            "friendlyName": "Lesser value",
            "description": "The first value to check (expected to be less than the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Other value",
            "description": "The second value to check (expected to be less than the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "isInclusive": {
            "friendlyName": "Inclusive? (<=)",
            "description": "Whether to return 'true' if both values are equal.",
            "defaultsTo": false,
            "example": true,
            "extendedDescription": "If set, this machine will use the <= operator for comparison.",
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is less than?",
            "outputDescription": "A boolean indicating whether the first value is less than (or equal to, if `Inclusive?` was set) the second.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If using the `isInclusive` flag, check whether a <= b.\n    if (inputs.isInclusive){\n\n      // If so, return `true` through the `success` exit.\n      if (inputs.a <= inputs.b) {\n        return exits.success(true);\n      }\n\n      // Otherwise, return `false` through the `success` exit.\n      return exits.success(false);\n    }\n\n    // If not using the `isInclusive` flag, check whether a < b.\n    // If so, return `true` through the `success` exit.\n    if (inputs.a < inputs.b) {\n      return exits.success(true);\n    }\n\n    // Otherwise, return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-less-than",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-less-than",
        "defaultExit": null,
        "machinepack": 178,
        "id": 822,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-truthy",
        "variableName": "isTruthy",
        "friendlyName": "Is truthy?",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the value is \"truthy\".",
        "inputs": {
          "value": {
            "description": "The value to check.",
            "extendedDescription": "A value of any type may be provided.  If it is a truthy value, the machine will return `true`.  Otherwise it will return `false`.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is truthy?",
            "outputDescription": "A boolean indicating whether the input value is truthy.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If the input valid is truthy, return `true` through the `success` exit.\n    if (inputs.value) {\n      return exits.success(true);\n    }\n\n    // Otherwise return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": "In Javascript, all values besides 0, null, undefined, false, NaN and the empty string are \"truthy\".",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-truthy",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-truthy",
        "defaultExit": null,
        "machinepack": 178,
        "id": 823,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "is-falsy",
        "variableName": "isFalsy",
        "friendlyName": "Is falsy?",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the value is \"falsy\".",
        "inputs": {
          "value": {
            "description": "The value to check.",
            "extendedDescription": "A value of any type may be provided.  If it is a falsy value, the machine will return `true`.  Otherwise it will return `false`.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is falsy?",
            "outputDescription": "A boolean indicating whether the input value is falsy.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If the input valid is falsy, return `true` through the `success` exit.\n    if (!inputs.value) {\n      return exits.success(true);\n    }\n\n    // Otherwise return `false` through the `success` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": "In Javascript, only the values 0, null, undefined, false, NaN and the empty string are \"falsy\".",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/is-falsy",
        "docsUrl": "http://node-machine.org/machinepack-booleans/is-falsy",
        "defaultExit": null,
        "machinepack": 178,
        "id": 824,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "and",
        "variableName": "and",
        "friendlyName": "And (&&)",
        "cacheable": null,
        "sync": true,
        "description": "Get the result of performing a boolean AND operation on two values.",
        "inputs": {
          "a": {
            "friendlyName": "First value",
            "description": "The first value, which will be ANDed to the second.",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "type": "string"
          },
          "b": {
            "friendlyName": "Second value",
            "description": "The second value, which will be ANDed to the first.",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Result of AND",
            "outputDescription": "The value obtained from performing a boolean AND using the two provided inputs.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Cast the two values to booleans and AND the results,\n    // passing the final result through the `success` exit.\n    return exits.success(!!inputs.a && !!inputs.b);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/and",
        "docsUrl": "http://node-machine.org/machinepack-booleans/and",
        "defaultExit": null,
        "machinepack": 178,
        "id": 825,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "or",
        "variableName": "or",
        "friendlyName": "Or (||)",
        "cacheable": null,
        "sync": true,
        "description": "Get the result of performing a boolean OR operation on two values.",
        "inputs": {
          "a": {
            "friendlyName": "First value",
            "description": "The first value, which will be ORed to the second.",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "type": "string"
          },
          "b": {
            "friendlyName": "Second value",
            "description": "The second value, which will be ORed to the first.",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Result of OR",
            "outputDescription": "The value obtained from performing a boolean OR using the two provided inputs.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Cast the two values to booleans and OR the results,\n    // passing the final result through the `success` exit.\n    return exits.success(!!inputs.a || !!inputs.b);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/or",
        "docsUrl": "http://node-machine.org/machinepack-booleans/or",
        "defaultExit": null,
        "machinepack": 178,
        "id": 826,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      },
      {
        "identity": "not",
        "variableName": "not",
        "friendlyName": "Not (!)",
        "cacheable": null,
        "sync": true,
        "description": "Get the result of performing a boolean NOT operation on a value.",
        "inputs": {
          "value": {
            "description": "The value to be negated.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Result of NOT",
            "outputDescription": "The value obtained from performing a boolean NOT on the provided input.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Negate the value and return the result through the `success` exit.\n    return exits.success(!inputs.value);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-booleans/not",
        "docsUrl": "http://node-machine.org/machinepack-booleans/not",
        "defaultExit": null,
        "machinepack": 178,
        "id": 827,
        "createdAt": "2016-08-04T00:29:58.000Z",
        "updatedAt": "2016-08-04T00:29:58.000Z"
      }
    ],
    "identity": "machinepack-booleans",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2016-08-04T00:00:00.000Z",
    "variableName": "Booleans",
    "friendlyName": "Booleans",
    "description": "Work with true/false values and boolean operators like AND (&&), OR (||), NOT (!), and the ternary qualifier (?/:).",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-booleans",
    "docsUrl": "http://node-machine.org/machinepack-booleans",
    "npmUrl": "http://npmjs.org/package/machinepack-booleans",
    "npmPackageName": "machinepack-booleans",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^12.3.0"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 178,
    "createdAt": "2016-08-04T00:29:58.000Z",
    "updatedAt": "2016-08-04T00:29:58.000Z",
    "numMachines": 13
  },
  {
    "machines": [
      {
        "identity": "bundle",
        "variableName": "bundle",
        "friendlyName": "Bundle script",
        "cacheable": true,
        "sync": true,
        "description": "Bundle the specified script and its required dependencies into a single JavaScript file.",
        "inputs": {
          "path": {
            "description": "The absolute path to the entry point (if path is relative, will be resolved from pwd)",
            "example": "/Users/mikermcneil/.tmp/foo",
            "required": true,
            "type": "string"
          },
          "exportAs": {
            "description": "The variable name under which to expose any `module.exports` from this script; either on the `window` global, or using the semantics of another detected module system (like AMD/RequireJS).",
            "extendedDescription": "If left unspecified, nothing will be provided to `browserify` as the \"standalone\" option.",
            "example": "Whatever",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "browserifiedCode",
            "example": "((function(require){(return function (){alert(\"hi it's me\" + \n\" and i sure am messy\");\nvar x = 1+1;\n",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Browserify = require('browserify');\n\n    var opts = {};\n    if (typeof inputs.exportAs !== 'undefined') {\n      opts.standalone = inputs.exportAs;\n    }\n    var task = Browserify(opts);\n\n    // We both `add` and `require` the main entry point to ensure that\n    // relative-path requires (e.g. \"../\", \"./\", etc.) work properly.\n    task.add(inputs.path);\n    task.require(inputs.path);\n\n    // Add additional requires\n    // (see note in comments above)\n    // task.require(inputs.requires);\n\n    // Now bundle up the Node scripts into a browser-compatible JavaScript string.\n    task.bundle(function (err, buffer) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      try {\n        var javascript = buffer.toString();\n        return exits.success(javascript);\n      }\n      catch (e) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-browserify/bundle",
        "docsUrl": "http://node-machine.org/machinepack-browserify/bundle",
        "defaultExit": null,
        "machinepack": 121,
        "id": 542,
        "createdAt": "2015-05-28T15:49:44.000Z",
        "updatedAt": "2015-06-30T17:29:54.000Z"
      }
    ],
    "identity": "machinepack-browserify",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Browserify",
    "friendlyName": "Browserify",
    "description": "Use require() in the browser.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-browserify",
    "docsUrl": "http://node-machine.org/machinepack-browserify",
    "npmUrl": "http://npmjs.org/package/machinepack-browserify",
    "npmPackageName": "machinepack-browserify",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "browserify",
        "semverRange": "^10.2.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-machines",
        "semverRange": "^5.0.4"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 121,
    "createdAt": "2015-05-28T15:49:43.000Z",
    "updatedAt": "2015-06-30T17:29:54.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-number",
        "variableName": "getNumber",
        "friendlyName": "Get Number",
        "cacheable": null,
        "sync": null,
        "description": "Get company by ID",
        "inputs": {
          "organisasjonsnummer": {
            "example": 981362772,
            "description": "The \"organisasjonsnummer\" as a integer.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "unknownOrInvalidID": {
            "description": "Invalid or unknown ID."
          },
          "success": {
            "description": "OK.",
            "example": {
              "organisasjonsnummer": 981362772,
              "navn": "APPLESTORE DYBING",
              "registreringsdatoEnhetsregisteret": "1999-12-17",
              "organisasjonsform": "ENK",
              "registrertIFrivillighetsregisteret": "N",
              "registrertIMvaregisteret": "N",
              "registrertIForetaksregisteret": "N",
              "registrertIStiftelsesregisteret": "N",
              "institusjonellSektorkode": {
                "kode": "8200",
                "beskrivelse": "Personlig nÃ¦ringsdrivende"
              },
              "naeringskode1": {
                "kode": "62.010",
                "beskrivelse": "Programmeringstjenester"
              },
              "forretningsadresse": {
                "adresse": "Christies gate 34C",
                "postnummer": "0557",
                "poststed": "OSLO",
                "kommunenummer": "0301",
                "kommune": "OSLO",
                "landkode": "NO",
                "land": "Norge"
              },
              "konkurs": "N",
              "underAvvikling": "N",
              "underTvangsavviklingEllerTvangsopplosning": "N",
              "links": [
                {
                  "rel": "self",
                  "href": "http://data.brreg.no/enhetsregisteret/enhet/981362772"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n        var URL = require('url');\n        var Http = require('machinepack-http');\n\n        Http.sendHttpRequest({\n            baseUrl: 'http://data.brreg.no/enhetsregisteret/enhet/' + inputs.organisasjonsnummer + '.json',\n            url: '',\n            method: 'get',\n        }).exec({\n            // OK.\n            success: function(result) {\n                //console.log(result.body);\n\n                try {\n                    var responseBody = JSON.parse(result.body);\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the body.');\n                }\n\n                return exits.success(responseBody);\n\n            },\n            // Non-2xx status code returned from server\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 400) {\n                        return exits.unknownOrInvalidID(\"Invalid or unknown ID.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-brreg/get-number",
        "docsUrl": "http://node-machine.org/machinepack-brreg/get-number",
        "defaultExit": "success",
        "machinepack": 77,
        "id": 294,
        "createdAt": "2015-03-30T01:29:24.000Z",
        "updatedAt": "2015-03-30T01:29:24.000Z"
      },
      {
        "identity": "get-name",
        "variableName": "getName",
        "friendlyName": "Get Name",
        "cacheable": null,
        "sync": null,
        "description": "Get company by name",
        "inputs": {
          "name": {
            "example": "Applestore",
            "description": "The company name.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "unknownOrInvalidCompany": {
            "description": "Invalid or unknown company."
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "organisasjonsnummer": 981362772,
                "navn": "APPLESTORE DYBING",
                "registreringsdatoEnhetsregisteret": "1999-12-17",
                "organisasjonsform": "ENK",
                "registrertIFrivillighetsregisteret": "N",
                "registrertIMvaregisteret": "N",
                "registrertIForetaksregisteret": "N",
                "registrertIStiftelsesregisteret": "N",
                "institusjonellSektorkode": {
                  "kode": "8200",
                  "beskrivelse": "Personlig nÃ¦ringsdrivende"
                },
                "naeringskode1": {
                  "kode": "62.010",
                  "beskrivelse": "Programmeringstjenester"
                },
                "forretningsadresse": {
                  "adresse": "Christies gate 34C",
                  "postnummer": "0557",
                  "poststed": "OSLO",
                  "kommunenummer": "0301",
                  "kommune": "OSLO",
                  "landkode": "NO",
                  "land": "Norge"
                },
                "konkurs": "N",
                "underAvvikling": "N",
                "underTvangsavviklingEllerTvangsopplosning": "N",
                "links": [
                  {
                    "rel": "self",
                    "href": "http://data.brreg.no/enhetsregisteret/enhet/981362772"
                  }
                ]
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n        var URL = require('url');\n        var Http = require('machinepack-http');\n\n        Http.sendHttpRequest({\n            baseUrl: 'http://data.brreg.no/enhetsregisteret/enhet.json?page=0&size=30&$filter=startswith(navn,' + \"'\" + inputs.name + \"'\" + ')',\n            url: '',\n            method: 'get',\n        }).exec({\n            // OK.\n            success: function(result) {\n                //console.log(result);\n\n                try {\n                    var responseBody = JSON.parse(result.body);\n                    var resultParsed = responseBody.data;\n                    //console.log(responseBody.data);\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the body.');\n                }\n                console.log(resultParsed);\n                return exits.success(resultParsed);\n\n            },\n            // Non-2xx status code returned from server\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 400) {\n                        return exits.unknownOrInvalidCompany(\"Invalid or unknown company.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-brreg/get-name",
        "docsUrl": "http://node-machine.org/machinepack-brreg/get-name",
        "defaultExit": "success",
        "machinepack": 77,
        "id": 295,
        "createdAt": "2015-03-30T01:29:24.000Z",
        "updatedAt": "2015-03-30T01:29:24.000Z"
      }
    ],
    "identity": "machinepack-brreg",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-03-30T00:00:00.000Z",
    "variableName": "BRREG",
    "friendlyName": "BRREG",
    "description": "Return info about Norwegian company based on company-ID",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-brreg",
    "docsUrl": "http://node-machine.org/machinepack-brreg",
    "npmUrl": "http://npmjs.org/package/machinepack-brreg",
    "npmPackageName": "machinepack-brreg",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "cappern",
        "email": "christoffer@cappelen.org"
      }
    ],
    "id": 77,
    "createdAt": "2015-03-30T01:29:24.000Z",
    "updatedAt": "2015-03-30T01:29:24.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-cft-surveyssent",
        "variableName": "getCftSurveyssent",
        "friendlyName": "Get Cft SurveysSent",
        "cacheable": true,
        "sync": false,
        "description": "Gets all surveys sent in a specified date range",
        "inputs": {
          "userName": {
            "description": "Your username for ClientFeedbackTool, must be your email address will not work with username",
            "required": true,
            "example": "username@firm.com",
            "whereToGet": {
              "url": "https://clientfeedbacktool.com/v10",
              "description": "attempt to log in if successful use those credentials. Also check and make sure you have access to the API"
            },
            "type": "string"
          },
          "password": {
            "description": "Your clientfeedbacktool credentials",
            "required": true,
            "example": "password",
            "type": "string"
          },
          "fromDate": {
            "description": "The earliest date when you want data returned in YYYYMMDD format",
            "required": true,
            "example": "20151231",
            "type": "string"
          },
          "toDate": {
            "description": "The latest date when you want data returned in YYYYMMDD format",
            "required": true,
            "example": "20161231",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "{\"List\":[]}",
            "variableName": "result",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "InvalidPassword": {
            "description": "Your password is incorrect."
          },
          "NoAccess": {
            "description": "You do not have API access please ask your Firm Administrator to give you API Access"
          }
        },
        "fn": "    // require a few modules\n    var request = require('request');\n    var fbdata = '';\n    // Add more objects to the inputs object and set up a few defaults\n    var options = {\n      \"rejectUnauthorized\": false,\n      \"url\": \"https://clientfeedbacktool.com/api/SurveysSent/\",\n      \"method\": \"Get\",\n      \"gzip\": true,\n      \"qs\": {\n        \"output\": \"json\",\n        \"UserName\": inputs.userName,\n        \"Password\": inputs.password,\n        // Accepts 1 or 0\n        \"Flat\": 0,\n        // Dates should be in the form YYYYMMDD\n        // \"FromDate\": inputs.fromDate,\n        // \"ToDate\": inputs.toDate,\n\n        //if you only want stats\n        \"ShowStatsOnly\": 0\n\n      }\n    };\n\n    request(options)\n      .on('data', function (chunk) {\n        fbdata += chunk;\n      })\n      .on('end', function () {\n        return exits.success(JSON.parse(fbdata).List);\n      })\n      .on('error', function (err) {\n        return exits.error(e);\n      });\n\n  ",
        "environment": [],
        "extendedDescription": "There are only two required parameters Username and Password",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cft/get-cft-surveyssent",
        "docsUrl": "http://node-machine.org/machinepack-cft/get-cft-surveyssent",
        "defaultExit": "success",
        "machinepack": 155,
        "id": 692,
        "createdAt": "2016-01-19T01:59:23.000Z",
        "updatedAt": "2016-01-19T01:59:23.000Z"
      }
    ],
    "identity": "machinepack-cft",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2016-01-19T00:00:00.000Z",
    "variableName": "CFT",
    "friendlyName": "CFT",
    "description": "Communicates with ClientFeedbackTool to get feedback data",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-cft",
    "docsUrl": "http://node-machine.org/machinepack-cft",
    "npmUrl": "http://npmjs.org/package/machinepack-cft",
    "npmPackageName": "machinepack-cft",
    "githubUrl": "http://github.com/perrautc/machinepack-cft/",
    "sourceUrl": "http://github.com/perrautc/machinepack-cft/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "request",
        "semverRange": "^2.67.0"
      }
    ],
    "contributors": [
      {
        "name": "Charles Perraut",
        "email": ""
      },
      {
        "name": "perrautc",
        "email": "charles.perraut@gmail.com"
      }
    ],
    "id": 155,
    "createdAt": "2016-01-19T01:59:23.000Z",
    "updatedAt": "2016-01-19T01:59:23.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "prompt",
        "variableName": "prompt",
        "friendlyName": "Prompt",
        "cacheable": null,
        "sync": true,
        "description": "Simple prompt",
        "inputs": {
          "debug": {
            "example": true,
            "description": "debug mode",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    return exits.success(require('../lib/cli.js')(inputs));\n  ",
        "environment": [],
        "extendedDescription": "See https://github.com/wi2/machinepack-cli/blob/master/README.md",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cli/prompt",
        "docsUrl": "http://node-machine.org/machinepack-cli/prompt",
        "defaultExit": "success",
        "machinepack": 85,
        "id": 319,
        "createdAt": "2015-04-05T23:09:26.000Z",
        "updatedAt": "2015-07-14T20:39:37.000Z"
      }
    ],
    "identity": "machinepack-cli",
    "version": "0.2.4",
    "latestVersionPublishedAt": "2015-07-14T00:00:00.000Z",
    "variableName": "Cli",
    "friendlyName": "Cli",
    "description": "Simple Maker command line interface",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-cli",
    "docsUrl": "http://node-machine.org/machinepack-cli",
    "npmUrl": "http://npmjs.org/package/machinepack-cli",
    "npmPackageName": "machinepack-cli",
    "githubUrl": "http://github.com/wi2/machinepack-cli/",
    "sourceUrl": "http://github.com/wi2/machinepack-cli/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "cli-color",
        "semverRange": "^1.0.0"
      },
      {
        "name": "fs-extra",
        "semverRange": "^0.22.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.4.0"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": ""
      }
    ],
    "id": 85,
    "createdAt": "2015-04-05T23:09:26.000Z",
    "updatedAt": "2015-07-14T20:39:37.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "send-text-message",
        "variableName": "sendTextMessage",
        "friendlyName": "Send text message",
        "cacheable": false,
        "sync": false,
        "description": "Send a text message using the Clickatell SMS API",
        "inputs": {
          "user": {
            "example": "companyname",
            "description": "Your Clickatell username.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "******",
            "description": "Your Clickatell password",
            "required": true,
            "type": "string"
          },
          "api_id": {
            "example": "GJD79867",
            "description": "Your Clickatell API id.",
            "required": true,
            "type": "string"
          },
          "from": {
            "example": "2772000000",
            "description": "Sender SMS number.",
            "extendedDescription": "The number may be alphanumeric (Ex: from=MyCompany20). Restrictions may apply, depending on the destination.",
            "required": false,
            "type": "string"
          },
          "to": {
            "example": "2772000000",
            "description": "Recipient SMS number.",
            "extendedDescription": "Mobile number in international format, and one recipient per request. Ex: to=447525856424 or to=00447525856424 when sending to UK.",
            "required": true,
            "type": "string"
          },
          "text": {
            "example": "Hello world",
            "description": "Body of the text message.",
            "extendedDescription": "Maximum length of a text message is 3200 characters, UTF-8 and URL encoded value.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "example": "ERR: 101, Authentication failed",
            "isCatchall": true,
            "type": "string"
          },
          "wrongOrNoKey": {
            "description": "Invalid or unprovided API key. All calls must have a key."
          },
          "wrongOrNoCredentials": {
            "description": "Invalid username or password."
          },
          "success": {
            "description": "OK.",
            "example": "f7012c1edff2509a19ce1667c7f52b18",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var protocol = 'http';\n    var baseUrl  = protocol + '://api.clickatell.com/' + protocol;\n    var smsUrl   = baseUrl + '/sendmsg';\n\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: smsUrl,\n      url: '', \n      method: 'get',\n      params: {\n        user: inputs.user,\n        password: inputs.password, \n        api_id: inputs.api_id,\n        from: inputs.from,\n        to: inputs.to,\n        text: inputs.text\n      },\n      formData: true\n    }).exec({\n      success: function(result) {\n\n        try {\n          var responseBody = JSON.parse(result.body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n\n        return exits.success(responseBody.id);\n      },\n      forbidden: function (result){\n        try {\n          if (result.status === 403) {\n            return exits.wrongOrNoKey(\"Invalid or unprovided API key. All calls must have a key.\");\n          }\n        } catch (e) {\n          return exits.error(e);\n        } \n      },\n      unauthorized: function (result){\n        try {\n          if (result.status === 401) {\n            return exits.wrongOrNoCredentials(\"Invalid username or password\");\n          }\n        } catch (e) {\n          return exits.error(e);\n        } \n      },\n      error: function(err) {\n        exits.error(err);\n      },\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-clickatell/send-text-message",
        "docsUrl": "http://node-machine.org/machinepack-clickatell/send-text-message",
        "defaultExit": null,
        "machinepack": 175,
        "id": 805,
        "createdAt": "2016-07-13T17:29:51.000Z",
        "updatedAt": "2016-07-21T11:19:53.000Z"
      }
    ],
    "identity": "machinepack-clickatell",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2016-07-21T00:00:00.000Z",
    "variableName": "Clickatell",
    "friendlyName": "Clickatell",
    "description": "Send text messages using the Clickatell api",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-clickatell",
    "docsUrl": "http://node-machine.org/machinepack-clickatell",
    "npmUrl": "http://npmjs.org/package/machinepack-clickatell",
    "npmPackageName": "machinepack-clickatell",
    "githubUrl": "http://github.com/4dev/machinepack-clickatell/",
    "sourceUrl": "http://github.com/4dev/machinepack-clickatell/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "11.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      }
    ],
    "contributors": [
      {
        "name": "4dev",
        "email": "renier4dev@gmail.com"
      }
    ],
    "id": 175,
    "createdAt": "2016-07-13T17:29:50.000Z",
    "updatedAt": "2016-07-21T11:19:53.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "delete-dns-record",
        "variableName": "deleteDnsRecord",
        "friendlyName": "Delete DNS record",
        "cacheable": null,
        "sync": null,
        "description": "Delete a record for a domain",
        "inputs": {
          "token": {
            "example": "8afbe6dea02407989af4dd4c97bb6e25",
            "description": "The API key made available on your Cloudflare account page.",
            "required": true,
            "whereToGet": {
              "url": "https://www.cloudflare.com/my-account",
              "description": "The API key is found at the bottom of your Account page."
            },
            "type": "string"
          },
          "email": {
            "example": "sample@example.com",
            "description": "The e-mail address associated with your Cloudflare account.",
            "required": true,
            "type": "string"
          },
          "domain": {
            "example": "example.com",
            "description": "The target domain.",
            "required": true,
            "type": "string"
          },
          "recordId": {
            "example": "9001",
            "description": "The DNS record ID.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notAuthorized": {
            "description": "Authentication could not be completed."
          },
          "invalidInput": {
            "description": "Some other input was not valid."
          },
          "apiLimit": {
            "description": "You have exceeded your allowed number of API calls."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Cloudflare = require('../cloudflare.js');\n    var params = {\n      z: inputs.domain,\n      id: inputs.recordId\n    };\n\n    Cloudflare.auth(inputs.email, inputs.token).send('rec_delete', params, function (err, response, body) {\n      if (err)\n        return exits.error(err);\n\n      if (response.statusCode > 299 || response.statusCode < 200)\n        return exits.error(response.statusCode);\n\n      response = JSON.parse(response.body);\n\n      if (response.result === 'error')\n        return Cloudflare.handleError(response, exits);\n\n      return exits.success();\n    });\n\n  ",
        "environment": null,
        "extendedDescription": null,
        "moreInfoUrl": "https://www.cloudflare.com/docs/client-api.html#s5.3",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudflare/delete-dns-record",
        "docsUrl": "http://node-machine.org/machinepack-cloudflare/delete-dns-record",
        "defaultExit": "success",
        "machinepack": 41,
        "id": 170,
        "createdAt": "2015-03-03T04:20:02.000Z",
        "updatedAt": "2015-05-17T05:39:22.000Z"
      },
      {
        "identity": "add-dns-record",
        "variableName": "addDnsRecord",
        "friendlyName": "Add DNS record",
        "cacheable": null,
        "sync": null,
        "description": "Create a DNS record for a zone",
        "inputs": {
          "token": {
            "example": "8afbe6dea02407989af4dd4c97bb6e25",
            "description": "The API key made available on your Cloudflare account page.",
            "required": true,
            "whereToGet": {
              "url": "https://www.cloudflare.com/my-account",
              "description": "The API key is found at the bottom of your Account page."
            },
            "type": "string"
          },
          "email": {
            "example": "sample@example.com",
            "description": "The e-mail address associated with your Cloudflare account.",
            "required": true,
            "type": "string"
          },
          "domain": {
            "example": "example.com",
            "description": "The target domain.",
            "required": true,
            "type": "string"
          },
          "type": {
            "example": "A",
            "description": "Type of DNS record.",
            "extendedDescription": "Values include: A/CNAME/MX/TXT/SPF/AAAA/NS/SRV/LOC",
            "required": true,
            "type": "string"
          },
          "name": {
            "example": "sub",
            "description": "Name of the DNS record.",
            "required": true,
            "type": "string"
          },
          "content": {
            "example": "96.126.126.36",
            "description": "The content of the DNS record, will depend on the the type of record being added.",
            "required": true,
            "type": "string"
          },
          "ttl": {
            "example": "1",
            "description": "The TTL of record in seconds.",
            "extendedDescription": "1 = Automatic, otherwise, value must in between 120 and 86400 seconds.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notAuthorized": {
            "description": "Authentication could not be completed."
          },
          "invalidInput": {
            "description": "Some other input was not valid."
          },
          "apiLimit": {
            "description": "You have exceeded your allowed number of API calls."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "rec_id": "23734516",
              "rec_tag": "b3db8b8ad50389eb4abae7522b22852f",
              "zone_name": "example.com",
              "name": "sub.example.com",
              "display_name": "sub",
              "type": "A",
              "prio": null,
              "content": "96.126.126.36",
              "display_content": "96.126.126.36",
              "ttl": "1",
              "ttl_ceil": 86400,
              "ssl_id": "12805",
              "ssl_status": "V",
              "ssl_expires_on": null,
              "auto_ttl": 1,
              "service_mode": "0",
              "props": {
                "proxiable": 1,
                "cloud_on": 0,
                "cf_open": 1,
                "ssl": 1,
                "expired_ssl": 0,
                "expiring_ssl": 0,
                "pending_ssl": 0,
                "vanity_lock": 0
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Cloudflare = require('../cloudflare.js');\n    var params = {\n      z: inputs.domain,\n      type: inputs.type,\n      name: inputs.name,\n      content: inputs.content,\n      ttl: inputs.ttl\n    };\n\n    Cloudflare.auth(inputs.email, inputs.token).send('rec_new', params, function (err, response, body) {\n      if (err)\n        return exits.error(err);\n\n      if (response.statusCode > 299 || response.statusCode < 200)\n        return exits.error(response.statusCode);\n\n      response = JSON.parse(response.body);\n\n      if (response.result === 'error')\n        return Cloudflare.handleError(response, exits);\n\n      return exits.success(response.response.rec.obj);\n    });\n\n  ",
        "environment": null,
        "extendedDescription": null,
        "moreInfoUrl": "https://www.cloudflare.com/docs/client-api.html#s5.1",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudflare/add-dns-record",
        "docsUrl": "http://node-machine.org/machinepack-cloudflare/add-dns-record",
        "defaultExit": "success",
        "machinepack": 41,
        "id": 171,
        "createdAt": "2015-03-03T04:20:02.000Z",
        "updatedAt": "2015-05-17T05:39:22.000Z"
      },
      {
        "identity": "edit-dns-record",
        "variableName": "editDnsRecord",
        "friendlyName": "Edit DNS record",
        "cacheable": null,
        "sync": null,
        "description": "Edit a DNS record for a zone",
        "inputs": {
          "token": {
            "example": "8afbe6dea02407989af4dd4c97bb6e25",
            "description": "The API key made available on your Cloudflare account page.",
            "required": true,
            "whereToGet": {
              "url": "https://www.cloudflare.com/my-account",
              "description": "The API key is found at the bottom of your Account page."
            },
            "type": "string"
          },
          "email": {
            "example": "sample@example.com",
            "description": "The e-mail address associated with your Cloudflare account.",
            "required": true,
            "type": "string"
          },
          "domain": {
            "example": "example.com",
            "description": "The target domain.",
            "required": true,
            "type": "string"
          },
          "recordId": {
            "example": "9001",
            "description": "The DNS record ID.",
            "required": true,
            "type": "string"
          },
          "type": {
            "example": "A",
            "description": "Type of DNS record.",
            "extendedDescription": "Values include: A/CNAME/MX/TXT/SPF/AAAA/NS/SRV/LOC",
            "required": true,
            "type": "string"
          },
          "name": {
            "example": "sub",
            "description": "Name of the DNS record.",
            "required": true,
            "type": "string"
          },
          "content": {
            "example": "96.126.126.36",
            "description": "The content of the DNS record, will depend on the the type of record being added.",
            "required": true,
            "type": "string"
          },
          "ttl": {
            "example": "1",
            "description": "The TTL of record in seconds.",
            "extendedDescription": "1 = Automatic, otherwise, value must in between 120 and 86400 seconds.",
            "required": true,
            "type": "string"
          },
          "onCloudflare": {
            "example": 1,
            "description": "Status of CloudFlare Proxy.",
            "extendedDescription": "Applies to A/AAAA/CNAME.",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "notAuthorized": {
            "description": "Authentication could not be completed."
          },
          "invalidInput": {
            "description": "Some other input was not valid."
          },
          "apiLimit": {
            "description": "You have exceeded your allowed number of API calls."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "rec_id": "23734516",
              "rec_tag": "b3db8b8ad50389eb4abae7522b22852f",
              "zone_name": "example.com",
              "name": "sub.example.com",
              "display_name": "sub",
              "type": "A",
              "prio": null,
              "content": "96.126.126.36",
              "display_content": "96.126.126.36",
              "ttl": "1",
              "ttl_ceil": 86400,
              "ssl_id": "12805",
              "ssl_status": "V",
              "ssl_expires_on": null,
              "auto_ttl": 1,
              "service_mode": "0",
              "props": {
                "proxiable": 1,
                "cloud_on": 0,
                "cf_open": 1,
                "ssl": 1,
                "expired_ssl": 0,
                "expiring_ssl": 0,
                "pending_ssl": 0,
                "vanity_lock": 0
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Cloudflare = require('../cloudflare.js');\n    var params = {\n      z: inputs.domain,\n      type: inputs.type,\n      name: inputs.name,\n      id: inputs.recordId,\n      content: inputs.content,\n      ttl: inputs.ttl,\n      service_mode: inputs.onCloudflare\n    };\n\n    Cloudflare.auth(inputs.email, inputs.token).send('rec_edit', params, function (err, response, body) {\n      if (err)\n        return exits.error(err);\n\n      if (response.statusCode > 299 || response.statusCode < 200)\n        return exits.error(response.statusCode);\n\n      response = JSON.parse(response.body);\n\n      if (response.result === 'error')\n        return Cloudflare.handleError(response, exits);\n\n      return exits.success(response.response.rec.obj);\n    });\n\n  ",
        "environment": null,
        "extendedDescription": null,
        "moreInfoUrl": "https://www.cloudflare.com/docs/client-api.html#s5.2",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudflare/edit-dns-record",
        "docsUrl": "http://node-machine.org/machinepack-cloudflare/edit-dns-record",
        "defaultExit": "success",
        "machinepack": 41,
        "id": 172,
        "createdAt": "2015-03-03T04:20:02.000Z",
        "updatedAt": "2015-05-17T05:39:22.000Z"
      },
      {
        "identity": "stats",
        "variableName": "stats",
        "friendlyName": "Stats",
        "cacheable": null,
        "sync": null,
        "description": "Retrieve domain statistics for a given time frame",
        "inputs": {
          "token": {
            "example": "8afbe6dea02407989af4dd4c97bb6e25",
            "description": "The API key made available on your Cloudflare account page.",
            "required": true,
            "whereToGet": {
              "url": "https://www.cloudflare.com/my-account",
              "description": "The API key is found at the bottom of your Account page."
            },
            "type": "string"
          },
          "email": {
            "example": "sample@example.com",
            "description": "The e-mail address associated with your Cloudflare account.",
            "required": true,
            "type": "string"
          },
          "domain": {
            "example": "example.com",
            "description": "The target domain.",
            "required": true,
            "type": "string"
          },
          "interval": {
            "example": 20,
            "description": "The The time interval for the statistics.",
            "extendedDescription": "For these values, the latest data is from one day ago: 20 = Past 30 days, 30 = Past 7 days, 40 = Past day. These values are for Pro accounts: 100 = 24 hours ago, 110 = 12 hours ago, 120 = 6 hours ago.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "notAuthorized": {
            "description": "Authentication could not be completed."
          },
          "invalidInput": {
            "description": "Some other input was not valid."
          },
          "apiLimit": {
            "description": "You have exceeded your allowed number of API calls."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "timeZero": 1333051372000,
              "timeEnd": 1335643372000,
              "count": 1,
              "has_more": false,
              "objs": [
                {
                  "cachedServerTime": 1335816172000,
                  "cachedExpryTime": 1335859372000,
                  "trafficBreakdown": {
                    "pageviews": {
                      "regular": 2640,
                      "threat": 27,
                      "crawler": 4
                    },
                    "uniques": {
                      "regular": 223,
                      "threat": 16,
                      "crawler": 4
                    }
                  },
                  "bandwidthServed": {
                    "cloudflare": 78278.706054688,
                    "user": 58909.374023438
                  },
                  "requestsServed": {
                    "cloudflare": 4173,
                    "user": 3697
                  },
                  "pro_zone": false,
                  "pageLoadTime": null,
                  "currentServerTime": 1335824051000,
                  "interval": 20,
                  "zoneCDate": 1307574643000,
                  "userSecuritySetting": "Medium",
                  "dev_mode": 0,
                  "ipv46": 5,
                  "ob": 0,
                  "cache_lvl": "agg"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Cloudflare = require('../cloudflare.js');\n    var params = {\n      z: inputs.domain,\n      interval: inputs.interval\n    };\n\n    Cloudflare.auth(inputs.email, inputs.token).send('stats', params, function (err, response, body) {\n      if (err)\n        return exits.error(err);\n\n      if (response.statusCode > 299 || response.statusCode < 200)\n        return exits.error(response.statusCode);\n\n      response = JSON.parse(response.body);\n\n      if (response.result === 'error')\n        return Cloudflare.handleError(response, exits);\n\n      return exits.success(response.response.rec.obj);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://www.cloudflare.com/docs/client-api.html#s3.1",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudflare/stats",
        "docsUrl": "http://node-machine.org/machinepack-cloudflare/stats",
        "defaultExit": "success",
        "machinepack": 41,
        "id": 500,
        "createdAt": "2015-05-17T05:39:22.000Z",
        "updatedAt": "2015-05-17T05:39:22.000Z"
      }
    ],
    "identity": "machinepack-cloudflare",
    "version": "0.2.0",
    "latestVersionPublishedAt": "2015-05-17T00:00:00.000Z",
    "variableName": "Cloudflare",
    "friendlyName": "Cloudflare",
    "description": "Works with the Cloudflare API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://raw.githubusercontent.com/mybethel/machinepack-cloudflare/master/machinepack_cloudflare.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-cloudflare",
    "docsUrl": "http://node-machine.org/machinepack-cloudflare",
    "npmUrl": "http://npmjs.org/package/machinepack-cloudflare",
    "npmPackageName": "machinepack-cloudflare",
    "githubUrl": "http://github.com/mybethel/machinepack-cloudflare/",
    "sourceUrl": "http://github.com/mybethel/machinepack-cloudflare/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "querystring",
        "semverRange": "^0.2.0"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      }
    ],
    "contributors": [
      {
        "name": "bethel",
        "email": "hello@bethel.io"
      }
    ],
    "id": 41,
    "createdAt": "2015-03-03T04:20:02.000Z",
    "updatedAt": "2015-05-17T05:39:22.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "sign-cloudfront-url",
        "variableName": "signCloudfrontUrl",
        "friendlyName": "Sign CloudFront URL",
        "cacheable": null,
        "sync": null,
        "description": "Sign an Amazon CloudFront URL.",
        "inputs": {
          "keypairId": {
            "description": "Your CloudFront keypair id (i.e. \"Access Key ID\")",
            "example": "APKAJU5MWXIKYDV3YILQ",
            "whereToGet": {
              "url": "https://console.aws.amazon.com/iam/home?region=us-east-1#security_credential",
              "description": "Generate a CloudFront keypair in the AWS IAM console, then copy and paste the \"Access Key Id\""
            },
            "required": true,
            "type": "string"
          },
          "privateKey": {
            "description": "Your CloudFront private key",
            "whereToGet": {
              "url": "https://console.aws.amazon.com/iam/home?region=us-east-1#security_credential",
              "description": "Generate a CloudFront keypair in the AWS IAM console, download your private key file, then copy and paste its contents."
            },
            "example": "-----BEGIN RSA PRIVATE KEY-----\nMIIEow......\n-----END RSA PRIVATE KEY-----",
            "required": true,
            "type": "string"
          },
          "src": {
            "description": "The CloudFront URL to sign",
            "example": "http://cloudfront.net/path/to/thing.jpg",
            "required": true,
            "type": "string"
          },
          "ttl": {
            "description": "Number of miliseconds to cache the contents of the src URL on CloudFront",
            "example": 3600,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "http://cloudfront.com/blah/blah",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var signedUrl = require('aws-cloudfront-sign').getSignedUrl(inputs.src, {\n      keypairId: inputs.keypairId,\n      privateKeyString: inputs.privateKey,\n      expireTime: (new Date()).getTime() + (inputs.ttl || 24*60*60*1000)\n    });\n    return exits.success(signedUrl);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudfront/sign-cloudfront-url",
        "docsUrl": "http://node-machine.org/machinepack-cloudfront/sign-cloudfront-url",
        "defaultExit": "success",
        "machinepack": 2,
        "id": 5,
        "createdAt": "2015-02-16T23:50:55.000Z",
        "updatedAt": "2015-07-01T22:29:51.000Z"
      },
      {
        "identity": "invalidate-paths",
        "variableName": "invalidatePaths",
        "friendlyName": "Invalidate path(s)",
        "cacheable": null,
        "sync": null,
        "description": "Invalidate one or more paths within a CloudFront distribution.",
        "inputs": {
          "accessKeyId": {
            "description": "Your AWS access key id",
            "example": "BJIBJB5SF3Z5QQDJFHHX",
            "required": true,
            "whereToGet": {
              "url": "https://console.aws.amazon.com/iam/home#security_credential"
            },
            "type": "string"
          },
          "secretAccessKey": {
            "description": "Your AWS secret",
            "example": "JOpq29vhaJ2VVae2jfkN/+z9/ulqRzd",
            "required": true,
            "whereToGet": {
              "url": "https://console.aws.amazon.com/iam/home#security_credential"
            },
            "type": "string"
          },
          "region": {
            "description": "Your AWS region (defaults to \"us-east-1\")",
            "example": "us-east-1",
            "type": "string"
          },
          "distribution": {
            "description": "The unique id of the CloudFront distribution containing the paths to invalidate.",
            "example": "E672U0C5WS3M1",
            "required": true,
            "type": "string"
          },
          "paths": {
            "description": "The paths to invalidate, relative to this distribution (each one starting with a leading slash)",
            "example": [
              "/images/foobar.jpg"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidCredentials": {
            "description": "The security credentials specified as inputs are invalid."
          },
          "unknownDistribution": {
            "description": "The specified distribution does not exist."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var AmazonWebServices = require('aws-sdk');\n    AmazonWebServices.config.update({\n      region: inputs.region||'us-east-1',\n      accessKeyId: inputs.accessKeyId,\n      secretAccessKey: inputs.secretAccessKey\n    });\n\n    var CloudFront = new AmazonWebServices.CloudFront();\n\n    CloudFront.createInvalidation({\n      DistributionId: inputs.distribution,\n      InvalidationBatch: {\n        CallerReference: (new Date()).toString(),\n        Paths: {\n          Quantity: inputs.paths.length,\n          Items: inputs.paths\n        }\n      }\n    }, function(err, data) {\n      if (err) {\n        if (!_.isObject(err)) return exits.error(err);\n        console.log(err.code, err.type, err.name);\n        if (err.code === 'InvalidClientTokenId') {\n          return exits.invalidCredentials();\n        }\n        if (err.code === 'NoSuchDistribution') {\n          return exits.unknownDistribution();\n        }\n        return exits.error(err);\n      }\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "Use this machine when you want to delete objects from CloudFront, forcing it to pull fresh copies of those files from your origin server/bucket.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudfront/invalidate-paths",
        "docsUrl": "http://node-machine.org/machinepack-cloudfront/invalidate-paths",
        "defaultExit": "success",
        "machinepack": 2,
        "id": 6,
        "createdAt": "2015-02-16T23:50:55.000Z",
        "updatedAt": "2015-07-01T22:29:51.000Z"
      }
    ],
    "identity": "machinepack-cloudfront",
    "version": "0.3.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Cloudfront",
    "friendlyName": "Cloudfront",
    "description": "Node.js wrapper for AWS CloudFront.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-cloudfront",
    "docsUrl": "http://node-machine.org/machinepack-cloudfront",
    "npmUrl": "http://npmjs.org/package/machinepack-cloudfront",
    "npmPackageName": "machinepack-cloudfront",
    "githubUrl": "http://github.com/mikermcneil/machinepack-cloudfront/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-cloudfront/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "aws-cloudfront-sign",
        "semverRange": "^1.1.0"
      },
      {
        "name": "aws-sdk",
        "semverRange": "^2.1.6"
      },
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 2,
    "createdAt": "2015-02-16T23:50:55.000Z",
    "updatedAt": "2015-07-01T22:29:51.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "upload-image",
        "variableName": "uploadImage",
        "friendlyName": "Upload Image",
        "cacheable": null,
        "sync": null,
        "description": "Upload image on Cloudinary (using streams).",
        "inputs": {
          "cloudName": {
            "id": "f146b91d-fa3a-4a34-8dbf-62a344758c77",
            "friendlyName": "Cloud Name",
            "description": "Your Cloudinary cloud name key.",
            "example": "abc",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "id": "f8f2de9c-3f1e-4976-a83a-02654eeb549a",
            "friendlyName": "API Key",
            "description": "Your Cloudinary API key.",
            "example": "abcd",
            "required": true,
            "type": "string"
          },
          "apiSecret": {
            "id": "bf270f37-f916-4400-a1d6-0d5fb9debd83",
            "friendlyName": "API Secret",
            "description": "Your Cloudinary secret API key.",
            "example": "abcd",
            "required": true,
            "type": "string"
          },
          "fieldName": {
            "friendlyName": "Field Name",
            "description": "Name of the field for uploading the file. Default: file",
            "example": "/users/app/.upload/image.png",
            "required": false,
            "defaultsTo": "file",
            "type": "string"
          },
          "imageOptions": {
            "friendlyName": "Cloudinart Image Options",
            "description": "Cloudinary options for converting the image before saving it to Cloudinary (ex: crop, width, height, etc.)",
            "example": {},
            "required": false,
            "defaultsTo": {},
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "id": "success",
            "friendlyName": "then",
            "description": "OK.",
            "example": [
              {
                "public_id": "cr4mxeqx5zb8rlakpfkg",
                "version": 1372275963,
                "signature": "63bfbca643baa9c86b7d2921d776628ac83a1b6e",
                "width": 864,
                "height": 576,
                "format": "jpg",
                "resource_type": "image",
                "created_at": "2013-06-26T19:46:03Z",
                "bytes": 120253,
                "type": "upload",
                "url": "http://res.cloudinary.com/demo/image/upload/v1372275963/cr4mxeqx5zb8rlakpfkg.jpg",
                "secure_url": "https://res.cloudinary.com/demo/image/upload/v1372275963/cr4mxeqx5zb8rlakpfkg.jpg"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var cloudinary = require('cloudinary');\n    cloudinary.config({\n      cloud_name: inputs.cloudName,\n      api_key: inputs.apiKey,\n      api_secret: inputs.apiSecret\n    });\n\n    var files = [];\n    var errors = [];\n\n    function receive() {\n      var receiver__ = require('stream').Writable({ objectMode: true });\n      receiver__._write = function onFile(__newFile, _unused, done) {\n        var uploadStream = cloudinary.uploader.upload_stream(function(result) {\n          if (result && result.error) {\n            errors.push(result.error);\n            return done();\n          }\n          files.push(result);\n          done();\n        }, inputs.imageOptions);\n        uploadStream.on('error', function (err) {\n          errors.push({ message: 'Error on uploading the image, try again.' });\n          return done();\n        });\n        __newFile.pipe(uploadStream);\n      };\n      return receiver__;\n    }\n\n    var filesStream = env.req.file(inputs.fieldName);\n    filesStream.upload(receive(), function (err) {\n      if (err) return exits.error(err);\n      if (errors.length && !files.length) return exits.error(errors);\n      exits.success(files);\n    });\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudinary/upload-image",
        "docsUrl": "http://node-machine.org/machinepack-cloudinary/upload-image",
        "defaultExit": "success",
        "machinepack": 140,
        "id": 616,
        "createdAt": "2015-06-28T18:29:43.000Z",
        "updatedAt": "2015-10-07T12:19:48.000Z"
      },
      {
        "identity": "get-image-urls",
        "variableName": "getImageUrls",
        "friendlyName": "Get Image URLS",
        "cacheable": null,
        "sync": null,
        "description": "Get Image URLS from Cloudinary based on Image ID.",
        "inputs": {
          "cloudName": {
            "friendlyName": "Cloud name",
            "description": "Your Cloudinary cloud name key.",
            "example": "abc",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "friendlyName": "API Key",
            "description": "Your Cloudinary API key.",
            "example": "abcd",
            "required": true,
            "type": "string"
          },
          "apiSecret": {
            "friendlyName": "API Secret",
            "description": "Your Cloudinary secret API key.",
            "example": "abcd",
            "required": true,
            "type": "string"
          },
          "imageId": {
            "friendlyName": "Image ID",
            "description": "Image ID on Cloudinary.",
            "example": "abc",
            "required": true,
            "type": "string"
          },
          "options": {
            "id": "fb853ccc-7c4f-4492-9961-a5a3f890c8e4",
            "friendlyName": "Image options",
            "description": "Image options : http://cloudinary.com/documentation/node_image_manipulation",
            "example": {},
            "required": false,
            "defaultsTo": {},
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "id": "success",
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "http": "url",
              "https": "url"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var cloudinary = require('cloudinary');\n\n    cloudinary.config({\n      cloud_name: inputs.cloudName,\n      api_key: inputs.apiKey,\n      api_secret: inputs.apiSecret\n    });\n    inputs.options.secure = false;\n    var http = cloudinary.url(inputs.imageId, inputs.options);\n    inputs.options.secure = true;\n    var https = cloudinary.url(inputs.imageId, inputs.options);\n    exits.success({\n      http: http,\n      https: https\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudinary/get-image-urls",
        "docsUrl": "http://node-machine.org/machinepack-cloudinary/get-image-urls",
        "defaultExit": "success",
        "machinepack": 140,
        "id": 617,
        "createdAt": "2015-06-28T18:29:43.000Z",
        "updatedAt": "2015-10-07T12:19:48.000Z"
      },
      {
        "identity": "delete-image",
        "variableName": "deleteImage",
        "friendlyName": "Delete Image",
        "cacheable": null,
        "sync": null,
        "description": "Delete an image on Cloudinary.",
        "inputs": {
          "cloudName": {
            "id": "1984556d-362b-40f7-9cdc-487e22496515",
            "friendlyName": "Cloud Name",
            "description": "Your Cloudinary cloud name key.",
            "example": "abc",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "friendlyName": "API Key",
            "description": "Your Cloudinary API key.",
            "example": "abcd",
            "required": true,
            "type": "string"
          },
          "apiSecret": {
            "friendlyName": "API Secret",
            "description": "Your Cloudinary secret API key.",
            "example": "abcd",
            "required": true,
            "type": "string"
          },
          "imageId": {
            "friendlyName": "Image ID",
            "description": "Image ID on Cloudinary.",
            "example": "abc",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "id": "success",
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var cloudinary = require('cloudinary');\n\n    cloudinary.config({\n      cloud_name: inputs.cloudName,\n      api_key: inputs.apiKey,\n      api_secret: inputs.apiSecret\n    });\n    cloudinary.api.delete_resources([inputs.imageId], function(result) {\n      if (result.error)\n        return exits.error(result.error);\n      exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-cloudinary/delete-image",
        "docsUrl": "http://node-machine.org/machinepack-cloudinary/delete-image",
        "defaultExit": "success",
        "machinepack": 140,
        "id": 618,
        "createdAt": "2015-06-28T18:29:43.000Z",
        "updatedAt": "2015-10-07T12:19:48.000Z"
      }
    ],
    "identity": "machinepack-cloudinary",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-10-07T00:00:00.000Z",
    "variableName": "Cloudinary",
    "friendlyName": "Cloudinary",
    "description": "SDK for working with Cloudinary platform.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://raw.githubusercontent.com/Atinux/machinepack-cloudinary/master/cloudinary-logo.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-cloudinary",
    "docsUrl": "http://node-machine.org/machinepack-cloudinary",
    "npmUrl": "http://npmjs.org/package/machinepack-cloudinary",
    "npmPackageName": "machinepack-cloudinary",
    "githubUrl": "http://github.com/Atinux/machinepack-cloudinary/",
    "sourceUrl": "http://github.com/Atinux/machinepack-cloudinary/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "cloudinary",
        "semverRange": "^1.2.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "atinux",
        "email": ""
      }
    ],
    "id": 140,
    "createdAt": "2015-06-28T18:29:43.000Z",
    "updatedAt": "2015-10-07T12:19:48.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-buy-price",
        "variableName": "getBuyPrice",
        "friendlyName": "Get buy price",
        "cacheable": null,
        "sync": null,
        "description": "Total price to buy some amount of bitcoin.",
        "inputs": {
          "quantity": {
            "example": "10",
            "description": "The quantity of bitcoin you would like to buy (default is 1).",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "btc": {
                "amount": "1.00000000",
                "currency": "BTC"
              },
              "subtotal": {
                "amount": "10.10",
                "currency": "USD"
              },
              "fees": [
                {
                  "coinbase": {
                    "amount": "0.10",
                    "currency": "USD"
                  }
                },
                {
                  "bank": {
                    "amount": "0.15",
                    "currency": "USD"
                  }
                }
              ],
              "total": {
                "amount": "10.35",
                "currency": "USD"
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'https://coinbase.com',\n      url: '/api/v1/prices/buy',\n      method: 'get',\n      params: {\n        qty: inputs.quantity || '1'\n      }\n    }).exec({\n      success: function(httpResponse) {\n        // Parse response body and build up result.\n        var responseBody;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n\n          return exits.success(responseBody);\n        } catch (e) {\n          return exits.error('Unexpected response from the Coinbase API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "The price is broken down as follows:\n\n>btc - this is the total amount of bitcoin you would receive\n\n>subtotal - this is the current market price to buy this quantity of bitcoin, we integrate with a number of exchanges on the backend to calculate this price\n\n>fees - an array of fees you will pay if you wish to purchase at this price through Coinbase\n\n>total - the sum of the subtotal and fees, this is the total price you will pay if you wish to buy this quantity on Coinbase.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-coinbase/get-buy-price",
        "docsUrl": "http://node-machine.org/machinepack-coinbase/get-buy-price",
        "defaultExit": "success",
        "machinepack": 73,
        "id": 280,
        "createdAt": "2015-03-25T23:29:38.000Z",
        "updatedAt": "2015-03-28T15:09:26.000Z"
      },
      {
        "identity": "get-sell-price",
        "variableName": "getSellPrice",
        "friendlyName": "Get sell price",
        "cacheable": null,
        "sync": null,
        "description": "Total price to sell some amount of bitcoin.",
        "inputs": {
          "quantity": {
            "example": "10",
            "description": "The quantity of bitcoin you would like to sell (default is 1).",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "subtotal": {
                "amount": "9.90",
                "currency": "USD"
              },
              "fees": [
                {
                  "coinbase": {
                    "amount": "0.10",
                    "currency": "USD"
                  }
                },
                {
                  "bank": {
                    "amount": "0.15",
                    "currency": "USD"
                  }
                }
              ],
              "total": {
                "amount": "9.65",
                "currency": "USD"
              },
              "amount": "9.65",
              "currency": "USD"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'https://coinbase.com',\n      url: '/api/v1/prices/sell',\n      method: 'get',\n      params: {\n        qty: inputs.quantity || '1'\n      }\n    }).exec({\n      success: function(httpResponse) {\n        // Parse response body and build up result.\n        var responseBody;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n\n          return exits.success(responseBody);\n        } catch (e) {\n          return exits.error('Unexpected response from the Coinbase API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "The price is broken down as follows:\n\n>btc - this is the total amount of bitcoin you would deducted from your account\n\n>subtotal - this is the current market price to sell this quantity of bitcoin, we integrate with a number of exchanges on the backend to calculate this price\n\n>fees - an array of fees you will pay if you wish to sell at this price through Coinbase\n\n>total - the subtotal minus fees, this is the total amount you will receive if you wish to sell this quantity on Coinbase",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-coinbase/get-sell-price",
        "docsUrl": "http://node-machine.org/machinepack-coinbase/get-sell-price",
        "defaultExit": "success",
        "machinepack": 73,
        "id": 281,
        "createdAt": "2015-03-25T23:29:38.000Z",
        "updatedAt": "2015-03-28T15:09:26.000Z"
      }
    ],
    "identity": "machinepack-coinbase",
    "version": "0.1.7",
    "latestVersionPublishedAt": "2015-03-28T00:00:00.000Z",
    "variableName": "Coinbase",
    "friendlyName": "Coinbase",
    "description": "Communicate with the Coinbase API to get bitcoin index prices.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_coinbase.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-coinbase",
    "docsUrl": "http://node-machine.org/machinepack-coinbase",
    "npmUrl": "http://npmjs.org/package/machinepack-coinbase",
    "npmPackageName": "machinepack-coinbase",
    "githubUrl": "http://github.com/irlnathan/machinepack-coinbase/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-coinbase/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 73,
    "createdAt": "2015-03-25T21:49:38.000Z",
    "updatedAt": "2015-03-28T15:09:26.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-coindesk-bitcoin-price-index",
        "variableName": "getCoindeskBitcoinPriceIndex",
        "friendlyName": "Get CoinDesk Bitcoin Price Index",
        "cacheable": null,
        "sync": null,
        "description": "Display CoinDesk bitcoin price index.",
        "inputs": {
          "currency": {
            "example": "USD",
            "description": "The currency used to calculate the price of the index.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "code": "USD",
              "symbol": "&#36;",
              "rate": "244.0021",
              "description": "United States Dollar",
              "rate_float": 244.0021
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'https://api.coindesk.com',\n      url: '/v1/bpi/currentprice.json',\n      method: 'get',\n      params: {}\n    }).exec({\n      success: function(httpResponse) {\n        // Parse response body and build up result.\n        var responseBody;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n\n          console.log(responseBody);\n\n          if (inputs.currency === 'USD') {\n            return exits.success(responseBody.bpi.USD);\n          }\n\n          if (inputs.currency === 'GBP') {\n            return exits.success(responseBody.bpi.GBP);\n          }\n\n          if (inputs.currency === 'EUR') {\n            return exits.success(responseBody.bpi.EUR);\n          }\n\n          return exits.success(responseBody.bpi.USD);\n        } catch (e) {\n          return exits.error('Unexpected response from the CoinDesk API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-coindesk/get-coindesk-bitcoin-price-index",
        "docsUrl": "http://node-machine.org/machinepack-coindesk/get-coindesk-bitcoin-price-index",
        "defaultExit": "success",
        "machinepack": 4,
        "id": 10,
        "createdAt": "2015-02-16T23:50:59.000Z",
        "updatedAt": "2015-03-25T15:39:31.000Z"
      }
    ],
    "identity": "machinepack-coindesk",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-03-25T00:00:00.000Z",
    "variableName": "Coindesk",
    "friendlyName": "Coindesk",
    "description": "Communicate with the CoinDesk API to get bitcoin index prices.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_coindesk.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-coindesk",
    "docsUrl": "http://node-machine.org/machinepack-coindesk",
    "npmUrl": "http://npmjs.org/package/machinepack-coindesk",
    "npmPackageName": "machinepack-coindesk",
    "githubUrl": "http://github.com/irlnathan/machinepack-coindesk/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-coindesk/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 4,
    "createdAt": "2015-02-16T23:50:58.000Z",
    "updatedAt": "2015-03-25T15:39:31.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get",
        "variableName": "get",
        "friendlyName": "Get",
        "cacheable": false,
        "sync": null,
        "description": "Get simply a config with few json file",
        "inputs": {
          "path": {
            "typeclass": "*",
            "description": "An array of path of json file, ex : see tests/test.js",
            "required": true,
            "type": "*"
          },
          "merge": {
            "example": false,
            "description": "if false, the name of the files are the keys else it'll merge at the top",
            "required": false,
            "type": "boolean"
          },
          "nomethod": {
            "example": false,
            "description": "if true, don't attach method 'get', 'all' and some other lodash method (keys, findKeys, ...)",
            "required": false,
            "type": "boolean"
          },
          "freeze": {
            "example": false,
            "description": "if true, freeze config",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    require('../lib/helper.js')\n      .getFiles(\n        inputs.path,\n        inputs.merge||false,\n        inputs.nomethod||false,\n        inputs.freeze||false,\n        exits.success);\n  ",
        "environment": [],
        "extendedDescription": "For example, see tests/test.js (mocha tests/test.js)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-config/get",
        "docsUrl": "http://node-machine.org/machinepack-config/get",
        "defaultExit": "success",
        "machinepack": 74,
        "id": 289,
        "createdAt": "2015-03-28T21:19:36.000Z",
        "updatedAt": "2016-08-02T11:09:35.000Z"
      },
      {
        "identity": "multiple",
        "variableName": "multiple",
        "friendlyName": "Multiple",
        "cacheable": null,
        "sync": null,
        "description": "Get a multiple config with define some key",
        "inputs": {
          "schema": {
            "typeclass": "*",
            "description": "An array of of path json config (see tests/test.js)",
            "required": true,
            "type": "*"
          },
          "freeze": {
            "example": false,
            "description": "if true, freeze config",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    require('../lib/helper.js')\n      .iterate(inputs.schema, {}, inputs.freeze||false, exits.success);\n  ",
        "environment": [],
        "extendedDescription": "For example, see tests/test.js (mocha tests/test.js)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-config/multiple",
        "docsUrl": "http://node-machine.org/machinepack-config/multiple",
        "defaultExit": "success",
        "machinepack": 74,
        "id": 290,
        "createdAt": "2015-03-28T21:19:36.000Z",
        "updatedAt": "2016-08-02T11:09:35.000Z"
      },
      {
        "identity": "load",
        "variableName": "load",
        "friendlyName": "Load",
        "cacheable": null,
        "sync": null,
        "description": "Load a config of config's file...",
        "inputs": {
          "path": {
            "example": "test.json",
            "description": "A path of json config file",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var machine = require('machine');\n    var get = machine.build(require('./get'));\n    get({path:inputs.path, merge:true, nomethod: true}).exec(function(err, data){\n      if(data.multiple){\n        var multiple = machine.build(require('./multiple'));\n        multiple({schema: data.multiple}).exec(function(err, result){\n          return exits.success(result);\n        });\n      } else {\n        get(data).exec(function(err, result){\n          return exits.success(result);\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "For example, see tests/test.js (mocha tests/test.js)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-config/load",
        "docsUrl": "http://node-machine.org/machinepack-config/load",
        "defaultExit": "success",
        "machinepack": 74,
        "id": 291,
        "createdAt": "2015-03-28T21:19:36.000Z",
        "updatedAt": "2016-08-02T11:09:35.000Z"
      }
    ],
    "identity": "machinepack-config",
    "version": "0.1.7",
    "latestVersionPublishedAt": "2016-08-02T00:00:00.000Z",
    "variableName": "Config",
    "friendlyName": "Config",
    "description": "A simple load config (with multiple json, xml or csv file)",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-config",
    "docsUrl": "http://node-machine.org/machinepack-config",
    "npmUrl": "http://npmjs.org/package/machinepack-config",
    "npmPackageName": "machinepack-config",
    "githubUrl": "http://github.com/wi2/machinepack-config/",
    "sourceUrl": "http://github.com/wi2/machinepack-config/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^4.14.1"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-0"
      },
      {
        "name": "vinyl-fs",
        "semverRange": "^2.4.3"
      },
      {
        "name": "xml-parser",
        "semverRange": "^1.2.1"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": ""
      }
    ],
    "id": 74,
    "createdAt": "2015-03-28T21:19:35.000Z",
    "updatedAt": "2016-08-02T11:09:35.000Z",
    "numMachines": 3
  },
  {
    "machines": [],
    "identity": "machinepack-console",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2016-08-04T00:00:00.000Z",
    "variableName": "Console",
    "friendlyName": "Console",
    "description": "Work with the console/terminal.  Supports logging text output and reading user input via interactive prompts.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-console",
    "docsUrl": "http://node-machine.org/machinepack-console",
    "npmUrl": "http://npmjs.org/package/machinepack-console",
    "npmPackageName": "machinepack-console",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^12.3.0"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 177,
    "createdAt": "2016-08-04T00:29:55.000Z",
    "updatedAt": "2016-08-04T00:29:55.000Z",
    "numMachines": 0
  },
  {
    "machines": [
      {
        "identity": "parse-csv",
        "variableName": "parseCsv",
        "friendlyName": "Parse CSV",
        "cacheable": null,
        "sync": null,
        "description": "Parse comma-separated value data",
        "inputs": {
          "csvData": {
            "friendlyName": "CSV Data",
            "description": "A string of CSV data.",
            "example": "\"1\",\"2\",\"3\",\"4\"\n\"a\",\"b\",\"c\",\"d\"",
            "required": true,
            "type": "string"
          },
          "hasHeaderRow": {
            "friendlyName": "Has header row?",
            "description": "Indicates whether or not the data has a header row.",
            "example": true,
            "extendedDescription": "If the data has a header row, it will be ignored in the output.",
            "type": "boolean"
          },
          "schema": {
            "friendlyName": "Schema",
            "description": "Expected schema of each parsed row",
            "typeclass": "*",
            "required": true,
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "example": "Invalid closing quote at line 1",
            "isCatchall": true,
            "type": "string"
          },
          "success": {
            "description": "OK.",
            "getExample": "        return [inputs.schema];\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var parse = require('csv-parse');\n    var options = {};\n    if (inputs.hasHeaderRow) {options.columns = true;}\n    options.auto_parse = true;\n    options.ltrim = true;\n    options.rtrim = true;\n    options.skip_empty_lines = true;\n    parse(inputs.csvData, options, function(err, output) {\n      if (err) {return exits.error(err);}\n      return exits.success(output);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Given a string of CSV data, transforms it into an array of objects (if header data is provided) or an array of arrays.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-csv/parse-csv",
        "docsUrl": "http://node-machine.org/machinepack-csv/parse-csv",
        "defaultExit": "success",
        "machinepack": 78,
        "id": 297,
        "createdAt": "2015-03-30T14:19:25.000Z",
        "updatedAt": "2015-06-30T15:49:56.000Z"
      }
    ],
    "identity": "machinepack-csv",
    "version": "0.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "CSV",
    "friendlyName": "CSV",
    "description": "Work with CSV (comma-separated value) data",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-csv",
    "docsUrl": "http://node-machine.org/machinepack-csv",
    "npmUrl": "http://npmjs.org/package/machinepack-csv",
    "npmPackageName": "machinepack-csv",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "csv-parse",
        "semverRange": "^0.1.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 78,
    "createdAt": "2015-03-30T14:19:25.000Z",
    "updatedAt": "2015-06-30T15:49:56.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "timestamp",
        "variableName": "timestamp",
        "friendlyName": "Construct JS timestamp",
        "cacheable": true,
        "sync": true,
        "description": "Construct an absolute timestamp from structured date/time/timezone data.",
        "inputs": {
          "year": {
            "friendlyName": "Year",
            "description": "The four-digit year.",
            "example": 2015,
            "required": true,
            "type": "number"
          },
          "month": {
            "friendlyName": "Month",
            "description": "The month (numeric, 1-12)",
            "example": 12,
            "required": true,
            "type": "number"
          },
          "date": {
            "friendlyName": "Day",
            "description": "The day of the month (1-31)",
            "example": 25,
            "required": true,
            "type": "number"
          },
          "hour": {
            "friendlyName": "Hour",
            "description": "The hour of the day (0-23)",
            "example": 14,
            "required": true,
            "type": "number"
          },
          "minute": {
            "friendlyName": "Minute",
            "description": "The minute of the day (0-59)",
            "example": 30,
            "required": true,
            "type": "number"
          },
          "second": {
            "friendlyName": "Second",
            "description": "The second within the minute (0-59)",
            "example": 1,
            "defaultsTo": 0,
            "type": "number"
          },
          "millisecond": {
            "friendlyName": "Millisecond",
            "description": "The precise millisecond within the second (0-999)",
            "example": 1,
            "defaultsTo": 0,
            "type": "number"
          },
          "timezone": {
            "description": "A human-readable timezone name.",
            "example": "America/Chicago",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "unknownTimezone": {
            "friendlyName": "invalid timezone",
            "description": "Unrecognized timezone."
          },
          "invalidDatetime": {
            "friendlyName": "invalid date/time",
            "description": "Could not build a date/time from the provided information."
          },
          "success": {
            "variableName": "timestamp",
            "description": "OK.",
            "example": 1430856000000,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var MomentTz = require('moment-timezone');\n\n    // Validate this is a known timezone\n    // (case-insensitive)\n    var foundTimezone = _.find(MomentTz.tz.names(), function (timezoneName){\n      if (inputs.timezone.toLowerCase().match(timezoneName.toLowerCase())) {\n        return timezoneName;\n      }\n    });\n    if (!foundTimezone) {\n      return exits.unknownTimezone();\n    }\n\n\n    // Build moment date using appropriate timezone\n    var momentObj = MomentTz.tz({\n      hour: inputs.hour,\n      minute: inputs.minute,\n      second: inputs.second,\n      millisecond: inputs.millisecond,\n      day: inputs.date,\n      month: inputs.month-1,\n      year: inputs.year\n    }, foundTimezone);\n\n    if (!momentObj.isValid()) {\n      return exits.invalidDatetime();\n    }\n\n    // Extract the absolute JS timestamp\n    // (# of milliseconds since Jan 1, 1970 at midnight, GMT)\n    var jsTimestamp = momentObj.valueOf();\n\n    return exits.success(jsTimestamp);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/timestamp",
        "docsUrl": "http://node-machine.org/machinepack-datetime/timestamp",
        "defaultExit": null,
        "machinepack": 69,
        "id": 453,
        "createdAt": "2015-05-07T11:49:38.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "parse-date",
        "variableName": "parseDate",
        "friendlyName": "Parse date string",
        "cacheable": true,
        "sync": true,
        "description": "Parse a string containing a human-readable date.",
        "inputs": {
          "monthDayYear": {
            "friendlyName": "Date string",
            "description": "A string containing a human-readable date (but not a time or timezone).",
            "example": "December 25, 2015",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "date",
            "description": "OK.",
            "extendedDescription": "`year` is the full calendar year, `date` is 1-indexed, `month` is 1-indexed, and `dayOfWeek` is a string like \"Sunday\".",
            "example": {
              "month": 12,
              "date": 25,
              "year": 2015,
              "dayOfWeek": "Monday"
            },
            "isDefault": true,
            "type": "object"
          },
          "couldNotParse": {
            "friendlyName": "could not parse",
            "description": "Could not parse a date from the provided string."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Moment = require('moment');\n\n    var momentObj = Moment(Date.parse(inputs.monthDayYear));\n\n    if (!momentObj.isValid()) {\n      return exits.couldNotParse();\n    }\n\n    return exits.success({\n      month: momentObj.month()+1,\n      date: momentObj.date(),\n      year: momentObj.year(),\n      dayOfWeek: momentObj.format('dddd')\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/parse-date",
        "docsUrl": "http://node-machine.org/machinepack-datetime/parse-date",
        "defaultExit": null,
        "machinepack": 69,
        "id": 454,
        "createdAt": "2015-05-07T11:49:38.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "parse-time",
        "variableName": "parseTime",
        "friendlyName": "Parse time string",
        "cacheable": true,
        "sync": true,
        "description": "Parse a string containing a human-readable time.",
        "inputs": {
          "timeString": {
            "friendlyName": "Time string",
            "description": "A string containing a human-readable time (but not a date or timezone).",
            "example": "2:30 PM",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "time",
            "description": "OK.",
            "extendedDescription": "`hour` (0-23), `minute` (0-59), `second` (0-59), and `millisecond` (0-999) are all 0-indexed.",
            "example": {
              "hour": 14,
              "minute": 30,
              "second": 0,
              "millisecond": 0
            },
            "isDefault": true,
            "type": "object"
          },
          "couldNotParse": {
            "friendlyName": "could not parse",
            "description": "Could not parse a time from the provided string."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Moment = require('moment');\n\n    // Parse the time string as an hour of a particularly boring day\n    // and timezone (January 1, 2000 GMT) for simplicity\n    var momentObj = Moment(Date.parse('1/1/0000 ' + inputs.timeString + ' GMT-0000'));\n    momentObj.utc();\n\n    if (!momentObj.isValid()) {\n      return exits.couldNotParse();\n    }\n\n    return exits.success({\n      hour: momentObj.hour(),\n      minute: momentObj.minute(),\n      second: momentObj.second(),\n      millisecond: momentObj.millisecond()\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/parse-time",
        "docsUrl": "http://node-machine.org/machinepack-datetime/parse-time",
        "defaultExit": null,
        "machinepack": 69,
        "id": 455,
        "createdAt": "2015-05-07T11:49:38.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "stringify",
        "variableName": "stringify",
        "friendlyName": "Stringify JS timestamp",
        "cacheable": null,
        "sync": null,
        "description": "Convert a JS timestamp into conventional JSON date/time format (ISO 8601)",
        "inputs": {
          "timestamp": {
            "friendlyName": "Timestamp",
            "description": "An epoch offset (in milliseconds)",
            "moreInfoUrl": "http://momentjs.com/docs/#/parsing/unix-offset/",
            "extendedDescription": "The number of milliseconds since midnight (GMT/UTC) on January 1, 1970.",
            "example": 1318781876000,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "example": "2015-05-06T00:53:34.650Z",
            "isDefault": true,
            "type": "string"
          },
          "invalidDatetime": {
            "friendlyName": "invalid date/time/zone",
            "description": "Could not build a date/time/zone from the provided timestamp."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var MomentTz = require('moment-timezone');\n\n    // Default to current date/time/zone if no timestamp was provided.\n    inputs.timestamp = _.isUndefined(inputs.timestamp) ? (new Date()).getTime() : inputs.timestamp;\n\n    // Build moment date using appropriate timezone\n    var momentObj = MomentTz.tz(inputs.timestamp, 'Etc/Greenwich');\n    if (!momentObj.isValid()) {\n      return exits.invalidDatetime();\n    }\n\n    // Format date\n    var resultStr = momentObj.toDate().toJSON();\n    return exits.success(resultStr);\n  ",
        "environment": [],
        "extendedDescription": "If no JS timestamp is provided, the current date and time will be used.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/stringify",
        "docsUrl": "http://node-machine.org/machinepack-datetime/stringify",
        "defaultExit": null,
        "machinepack": 69,
        "id": 456,
        "createdAt": "2015-05-07T11:49:38.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "parse",
        "variableName": "parse",
        "friendlyName": "Parse JSON date/time",
        "cacheable": true,
        "sync": true,
        "description": "Parse a JSON-formatted (ISO 8601) date/time string into a JS timestamp (epoch ms).",
        "inputs": {
          "datetime": {
            "friendlyName": "JSON date",
            "description": "The JSON-formatted (ISO 8601) date/time",
            "example": "2015-05-06T00:49:45.767Z",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "invalidDatetime": {
            "friendlyName": "invalid date/time",
            "description": "Could not build a date/time from the provided information."
          },
          "success": {
            "variableName": "timestamp",
            "description": "OK.",
            "example": 1430856000000,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var MomentTz = require('moment-timezone');\n\n    // Build moment date using GMT in order to check validity\n    // (JSON-stringified datetimes are always encoded using the GMT timezone)\n    var momentObj = MomentTz.tz(Date.parse(inputs.datetime), 'Etc/Greenwich');\n    if (!momentObj.isValid()) {\n      return exits.invalidDatetime();\n    }\n\n    // Extract the absolute JS timestamp\n    // (# of milliseconds since Jan 1, 1970 at midnight, GMT)\n    var jsTimestamp = momentObj.valueOf();\n    return exits.success(jsTimestamp);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/parse",
        "docsUrl": "http://node-machine.org/machinepack-datetime/parse",
        "defaultExit": null,
        "machinepack": 69,
        "id": 457,
        "createdAt": "2015-05-07T11:49:38.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "format",
        "variableName": "format",
        "friendlyName": "Format JS timestamp",
        "cacheable": null,
        "sync": null,
        "description": "Convert a JS timestamp and timezone into a human readable date/time.",
        "inputs": {
          "timestamp": {
            "friendlyName": "Timestamp",
            "description": "An epoch offset (in milliseconds)",
            "moreInfoUrl": "http://momentjs.com/docs/#/parsing/unix-offset/",
            "extendedDescription": "The number of milliseconds since midnight (GMT/UTC) on January 1, 1970.",
            "example": 1318781876000,
            "type": "number"
          },
          "timezone": {
            "description": "A human-readable timezone name.",
            "example": "America/Chicago",
            "required": true,
            "type": "string"
          },
          "formatString": {
            "friendlyName": "Format",
            "description": "A format string that will be used to format the date",
            "extendedDescription": "YYYY represents the year, \"MM\" the month (0-11), \"DD\" the date (0-indexed), \"HH\" the hour (0-23), \"mm\" the minute (0-59), \"ss\" the second (0-59), and \"Z\" the timezone difference from GMT/UTC.",
            "whereToGet": {
              "url": "http://momentjs.com/docs/#/displaying/format",
              "description": "Full reference for date/time formatting options"
            },
            "example": "YYYY-MM-DD HH:mm:ss Z",
            "defaultsTo": "YYYY-MM-DD HH:mm:ss Z",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "example": "2011-10-16 16:17:56 +00:00",
            "isDefault": true,
            "type": "string"
          },
          "unknownTimezone": {
            "friendlyName": "invalid timezone",
            "description": "Unrecognized timezone."
          },
          "invalidDatetime": {
            "friendlyName": "invalid date/time/zone",
            "description": "Could not build a date/time/zone from the provided timestamp."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var MomentTz = require('moment-timezone');\n\n    // Default to current date/time/zone if no timestamp was provided.\n    inputs.timestamp = _.isUndefined(inputs.timestamp) ? (new Date()).getTime() : inputs.timestamp;\n\n    // Validate this is a known timezone\n    // (case-insensitive)\n    var foundTimezone = _.find(MomentTz.tz.names(), function (timezoneName){\n      if (inputs.timezone.toLowerCase().match(timezoneName.toLowerCase())) {\n        return timezoneName;\n      }\n    });\n    if (!foundTimezone) {\n      return exits.unknownTimezone();\n    }\n\n    // Build moment date using appropriate timezone\n    var momentObj = MomentTz.tz(inputs.timestamp, foundTimezone);\n    if (!momentObj.isValid()) {\n      return exits.invalidDatetime();\n    }\n\n    // Format date\n    var resultStr = momentObj.format(inputs.formatString);\n    return exits.success(resultStr);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/format",
        "docsUrl": "http://node-machine.org/machinepack-datetime/format",
        "defaultExit": null,
        "machinepack": 69,
        "id": 458,
        "createdAt": "2015-05-07T11:49:38.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "time-from",
        "variableName": "timeFrom",
        "friendlyName": "Time from...",
        "cacheable": true,
        "sync": true,
        "description": "Format a human-readable a JS timestamp (epoch ms) and timezone into a human-readable \"time from\" format (e.g. \"6 minutes ago\")",
        "inputs": {
          "toWhen": {
            "friendlyName": "To...",
            "description": "An epoch offset (in milliseconds)",
            "moreInfoUrl": "http://momentjs.com/docs/#/parsing/unix-offset/",
            "example": 1318781876000,
            "required": true,
            "type": "number"
          },
          "fromWhen": {
            "friendlyName": "From...",
            "description": "Another epoch offset (in milliseconds) to use as a reference when formatting the \"time from\" string.",
            "extendedDescription": "Defaults to current date/time",
            "moreInfoUrl": "http://momentjs.com/docs/#/parsing/unix-offset/",
            "example": 1318781870000,
            "type": "number"
          }
        },
        "exits": {
          "invalidToWhen": {
            "friendlyName": "invalid \"to\"",
            "description": "Could not build a date/time/zone from the provided \"To...\" timestamp."
          },
          "invalidFromWhen": {
            "friendlyName": "invalid \"from\"",
            "description": "Could not build a date/time/zone from the provided \"From...\" timestamp."
          },
          "success": {
            "variableName": "timeFromStr",
            "example": "6 seconds ago",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var MomentTz = require('moment-timezone');\n\n    // Build moment obj for `toWhen`\n    var toWhenObj = MomentTz.tz(new Date(inputs.toWhen), 'Etc/Greenwich');\n    if (!toWhenObj.isValid()) {\n      return exits.invalidToWhen();\n    }\n\n    // Build moment obj for `fromWhen`\n    // (default to current date/time if no `fromWhen` timestamp was provided)\n    inputs.fromWhen = (typeof inputs.fromWhen === 'undefined') ? (new Date()).getTime() : inputs.fromWhen;\n    var fromWhenObj = MomentTz.tz(new Date(inputs.fromWhen), 'Etc/Greenwich');\n    if (!fromWhenObj.isValid()) {\n      return exits.invalidFromWhen();\n    }\n\n    // Format final \"time from\" string\n    var resultStr = toWhenObj.from(fromWhenObj);\n    return exits.success(resultStr);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/time-from",
        "docsUrl": "http://node-machine.org/machinepack-datetime/time-from",
        "defaultExit": null,
        "machinepack": 69,
        "id": 512,
        "createdAt": "2015-05-19T17:39:44.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "now",
        "variableName": "now",
        "friendlyName": "Now",
        "cacheable": null,
        "sync": true,
        "description": "Construct a new JS timestamp from the current time.",
        "inputs": {},
        "exits": {
          "success": {
            "description": "OK.",
            "moreInfoUrl": "http://momentjs.com/docs/#/parsing/unix-offset/",
            "extendedDescription": "The number of milliseconds since midnight (GMT/UTC) on January 1, 1970.",
            "example": 1318781876000,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success((new Date()).getTime());\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/now",
        "docsUrl": "http://node-machine.org/machinepack-datetime/now",
        "defaultExit": null,
        "machinepack": 69,
        "id": 572,
        "createdAt": "2015-06-10T17:59:44.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      },
      {
        "identity": "parse-timestamp",
        "variableName": "parseTimestamp",
        "friendlyName": "Parse JS timestamp",
        "cacheable": true,
        "sync": true,
        "description": "Expand a JS timestamp into a dictionary of date/time information.",
        "inputs": {
          "timestamp": {
            "friendlyName": "Timestamp (JS)",
            "description": "An epoch offset (in milliseconds)",
            "moreInfoUrl": "http://momentjs.com/docs/#/parsing/unix-offset/",
            "extendedDescription": "The number of milliseconds since midnight (GMT/UTC) on January 1, 1970.",
            "example": 1318781876000,
            "required": true,
            "type": "number"
          },
          "timezone": {
            "description": "The name of the timezone of interest (human-readable).",
            "extendedDescription": "Supports any of the timezone names supported by `moment-timezone`.",
            "example": "America/Chicago",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "timestampInfo",
            "description": "OK.",
            "extendedDescription": "`year` is the full calendar year, `date` is 1-indexed, `month` is 1-indexed, and `dayOfWeek` is a string like \"Sunday\".  `hour` (0-23), `minute` (0-59), `second` (0-59), and `millisecond` (0-999) are all 0-indexed.",
            "example": {
              "month": 12,
              "date": 25,
              "year": 2015,
              "dayOfWeek": "Monday",
              "hour": 14,
              "minute": 30,
              "second": 0,
              "millisecond": 0,
              "timezone": "America/Chicago"
            },
            "isDefault": true,
            "type": "object"
          },
          "unknownTimezone": {
            "friendlyName": "invalid timezone",
            "description": "Unrecognized timezone."
          },
          "couldNotParse": {
            "friendlyName": "could not parse",
            "description": "Could not build a valid date/time from the provided timestamp + timezone combination."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var MomentTz = require('moment-timezone');\n\n    // Validate this is a known timezone\n    // (case-insensitive)\n    var foundTimezone = _.find(MomentTz.tz.names(), function (timezoneName){\n      if (inputs.timezone.toLowerCase().match(timezoneName.toLowerCase())) {\n        return timezoneName;\n      }\n    });\n    if (!foundTimezone) {\n      return exits.unknownTimezone();\n    }\n\n\n    // Build moment date using appropriate timezone\n    var momentObj = MomentTz.tz(inputs.timestamp, foundTimezone);\n    if (!momentObj.isValid()) {\n      return exits.couldNotParse();\n    }\n\n    return exits.success({\n      month: momentObj.month()+1,\n      date: momentObj.date(),\n      year: momentObj.year(),\n      dayOfWeek: momentObj.format('dddd'),\n      hour: momentObj.hour(),\n      minute: momentObj.minute(),\n      second: momentObj.second(),\n      millisecond: momentObj.millisecond(),\n      timezone: foundTimezone\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-datetime/parse-timestamp",
        "docsUrl": "http://node-machine.org/machinepack-datetime/parse-timestamp",
        "defaultExit": null,
        "machinepack": 69,
        "id": 631,
        "createdAt": "2015-07-05T17:00:02.000Z",
        "updatedAt": "2015-07-05T17:00:02.000Z"
      }
    ],
    "identity": "machinepack-datetime",
    "version": "1.4.0",
    "latestVersionPublishedAt": "2015-07-05T00:00:00.000Z",
    "variableName": "Datetime",
    "friendlyName": "Datetime",
    "description": "Work the dates and times.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-datetime",
    "docsUrl": "http://node-machine.org/machinepack-datetime",
    "npmUrl": "http://npmjs.org/package/machinepack-datetime",
    "npmPackageName": "machinepack-datetime",
    "githubUrl": "http://github.com/sgress454/machinepack-datetime/",
    "sourceUrl": "http://github.com/sgress454/machinepack-datetime/",
    "testsUrl": "https://travis-ci.org/sgress454/machinepack-datetime",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.8.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "moment",
        "semverRange": "^2.9.0"
      },
      {
        "name": "moment-timezone",
        "semverRange": "^0.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Scott Gress",
        "email": "sgress454@treeline.io"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 69,
    "createdAt": "2015-03-19T19:19:42.000Z",
    "updatedAt": "2015-07-05T17:00:02.000Z",
    "numMachines": 9
  },
  {
    "machines": [
      {
        "identity": "list-apps",
        "variableName": "listApps",
        "friendlyName": "List apps",
        "cacheable": null,
        "sync": null,
        "description": "Lists applications visible to the current user.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided were invalid"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "uuid": "12ef4f97-8669-4337-befa-288a5e0e8ac8",
                "id": "foobar",
                "url": "foobar.mydeisapp.com",
                "created": "2015-03-05T07:43:17UTC",
                "updated": "2015-03-05T07:43:17UTC"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps';\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    // Make the HTTP request\n    request.get({ url: url, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var apps = body.results || [];\n      return exits.success(apps);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/list-apps",
        "docsUrl": "http://node-machine.org/machinepack-deis/list-apps",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 175,
        "createdAt": "2015-03-05T19:59:46.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "login",
        "variableName": "login",
        "friendlyName": "Login",
        "cacheable": null,
        "sync": null,
        "description": "Logs in by authenticating against a controller.",
        "inputs": {
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "username": {
            "description": "The username to use for login",
            "example": "foobar",
            "required": true,
            "type": "string"
          },
          "password": {
            "description": "The password to use for login",
            "example": "deisrocks",
            "required": true,
            "type": "string"
          },
          "sslVerify": {
            "description": "disables SSL certificate verification for API requests",
            "defaultsTo": false,
            "example": true,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The credentials provided were invalid"
          },
          "success": {
            "description": "OK.",
            "example": "f128sh6736dna97ehsh83ejcess3r434",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/auth/login/';\n    var body = {\n      username: inputs.username,\n      password: inputs.password,\n      sslVerify: inputs.sslVerify || false\n    };\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 299) return exits.notAuthenticated();\n\n      var token = body.token;\n      if(!token) return exits.notAuthenticated();\n\n      return exits.success(token);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/login",
        "docsUrl": "http://node-machine.org/machinepack-deis/login",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 176,
        "createdAt": "2015-03-05T19:59:46.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "create-app",
        "variableName": "createApp",
        "friendlyName": "Create app",
        "cacheable": null,
        "sync": null,
        "description": "Creates a new application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "id": {
            "description": "A name for the application",
            "example": "myawesomeapp",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided were invalid"
          },
          "success": {
            "description": "OK.",
            "example": {
              "uuid": "d6e93995-1bee-49b1-a80a-d3eeef95ffdc",
              "id": "ironic-neckwear",
              "url": "ironic-neckwear.mydeiaapp.com",
              "created": "2015-03-05T17:22:59UTC",
              "updated": "2015-03-05T17:22:59UTC"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var body = {};\n    if(inputs.id) body.id = inputs.id;\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n      return exits.success(body);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/create-app",
        "docsUrl": "http://node-machine.org/machinepack-deis/create-app",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 177,
        "createdAt": "2015-03-05T19:59:46.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "destroy-app",
        "variableName": "destroyApp",
        "friendlyName": "Destroy app",
        "cacheable": null,
        "sync": null,
        "description": "Destroys an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided were invalid."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app;\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    // Make the HTTP request\n    request.del({ url: url, form: {}, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/destroy-app",
        "docsUrl": "http://node-machine.org/machinepack-deis/destroy-app",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 178,
        "createdAt": "2015-03-05T19:59:46.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "set-config",
        "variableName": "setConfig",
        "friendlyName": "Set config",
        "cacheable": null,
        "sync": null,
        "description": "Set environment variables for an app",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          },
          "values": {
            "description": "An array of key/value pairs to set as environment config values.",
            "example": [
              {
                "key": "DATABASE_URL",
                "value": "postgres://localhost:5432"
              }
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "name": "DATABASE_URL",
                "value": "postgres://localhost:5432"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/config';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var body = {\n      app: inputs.app\n    };\n\n    var values = {};\n    inputs.values.forEach(function(item) {\n      values[item.key.toUpperCase()] = item.value;\n    });\n\n    // Attach the stringified values dictionary onto the body\n    body.values = JSON.stringify(values);\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var values = Object.keys(body.values || {}).map(function(key) {\n        return { name: key, value: body.values[key] };\n      });\n\n      return exits.success(values);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/set-config",
        "docsUrl": "http://node-machine.org/machinepack-deis/set-config",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 179,
        "createdAt": "2015-03-05T19:59:46.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "unset-config",
        "variableName": "unsetConfig",
        "friendlyName": "Unset config",
        "cacheable": null,
        "sync": null,
        "description": "Unsets an environment variable for an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "An the config key to remove.",
            "example": "DATABASE_URL",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "name": "DATABASE_URL",
                "value": "postgres://localhost:5432"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/config';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var body = {\n      app: inputs.app\n    };\n\n    var values = {};\n    values[inputs.key.toUpperCase()] = null;\n\n    // Attach the stringified values dictionary onto the body\n    body.values = JSON.stringify(values);\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var values = Object.keys(body.values || {}).map(function(key) {\n        return { name: key, value: body.values[key] };\n      });\n\n      return exits.success(values);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/unset-config",
        "docsUrl": "http://node-machine.org/machinepack-deis/unset-config",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 180,
        "createdAt": "2015-03-05T19:59:46.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "create-build",
        "variableName": "createBuild",
        "friendlyName": "Create build",
        "cacheable": null,
        "sync": null,
        "description": "Creates a new build of an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          },
          "image": {
            "description": "A fully-qualified docker image, either from Docker Hub or from an in-house registry.",
            "example": "deis/example-go",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided were invalid"
          },
          "success": {
            "description": "OK.",
            "example": {
              "app": "mydeisapp",
              "image": "deis/example-go",
              "created": "2015-03-06T01:54:33UTC",
              "updated": "2015-03-06T01:54:33UTC",
              "uuid": "b10741ba-6284-4231-8af8-528d5122420c"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/builds';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var body = {\n      app: inputs.app,\n      image: inputs.image\n    };\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n      return exits.success(body);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/create-build",
        "docsUrl": "http://node-machine.org/machinepack-deis/create-build",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 181,
        "createdAt": "2015-03-06T01:59:48.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "list-processes",
        "variableName": "listProcesses",
        "friendlyName": "List processes",
        "cacheable": null,
        "sync": null,
        "description": "Lists processes servicing an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "name": "web",
                "count": 2,
                "state": "up"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/containers';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    // Make the HTTP request\n    request.get({ url: url, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var processes = [];\n      var results = body.results || [];\n\n      results.forEach(function(process) {\n        processes.push({\n          name: process.type,\n          count: process.num,\n          state: process.state\n        });\n      });\n\n      return exits.success(processes);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/list-processes",
        "docsUrl": "http://node-machine.org/machinepack-deis/list-processes",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 189,
        "createdAt": "2015-03-08T19:59:44.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "scale-process",
        "variableName": "scaleProcess",
        "friendlyName": "Scale process",
        "cacheable": null,
        "sync": null,
        "description": "Scales an application's processes by type.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          },
          "process": {
            "description": "The name of the process to scale.",
            "example": "web",
            "required": true,
            "type": "string"
          },
          "number": {
            "description": "The number of containers to scale to.",
            "example": 1,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/scale';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var body = {};\n    body[inputs.process] = inputs.number;\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/scale-process",
        "docsUrl": "http://node-machine.org/machinepack-deis/scale-process",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 190,
        "createdAt": "2015-03-08T19:59:44.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "set-limit",
        "variableName": "setLimit",
        "friendlyName": "Set limit",
        "cacheable": null,
        "sync": null,
        "description": "Sets resource limits for an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          },
          "limit": {
            "description": "Which resource limit will be set. Defaults to memory.",
            "example": "memory",
            "type": "string"
          },
          "value": {
            "description": "The value to set for the limit. With memory, units are represented in Bytes (B), Kilobytes (K), Megabytes(M), or Gigabytes (G). e.g. \"1G\". With cpu, units are represented in the number of cpu shares. e.g. 1024.",
            "example": "512M",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLimit": {
            "description": "The value supplied for `limit` is invalid. It must be either cpu or memory."
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": {
              "memory": "512M",
              "cpu": "unlimited"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/config';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var target = inputs.limit || 'memory';\n    if(['memory', 'cpu'].indexOf(target) < 0) {\n      setImmediate(function() {\n        exits.invalidLimit();\n      });\n      return;\n    }\n\n    var body = {\n      app: inputs.app\n    };\n\n    var values = {};\n    values[target] = inputs.value;\n\n    body[target] = JSON.stringify(values);\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var values = {};\n      values.memory = body.memory && body.memory.memory || 'unlimited';\n      values.cpu = body.cpu && body.cpu.cpu || 'unlimited';\n\n      return exits.success(values);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/set-limit",
        "docsUrl": "http://node-machine.org/machinepack-deis/set-limit",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 191,
        "createdAt": "2015-03-08T19:59:44.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "unset-limit",
        "variableName": "unsetLimit",
        "friendlyName": "Unset limit",
        "cacheable": null,
        "sync": null,
        "description": "Unsets resource limits for an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          },
          "limit": {
            "description": "Which resource limit will be set. Defaults to memory.",
            "example": "memory",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLimit": {
            "description": "The value supplied for `limit` is invalid. It must be either cpu or memory."
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": {
              "memory": "512M",
              "cpu": "unlimited"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/config';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    var target = inputs.limit || 'memory';\n    if(['memory', 'cpu'].indexOf(target) < 0) {\n      setImmediate(function() {\n        exits.invalidLimit();\n      });\n      return;\n    }\n\n    var body = {\n      app: inputs.app\n    };\n\n    var values = {};\n    values[target] = null;\n\n    body[target] = JSON.stringify(values);\n\n    // Make the HTTP request\n    request.post({ url: url, form: body, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var values = {};\n      values.memory = body.memory && body.memory.memory || 'unlimited';\n      values.cpu = body.cpu && body.cpu.cpu || 'unlimited';\n      if(values.cpu == 0) values.cpu = 'unlimited';\n\n      return exits.success(values);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/unset-limit",
        "docsUrl": "http://node-machine.org/machinepack-deis/unset-limit",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 192,
        "createdAt": "2015-03-08T19:59:44.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "list-limits",
        "variableName": "listLimits",
        "friendlyName": "List limits",
        "cacheable": null,
        "sync": null,
        "description": "Lists resource limits for an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": {
              "memory": "512M",
              "cpu": "unlimited"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/config';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    // Make the HTTP request\n    request.get({ url: url, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var values = {};\n      values.memory = body.memory && body.memory.memory || 'unlimited';\n      values.cpu = body.cpu && body.cpu.cpu || 'unlimited';\n\n      return exits.success(values);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/list-limits",
        "docsUrl": "http://node-machine.org/machinepack-deis/list-limits",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 193,
        "createdAt": "2015-03-08T19:59:44.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      },
      {
        "identity": "list-config",
        "variableName": "listConfig",
        "friendlyName": "List config",
        "cacheable": null,
        "sync": null,
        "description": "Lists environment variables for an application.",
        "inputs": {
          "token": {
            "description": "An access token for use with a Deis install.",
            "example": "",
            "required": true,
            "type": "string"
          },
          "controller": {
            "description": "The controller location of your Deis install.",
            "example": "http://deis.mydeisapp.com",
            "required": true,
            "type": "string"
          },
          "app": {
            "description": "The uniquely identifiable name for the application.",
            "example": "myawesomeapp",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthenticated": {
            "description": "The token provided was invalid"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "name": "DATABASE_URL",
                "value": "postgres://localhost:5432"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    // Dependencies\n    var request = require('request');\n\n    var url = inputs.controller + '/v1/apps/' + inputs.app + '/config';\n\n    var headers = {\n      'content-type': 'application/json',\n      'X-Deis-Version': 1,\n      'Authorization': 'token ' + inputs.token\n    };\n\n    // Make the HTTP request\n    request.get({ url: url, headers: headers, json: true }, function(err, response, body) {\n      if(err) return exits.error(err);\n\n      var code = response.statusCode;\n      if(!code) return exits.error(new Error('Missing status code'));\n\n      if(code > 499) return exits.error(code);\n      if(code > 299) return exits.notAuthenticated();\n\n      var values = Object.keys(body.values || {}).map(function(key) {\n        return { name: key, value: body.values[key] };\n      });\n\n      return exits.success(values);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-deis/list-config",
        "docsUrl": "http://node-machine.org/machinepack-deis/list-config",
        "defaultExit": "success",
        "machinepack": 43,
        "id": 194,
        "createdAt": "2015-03-08T19:59:44.000Z",
        "updatedAt": "2015-06-30T23:29:52.000Z"
      }
    ],
    "identity": "machinepack-deis",
    "version": "0.5.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Deis",
    "friendlyName": "Deis",
    "description": "SDK for working with a Deis install",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-deis",
    "docsUrl": "http://node-machine.org/machinepack-deis",
    "npmUrl": "http://npmjs.org/package/machinepack-deis",
    "npmPackageName": "machinepack-deis",
    "githubUrl": "http://github.com/particlebanana/machinepack-deis/",
    "sourceUrl": "http://github.com/particlebanana/machinepack-deis/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      }
    ],
    "contributors": [
      {
        "name": "Cody Stoltman",
        "email": ""
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 43,
    "createdAt": "2015-03-05T19:59:45.000Z",
    "updatedAt": "2015-06-30T23:29:52.000Z",
    "numMachines": 13
  },
  {
    "machines": [
      {
        "identity": "create-deployment",
        "variableName": "createDeployment",
        "friendlyName": "Create Deployment",
        "cacheable": null,
        "sync": null,
        "description": "Create a DemocracyOS deployment for a given user.",
        "inputs": {
          "url": {
            "description": "Url of Manager API.",
            "example": "http://manager.democracyos.com",
            "required": true,
            "type": "string"
          },
          "access_token": {
            "description": "Access Token for the given Manager API.",
            "example": "a6f743e10d6ba3001c70d0c190c71cf668093370",
            "required": true,
            "type": "string"
          },
          "name": {
            "description": "Deployment name.",
            "example": "mars-democracy",
            "required": true,
            "type": "string"
          },
          "title": {
            "description": "Deployment Title.",
            "example": "Mars Democracy",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "Owner id.",
            "example": "54eb6ab10eabd7d1254b1d88",
            "required": true,
            "type": "string"
          },
          "summary": {
            "description": "Deployment long description.",
            "example": "Mars Democracy",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "serverError": {
            "description": "Unexpected error occurred."
          },
          "badRequest": {
            "description": "When there's something wrong with the request."
          },
          "success": {
            "description": "OK.",
            "example": {
              "deployment": {
                "_id": "54f85ac65ebf6b6e180cf287",
                "url": "mars-democracy.democracyos.com",
                "deis_uuid": "bc612942-4f4e-4c2a-900b-7e6340bd91a9",
                "mongo_url": "mongodb://mars-democracy:passwordondatabase@dosmongodb.cloudapp.net:27017,dosmongodb.cloudapp.net:27018/mars-democracy",
                "name": "mars-democracy",
                "title": "Mars Democracy",
                "summary": "A long description about the implementation of democracy on Mars.",
                "owner": {
                  "_id": "54eb6ab10eabd7d1254b1d88",
                  "email": "owner.email@democracyos.com"
                },
                "createdAt": "2015-03-05T13:31:50.716Z"
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    request\n      .post(urljoin(inputs.url, 'deployments'))\n      .type('application/json')\n      .accept('application/json')\n      .send({\n        access_token: inputs.access_token,\n        deployment: {\n          name: inputs.name,\n          title: inputs.title,\n          owner: inputs.owner,\n          summary: inputs.summary,\n        }\n      })\n      .end(function(res){\n        if (res.ok) return exits.success(res.body, res);\n        if (res.body.code) {\n          if (res.badRequest) return exits.badRequest(res.body);\n          if (res.serverError) return exits.serverError(res.body);\n        }\n        return exits.error(res);\n      });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-democracyosmanager/create-deployment",
        "docsUrl": "http://node-machine.org/machinepack-democracyosmanager/create-deployment",
        "defaultExit": "success",
        "machinepack": 50,
        "id": 201,
        "createdAt": "2015-03-10T20:39:38.000Z",
        "updatedAt": "2015-03-10T20:39:38.000Z"
      },
      {
        "identity": "delete-deployment",
        "variableName": "deleteDeployment",
        "friendlyName": "Delete Deployment.",
        "cacheable": null,
        "sync": null,
        "description": "Delete a DemocracyOS Deployment.",
        "inputs": {
          "url": {
            "description": "Url of Manager API.",
            "example": "http://manager.democracyos.com",
            "required": true,
            "type": "string"
          },
          "access_token": {
            "description": "Access Token for the given Manager API.",
            "example": "a6f743e10d6ba3001c70d0c190c71cf668093370",
            "required": true,
            "type": "string"
          },
          "name": {
            "description": "Name of the instnace to Delete.",
            "example": "mars-democracy",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "serverError": {
            "description": "Unexpected error occurred."
          },
          "badRequest": {
            "description": "When there's something wrong with the request."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    request\n      .del(urljoin(inputs.url, 'deployments', inputs.name))\n      .send({\n        access_token: inputs.access_token\n      })\n      .type('application/json')\n      .accept('application/json')\n      .end(function(res){\n        if (res.ok) return exits.success(res.body, res);\n        if (res.body.code) {\n          if (res.badRequest) return exits.badRequest(res.body);\n          if (res.serverError) return exits.serverError(res.body);\n        }\n        return exits.error(res);\n      });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-democracyosmanager/delete-deployment",
        "docsUrl": "http://node-machine.org/machinepack-democracyosmanager/delete-deployment",
        "defaultExit": "success",
        "machinepack": 50,
        "id": 202,
        "createdAt": "2015-03-10T20:39:38.000Z",
        "updatedAt": "2015-03-10T20:39:38.000Z"
      }
    ],
    "identity": "machinepack-democracyosmanager",
    "version": "0.2.0",
    "latestVersionPublishedAt": "2015-03-10T00:00:00.000Z",
    "variableName": "DemocracyOSManager",
    "friendlyName": "DemocracyOS Manager",
    "description": "Communicate with a DemocracyOS Manager API to manage Deployments.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-democracyosmanager",
    "docsUrl": "http://node-machine.org/machinepack-democracyosmanager",
    "npmUrl": "http://npmjs.org/package/machinepack-democracyosmanager",
    "npmPackageName": "machinepack-democracyosmanager",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "mout",
        "semverRange": "^0.11.0"
      },
      {
        "name": "superagent",
        "semverRange": "^0.21.0"
      },
      {
        "name": "url-join",
        "semverRange": "0.0.1"
      }
    ],
    "contributors": [
      {
        "name": "mjlescano",
        "email": "matiasj.lescano@gmail.com"
      }
    ],
    "id": 50,
    "createdAt": "2015-03-09T20:15:41.000Z",
    "updatedAt": "2015-03-10T20:39:38.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "merge",
        "variableName": "merge",
        "friendlyName": "Merge dictionaries",
        "cacheable": true,
        "sync": true,
        "description": "Merge two dictionaries together and return the result (a new dictionary)",
        "inputs": {
          "primary": {
            "description": "The dictionary whose keys will take precedence.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "secondary": {
            "description": "The dictionary whose keys may be overridden by `primary`.",
            "example": {},
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If `primary` is not available yet, there won't be any keys removed\n        // from what's provided by `secondary`, but there could be plenty of\n        // new keys added or existing keys overridden.\n        // So the best we can do is return `{}`.\n        if (_.isUndefined(inputs.primary)) {\n          return {};\n        }\n\n        // If `secondary` is not available yet, there won't be any keys removed\n        // or overridden from `primary`, but there could still be keys added.\n        // So the best we can do is return `{}`.\n        if (_.isUndefined(inputs.secondary)) {\n          return {};\n        }\n\n        // If both are defined, we can calculate the example.\n        return _.merge(_.merge({}, inputs.secondary), inputs.primary);\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n\n    return exits.success(_.merge(_.merge({}, inputs.secondary), inputs.primary));\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/merge",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/merge",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 394,
        "createdAt": "2015-04-29T00:59:34.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "construct",
        "variableName": "construct",
        "friendlyName": "Construct dictionary",
        "cacheable": true,
        "sync": true,
        "description": "Construct a dictionary using the specified keys and values.",
        "inputs": {
          "dictionary": {
            "description": "The dictionary to construct.",
            "example": {},
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If no `dictionary` is available yet, the best we can do is set the exit example\n        // to `{}`, since we don't have enough information.  At least we know it will be a\n        // dictionary.\n        if (_.isUndefined(inputs.dictionary)) {\n          return {};\n        }\n\n        return inputs.dictionary;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    return exits.success(inputs.dictionary);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/construct",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/construct",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 395,
        "createdAt": "2015-04-29T00:59:34.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "dot",
        "variableName": "dot",
        "friendlyName": "Dot (.)",
        "cacheable": true,
        "sync": true,
        "description": "Get the value associated with a particular key in a dictionary.",
        "inputs": {
          "dictionary": {
            "friendlyName": "Dictionary",
            "description": "The dictionary to dereference",
            "example": {},
            "required": true,
            "type": "object"
          },
          "keypath": {
            "friendlyName": "Key",
            "description": "The key to look up (can be nested, e.g. \"avatar\" or \"avatar.sizeInBytes\")",
            "extendedDescription": "Note that this means that you cannot use this machine to grab the value of keys that **actually** have a dot (.) in them.",
            "example": "mom.email",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "noSuchKey": {
            "friendlyName": "no such key",
            "description": "The specified key does not exist."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If no `dictionary` is available yet, the best we can do is set the exit example\n        // to `*`, since we don't have enough information.\n        if (_.isUndefined(inputs.dictionary)) {\n          return '*';\n        }\n\n        // If no `keypath` is available yet, the best we can do is set the exit example\n        // to `*`, since we don't have enough information.\n        if (_.isUndefined(inputs.keypath)) {\n          return '*';\n        }\n\n        // Take a look at the value that's currently at the requested keypath\n        var valueAtKeypath = _.get(inputs.dictionary, inputs.keypath);\n        // If it is defined, then we can use it.  Otherwise, we can't.\n        if (_.isUndefined(valueAtKeypath)) {\n          return;\n        }\n        return valueAtKeypath;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n\n    var value = _.get(inputs.dictionary, inputs.keypath);\n    if (_.isUndefined(value)) {\n      return exits.noSuchKey();\n    }\n    return exits.success(value);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/dot",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/dot",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 396,
        "createdAt": "2015-04-29T00:59:34.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "delete-key",
        "variableName": "deleteKey",
        "friendlyName": "Delete key",
        "cacheable": true,
        "sync": true,
        "description": "Delete a key from a dictionary and return the result (a new dictionary).",
        "inputs": {
          "dictionary": {
            "friendlyName": "Dictionary",
            "description": "The dictionary to delete the key from.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "key": {
            "friendlyName": "Key",
            "description": "The key to delete.",
            "example": "password",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "noSuchKey": {
            "friendlyName": "no such key",
            "description": "The specified key does not exist."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If `dictionary` is not available yet, the best we can do is set the\n        // exit example to `{}`, since we don't have enough information.\n        if (_.isUndefined(inputs.dictionary)) {\n          return {};\n        }\n\n        // If `key` is not available yet, the best we can do is set exit example\n        // to `{}` because, although we know the initial properties of the dictionary,\n        // we don't know which key will be removed in the results.\n        if (_.isUndefined(inputs.key)) {\n          return {};\n        }\n\n        // Otherwise we have enough information to send back a guaranteed example.\n        // (we don't know for sure that the key will exist, but we know what type schema\n        //  to expect _if it does_)\n        delete inputs.dictionary[inputs.key];\n        return inputs.dictionary;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n    if (_.isUndefined(inputs.dictionary[inputs.key])){\n      return exits.noSuchKey();\n    }\n    delete inputs.dictionary[inputs.key];\n    return exits.success(inputs.dictionary);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/delete-key",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/delete-key",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 408,
        "createdAt": "2015-04-29T21:03:58.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "rename-key",
        "variableName": "renameKey",
        "friendlyName": "Rename key",
        "cacheable": true,
        "sync": true,
        "description": "Rename a key in a dictionary and return the result (a new dictionary).",
        "inputs": {
          "dictionary": {
            "friendlyName": "Dictionary",
            "description": "The dictionary to rename the key in.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "originalKey": {
            "friendlyName": "Original key",
            "description": "The key to rename.",
            "example": "studentName",
            "required": true,
            "type": "string"
          },
          "newKey": {
            "friendlyName": "New key",
            "description": "A new name for the key.",
            "example": "studentFullName",
            "required": true,
            "type": "string"
          },
          "force": {
            "friendlyName": "Overwrite?",
            "description": "Whether to overwrite an existing key with the same name if there is a conflict.",
            "example": true,
            "defaultsTo": true,
            "advanced": true,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "noSuchKey": {
            "friendlyName": "no such key",
            "description": "The specified key does not exist."
          },
          "keyAlreadyExists": {
            "friendlyName": "key already exists",
            "description": "An existing key is already using the specified name for the new key.",
            "extendedDescription": "You can force this machine to overwrite the existing key by enabling the `force` input."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "\n        var _ = env._;\n\n        // If `dictionary` is not available yet, the best we can do is set the\n        // exit example to `{}`, since we don't have enough information.\n        if (_.isUndefined(inputs.dictionary)) {\n          return {};\n        }\n\n        // If `originalKey` is not available yet, the best we can do is set exit example\n        // to `{}` because, although we know the initial properties of the dictionary,\n        // we don't know which key will be replaced in the results.\n        if (_.isUndefined(inputs.originalKey)) {\n          return {};\n        }\n\n        // If `newKey` is not available yet, the best we can do is set exit example\n        // to `{}` because, although we know the initial properties of the dictionary,\n        // and which key is being removed, we don't know the name of the key to add.\n        if (_.isUndefined(inputs.newKey)) {\n          return {};\n        }\n\n        // If `dictionary[originalKey]` is undefined, we aren't sure yet what type\n        // it will be, so we don't know what value to make the new type, which means\n        // the best we can do is send back a `{}`.  It's also possible `noSuchKey` will\n        // trigger instead.\n        if (_.isUndefined(inputs.dictionary[inputs.originalKey])) {\n          return {};\n        }\n\n        // If `force` is true, we know for sure that the new key will exist, even\n        // if there is an old key in the way.\n        if (inputs.force) {\n          inputs.dictionary[inputs.newKey] = inputs.dictionary[inputs.originalKey];\n          delete inputs.dictionary[inputs.originalKey];\n          return inputs.dictionary;\n        }\n\n        // If force is `false` and the key DOES NOT already exist, we may think the\n        // resulting dictionary will have the new key value, but it is also possible\n        // that the existing value at that key is just not available yet either.\n        // So the best we can do is send back `{}`.\n        if (!inputs.force && _.isUndefined(inputs.dictionary[inputs.newKey])) {\n          return {};\n        }\n\n        // If force is `false` and the key already exists, this exit should\n        // not be traversed, so we don't need to worry about it.\n        return;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n\n    var value = inputs.dictionary[inputs.originalKey];\n    if (_.isUndefined(value)) {\n      return exits.noSuchKey();\n    }\n    delete inputs.dictionary[inputs.originalKey];\n    if (!inputs.force && !_.isUndefined(inputs.dictionary[inputs.newKey])) {\n      return exits.keyAlreadyExists();\n    }\n    inputs.dictionary[inputs.newKey] = value;\n    return exits.success(inputs.dictionary);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/rename-key",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/rename-key",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 409,
        "createdAt": "2015-04-29T21:03:58.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "copy-key",
        "variableName": "copyKey",
        "friendlyName": "Copy key",
        "cacheable": true,
        "sync": true,
        "description": "Copy a key in a dictionary and return the result (a new dictionary).",
        "inputs": {
          "dictionary": {
            "friendlyName": "Dictionary",
            "description": "The dictionary where the key will be copied.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "originalKey": {
            "friendlyName": "Existing key",
            "description": "The name of the existing key whose value will be copied.",
            "example": "githubUsername",
            "required": true,
            "type": "string"
          },
          "newKey": {
            "friendlyName": "New key",
            "description": "A name for the new key.",
            "example": "twitterUsername",
            "required": true,
            "type": "string"
          },
          "force": {
            "friendlyName": "Overwrite?",
            "description": "Whether to overwrite an existing key with the same name if there is a conflict.",
            "example": true,
            "defaultsTo": true,
            "advanced": true,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "noSuchKey": {
            "friendlyName": "no such key",
            "description": "The specified key does not exist."
          },
          "keyAlreadyExists": {
            "friendlyName": "key already exists",
            "description": "An existing key is already using the specified name for the new key.",
            "extendedDescription": "You can force this machine to overwrite the existing key by enabling the `force` input."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If `dictionary` is not available yet, the best we can do is set the\n        // exit example to `{}`, since we don't have enough information.\n        if (_.isUndefined(inputs.dictionary)) {\n          return {};\n        }\n\n        // If `originalKey` is not available yet, the best we can do is set exit example\n        // to `{}` because, although we know the initial properties of the dictionary,\n        // we don't know what type of value the original key had.\n        if (_.isUndefined(inputs.originalKey)) {\n          return {};\n        }\n\n        // If `newKey` is not available yet, the best we can do is set exit example\n        // to `{}` because, although we know the initial properties of the dictionary,\n        // and which key is being copied, we don't know the name of the key to add.\n        if (_.isUndefined(inputs.newKey)) {\n          return {};\n        }\n\n        // If `dictionary[originalKey]` is undefined, we aren't sure yet what type\n        // it will be, so we don't know what type to make the new value, which means\n        // the best we can do is send back a `{}`.  It's also possible `noSuchKey` will\n        // trigger instead.\n        if (_.isUndefined(inputs.dictionary[inputs.originalKey])) {\n          return {};\n        }\n\n        // If `force` is true, we know for sure that the new key will exist, even\n        // if there is an old key in the way.\n        if (inputs.force) {\n          inputs.dictionary[inputs.newKey] = inputs.dictionary[inputs.originalKey];\n          return inputs.dictionary;\n        }\n\n        // If force is `false` and the key DOES NOT already exist, we may think the\n        // resulting dictionary will have the new key value, but it is also possible\n        // that the existing value at that key is just not available yet either.\n        // So the best we can do is send back `{}`.\n        if (!inputs.force && _.isUndefined(inputs.dictionary[inputs.newKey])) {\n          return {};\n        }\n\n        // If force is `false` and the key already exists, this exit should\n        // not be traversed, so we don't need to worry about it.\n        return;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n\n    var value = inputs.dictionary[inputs.originalKey];\n    if (_.isUndefined(value)) {\n      return exits.noSuchKey();\n    }\n\n    var force = _.isUndefined(inputs.force) ? true : inputs.force;\n    if (!force && !_.isUndefined(inputs.dictionary[inputs.newKey])) {\n      return exits.keyAlreadyExists();\n    }\n\n    inputs.dictionary[inputs.newKey] = value;\n    return exits.success(inputs.dictionary);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/copy-key",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/copy-key",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 410,
        "createdAt": "2015-04-29T21:03:58.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "add-key",
        "variableName": "addKey",
        "friendlyName": "Add new key",
        "cacheable": true,
        "sync": true,
        "description": "Add a new key to a dictionary.",
        "inputs": {
          "dictionary": {
            "friendlyName": "Dictionary",
            "description": "The dictionary where the new key will be added.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "newKey": {
            "friendlyName": "New key",
            "description": "A name for the new key.",
            "example": "twitterUsername",
            "required": true,
            "type": "string"
          },
          "value": {
            "friendlyName": "Value",
            "description": "The value to associate with the new key.",
            "example": "*",
            "required": true,
            "type": "string"
          },
          "force": {
            "friendlyName": "Overwrite?",
            "description": "Whether to overwrite an existing key with the same name if there is a conflict.",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "keyAlreadyExists": {
            "friendlyName": "key already exists",
            "description": "An existing key is already using the specified name for the new key.",
            "extendedDescription": "You can force this machine to overwrite the existing key by enabling the `force` input."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = env._;\n\n        // If no `dictionary` or `newKey` is available yet, the best we can do\n        // is set the exit example to `{}`, since we don't have enough information.\n        if (_.isUndefined(inputs.dictionary) || _.isUndefined(inputs.newKey)) {\n          return {};\n        }\n\n        // If `force` is undefined, we aren't sure yet whether or not the new key\n        // will replace the old.  So whether or not an old key exists, we must fall\n        // back to sending down a `{}` (because the old key/value could have fallen\n        // back to `undefined` because it was indeterminate, which means it MIGHT be\n        // there)\n        if (_.isUndefined(inputs.force)) {\n          return {};\n        }\n\n        // If `value` is undefined, we aren't sure yet what type it will be, so\n        // the best we can do is send back a `{}`.\n        if (_.isUndefined(inputs.value)) {\n          return {};\n        }\n\n        // If `force` is true, we know for sure that the new key will exist, even\n        // if there is an old key in the way.\n        if (inputs.force) {\n          inputs.dictionary[inputs.newKey] = inputs.value;\n          return inputs.dictionary;\n        }\n\n        // If force is `false` and the key DOES NOT already exist, we may think the\n        // resulting dictionary will have the new key value, but it is also possible\n        // that the existing value at that key is just not available yet either.\n        // So the best we can do is send back `{}`.\n        if (!inputs.force && _.isUndefined(inputs.dictionary[inputs.newKey])) {\n          return {};\n        }\n\n        // If force is `false` and the key already exists, this exit should\n        // not be traversed, so we don't need to worry about it.\n        return;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var _ = require('lodash');\n\n    if (!inputs.force && !_.isUndefined(inputs.dictionary[inputs.newKey])) {\n      return exits.keyAlreadyExists();\n    }\n    inputs.dictionary[inputs.newKey] = inputs.value;\n    return exits.success(inputs.dictionary);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/add-key",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/add-key",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 411,
        "createdAt": "2015-04-29T21:03:58.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      },
      {
        "identity": "keys",
        "variableName": "keys",
        "friendlyName": "List keys",
        "cacheable": true,
        "sync": true,
        "description": "List all the keys in the provided dictionary.",
        "inputs": {
          "dictionary": {
            "friendlyName": "Dictionary",
            "description": "The dictionary whose keys will be listed.",
            "example": {},
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": [
              "email"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    return exits.success(Object.keys(inputs.dictionary));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries/keys",
        "docsUrl": "http://node-machine.org/machinepack-dictionaries/keys",
        "defaultExit": "success",
        "machinepack": 103,
        "id": 412,
        "createdAt": "2015-04-29T21:03:58.000Z",
        "updatedAt": "2015-06-30T16:40:05.000Z"
      }
    ],
    "identity": "machinepack-dictionaries",
    "version": "2.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Dictionaries",
    "friendlyName": "Dictionaries",
    "description": "Work with dictionaries.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-dictionaries",
    "docsUrl": "http://node-machine.org/machinepack-dictionaries",
    "npmUrl": "http://npmjs.org/package/machinepack-dictionaries",
    "npmPackageName": "machinepack-dictionaries",
    "githubUrl": "http://github.com/treelinehq/machinepack-dictionaries/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-dictionaries/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-dictionaries",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "^1.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.7.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 103,
    "createdAt": "2015-04-29T00:59:34.000Z",
    "updatedAt": "2015-06-30T16:40:05.000Z",
    "numMachines": 8
  },
  {
    "machines": [
      {
        "identity": "droplet-create",
        "variableName": "dropletCreate",
        "friendlyName": "Create a Droplet",
        "cacheable": null,
        "sync": null,
        "description": "Create a DigitalOcean droplet.",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          },
          "name": {
            "example": "My-New-Droplet",
            "description": "The hostname you wish to assign your new droplet.",
            "required": true,
            "type": "string"
          },
          "region": {
            "example": "NYC2",
            "description": "The region name where you wish to spin up your new droplet.",
            "required": true,
            "type": "string"
          },
          "size": {
            "example": "512mb",
            "description": "The droplet size you wish to spin up (E.G 512mb.)",
            "required": true,
            "type": "string"
          },
          "image": {
            "example": 434348,
            "description": "The ID of the private image you wish to use as the base for your new droplet.",
            "required": true,
            "type": "number"
          },
          "sshkeys": {
            "example": "10, 11, 12",
            "description": "The ID of the SSH keys you wish to apply to your droplet. These must be saved to your digitalocean account. Separate with a command to add multiple.",
            "required": false,
            "type": "string"
          },
          "backups": {
            "example": false,
            "description": "A true/false indicating whether or not you wish to add auto-backups to your droplet",
            "required": false,
            "type": "boolean"
          },
          "ipv6": {
            "example": "false",
            "description": "A true/false indicating whether or not you wish to add IPV6 to your droplet",
            "required": false,
            "type": "string"
          },
          "private_networking": {
            "example": "false",
            "description": "A true/false indicating whether or not you wish to add private networking to your droplet",
            "required": false,
            "type": "string"
          },
          "user_data": {
            "example": "MetadataInfoHere",
            "description": "The userdata you wish to include with your droplet.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "302",
            "response": "Response from API v2",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "droplet": {
                "id": 3164494,
                "name": "example.com",
                "memory": 512,
                "vcpus": 1,
                "disk": 20,
                "locked": true,
                "status": "new",
                "kernel": {
                  "id": 2233,
                  "name": "Ubuntu 14.04 x64 vmlinuz-3.13.0-37-generic",
                  "version": "3.13.0-37-generic"
                },
                "created_at": "2014-11-14T16:36:31Z",
                "features": [
                  "virtio"
                ],
                "backup_ids": [],
                "snapshot_ids": [],
                "image": {},
                "size": {},
                "size_slug": "512mb",
                "networks": {},
                "region": {}
              },
              "links": {
                "actions": [
                  {
                    "id": 36805096,
                    "rel": "create",
                    "href": "https://api.digitalocean.com/v2/actions/36805096"
                  }
                ]
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplet.create({\"name\": inputs.name, \"region\": inputs.region, \"size\": inputs.size, \"image\": inputs.image, \"ssh_keys\": inputs.ssh_keys, \"backups\": inputs.backups, \"ipv6\": inputs.ipv6, \"private_networking\": inputs.private_networking, \"user_data\": inputs.user_data}).then(function(droplet) {\n        console.log(droplet)\n        return exits.success(droplet);\n\n     }).error(function(error) {\n        // I will re-visit this soon.\n        // Digital Ocean sends out an error response without anything actually going wrong, but this route appears to give a successful creation. \n        console.log(error.statusCode);\n        console.log(error.res);\n        // DO API v2 returns both a status code and a response in JSON format.\n        return exits.success(error.res);\n      });\n\n\n\n  ",
        "environment": [],
        "extendedDescription": "You can find documentation for this API here: https://developers.digitalocean.com/documentation/v2/ and raise issues here: github.com/NileFrater/machinepack-digitalocean.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-create",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-create",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 344,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      },
      {
        "identity": "droplet-list",
        "variableName": "dropletList",
        "friendlyName": "List All Droplets Info",
        "cacheable": null,
        "sync": null,
        "description": "List information on all droplets in your DigitalOcean account.",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "302",
            "response": "Response from API v2",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "droplets": [
                {
                  "id": 3164444,
                  "name": "example.com",
                  "memory": 512,
                  "vcpus": 1,
                  "disk": 20,
                  "locked": false,
                  "status": "active",
                  "kernel": {
                    "id": 2233,
                    "name": "Ubuntu 14.04 x64 vmlinuz-3.13.0-37-generic",
                    "version": "3.13.0-37-generic"
                  },
                  "created_at": "2014-11-14T16:29:21Z",
                  "features": [
                    "backups",
                    "ipv6",
                    "virtio"
                  ],
                  "backup_ids": [
                    7938002
                  ],
                  "snapshot_ids": [],
                  "image": {
                    "id": 6918990,
                    "name": "14.04 x64",
                    "distribution": "Ubuntu",
                    "slug": "ubuntu-14-04-x64",
                    "public": true,
                    "regions": [
                      "nyc1",
                      "ams1",
                      "sfo1",
                      "nyc2",
                      "ams2",
                      "sgp1",
                      "lon1",
                      "nyc3",
                      "ams3",
                      "nyc3"
                    ],
                    "created_at": "2014-10-17T20:24:33Z",
                    "type": "snapshot",
                    "min_disk_size": 20
                  },
                  "size": {},
                  "size_slug": "512mb",
                  "networks": {
                    "v4": [
                      {
                        "ip_address": "104.236.32.182",
                        "netmask": "255.255.192.0",
                        "gateway": "104.236.0.1",
                        "type": "public"
                      }
                    ],
                    "v6": [
                      {
                        "ip_address": "2604:A880:0800:0010:0000:0000:02DD:4001",
                        "netmask": 64,
                        "gateway": "2604:A880:0800:0010:0000:0000:0000:0001",
                        "type": "public"
                      }
                    ]
                  },
                  "region": {
                    "name": "New York 3",
                    "slug": "nyc3",
                    "sizes": [],
                    "features": [
                      "virtio",
                      "private_networking",
                      "backups",
                      "ipv6",
                      "metadata"
                    ],
                    "available": null
                  }
                }
              ],
              "links": {
                "pages": {
                  "last": "https://api.digitalocean.com/v2/droplets?page=3&per_page=1",
                  "next": "https://api.digitalocean.com/v2/droplets?page=2&per_page=1"
                }
              },
              "meta": {
                "total": 3
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplets().then(function(droplet) {\n          return exits.success(droplet);\n     });     \n\n  ",
        "environment": [],
        "extendedDescription": "You can find documentation for this API here: https://developers.digitalocean.com/documentation/v2/ and raise issues here: Github.com/NileFrater/machinepack-digitalocean.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-list",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-list",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 345,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      },
      {
        "identity": "droplet-get-backups",
        "variableName": "dropletGetBackups",
        "friendlyName": "Get Droplet Backups",
        "cacheable": null,
        "sync": null,
        "description": "Return a list of Backups for a specific Droplet",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          },
          "dropletID": {
            "example": "7564837494",
            "description": "Droplet ID - This will let you return details on a specific droplet.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "500",
            "response": "No response",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Could not find specified ID",
            "statuscode": "500",
            "response": "No response"
          },
          "success": {
            "example": {
              "backups": [
                {
                  "id": 7622989,
                  "name": "example.com 2014-11-14",
                  "distribution": "Ubuntu",
                  "slug": null,
                  "public": false,
                  "regions": [
                    "nyc3"
                  ],
                  "created_at": "2014-11-14T16:07:38Z",
                  "type": "snapshot",
                  "min_disk_size": 20
                }
              ],
              "meta": {
                "total": 1
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplet.backups(inputs.dropletID).then(function(droplet) {\n          return exits.success(droplet);\n     }).error(function(error) {\n        return exits.notFound({\n            description: \"Not found.\",\n            statuscode: error.statuscode,\n            response: error.res\n        });\n     }); \n\n  ",
        "environment": [],
        "extendedDescription": "You can find documentation for this API here: https://developers.digitalocean.com/documentation/v2/ and raise issues here: Github.com/NileFrater/machinepack-digitalocean.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-get-backups",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-get-backups",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 346,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      },
      {
        "identity": "droplet-delete",
        "variableName": "dropletDelete",
        "friendlyName": "Delete Droplet",
        "cacheable": null,
        "sync": null,
        "description": "Delete a specific Droplet",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          },
          "dropletID": {
            "example": "7564837494",
            "description": "Droplet ID - The droplet specified will be deleted.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "500",
            "response": "No response",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Could not find specified ID",
            "statuscode": "500",
            "response": "No response"
          },
          "success": {
            "description": "OK.",
            "statuscode": "200",
            "response": "Response from API v2",
            "isDefault": true
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplet.delete(inputs.dropletID).then(function(droplet) {\n          return exits.success(droplet);\n     }).error(function(error) {\n        return exits.notFound({\n            description: \"Not found.\",\n            statuscode: error.statuscode,\n            response: error.res\n        });\n     }); \n\n  ",
        "environment": [],
        "extendedDescription": "You can find documentation for this API here: https://developers.digitalocean.com/documentation/v2/ and raise issues here: Github.com/NileFrater/machinepack-digitalocean.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-delete",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-delete",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 347,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      },
      {
        "identity": "droplet-get-snapshots",
        "variableName": "dropletGetSnapshots",
        "friendlyName": "Get Droplet Snapshots",
        "cacheable": null,
        "sync": null,
        "description": "Return a list of Snapshots for a specific Droplet",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          },
          "dropletID": {
            "example": "7564837494",
            "description": "Droplet ID - This will let you return details on a specific droplet.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "500",
            "response": "No response",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Could not find specified ID",
            "statuscode": "500",
            "response": "No response"
          },
          "success": {
            "example": {
              "snapshots": [
                {
                  "id": 7938206,
                  "name": "nginx-fresh",
                  "distribution": "Ubuntu",
                  "slug": null,
                  "public": false,
                  "regions": [
                    "nyc3",
                    "nyc3"
                  ],
                  "created_at": "2014-11-14T16:37:34Z",
                  "type": "snapshot",
                  "min_disk_size": 20
                }
              ],
              "links": {},
              "meta": {
                "total": 1
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplet.snapshots(inputs.dropletID).then(function(droplet) {\n          return exits.success(droplet);\n     }).error(function(error) {\n        return exits.notFound({\n            description: \"Not found.\",\n            statuscode: error.statuscode,\n            response: error.res\n        });\n     }); \n\n  ",
        "environment": [],
        "extendedDescription": "You can find documentation for this API here: https://developers.digitalocean.com/documentation/v2/ and raise issues here: Github.com/NileFrater/machinepack-digitalocean.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-get-snapshots",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-get-snapshots",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 348,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      },
      {
        "identity": "droplet-get",
        "variableName": "dropletGet",
        "friendlyName": "Get Droplet Info",
        "cacheable": null,
        "sync": null,
        "description": "Return information for a specific Droplet",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          },
          "dropletID": {
            "example": "7564837494",
            "description": "Droplet ID - This will let you return details on a specific droplet.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "500",
            "response": "No response",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Could not find specified ID",
            "statuscode": "500",
            "response": "No response"
          },
          "success": {
            "example": {
              "droplet": {
                "id": 3164494,
                "name": "example.com",
                "memory": 512,
                "vcpus": 1,
                "disk": 20,
                "locked": false,
                "status": "active",
                "kernel": {
                  "id": 2233,
                  "name": "Ubuntu 14.04 x64 vmlinuz-3.13.0-37-generic",
                  "version": "3.13.0-37-generic"
                },
                "created_at": "2014-11-14T16:36:31Z",
                "features": [
                  "ipv6",
                  "virtio"
                ],
                "backup_ids": [],
                "snapshot_ids": [
                  7938206
                ],
                "image": {
                  "id": 6918990,
                  "name": "14.04 x64",
                  "distribution": "Ubuntu",
                  "slug": "ubuntu-14-04-x64",
                  "public": true,
                  "regions": [
                    "nyc1",
                    "ams1",
                    "sfo1",
                    "nyc2",
                    "ams2",
                    "sgp1",
                    "lon1",
                    "nyc3",
                    "ams3",
                    "nyc3"
                  ],
                  "created_at": "2014-10-17T20:24:33Z",
                  "type": "snapshot",
                  "min_disk_size": 20
                },
                "size": {},
                "size_slug": "512mb",
                "networks": {
                  "v4": [
                    {
                      "ip_address": "104.131.186.241",
                      "netmask": "255.255.240.0",
                      "gateway": "104.131.176.1",
                      "type": "public"
                    }
                  ],
                  "v6": [
                    {
                      "ip_address": "2604:A880:0800:0010:0000:0000:031D:2001",
                      "netmask": 64,
                      "gateway": "2604:A880:0800:0010:0000:0000:0000:0001",
                      "type": "public"
                    }
                  ]
                },
                "region": {
                  "name": "New York 3",
                  "slug": "nyc3",
                  "sizes": [
                    "32gb",
                    "16gb",
                    "2gb",
                    "1gb",
                    "4gb",
                    "8gb",
                    "512mb",
                    "64gb",
                    "48gb"
                  ],
                  "features": [
                    "virtio",
                    "private_networking",
                    "backups",
                    "ipv6",
                    "metadata"
                  ],
                  "available": true
                }
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplets(inputs.dropletID).then(function(droplet) {\n          return exits.success(droplet);\n     }).error(function(error) {\n        return exits.notFound({\n            description: \"Not found.\",\n            statuscode: error.statuscode,\n            response: error.res\n        });\n     }); \n\n  ",
        "environment": [],
        "extendedDescription": "You can find documentation for this API here: https://developers.digitalocean.com/documentation/v2/ and raise issues here: Github.com/NileFrater/machinepack-digitalocean.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-get",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-get",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 349,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      },
      {
        "identity": "droplet-action",
        "variableName": "dropletAction",
        "friendlyName": "Execute Action",
        "cacheable": null,
        "sync": null,
        "description": "Actions include: disable_backups, reboot, shutdown, power_on, restore, password_reset etc",
        "inputs": {
          "token": {
            "example": "FFDFdf8f8d",
            "description": "Your DigitalOcean API token.",
            "required": true,
            "type": "string"
          },
          "dropletID": {
            "example": 7564837494,
            "description": "Droplet ID - The droplet specified will be deleted.",
            "required": true,
            "type": "number"
          },
          "action": {
            "example": "reboot",
            "description": "All actions can be found here: https://developers.digitalocean.com/documentation/v2/#droplet-actions",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "statuscode": "500",
            "response": "No response",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Could not find specified ID",
            "statuscode": "500",
            "response": "No response"
          },
          "success": {
            "description": "OK.",
            "statuscode": "200",
            "response": "Response from API v2",
            "isDefault": true
          }
        },
        "fn": "\n    // Set up our parent-wrapper\n     var Dropkit = require(\"dropkit\");\n    // And add our token found in the API section of the Digital Ocean Control panel. \n     var v2 = new Dropkit(inputs.token);\n\n     // Specify our arguments in JSON format. \n     v2.droplet.action(inputs.dropletID, inputs.action).then(function(droplet) {\n          return exits.success(droplet);\n     }).error(function(error) {\n        return exits.notFound({\n            description: \"Not found.\",\n            statuscode: error.statuscode,\n            response: error.res\n        });\n     }); \n\n  ",
        "environment": [],
        "extendedDescription": "Find a list of actions here: https://developers.digitalocean.com/documentation/v2/#droplet-actions",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean/droplet-action",
        "docsUrl": "http://node-machine.org/machinepack-digitalocean/droplet-action",
        "defaultExit": "success",
        "machinepack": 94,
        "id": 350,
        "createdAt": "2015-04-18T20:29:30.000Z",
        "updatedAt": "2015-04-23T14:39:28.000Z"
      }
    ],
    "identity": "machinepack-digitalocean",
    "version": "0.5.0",
    "latestVersionPublishedAt": "2015-04-23T00:00:00.000Z",
    "variableName": "DigitalOcean",
    "friendlyName": "Digital Ocean",
    "description": "Communicate with the DigitalOcean API to create, destroy, list and work with droplets.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://nilefrater.co.uk/css/images/rsz_do_ssd_power_badge_blue-077bf22e.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-digitalocean",
    "docsUrl": "http://node-machine.org/machinepack-digitalocean",
    "npmUrl": "http://npmjs.org/package/machinepack-digitalocean",
    "npmPackageName": "machinepack-digitalocean",
    "githubUrl": "http://github.com/nilefrater/machinepack-digitalocean/",
    "sourceUrl": "http://github.com/nilefrater/machinepack-digitalocean/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "dropkit",
        "semverRange": "^0.9.4"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 94,
    "createdAt": "2015-04-18T20:29:30.000Z",
    "updatedAt": "2015-04-23T14:39:28.000Z",
    "numMachines": 7
  },
  {
    "machines": [],
    "identity": "machinepack-document-preview",
    "version": "0.0.1",
    "latestVersionPublishedAt": "2016-06-17T00:00:00.000Z",
    "variableName": "DocumentPreview",
    "friendlyName": "Document-preview",
    "description": "Generate a png from an office document or from a pdf file. ",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-document-preview",
    "docsUrl": "http://node-machine.org/machinepack-document-preview",
    "npmUrl": "http://npmjs.org/package/machinepack-document-preview",
    "npmPackageName": "machinepack-document-preview",
    "githubUrl": "http://github.com/cedced19/machinepack-document-preview/",
    "sourceUrl": "http://github.com/cedced19/machinepack-document-preview/",
    "testsUrl": "",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "is-office",
        "semverRange": "0.0.0"
      },
      {
        "name": "machine",
        "semverRange": "^12.2.4"
      }
    ],
    "contributors": [
      {
        "name": "CÃ©dric JUNG",
        "email": "cedced19@gmail.com"
      },
      {
        "name": "cedced19",
        "email": "cedced19@gmail.com"
      }
    ],
    "id": 174,
    "createdAt": "2016-06-17T13:29:49.000Z",
    "updatedAt": "2016-06-17T13:29:49.000Z",
    "numMachines": 0
  },
  {
    "machines": [
      {
        "identity": "calculate",
        "variableName": "calculate",
        "friendlyName": "Calculate",
        "cacheable": false,
        "sync": false,
        "description": "Calculate depth of field properties",
        "inputs": {
          "coc": {
            "example": 0.032,
            "description": "Camera censor circle of confusion parameter in millimetres.",
            "required": true,
            "type": "number"
          },
          "focalLength": {
            "example": 50,
            "description": "Lens focal length parameter in millimetres.",
            "required": true,
            "type": "number"
          },
          "aperture": {
            "example": 2.8,
            "description": "Lens aperture parameter in f-stops.",
            "required": true,
            "type": "number"
          },
          "focusDistance": {
            "example": 5000,
            "description": "Distance between focus subject and the camera sensor, in millimetres.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "invalidInputParameter": {
            "description": "Invalid input on 1 or more parameters."
          },
          "success": {
            "description": "OK.",
            "example": {
              "focusLimitNear": 4245.53,
              "focusLimitFar": 6080.57,
              "dof": 1835.04,
              "hyperfocalDistance": 27904.59
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "        // NOTE:\n        // No needs to null check 'inputs' as the input requirements are set per machine definition.\n        // There are also no needs to datatype check as machine will automatically pick up expecting datatype base\n        // on example value. More on inputs: http://node-machine.org/implementing/Understanding-Inputs\n\n        if(inputs.coc <= 0) {\n            return exits.invalidInputParameter('Invalid coc supplied.');\n        }\n        if(inputs.focalLength <= 0) {\n            return exits.invalidInputParameter('Invalid focalLength supplied.');\n        }\n        if(inputs.aperture <= 0) {\n            return exits.invalidInputParameter('Invalid aperture supplied.');\n        }\n        if(inputs.focusDistance <= 0) {\n            return exits.invalidInputParameter('Invalid focusDistance supplied.');\n        }\n        if(inputs.focusDistance < inputs.focalLength) {\n            return exits.invalidInputParameter('focusDistance is smaller than focalLength.');\n        }\n\n        // Act\n        var hd = ((inputs.focalLength * inputs.focalLength) / (inputs.aperture * inputs.coc)) + inputs.aperture;\n        if(hd > inputs.focusDistance) {\n            var near = (hd * inputs.focusDistance) / (hd + inputs.focusDistance);\n            var far = (hd * inputs.focusDistance) / (hd - inputs.focusDistance);\n        } else {\n            var near = hd / 2;\n            var far = Infinity;\n        }\n\n        var output = {\n            focusLimitNear: parseInt(near),\n            focusLimitFar: parseInt(far),\n            dof: isFinite(far) ? parseInt(far - near) : Infinity,\n            hyperfocalDistance: parseInt(hd),\n        };\n\n        return exits.success(output);\n    ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-dof/calculate",
        "docsUrl": "http://node-machine.org/machinepack-dof/calculate",
        "defaultExit": null,
        "machinepack": 157,
        "id": 697,
        "createdAt": "2016-02-06T00:59:26.000Z",
        "updatedAt": "2016-02-06T10:49:56.000Z"
      }
    ],
    "identity": "machinepack-dof",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2016-02-06T00:00:00.000Z",
    "variableName": "DoF",
    "friendlyName": "DoF",
    "description": "Computes Depth of Field property of specific photoshoot attributes.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-dof",
    "docsUrl": "http://node-machine.org/machinepack-dof",
    "npmUrl": "http://npmjs.org/package/machinepack-dof",
    "npmPackageName": "machinepack-dof",
    "githubUrl": "http://github.com/rockacola/machinepack-dof/",
    "sourceUrl": "http://github.com/rockacola/machinepack-dof/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Travis Lin",
        "email": ""
      },
      {
        "name": "rockacola",
        "email": "rockacola@gmail.com"
      }
    ],
    "id": 157,
    "createdAt": "2016-02-06T00:59:26.000Z",
    "updatedAt": "2016-02-06T10:49:56.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "search",
        "variableName": "search",
        "friendlyName": "search",
        "cacheable": null,
        "sync": null,
        "description": "search",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index to search",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The search query",
            "example": "cute dogs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port."
          },
          "noSuchIndex": {
            "description": "The specified index does not exist."
          },
          "success": {
            "description": "OK.",
            "example": "[]",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\r\n    var _ = require('lodash');\r\n    var elasticsearch = require('elasticsearch');\r\n\r\n    var client = elasticsearch.Client({\r\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\r\n      log: require('../helpers/noop-logger')\r\n    });\r\n\r\n    client.search({\r\n      _source: false,\r\n      index: inputs.index,\r\n      q: inputs.query\r\n    }, function (err, body) {\r\n      if (err) {\r\n        client.close();\r\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\r\n          return exits.error(err);\r\n        }\r\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\r\n          return exits.couldNotConnect();\r\n        }\r\n        if (err.message.match(/IndexMissingException/)) {\r\n          return exits.noSuchIndex();\r\n        }\r\n        return exits.error(err);\r\n      }\r\n\r\n      var hits = [];\r\n\r\n      try {\r\n        hits = body.hits.hits;\r\n\r\n      } catch (e) {\r\n        client.close();\r\n        return exits.error(e);\r\n      }\r\n\r\n      client.close();\r\n      return exits.success(hits);\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elastic/search",
        "docsUrl": "http://node-machine.org/machines-elastic/search",
        "defaultExit": "success",
        "machinepack": 105,
        "id": 414,
        "createdAt": "2015-04-30T21:59:38.000Z",
        "updatedAt": "2015-05-07T17:39:27.000Z"
      },
      {
        "identity": "bulk",
        "variableName": "bulk",
        "friendlyName": "bulk",
        "cacheable": null,
        "sync": null,
        "description": "Perform many index/delete operations in a single API call.",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "Default index for items which don't provide one",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": false,
            "type": "string"
          },
          "type": {
            "description": "Default document type for items which don't provide one",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": false,
            "type": "string"
          },
          "actions": {
            "description": "Actions to do ! (see elastic documentation for more details)",
            "required": true,
            "typeclass": "array",
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.bulk({\n      index: inputs.index || \"default_bulk_index\",\n      type: inputs.type || \"default_bulk_type\",\n      body: inputs.actions\n    }, function (err, body) {\n      if (err) {\n        client.close();\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\n          return exits.error(err);\n        }\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\n          return exits.couldNotConnect();\n        }\n        return exits.error(err);\n      }\n      client.close();\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "http://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-bulk",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elastic/bulk",
        "docsUrl": "http://node-machine.org/machines-elastic/bulk",
        "defaultExit": "success",
        "machinepack": 105,
        "id": 451,
        "createdAt": "2015-05-05T19:09:39.000Z",
        "updatedAt": "2015-05-07T17:39:27.000Z"
      },
      {
        "identity": "searchCustom",
        "variableName": "searchCustom",
        "friendlyName": "Search custom",
        "cacheable": null,
        "sync": null,
        "description": "Search custom on Elastic Search",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index to search",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The name of the type to search",
            "extendedDescription": "",
            "example": "mytype",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The search query",
            "example": "cute dogs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {},
          "noSuchIndex": {
            "description": "The specified index does not exist."
          },
          "success": {
            "description": "OK.",
            "example": [],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.search({\n      _source: true,\n      index: inputs.index,\n      body: inputs.query,\n      type: inputs.type,\n    }, function (err, body) {\n      if (err) {\n        client.close();\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\n          return exits.error(err);\n        }\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\n          return exits.couldNotConnect();\n        }\n        if (err.message.match(/IndexMissingException/)) {\n          return exits.noSuchIndex();\n        }\n        return exits.error(err);\n      }\n\n      var hits = [];\n      try {\n        hits = body.hits.hits;\n      } catch (e) {\n        client.close();\n        return exits.error(e);\n      }\n      client.close();\n      return exits.success(hits);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elastic/searchCustom",
        "docsUrl": "http://node-machine.org/machines-elastic/searchCustom",
        "defaultExit": "success",
        "machinepack": 105,
        "id": 462,
        "createdAt": "2015-05-07T17:39:27.000Z",
        "updatedAt": "2015-05-07T17:39:27.000Z"
      },
      {
        "identity": "getAlias",
        "variableName": "getAlias",
        "friendlyName": "Get alias",
        "cacheable": null,
        "sync": null,
        "description": "Get elastic alias and see the pointed index",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "name": {
            "description": "The alias name",
            "example": "alias",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port."
          },
          "aliasNotExists": {
            "description": "The given alias does not exists."
          },
          "success": {
            "description": "OK.",
            "example": "index_1",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\r\n    var _ = require('lodash');\r\n    var elasticsearch = require('elasticsearch');\r\n\r\n    var client = elasticsearch.Client({\r\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\r\n      log: require('../helpers/noop-logger')\r\n    });\r\n\r\n    client.indices.getAlias({\r\n      name: inputs.name\r\n    }, function (err, body) {\r\n      if (err) {\r\n        client.close();\r\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\r\n          return exits.error(err);\r\n        }\r\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\r\n          return exits.couldNotConnect();\r\n        }\r\n        if (err.message.match(/missing/)) {\r\n          return exits.aliasNotExists();\r\n        }\r\n        return exits.error(err);\r\n      }\r\n\r\n      var alias = \"\";\r\n      try {\r\n        alias = Object.keys(body)[0];\r\n      } catch (e) {\r\n        client.close();\r\n        return exits.error(e);\r\n      }\r\n\r\n      client.close();\r\n      return exits.success(alias);\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elastic/getAlias",
        "docsUrl": "http://node-machine.org/machines-elastic/getAlias",
        "defaultExit": "success",
        "machinepack": 105,
        "id": 463,
        "createdAt": "2015-05-07T17:39:27.000Z",
        "updatedAt": "2015-05-07T17:39:27.000Z"
      },
      {
        "identity": "deleteByQuery",
        "variableName": "deleteByQuery",
        "friendlyName": "Delete by query",
        "cacheable": null,
        "sync": null,
        "description": "Delete by query",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index where are documents to delete",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The \"type\" of the document to delete",
            "defaultsTo": "default",
            "example": "mytype",
            "type": "string"
          },
          "query": {
            "description": "The delete query",
            "example": "{ query: { \"match_all\" : {} } }",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port."
          },
          "noSuchIndex": {
            "description": "The specified index does not exist."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var util = require('util');\r\n    var _ = require('lodash');\r\n    var elasticsearch = require('elasticsearch');\r\n\r\n    var client = elasticsearch.Client({\r\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\r\n      log: require('../helpers/noop-logger')\r\n    });\r\n\r\n    client.deleteByQuery({\r\n      index: inputs.index,\r\n      type: inputs.type||'default',\r\n      body: inputs.query\r\n    }, function (err, body) {\r\n      if (err) {\r\n        client.close();\r\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\r\n          return exits.error(err);\r\n        }\r\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\r\n          return exits.couldNotConnect();\r\n        }\r\n        if (err.message.match(/IndexMissingException/)) {\r\n          return exits.noSuchIndex();\r\n        }\r\n        return exits.error(err);\r\n      }\r\n\r\n      client.close();\r\n      return exits.success();\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elastic/deleteByQuery",
        "docsUrl": "http://node-machine.org/machines-elastic/deleteByQuery",
        "defaultExit": "success",
        "machinepack": 105,
        "id": 464,
        "createdAt": "2015-05-07T17:39:27.000Z",
        "updatedAt": "2015-05-07T17:39:27.000Z"
      },
      {
        "identity": "updateAliases",
        "variableName": "updateAliases",
        "friendlyName": "Update an alias",
        "cacheable": null,
        "sync": null,
        "description": "Perform an atomic alias swap, for a rotating index.",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "actions": {
            "description": "The search query",
            "example": "{actions: [{ remove: { index: \"response_1\", alias: \"response\" } }, { add:    { index: \"response_2\", alias: \"response\" } }] }",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port."
          },
          "noSuchIndex": {
            "description": "The specified index does not exist."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.indices.updateAliases({\n      body: inputs.actions\n    }).then(function (response) {\n      client.close();\n      return exits.success();\n    }, function errorHandler(err) {\n      client.close();\n      if (typeof err !== 'object' || typeof err.message !== 'string') {\n        return exits.error(err);\n      }\n      if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\n        return exits.couldNotConnect();\n      }\n      if (err.message.match(/IndexMissingException/)) {\n        return exits.noSuchIndex();\n      }\n      if (err.message.match(/missing/)) {\n        return exits.aliasNotExists();\n      }\n      return exits.error(err);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elastic/updateAliases",
        "docsUrl": "http://node-machine.org/machines-elastic/updateAliases",
        "defaultExit": "success",
        "machinepack": 105,
        "id": 465,
        "createdAt": "2015-05-07T17:39:27.000Z",
        "updatedAt": "2015-05-07T17:39:27.000Z"
      }
    ],
    "identity": "machines-elastic",
    "version": "0.2.1",
    "latestVersionPublishedAt": "2015-05-07T00:00:00.000Z",
    "variableName": "Elastic",
    "friendlyName": "Elastic",
    "description": "Use elastic API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machines-elastic",
    "docsUrl": "http://node-machine.org/machines-elastic",
    "npmUrl": "http://npmjs.org/package/machines-elastic",
    "npmPackageName": "machines-elastic",
    "githubUrl": "http://github.com/MythX/machines-elastic/",
    "sourceUrl": "http://github.com/MythX/machines-elastic/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "elasticsearch",
        "semverRange": "^3.1.3"
      },
      {
        "name": "lodash",
        "semverRange": "^3.5.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Antoine Moser",
        "email": ""
      },
      {
        "name": "mythx",
        "email": "mythx.gamer@gmail.com"
      }
    ],
    "id": 105,
    "createdAt": "2015-04-30T21:59:38.000Z",
    "updatedAt": "2015-05-07T17:39:27.000Z",
    "numMachines": 6
  },
  {
    "machines": [
      {
        "identity": "search",
        "variableName": "search",
        "friendlyName": "Search",
        "cacheable": null,
        "sync": null,
        "description": "Search across all indexed fields, returning the ids of the documents which match the query.",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index to search",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The search query",
            "example": "cute dogs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port, or all connections in the ES client pool are \"dead\".",
            "extendedDescription": "See http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/errors.html"
          },
          "noSuchIndex": {
            "description": "The specified index does not exist"
          },
          "success": {
            "description": "OK.",
            "example": [
              "f1913a1011-21940a0b1315-1939a193e1"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = new elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.search({\n      q: inputs.query,\n      _source : false,\n      index: inputs.index\n    }, function (err, body) {\n      if (err) {\n        client.close();\n        if (typeof err !== 'object' || typeof err.message !== 'string'){\n          return exits.error(err);\n        }\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)){\n          return exits.couldNotConnect();\n        }\n        if (err.message.match(/IndexMissingException/)){\n          return exits.noSuchIndex();\n        }\n        return exits.error(err);\n      }\n\n      // console.log(util.inspect(body, false, null));\n      var hits = [];\n\n      try {\n        hits = body.hits.hits;\n        hits = _.pluck(hits, '_id');\n      }\n      catch (e) {\n        client.close();\n        return exits.error(e);\n      }\n\n      client.close();\n      return exits.success(hits);\n    });\n  ",
        "environment": [],
        "extendedDescription": "This will perform a full-text style query across all fields. The query string supports the Lucene query parser syntax and hence filters on specific fields (e.g. fieldname:value), wildcards (e.g. abc*) as well as a variety of options.",
        "moreInfoUrl": "http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-search",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-elasticsearch/search",
        "docsUrl": "http://node-machine.org/machinepack-elasticsearch/search",
        "defaultExit": "success",
        "machinepack": 1,
        "id": 1,
        "createdAt": "2015-02-16T23:50:53.000Z",
        "updatedAt": "2015-09-13T21:50:26.000Z"
      },
      {
        "identity": "update",
        "variableName": "update",
        "friendlyName": "Update document",
        "cacheable": null,
        "sync": null,
        "description": "Update (reindex) the document with the specified unique id.",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index where the document is stored",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The \"type\" of the document to update",
            "defaultsTo": "default",
            "example": "user",
            "type": "string"
          },
          "id": {
            "description": "The unique id of the document to replace",
            "example": "lzmkDgMjTbGoacxLMsB_zA",
            "required": true,
            "type": "string"
          },
          "document": {
            "description": "The new document (a dictionary) to replace the old one",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port, or all connections in the ES client pool are \"dead\".",
            "extendedDescription": "See http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/errors.html"
          },
          "noSuchIndex": {
            "description": "The specified index does not exist"
          },
          "documentNotFound": {
            "description": "No document with the specified id and type exists in this index"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "created": {
            "description": "Document with specified id and type did not exist, so it was created.",
            "example": "lzmkDgMjTbGoacxLMsB_zA",
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = new elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.index({\n      index: inputs.index,\n      type: inputs.type||'default',\n      id: inputs.id,\n      body: {\n        doc: inputs.document\n      },\n    }, function (err, body) {\n      if (err) {\n        client.close();\n        if (typeof err !== 'object' || typeof err.message !== 'string'){\n          return exits.error(err);\n        }\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)){\n          return exits.couldNotConnect();\n        }\n        if (err.message.match(/Not Found/)) {\n          return exits.documentNotFound();\n        }\n        if (err.message.match(/IndexMissingException/)){\n          return exits.noSuchIndex();\n        }\n        return exits.error(err);\n      }\n\n      try {\n        if (body.created) {\n          // Expected response from ElasticSearch to specify `created:false`\n          // since it didn't, we inadvertently created the document.\n          client.close();\n          return exits.created(inputs.id);\n        }\n      }\n      catch (e) {\n        client.close();\n        return exits.error(e);\n      }\n\n      client.close();\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "If no document with the specified id exists, one will be created.",
        "moreInfoUrl": "http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-index",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-elasticsearch/update",
        "docsUrl": "http://node-machine.org/machinepack-elasticsearch/update",
        "defaultExit": "success",
        "machinepack": 1,
        "id": 2,
        "createdAt": "2015-02-16T23:50:53.000Z",
        "updatedAt": "2015-09-13T21:50:26.000Z"
      },
      {
        "identity": "create",
        "variableName": "create",
        "friendlyName": "Create document",
        "cacheable": null,
        "sync": null,
        "description": "Store the provided document (a dictionary), making it searchable.",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index where the document should be stored",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The \"type\" of this document",
            "defaultsTo": "default",
            "example": "user",
            "type": "string"
          },
          "document": {
            "description": "The document to store",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port, or all connections in the ES client pool are \"dead\".",
            "extendedDescription": "See http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/errors.html"
          },
          "noSuchIndex": {
            "description": "The specified index does not exist"
          },
          "success": {
            "description": "OK.",
            "example": "lzmkDgMjTbGoacxLMsB_zA",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = new elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.index({\n      index: inputs.index,\n      type: inputs.type||'default',\n      // id: '1',\n      body: {\n        doc: inputs.document\n      },\n    }, function (err, body) {\n      if (err) {\n        client.close();\n        if (typeof err !== 'object' || typeof err.message !== 'string'){\n          return exits.error(err);\n        }\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)){\n          return exits.couldNotConnect();\n        }\n        if (err.message.match(/IndexMissingException/)){\n          return exits.noSuchIndex();\n        }\n        return exits.error(err);\n      }\n\n      var id;\n      try {\n        id = body._id;\n        if (!body.created){\n          throw new Error('Expected response from ElasticSearch to specify `created:true`');\n        }\n      }\n      catch (e) {\n        client.close();\n        return exits.error(e);\n      }\n\n      client.close();\n      return exits.success(id);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-index",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-elasticsearch/create",
        "docsUrl": "http://node-machine.org/machinepack-elasticsearch/create",
        "defaultExit": "success",
        "machinepack": 1,
        "id": 3,
        "createdAt": "2015-02-16T23:50:53.000Z",
        "updatedAt": "2015-09-13T21:50:26.000Z"
      },
      {
        "identity": "destroy",
        "variableName": "destroy",
        "friendlyName": "Delete document",
        "cacheable": null,
        "sync": null,
        "description": "Delete the document with the specified unique id.",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index where the document is stored",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The \"type\" of the document to delete",
            "defaultsTo": "default",
            "example": "user",
            "type": "string"
          },
          "id": {
            "description": "The unique id of the document to delete",
            "example": "lzmkDgMjTbGoacxLMsB_zA",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port, or all connections in the ES client pool are \"dead\".",
            "extendedDescription": "See http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/errors.html"
          },
          "noSuchIndex": {
            "description": "The specified index does not exist"
          },
          "documentNotFound": {
            "description": "No document with the specified id and type exists in this index"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var elasticsearch = require('elasticsearch');\n\n    var client = new elasticsearch.Client({\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\n      log: require('../helpers/noop-logger')\n    });\n\n    client.delete({\n      index: inputs.index,\n      type: inputs.type||'default',\n      id: inputs.id\n    }, function (err, body) {\n      if (err) {\n        client.close();\n        if (typeof err !== 'object' || typeof err.message !== 'string'){\n          return exits.error(err);\n        }\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)){\n          return exits.couldNotConnect();\n        }\n        if (err.message.match(/Not Found/)) {\n          return exits.documentNotFound();\n        }\n        if (err.message.match(/IndexMissingException/)){\n          return exits.noSuchIndex();\n        }\n        return exits.error(err);\n      }\n      // console.log(body);\n\n      // try {\n      //   if (body.created) {\n      //     throw new Error('Expected response from ElasticSearch to specify `created:false`');\n      //   }\n      // }\n      // catch (e) {\n      //   client.close();\n      //   return exits.error(e);\n      // }\n\n      client.close();\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "http://www.elasticsearch.org/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-delete",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-elasticsearch/destroy",
        "docsUrl": "http://node-machine.org/machinepack-elasticsearch/destroy",
        "defaultExit": "success",
        "machinepack": 1,
        "id": 4,
        "createdAt": "2015-02-16T23:50:53.000Z",
        "updatedAt": "2015-09-13T21:50:26.000Z"
      }
    ],
    "identity": "machinepack-elasticsearch",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-09-13T00:00:00.000Z",
    "variableName": "ElasticSearch",
    "friendlyName": "ElasticSearch",
    "description": "Access the ElasticSearch API in Node.js.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-elasticsearch",
    "docsUrl": "http://node-machine.org/machinepack-elasticsearch",
    "npmUrl": "http://npmjs.org/package/machinepack-elasticsearch",
    "npmPackageName": "machinepack-elasticsearch",
    "githubUrl": "http://github.com/mikermcneil/machinepack-elasticsearch/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-elasticsearch/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "elasticsearch",
        "semverRange": "3.1.1"
      },
      {
        "name": "lodash",
        "semverRange": "^3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 1,
    "createdAt": "2015-02-16T23:50:52.000Z",
    "updatedAt": "2015-09-13T21:50:26.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "search",
        "variableName": "search",
        "friendlyName": "search",
        "cacheable": null,
        "sync": null,
        "description": "search",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index to search",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The search query",
            "example": "cute dogs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port."
          },
          "noSuchIndex": {
            "description": "The specified index does not exist."
          },
          "success": {
            "description": "OK.",
            "example": "[]",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\r\n    var _ = require('lodash');\r\n    var elasticsearch = require('elasticsearch');\r\n\r\n    var client = elasticsearch.Client({\r\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\r\n      log: require('../helpers/noop-logger')\r\n    });\r\n\r\n    client.search({\r\n      _source: false,\r\n      index: inputs.index,\r\n      q: inputs.query\r\n    }, function (err, body) {\r\n      if (err) {\r\n        client.close();\r\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\r\n          return exits.error(err);\r\n        }\r\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\r\n          return exits.couldNotConnect();\r\n        }\r\n        if (err.message.match(/IndexMissingException/)) {\r\n          return exits.noSuchIndex();\r\n        }\r\n        return exits.error(err);\r\n      }\r\n\r\n      var hits = [];\r\n\r\n      try {\r\n        hits = body.hits.hits;\r\n\r\n      } catch (e) {\r\n        client.close();\r\n        return exits.error(e);\r\n      }\r\n\r\n      client.close();\r\n      return exits.success(hits);\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elasticsearch/search",
        "docsUrl": "http://node-machine.org/machines-elasticsearch/search",
        "defaultExit": "success",
        "machinepack": 67,
        "id": 253,
        "createdAt": "2015-03-18T14:39:46.000Z",
        "updatedAt": "2015-03-18T14:39:46.000Z"
      },
      {
        "identity": "searchcustom",
        "variableName": "searchcustom",
        "friendlyName": "Search custom",
        "cacheable": null,
        "sync": null,
        "description": "Search custom on Elastic Search",
        "inputs": {
          "hostname": {
            "description": "The hostname of your ElasticSearch server",
            "example": "localhost",
            "required": true,
            "whereToGet": {
              "description": "Copy the hostname of your ElasticSearch server",
              "extendedDescription": "i.e. if you are using a hosted ElasticSearch instance at \"bae23592g23523.some-hosted-service.com\", that is your hostname.  If you are running ElasticSearch locally, this will be \"localhost\"."
            },
            "type": "string"
          },
          "port": {
            "description": "The port your ElasticSearch server is running on",
            "defaultsTo": 9200,
            "example": 9200,
            "whereToGet": {
              "description": "Copy the port of your ElasticSearch server",
              "extendedDescription": "The conventional port number for ElasticSearch servers is 9200."
            },
            "type": "number"
          },
          "index": {
            "description": "The name of the index to search",
            "extendedDescription": "An \"index\" in ElasticSearch is a lot like a \"database\" in MySQL or MongoDB.",
            "example": "myindex",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The name of the type to search",
            "extendedDescription": "",
            "example": "mytype",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The search query",
            "example": "cute dogs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to ElasticSearch at the provided hostname and port"
          },
          "noSuchIndex": {
            "description": "The specified index does not exist."
          },
          "success": {
            "description": "OK.",
            "example": [],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var util = require('util');\r\n    var _ = require('lodash');\r\n    var elasticsearch = require('elasticsearch');\r\n\r\n    var client = elasticsearch.Client({\r\n      host: util.format('%s:%d', inputs.hostname, inputs.port||9200),\r\n      log: require('../helpers/noop-logger')\r\n    });\r\n\r\n    client.search({\r\n      _source: false,\r\n      index: inputs.index,\r\n      body: inputs.query,\r\n      type: inputs.type,\r\n    }, function (err, body) {\r\n      if (err) {\r\n        client.close();\r\n        if (typeof err !== 'object' || typeof err.message !== 'string') {\r\n          return exits.error(err);\r\n        }\r\n        if (err.constructor && err.constructor.name === 'NoConnections' || err.message.match(/No Living connections/)) {\r\n          return exits.couldNotConnect();\r\n        }\r\n        if (err.message.match(/IndexMissingException/)) {\r\n          return exits.noSuchIndex();\r\n        }\r\n        return exits.error(err);\r\n      }\r\n\r\n      var hits = [];\r\n      try {\r\n        hits = body.hits.hits;\r\n      } catch (e) {\r\n        client.close();\r\n        return exits.error(e);\r\n      }\r\n      client.close();\r\n      return exits.success(hits);\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machines-elasticsearch/searchcustom",
        "docsUrl": "http://node-machine.org/machines-elasticsearch/searchcustom",
        "defaultExit": "success",
        "machinepack": 67,
        "id": 254,
        "createdAt": "2015-03-18T14:39:46.000Z",
        "updatedAt": "2015-03-18T14:39:46.000Z"
      }
    ],
    "identity": "machines-elasticsearch",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-03-18T00:00:00.000Z",
    "variableName": "ElasticSearch",
    "friendlyName": "ElasticSearch",
    "description": "Use elasticSearch API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machines-elasticsearch",
    "docsUrl": "http://node-machine.org/machines-elasticsearch",
    "npmUrl": "http://npmjs.org/package/machines-elasticsearch",
    "npmPackageName": "machines-elasticsearch",
    "githubUrl": "http://github.com/MythX/machines-elasticsearch/",
    "sourceUrl": "http://github.com/MythX/machines-elasticsearch/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "elasticsearch",
        "semverRange": "^3.1.3"
      },
      {
        "name": "lodash",
        "semverRange": "^3.5.0"
      },
      {
        "name": "machine",
        "semverRange": "^4.0.3"
      }
    ],
    "contributors": [
      {
        "name": "Antoine Moser",
        "email": ""
      },
      {
        "name": "mythx",
        "email": "mythx.gamer@gmail.com"
      }
    ],
    "id": 67,
    "createdAt": "2015-03-18T14:39:46.000Z",
    "updatedAt": "2015-03-18T14:39:46.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "send",
        "variableName": "send",
        "friendlyName": "Send email",
        "cacheable": null,
        "sync": null,
        "description": "Send an email, either in plaintext or from an HTML template.",
        "inputs": {
          "customTransport": {
            "friendlyName": "Custom transport",
            "description": "A nodemailer \"service module\" to use for sending the email.",
            "example": "nodemailer-stub-transport",
            "whereToGet": {
              "url": "https://github.com/andris9/Nodemailer#available-transports"
            },
            "required": false,
            "type": "string"
          },
          "auth": {
            "friendlyName": "Credentials",
            "description": "Authentication metadata for the provided service.",
            "extendedDescription": "e.g: `{user: 'username', pass:'password'}`",
            "whereToGet": {
              "url": "https://github.com/andris9/Nodemailer"
            },
            "example": {},
            "required": true,
            "type": "object"
          },
          "service": {
            "description": "The name of a service to use for SMTP delivery.",
            "extendedDescription": "Any of the services supported by `nodemailer` may be used.",
            "whereToGet": {
              "url": "https://github.com/andris9/nodemailer-wellknown",
              "description": "Use any of the string identifiers from the list of `nodemailer`'s \"well-known services\".",
              "extendedDescription": "Be sure to also look up and include any other necessary configuration to authenticate with the service in the `auth` dictionary."
            },
            "example": "gmail",
            "required": true,
            "type": "string"
          },
          "mail": {
            "description": "A dictionary describing your email message and associated metadata (from, to, ...).",
            "extendedDescription": "See tests/test.js for an example.",
            "whereToGet": {
              "url": "https://github.com/andris9/Nodemailer"
            },
            "example": {},
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var h = require('../lib/helper');\n    if (inputs.mail.templatesDir) {\n      h.sendWithTpl(inputs, exits);\n    } else {\n      //console.log(\"simple mail\");\n      h.sendMail(inputs, exits);\n    }\n  ",
        "environment": [],
        "extendedDescription": "This method is implemented using the `nodemailer` package, and sends emails via SMTP.\nSee `tests/test.js` for example usage.",
        "moreInfoUrl": "https://github.com/andris9/Nodemailer",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-email/send",
        "docsUrl": "http://node-machine.org/machinepack-email/send",
        "defaultExit": "success",
        "machinepack": 82,
        "id": 313,
        "createdAt": "2015-04-03T23:39:23.000Z",
        "updatedAt": "2016-07-11T11:39:44.000Z"
      }
    ],
    "identity": "machinepack-email",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2016-07-11T00:00:00.000Z",
    "variableName": "Email",
    "friendlyName": "Email",
    "description": "Simply send an email with nodemailer/email-templates (includes support for HTML email templates).",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-email",
    "docsUrl": "http://node-machine.org/machinepack-email",
    "npmUrl": "http://npmjs.org/package/machinepack-email",
    "npmPackageName": "machinepack-email",
    "githubUrl": "http://github.com/wi2/machinepack-email/",
    "sourceUrl": "http://github.com/wi2/machinepack-email/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "email-templates",
        "semverRange": "1.3.0"
      },
      {
        "name": "machine",
        "semverRange": "^12.2.5"
      },
      {
        "name": "nodemailer",
        "semverRange": "1.11.0"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": ""
      }
    ],
    "id": 82,
    "createdAt": "2015-04-03T23:39:23.000Z",
    "updatedAt": "2016-07-11T11:39:44.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "validate",
        "variableName": "validate",
        "friendlyName": "Validate email address",
        "cacheable": null,
        "sync": null,
        "description": "Determine whether or not the provided string is an email address.",
        "inputs": {
          "string": {
            "friendlyName": "Email address (maybe)",
            "example": "foo@foobar.com",
            "description": "The email address to validate.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "valid email address",
            "description": "OK.",
            "isDefault": true
          },
          "invalid": {
            "friendlyName": "not email address",
            "description": "The provided string is not an email address."
          }
        },
        "fn": "    var Validator = require('validator');\n\n    if (Validator.isEmail(inputs.string)) {\n      return exits.success();\n    }\n    return exits.invalid();\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-emailaddresses/validate",
        "docsUrl": "http://node-machine.org/machinepack-emailaddresses/validate",
        "defaultExit": "success",
        "machinepack": 59,
        "id": 235,
        "createdAt": "2015-03-17T05:29:39.000Z",
        "updatedAt": "2015-06-30T16:29:51.000Z"
      }
    ],
    "identity": "machinepack-emailaddresses",
    "version": "0.4.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Emailaddresses",
    "friendlyName": "Email addresses",
    "description": "Work with email addresses.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-emailaddresses",
    "docsUrl": "http://node-machine.org/machinepack-emailaddresses",
    "npmUrl": "http://npmjs.org/package/machinepack-emailaddresses",
    "npmPackageName": "machinepack-emailaddresses",
    "githubUrl": "http://github.com/treelinehq/machinepack-emailaddresses/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-emailaddresses/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "validator",
        "semverRange": "^3.34.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 59,
    "createdAt": "2015-03-17T05:29:39.000Z",
    "updatedAt": "2015-06-30T16:29:51.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": true,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular Facebook user account.",
        "inputs": {
          "appId": {
            "example": "215798311808508",
            "description": "The unique identifier for your Facebook app  (i.e. this is the \"App ID\" listed on your app's dashboard page in the Facebook developer portal, e.g. https://developers.facebook.com/apps/215293311518502/dashboard)",
            "required": true,
            "type": "string"
          },
          "appSecret": {
            "example": "dsg4901g0123456",
            "description": "The developer \"secret\" for your Facebook app (i.e. this is the \"App Secret\" listed on your app's dashboard page in the Facebook developer portal)",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJFObCvACVRP-V7sfemiMPBh3TWypvagfZ6aoqfwKCNcBxg8XR_skdYUe5tsY9UzX9Z_8q4mRrqaLhwSh5OHj9ORmE4ocyd-neZtdceTZjlmEVeO38UH9QOe_md7h5hy2gMhOS6TL9IBk5Guxg3O6I0WmjpFNPoj6JzWIvG9cgj7RQqxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9__tuzB0JvgqbVh-U_WW8mjwGBqsfxlNvjYwIxk4zBNAxuRJijkkn0TwyogFpZqIlkY",
            "description": "The OAuth `code` generated by Facebook and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/user/facebook/login",
            "description": "The redirect URL that was used when generating the provided `code`",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "token": "CA2Emk9XsJUIBAHB9sTF5rOdNmAXTDjiHxZaZC1GYtFZCcdYGVnLYZB7jZCvensIpGc22yEzN6CL6wtQ9LPVXTNkuP6eQoUQ0toEVPrmTTqDpj0POijBpsuZBnx7jrZCHaTw8leiZBn0R8u6gZAYZAuD77cA3tnDMYvHhrl42CnljROeC9maWoa5zbsT2TZBXdL9wEuGQDSxKqRPyajRw3P3HEK",
              "expires": "2014-11-20T20:34:26.632Z"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET projects/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: '/oauth/access_token',\n      data: {\n        'redirect_uri': inputs.callbackUrl,\n        'client_id': inputs.appId,\n        'client_secret': inputs.appSecret,\n        'code': inputs.code,\n      },\n      headers: {}\n    }, function (err, responseBody) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      // Parse Facebook Access Token from request Body\n      var token;\n      try {\n\n        return exits.success({\n          token: responseBody.match(/access_token=([a-z0-9]+)[^a-z0-9]{0,}/i)[1],\n          expires: (function getExpirationDateAsISOString (){\n            var now = new Date();\n            var secondsFromNowToExpiry = +(responseBody.match(/expires=([0-9]+)[^0-9]{0,}/i)[1]);\n            var expirationDate = new Date( (now.getTime() + (secondsFromNowToExpiry*1000)) );\n            return expirationDate.toJSON();\n          })()\n        });\n      } catch (parseError){\n        return exits.error(parseError);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebook/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-facebook/get-access-token",
        "defaultExit": "success",
        "machinepack": 3,
        "id": 7,
        "createdAt": "2015-02-16T23:50:57.000Z",
        "updatedAt": "2015-07-01T18:00:04.000Z"
      },
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get Facebook login URL",
        "cacheable": true,
        "sync": null,
        "description": "Get the URL on facebook.com that a user should visit to allow/deny the specified Facebook Developer app (i.e. your app).",
        "inputs": {
          "appId": {
            "example": "215798311808508",
            "description": "The unique identifier for your Facebook app  (i.e. this is the \"App ID\" listed on your app's dashboard page in the Facebook developer portal, e.g. https://developers.facebook.com/apps/215293311518502/dashboard)",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/user/facebook/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "permissions": {
            "example": [
              "email"
            ],
            "description": "The Facebook permissions requested by this application.  Most apps use `[\"user_friends\", \"email\", and \"public_profile\"]`.  Other permissions may be requested, but require review from Facebook before the app can be used by others. For complete reference of all such permissions, see https://developers.facebook.com/docs/facebook-login/permissions/v2.2#reference",
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "https://www.facebook.com/dialog/oauth?client_id=215798311808508&redirect_uri=http://localhost:1337/user/facebook/login&scope=email,friends",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n\n    inputs.permissions = inputs.permissions || ['email', 'public_profile', 'user_friends'];\n\n    try {\n      return exits.success(util.format(\n        'https://www.facebook.com/dialog/oauth?client_id=%s&redirect_uri=%s&scope=%s',\n        inputs.appId, inputs.callbackUrl, inputs.permissions.join(',')\n      ));\n    }\n    catch(e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your Facebook app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebook/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-facebook/get-login-url",
        "defaultExit": "success",
        "machinepack": 3,
        "id": 8,
        "createdAt": "2015-02-16T23:50:57.000Z",
        "updatedAt": "2015-07-01T18:00:04.000Z"
      },
      {
        "identity": "get-user-by-access-token",
        "variableName": "getUserByAccessToken",
        "friendlyName": "Get user by access token",
        "cacheable": true,
        "sync": null,
        "description": "Get information about the Facebook user with the specified access token.",
        "inputs": {
          "accessToken": {
            "example": "CA2Emk9XsJUIBAHB9sTF5rOdNmAXTDjiHxZaZC1GYtFZCcdYGVnLYZB7jZCvensIpGc22yEzN6CL6wtQ9LPVXTNkuP6eQoUQ0toEVPrmTTqDpj0POijBpsuZBnx7jrZCHaTw8leiZBn0R8u6gZAYZAuD77cA3tnDMYvHhrl42CnljROeC9maWoa5zbsT2TZBXdL9wEuGQDSxKqRPyajRw3P3HEK",
            "description": "The access token which allows you to do things and get information on behalf of a particular Facebook user.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "7653384",
              "email": "foobar@gzail.com",
              "first_name": "Brendan",
              "gender": "female",
              "last_name": "Eich",
              "link": "http://www.facebook.com/7653384",
              "locale": "en_US",
              "name": "Brendan Eich",
              "timezone": -6,
              "updated_time": "2014-08-16T12:07:43+0000",
              "verified": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET projects/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: '/v2.1/me',\n      data: {\n        'access_token': inputs.accessToken\n      },\n      headers: {},\n    }, function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebook/get-user-by-access-token",
        "docsUrl": "http://node-machine.org/machinepack-facebook/get-user-by-access-token",
        "defaultExit": "success",
        "machinepack": 3,
        "id": 9,
        "createdAt": "2015-02-16T23:50:57.000Z",
        "updatedAt": "2015-07-01T18:00:05.000Z"
      }
    ],
    "identity": "machinepack-facebook",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Facebook",
    "friendlyName": "Facebook",
    "description": "Communicate with Facebook to authenticate, get profile data, friends, likes, and more.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-facebook",
    "docsUrl": "http://node-machine.org/machinepack-facebook",
    "npmUrl": "http://npmjs.org/package/machinepack-facebook",
    "npmPackageName": "machinepack-facebook",
    "githubUrl": "http://github.com/irlnathan/machinepack-facebook/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-facebook/",
    "testsUrl": "https://travis-ci.org/irlnathan/machinepack-facebook",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "request",
        "semverRange": "^2.45.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 3,
    "createdAt": "2015-02-16T23:50:57.000Z",
    "updatedAt": "2015-07-01T18:00:05.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-ad-account-id",
        "variableName": "getAdAccountId",
        "friendlyName": "get ad account id",
        "cacheable": true,
        "sync": null,
        "description": "get ad account ids for a given user with an access token",
        "inputs": {
          "fbUserId": {
            "example": "509501",
            "description": "facebook user id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n      return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.fbUserId, '/adaccounts'].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n      },\n      headers: {},\n    }, function (error, responseBody) {\n      if (error) {\n        return exits.error(error);\n      }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "retrieves the ad acount id for a given user",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-ad-account-id",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-ad-account-id",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 214,
        "createdAt": "2015-03-16T07:49:31.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "get-ad-campaigns",
        "variableName": "getAdCampaigns",
        "friendlyName": "get ad campaigns",
        "cacheable": true,
        "sync": null,
        "description": "get ad campaigns for a given ad account",
        "inputs": {
          "adAccountId": {
            "example": "act_230989",
            "description": "facebook ad account id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adAccountId, '/adcampaign_groups'].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'name'\n      },\n      headers: {},\n    }, function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "retrieves the ad account id for a given user",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-ad-campaigns",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-ad-campaigns",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 216,
        "createdAt": "2015-03-16T07:49:31.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "get-ads-in-ad-set",
        "variableName": "getAdsInAdSet",
        "friendlyName": "get-ads-in-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "get ads in an ad set with standard metadata",
        "inputs": {
          "adCampaignId": {
            "example": "31231321312",
            "description": "an adcampaign is an adset",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignId, '/adgroups' ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'id,stats'\n      },\n      headers: {},\n    },\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "get ads in an ad set and standard metadata",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-ads-in-ad-set",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-ads-in-ad-set",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 217,
        "createdAt": "2015-03-16T07:49:31.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "get-ad-sets-in-campaign",
        "variableName": "getAdSetsInCampaign",
        "friendlyName": "get ad sets in campaign",
        "cacheable": true,
        "sync": null,
        "description": "get all ad sets in a campaign, and fetch standard metadata",
        "inputs": {
          "adCampaignGroupId": {
            "example": "31231321312",
            "description": "facebook adCampaignGroup is the endpoint for a campaign ",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignGroupId ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'adcampaigns{id,daily_budget,campaign_status,stats}'\n      },\n      headers: {},\n    },\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n\n      var myJson = responseBody.adcampaigns;\n      var newArray = [];\n      var len = myJson.data.length;\n      console.log(myJson.data.length);\n      for (var i=0; i<len; i++){\n        newArray.push({\n          'id' : myJson.data[i].id,\n          'daily_budget' : myJson.data[i].daily_budget,\n          'clicks' : myJson.data[i].stats.clicks,\n          'impressions' : myJson.data[i].stats.impressions\n         });\n       }\n       responseBody = newArray;\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "get all ad sets for a given campaign group, and return id, daily budget, status",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-ad-sets-in-campaign",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-ad-sets-in-campaign",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 218,
        "createdAt": "2015-03-16T07:49:31.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "get-top-ad-in-ad-set",
        "variableName": "getTopAdInAdSet",
        "friendlyName": "get-top-ad-in-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "return the best performing ad in ad set",
        "inputs": {
          "adCampaignId": {
            "example": "31231321312",
            "description": "an adcampaign is an adset",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignId, '/adgroups' ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'id,stats'\n      },\n      headers: {},\n    },\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n\n      // parse the response and create a new json object.\n      var myJson = responseBody;\n      var newArray = [];\n      var len = myJson.data.length;\n      for (var i=0; i<len; i++){\n        newArray.push({\n          'id' : myJson.data[i].id,\n          'clicks' : myJson.data[i].stats.clicks,\n          'impressions' : myJson.data[i].stats.impressions\n         });\n       }\n       newArray.sort(function(a,b){\n        return b.impressions - a.impressions;\n      }),\n      responseBody = newArray[0];\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "fetch all ads in ad set and then return top performing ad, determined by impressions served.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-top-ad-in-ad-set",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-top-ad-in-ad-set",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 219,
        "createdAt": "2015-03-16T07:49:31.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "get-campaign-overview",
        "variableName": "getCampaignOverview",
        "friendlyName": "get-campaign-overview",
        "cacheable": true,
        "sync": null,
        "description": "return the ad set data, ad data, and ad creative, for all ad sets in campaign",
        "inputs": {
          "adCampaignGroupId": {
            "example": "31231321312",
            "description": "an adcampaigngroup is a campaign",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "noCampaignsYet": {
            "example": {},
            "description": "when there are no campaigns yet in the campaign group",
            "type": "object"
          }
        },
        "fn": "    var async = require('async');\n    var doJSONRequest = require('../lib/do-request');\n\n    // fetch ad campaigns\n    return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignGroupId ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'adcampaigns{id,daily_budget,campaign_status,stats}'\n      },\n      headers: {},\n    },\n\n    // handle the response from facebook\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      console.log(responseBody);\n\n\n      if (typeof responseBody.adcampaigns === \"undefined\"){\n        return exits.noCampaignsYet({});\n      }\n      // clean up the response into a useable js object literal\n      var removeUnusedValues = [];\n      var myJson = responseBody.adcampaigns;\n      var len = myJson.data.length;\n\n\n\n      for (var i=0; i<len; i++){\n        if (myJson.data[i].daily_budget == '0' || myJson.data[i].campaign_status == 'CAMPAIGN_GROUP_PAUSED' ){\n          var campaignStatus = 'PAUSED';\n        } else {\n          var campaignStatus = myJson.data[i].campaign_status ;\n        }\n        removeUnusedValues.push({\n          'id' : myJson.data[i].id,\n          'daily_budget' : myJson.data[i].daily_budget,\n          'campaign_status' : campaignStatus,\n          'clicks' : myJson.data[i].stats.clicks,\n          'impressions' : myJson.data[i].stats.impressions\n         });\n       }\n\n      // set the resultJson, what we pass back at the end, here.\n      resultJson = {\"adCampaigns\" : removeUnusedValues };\n\n      // Now that we have the ad sets associated with the campaign id, get an array of ids for the next call\n      // prepare the array of ad campaign ids and indices for the next step in the process\n      arrayAdCampaigns = [];\n      for (var i = 0; i<resultJson.adCampaigns.length; i++){\n        arrayAdCampaigns.push({ \"id\": resultJson.adCampaigns[i].id, \"index\" : i } );\n      };\n\n      // FETCH TOP AD FOR EACH AD CAMPAIGN\n      // counter needs to be outside of the function so it can be updated by each iteration independently.\n      var counter = 0;\n      async.each(arrayAdCampaigns, function(adSet, callbackone) {\n\n        //variables\n        var doJSONRequest = require('../lib/do-request');\n\n        // api call to facebook\n        return doJSONRequest({\n          method: 'get',\n          url: ['/v2.3/', adSet.id, '/adgroups' ].join(\"\"),\n          data: {\n            'access_token': inputs.accessToken,\n            'fields' : 'id,stats'\n          },\n          headers: {},\n        },\n\n        // handle the response for looking up all the ads in a given ad set.\n        function (err, response) {\n          if (err) { return exits.error(err); }\n\n          // Stripping down the response to just the ids of the top ads\n          var newArray = [];\n          var len = response.data.length;\n\n          // if the ad set does not have a top ad, do not include it\n          for (var i=0; i<len; i++){\n            if (typeof response.data[i].id === \"undefined\") {\n            } else\n              newArray.push({\n                'id' : response.data[i].id,\n              })\n            }\n\n           // rank by impressions\n           newArray.sort(function(a,b){\n            return b.impressions - a.impressions;\n        })\n          // append the existing json with the top ad information.\n          resultJson.adCampaigns[adSet.index].topAd = newArray[0];\n          counter++;\n\n          // if all of the parallel requests have completed, call the callback function\n          if (arrayAdCampaigns.length == counter){\n            callbackone(resultJson);\n          }\n\n          function callbackone(resultJson){\n            // variables\n            // counter for the next async.each function\n            var countChoco = 0;\n            arrayAds = [];\n            // create the array of ad ids and their index in the resultJson so we can fetch more data on each, and return the data to the correct position in the resultJson\n            for (var i = 0; i<resultJson.adCampaigns.length; i++){\n              arrayAds.push({ \"id\": resultJson.adCampaigns[i].topAd.id, \"index\" : i } );\n            }\n            async.each(arrayAds, function(ad, callbacktwo){\n\n              function callbacktwo(result){\n                return exits.success(result);\n              }\n\n              return doJSONRequest({\n                method: 'get',\n                url: ['/v2.3/', ad.id ].join(\"\"),\n                data: {\n                  'access_token': inputs.accessToken,\n                  'fields' : 'adcreatives{id,image_url,object_story_spec}'\n                },\n                headers: {},\n                },\n                function (err, responseBody) {\n                  if (err) { return exits.error(err); }\n                  rb = responseBody.adcreatives.data;\n                  removeUnusedValues = []\n                  removeUnusedValues.push({\n                    'id' : rb.id,\n                    'image_url' : rb[0].image_url,\n                    'title' : rb[0].object_story_spec.link_data.name,\n                    'tagline' : rb[0].object_story_spec.link_data.message\n                  });\n\n\n                  resultJson.adCampaigns[ad.index].topAd.creatives = removeUnusedValues[0];\n                  countChoco++;\n                  if (countChoco == arrayAds.length) {\n                    callbacktwo(resultJson);\n                  }\n                }\n              ) // end of doJSONRequest\n            }) // end of async.each\n          } // end of callback\n        });\n      });\n    }); //doJSONRequest fetch ad campaigns\n  ",
        "environment": [],
        "extendedDescription": "fetch all ads in ad set and then return top performing ad, determined by impressions served.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-campaign-overview",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-campaign-overview",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 255,
        "createdAt": "2015-03-19T07:59:42.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "get-campaign-details",
        "variableName": "getCampaignDetails",
        "friendlyName": "get-campaign-details",
        "cacheable": true,
        "sync": null,
        "description": "get data about a specific ad set.",
        "inputs": {
          "adCampaignId": {
            "example": "31231321312",
            "description": "an adcampaign is an ad set",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    // fetch ad set information\n    var async = require('async');\n    var emptyResponse = require('../lib/utility');\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    return doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignId ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'targeting,id,daily_budget,campaign_status,insights{ctr,reach, spend, clicks,impressions}'\n      },\n      headers: {},\n    },\n\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      // if the insights is empty, fill the json to stay consistent with ios app model\n      if (typeof responseBody.insights == 'undefined') {\n        responseBody.insights = emptyResponse.insights;\n        return exits.success(responseBody);\n      }\n\n\n\n      var rb = responseBody;\n      var countries  = require('country-data').countries;\n      var lookup  = require('country-data').lookup;\n\n\n\n      // PARSE GENDER !\n      if (typeof rb.targeting.gender == 'undefined'){\n        rb.targeting.gender = 'all';\n      } else if (rb.targeting.gender == 1) {\n        rb.targeting.gender = 'male';\n      } else {\n        rb.targeting.gender = 'female';\n      }\n\n      locationsArray =[];\n      locations = rb.targeting.geo_locations;\n      if (typeof rb.targeting.geo_locations !== 'undefined'){\n        if (typeof locations.countries !== 'undefined') {\n          countryList = []\n          for (i = 0; i < locations.countries.length; i++) {\n            tempCountry = lookup.countries({\n              alpha2 : locations.countries[i]\n            })[0].name\n            locationsArray.push(tempCountry);\n          }\n        }\n\n        if (typeof locations.cities !== 'undefined') {\n          cleanedList = [];\n          for ( var i = 0; i < locations.cities.length; i++) {\n            locationsArray.push(locations.cities[i].name);\n          }\n        }\n        if (typeof locations.regions !== 'undefined') {\n          cleanedList = [];\n          for ( var i = 0; i < locations.regions.length; i++) {\n            locationsArray.push(locations.regions[i].name);\n          }\n        }\n      }\n\n      interestsArray =[]\n      if (typeof rb.targeting.interests !== 'undefined'){\n        rb.targeting.interests.forEach(function(value) {\n          interestsArray.push(value.name);\n        });\n      }\n\n      var newArray = [];\n\n\n      newArray.push({\n        'id' : rb.id,\n        'status' : rb.campaign_status,\n        'clicks' : rb.insights.data[0].clicks || {},\n        'daily_budget' : rb.daily_budget || 0,\n        'people' : rb.insights.data[0].reach || {},\n        'ctr' : rb.insights.data[0].ctr || {},\n        'impressions' : rb.insights.data[0].impressions,\n        \"targeting\" : {\n          'age_min' : rb.targeting.age_min,\n          'age_max' : rb.targeting.age_max,\n          'gender'  : rb.targeting.gender,\n          'interests' : interestsArray,\n          'locations' : locationsArray,\n          }\n      })\n\n      if (rb.campaign_status == \"ACTIVE\" && rb.daily_budget > 0) {\n        newArray[0].status = 'ACTIVE';\n      } else {\n        newArray[0].status = 'INCREASE DAILY SPEND TO RESUME';\n      }\n      resultJson = { \"adset\" : newArray[0] };\n\n      // fetch all ads for the ad set\n      return doJSONRequest({\n        method: 'get',\n        url: ['/v2.3/', resultJson.adset.id, '/adgroups' ].join(\"\"),\n        data: {\n         'access_token': inputs.accessToken,\n         'fields' : \"creative,adgroup_status,insights{ctr,impressions,clicks,reach}\"\n        },\n        headers: {},\n      },\n\n        function (err, response) {\n          if (err) { return exits.error(err); }\n\n          // sort by performance\n\n          response.data.sort(function(a,b){\n            return b.insights.data[0].impressions - a.insights.data[0].impressions;\n          })\n\n          cleanedResponse = [];\n          for (i = 0; i < response.data.length; i++)\n            cleanedResponse.push({\n              \"id\": response.data[i].id,\n              \"status\" : response.data[i].adgroup_status,\n              \"ctr\" : response.data[i].insights.data[0].ctr,\n              \"clicks\" : response.data[i].insights.data[0].clicks,\n              \"impressions\" : response.data[i].insights.data[0].impressions,\n              \"people\" : response.data[i].insights.data[0].reach,\n            })\n          resultJson.ads = cleanedResponse;\n\n\n      // variables\n      // counter for the next async.each function\n      var countChoco = 0;\n      arrayAds = [];\n      // create the array of ad ids and their index in the resultJson so we can fetch more data on each, and return the data to the correct position in the resultJson\n      for (var i = 0; i<resultJson.ads.length; i++){\n        arrayAds.push({ \"id\": resultJson.ads[i].id, \"index\" : i } );\n      }\n\n      async.each(arrayAds, function(ad, callbacktwo){\n        function callbacktwo(result){\n          return exits.success(result);\n        }\n        return doJSONRequest({\n          method: 'get',\n          url: ['/v2.3/', ad.id ].join(\"\"),\n          data: {\n            'access_token': inputs.accessToken,\n            'fields' : 'adcreatives{id,image_url,object_story_spec}'\n          },\n          headers: {},\n          },\n          function (err, responseBody) {\n            if (err) { return exits.error(err); }\n            rb = responseBody.adcreatives.data;\n            resultJson.ads[ad.index].creatives = {\n              \"image_url\" : rb[0].image_url,\n              \"title\" : rb[0].object_story_spec.link_data.name,\n              \"tagline\" : rb[0].object_story_spec.link_data.message,\n            }\n\n            countChoco++;\n            if (countChoco == arrayAds.length) {\n\n              // once we have finished getting all the data, split the ads into two arrays, based on active or not.\n              console.log(resultJson);\n              resultJson.disabledAds = resultJson.ads.filter( function(ad) {\n                return ad.status == 'PAUSED';\n              }),\n\n              resultJson.ads = resultJson.ads.filter( function(ad) {\n                return ad.status == 'ACTIVE' || ad.status == 'CAMPAIGN_PAUSED' || ad.status == 'CAMPAIGN_GROUP_PAUSED' ;\n              }),\n\n              callbacktwo(resultJson);\n            }\n          }\n        ) // end of doJSONRequest\n      }) // end of async each\n    }) // end function (err, responseBody)\n          }) // end of doJsonRequest()\n  ",
        "environment": [],
        "extendedDescription": "get data about a specific ad set",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/get-campaign-details",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/get-campaign-details",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 287,
        "createdAt": "2015-03-28T15:59:43.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "create-ad-set",
        "variableName": "createAdSet",
        "friendlyName": "create-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "create an ad set and the creative",
        "inputs": {
          "adAccount": {
            "example": "12314231231232",
            "description": "facebook user ad account",
            "required": true,
            "type": "string"
          },
          "fbUserId": {
            "example": "509503",
            "description": "facebook user id",
            "required": true,
            "type": "string"
          },
          "campaignGroupId": {
            "example": "3213213124",
            "description": "woo campaign group id",
            "required": true,
            "type": "string"
          },
          "fbPageId": {
            "example": "2313212421",
            "description": "fb page for the ad",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          },
          "images": {
            "example": [
              "1jk3l21",
              "1231231kjld123"
            ],
            "description": "an array of image_hashes returned by facebook",
            "required": true,
            "type": "array"
          },
          "titles": {
            "example": [
              "this is a sample title",
              "second sample title"
            ],
            "description": "an array of title strings",
            "required": true,
            "type": "array"
          },
          "captions": {
            "example": [
              "test caption",
              "second test caption"
            ],
            "description": "an array of caption strings",
            "required": true,
            "type": "array"
          },
          "url": {
            "example": "http://www.example.com",
            "description": "url target of the ad campaign",
            "required": true,
            "type": "string"
          },
          "gender": {
            "example": 1,
            "description": "integer",
            "required": true,
            "type": "number"
          },
          "locations": {
            "example": {},
            "description": "a dictionary of locations",
            "required": true,
            "type": "object"
          },
          "interests": {
            "example": [],
            "description": "an array of interests as strings",
            "required": true,
            "type": "array"
          },
          "age_min": {
            "example": "18",
            "description": "minimum age",
            "required": true,
            "type": "string"
          },
          "age_max": {
            "example": "19",
            "description": "maximum age",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    // VARIABLES\n    var doJSONRequest = require('../lib/do-request');\n    var async = require('async');\n    var generateAdCombinations = require('../lib/generateAdCombinations');\n\n    // VARIABLE CLEANING\n    // prefix ad account with act_\n    account = ['act_', inputs.adAccount].join(\"\");\n    if (inputs.gender == 0) {\n      inputs.gender = [];\n    } else if (inputs.gender == 1) {\n      inputs.gender = [1];\n    } else {\n      inputs.gender = [2];\n    }\n\n    // create the AD SET\n    return doJSONRequest({\n      method: 'post',\n      url: ['/v2.3/', account, '/adcampaigns' ].join(\"\"),\n      data: {\n        'name' : ['AdRocket', ' - ', Date.now()].join(\"\"),\n        'campaign_group_id' : inputs.campaignGroupId,\n        'campaign_status' : 'PAUSED',\n        'bid_type' : 'ABSOLUTE_OCPM' ,\n        'bid_info' : {\"REACH\" : 100, \"CLICKS\" : 200},\n        'daily_budget' : '2500',\n        // 'end_time': 0,\n        'access_token': inputs.accessToken, // trying no start time to see if it goes immediately and no problems\n        'targeting' : {\n          'page_types': ['feed'],\n          'geo_locations': inputs.locations,\n          'genders': [2],\n          'interests': inputs.interests,\n          'age_min' : inputs.age_min,\n          'age_max': inputs.age_max,\n          },\n      },\n      headers: {},\n    },\n\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n\n\n      // CREATE THE AD CREATIVES\n\n      adSetId = responseBody.id;\n\n      // GENERATING THE AD CREATIVE COMBINATIONS\n      adCollection = generateAdCombinations(inputs.titles, inputs.captions, inputs.images)\n\n      // CREATE AD CREATIVE AND AD AND ASSIGN TO AD SET\n      ads = []; // store the AdIds in this array\n      countChoco = 0;\n\n      async.each(adCollection, function(creative, callback){\n        function callback(result){\n          if (err) { return exits.error(err);\n          } else {\n          return exits.success(result);\n          }\n        };\n\n        return doJSONRequest({\n          method: 'post',\n          url: ['/v2.3/', account, '/adcreatives' ].join(\"\"),\n          data: {\n            'access_token' : inputs.accessToken,\n            'name' : 'test ad',\n            'object_story_spec' : {\n              \"page_id\" : inputs.fbPageId,\n              \"link_data\" : {\n                \"message\" : creative.title,\n                \"link\" : inputs.url,\n                \"caption\" : creative.caption,\n                \"image_hash\" : creative.image,\n              }\n            }\n          },\n          headers: {},\n        },\n        // Response from Ad Set Creation\n        function (err, responseBody) {\n          if (err) {\n            console.log(err);\n            return exits.error(err); }\n          // Variables\n          adCreativeId = responseBody.id;\n\n          // Now go create the ad, tying the ad creative together with the ad set\n\n          return doJSONRequest({\n            method: 'post',\n            url: ['/v2.3/', account, '/adgroups' ].join(\"\"),\n            data: {\n              'campaign_id': adSetId,\n              'name' : ['AdRocket', '-', Date.now()].join(\"\"),\n              'access_token' : inputs.accessToken,\n              'creative' : {\n                'creative_id' : adCreativeId,\n              }\n            },\n            headers: {},\n          },\n          function (err, responseBody) {\n            if (err) {\n              console.log(err);\n              return exits.error(err); }\n\n            countChoco++;\n            ads.push(responseBody.id);\n            if (countChoco == adCollection.length) {\n              callback(ads);\n            }\n          })\n        }\n        )\n      });\n    })\n  ",
        "environment": [],
        "extendedDescription": "return a paused campaign",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/create-ad-set",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/create-ad-set",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 452,
        "createdAt": "2015-05-07T06:19:27.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "update-ad-set",
        "variableName": "updateAdSet",
        "friendlyName": "update-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "update an ad set",
        "inputs": {
          "adCampaignId": {
            "example": "3213213124",
            "description": "this is the Ad Set Id",
            "required": true,
            "type": "string"
          },
          "dailyBudget": {
            "example": "100",
            "description": "daily budget, string, in cents",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "example": {},
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          },
          "budgetError": {
            "example": {},
            "description": "minimum budget needs to be greater than 100 cents. However, 0 is an acceptable value.",
            "type": "object"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // fetch ad set information\n    var doJSONRequest = require('../lib/do-request');\n    if (inputs.dailyBudget < 100 && inputs.dailyBudget != 0){\n      console.log('minimum budget needs to be greater than 100 cents. However, 0 is an acceptable value.');\n      return exits.budgetError();\n    }\n    // if budget is set to 0, then pause the campaign.\n    if (inputs.dailyBudget == 0) {\n\n    return  doJSONRequest({\n        method: 'post',\n        url: ['/v2.3/', inputs.adCampaignId ].join(\"\"),\n        data: {\n          'access_token': inputs.accessToken,\n          'campaign_status' : 'PAUSED',\n        },\n        headers: {},\n      },\n\n      function (err, responseBody) {\n        if (err) { return exits.error(err); }\n        responseBody = 'campaign paused';\n        return exits.success(responseBody);\n      });\n    } // end if\n    else {\n    return doJSONRequest({\n      method: 'post',\n      url: ['/v2.3/', inputs.adCampaignId ].join(\"\"),\n      data: {\n        'daily_budget' : inputs.dailyBudget,\n        'access_token': inputs.accessToken,\n        'campaign_status' : 'ACTIVE',\n      },\n      headers: {},\n    },\n\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success('changed daily budget');\n      console.log(responseBody)\n    });\n    }\n  ",
        "environment": [],
        "extendedDescription": "changes an ad set",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/update-ad-set",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/update-ad-set",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 528,
        "createdAt": "2015-05-20T18:09:48.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      },
      {
        "identity": "create-campaign",
        "variableName": "createCampaign",
        "friendlyName": "create-campaign",
        "cacheable": true,
        "sync": null,
        "description": "create a facebook campaign",
        "inputs": {
          "fbUserId": {
            "example": "509503",
            "description": "facebook user id",
            "required": true,
            "type": "string"
          },
          "fbPageId": {
            "example": "3213213124",
            "description": "facebook page id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "example": {},
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // fetch ad set information\n    var doJSONRequest = require('../lib/do-request');\n\n    getAdAccountId = require('machine').build(require('./get-ad-account-id'));\n    getPageName = require('machine').build(require('./get-page'));\n\n    getAdAccountId({\n      \"fbUserId\" : inputs.fbUserId,\n      \"accessToken\" : inputs.accessToken\n    }).exec({\n      error: function(error){\n        return exits.error(error);\n      },\n\n      success: function(account_id){\n        // get the page name of the page id param\n        getPageName({\n          \"fbPageId\" : inputs.fbPageId,\n          \"accessToken\" : inputs.accessToken\n        }).exec({\n          error: function(error){\n            console.log(error);\n            return exits.error(error);\n          },\n\n          success: function(page){\n            return doJSONRequest({\n              method: 'post',\n              url: ['/v2.3/', account_id.data[0].id, '/adcampaign_groups' ].join(\"\"),\n              data: {\n                'name' : ['AdRocket - ', page.name].join(\"\"),\n                'objective' : 'WEBSITE_CLICKS',\n                'campaign_group_status' : 'PAUSED',\n                'access_token': inputs.accessToken\n\n              },\n              headers: {},\n            },\n\n            function (err, responseBody) {\n              if (err) { return exits.error(err); }\n              return exits.success(responseBody);\n            });\n          }\n        })\n      }\n    })// success function find account id\n  ",
        "environment": [],
        "extendedDescription": "create facebook campaign and return campaignGroupId",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads/create-campaign",
        "docsUrl": "http://node-machine.org/machinepack-facebookads/create-campaign",
        "defaultExit": "success",
        "machinepack": 53,
        "id": 620,
        "createdAt": "2015-06-30T08:39:31.000Z",
        "updatedAt": "2015-07-22T09:29:42.000Z"
      }
    ],
    "identity": "machinepack-facebookads",
    "version": "1.5.0",
    "latestVersionPublishedAt": "2015-07-22T00:00:00.000Z",
    "variableName": "FacebookAds",
    "friendlyName": "Facebook-Ads",
    "description": "interact with the facebook marketing api",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-facebookads",
    "docsUrl": "http://node-machine.org/machinepack-facebookads",
    "npmUrl": "http://npmjs.org/package/machinepack-facebookads",
    "npmPackageName": "machinepack-facebookads",
    "githubUrl": "http://github.com/CTres/machinepack-facebookads/",
    "sourceUrl": "http://github.com/CTres/machinepack-facebookads/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "country-data",
        "semverRange": "^0.0.19"
      }
    ],
    "contributors": [
      {
        "name": "ctres",
        "email": "treseler@gmail.com"
      }
    ],
    "id": 53,
    "createdAt": "2015-03-16T07:49:31.000Z",
    "updatedAt": "2015-07-22T09:29:42.000Z",
    "numMachines": 10
  },
  {
    "machines": [
      {
        "identity": "get-ad-account-id",
        "variableName": "getAdAccountId",
        "friendlyName": "get ad account id",
        "cacheable": true,
        "sync": null,
        "description": "get ad account ids for a given user with an access token",
        "inputs": {
          "fbUserId": {
            "example": "509501",
            "description": "facebook user id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.fbUserId, '/adaccounts'].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n      },\n      headers: {},\n    }, function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "retrieves the ad acount id for a given user",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-account-id",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-account-id",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 602,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-first-campaign-id-for-given-campaign-name",
        "variableName": "getFirstCampaignIdForGivenCampaignName",
        "friendlyName": "get first campaign id for given campaign name",
        "cacheable": true,
        "sync": null,
        "description": "look up a campaign by name",
        "inputs": {
          "adAccountId": {
            "example": "act_230989",
            "description": "facebook ad account id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          },
          "adCampaignName": {
            "example": "WOO:(null)",
            "description": "the name of an individual campaign on facebook",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adAccountId, '/adcampaign_groups'].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'name'\n      },\n      headers: {},\n    },\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      for (var i in responseBody.data) {\n        if (responseBody.data[i].name == inputs.adCampaignName) {\n            return exits.success(responseBody.data[i].id);\n        }\n        }\n      return exits.error('no campaign found by that name');\n    });\n  ",
        "environment": [],
        "extendedDescription": "for a given campaign name, retrieve the campaign id ",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-first-campaign-id-for-given-campaign-name",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-first-campaign-id-for-given-campaign-name",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 603,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-ad-campaigns",
        "variableName": "getAdCampaigns",
        "friendlyName": "get ad campaigns",
        "cacheable": true,
        "sync": null,
        "description": "get ad campaigns for a given ad account",
        "inputs": {
          "adAccountId": {
            "example": "act_230989",
            "description": "facebook ad account id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n    var fields = inputs.fields || 'name';\n    var data = {\n      'access_token': inputs.accessToken,\n      'fields': fields\n    };\n    if (inputs.queries) {\n      for (var i in inputs.queries) {\n        data[i] = inputs.queries[i];\n      }\n    }\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adAccountId, '/adcampaign_groups'].join(\"\"),\n      data: data,\n      headers: {},\n    }, function(err, responseBody) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "retrieves the ad account id for a given user",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-campaigns",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-campaigns",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 604,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-ads-in-ad-set",
        "variableName": "getAdsInAdSet",
        "friendlyName": "get-ads-in-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "get ads in an ad set with standard metadata",
        "inputs": {
          "adCampaignId": {
            "example": "31231321312",
            "description": "an adcampaign is an adset",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n    var fields = inputs.fields || 'id,stats,name,adgroup_status';\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignId, '/adgroups' ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : fields\n      },\n      headers: {},\n    },\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "get ads in an ad set and standard metadata",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ads-in-ad-set",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ads-in-ad-set",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 605,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-ad-sets-in-campaign",
        "variableName": "getAdSetsInCampaign",
        "friendlyName": "get ad sets in campaign",
        "cacheable": true,
        "sync": null,
        "description": "get all ad sets in a campaign, and fetch standard metadata",
        "inputs": {
          "adCampaignGroupId": {
            "example": "31231321312",
            "description": "facebook adCampaignGroup is the endpoint for a campaign ",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n    var fields = inputs.fields || 'adcampaigns{id,campaign_group_id,campaign_status,daily_budget,lifetime_budget,name,stats}';\n    var data = {\n      'access_token': inputs.accessToken,\n      'fields': fields\n    };\n    if (inputs.queries) {\n      for (var i in inputs.queries) {\n        data[i] = inputs.queries[i];\n      }\n    }\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n        method: 'get',\n        url: ['/v2.3/', inputs.adCampaignGroupId].join(\"\"),\n        data: data,\n        headers: {},\n      },\n      function(err, responseBody) {\n        if (err) {\n          return exits.error(err);\n        }\n\n        var myJson = responseBody.adcampaigns;\n        var newArray = [];\n        var len = myJson.data.length;\n        for (var i = 0; i < len; i++) {\n          newArray.push({\n            'id': myJson.data[i].id,\n            'name': myJson.data[i].name,\n            'campaign_group_id': myJson.data[i].campaign_group_id,\n            'daily_budget': myJson.data[i].daily_budget,\n            'lifetime_budget': myJson.data[i].lifetime_budget,\n            'campaign_status': myJson.data[i].campaign_status,\n            'stats': myJson.data[i].stats\n          });\n        }\n        responseBody = newArray;\n        return exits.success(responseBody);\n      });\n  ",
        "environment": [],
        "extendedDescription": "get all ad sets for a given campaign group, and return id, daily budget, status",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-sets-in-campaign",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-sets-in-campaign",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 606,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-top-ad-in-ad-set",
        "variableName": "getTopAdInAdSet",
        "friendlyName": "get-top-ad-in-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "return the best performing ad in ad set",
        "inputs": {
          "adCampaignId": {
            "example": "31231321312",
            "description": "an adcampaign is an adset",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignId, '/adgroups' ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'id,stats'\n      },\n      headers: {},\n    },\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n\n      // parse the response and create a new json object.\n      var myJson = responseBody;\n      var newArray = [];\n      var len = myJson.data.length;\n      for (var i=0; i<len; i++){\n        newArray.push({\n          'id' : myJson.data[i].id,\n          'clicks' : myJson.data[i].stats.clicks,\n          'impressions' : myJson.data[i].stats.impressions\n         });\n       }\n       newArray.sort(function(a,b){\n        return b.impressions - a.impressions;\n      }),\n      responseBody = newArray[0];\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "fetch all ads in ad set and then return top performing ad, determined by impressions served.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-top-ad-in-ad-set",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-top-ad-in-ad-set",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 607,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-ad-creative-by-adgroup-id",
        "variableName": "getAdCreativeByAdgroupId",
        "friendlyName": "get-ad-creative-by-adgroup-id",
        "cacheable": true,
        "sync": true,
        "description": "return the ad creative and some metadata",
        "inputs": {
          "adGroupId": {
            "example": "31231321312",
            "description": "an ad is called adgroup by facebook",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n    var fields = inputs.fields || 'adcreatives{title,body,object_url}';\n    //GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adGroupId ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : fields\n      },\n      headers: {},\n      },\n      function (err, responseBody) {\n        if (err) { return exits.error(err); }\n        return exits.success(responseBody);\n      }\n    )\n  ",
        "environment": [],
        "extendedDescription": "get the ad creative associated with the ad (adgroup)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-creative-by-adgroup-id",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-ad-creative-by-adgroup-id",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 608,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-campaign-overview",
        "variableName": "getCampaignOverview",
        "friendlyName": "get-campaign-overview",
        "cacheable": true,
        "sync": null,
        "description": "return the ad set data, ad data, and ad creative, for all ad sets in campaign",
        "inputs": {
          "adCampaignGroupId": {
            "example": "31231321312",
            "description": "an adcampaigngroup is a campaign",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "noCampaignsYet": {
            "example": {},
            "description": "when there are no campaigns yet in the campaign group",
            "type": "object"
          }
        },
        "fn": "    var async = require('async');\n    var doJSONRequest = require('../lib/do-request');\n\n    // fetch ad campaigns\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignGroupId ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'adcampaigns{id,daily_budget,campaign_status,stats}'\n      },\n      headers: {},\n    },\n\n    // handle the response from facebook\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      if (typeof responseBody.adcampaigns === \"undefined\"){\n        return exits.noCampaignsYet({});\n      }\n      // clean up the response into a useable js object literal\n      var removeUnusedValues = [];\n      var myJson = responseBody.adcampaigns;\n      var len = myJson.data.length;\n\n\n\n      for (var i=0; i<len; i++){\n        if (myJson.data[i].daily_budget == '0'){\n          var campaignStatus = 'PAUSED';\n        } else {\n          var campaignStatus = myJson.data[i].campaign_status ;\n        }\n        removeUnusedValues.push({\n          'id' : myJson.data[i].id,\n          'daily_budget' : myJson.data[i].daily_budget,\n          'campaign_status' : campaignStatus,\n            'clicks' : myJson.data[i].stats.clicks,\n          'impressions' : myJson.data[i].stats.impressions\n         });\n       }\n\n      // set the resultJson, what we pass back at the end, here.\n      resultJson = {\"adCampaigns\" : removeUnusedValues };\n\n      // Now that we have the ad sets associated with the campaign id, get an array of ids for the next call\n      // prepare the array of ad campaign ids and indices for the next step in the process\n      arrayAdCampaigns = [];\n      for (var i = 0; i<resultJson.adCampaigns.length; i++){\n        arrayAdCampaigns.push({ \"id\": resultJson.adCampaigns[i].id, \"index\" : i } );\n      };\n\n      // FETCH TOP AD FOR EACH AD CAMPAIGN\n      // counter needs to be outside of the function so it can be updated by each iteration independently.\n      var counter = 0;\n      async.each(arrayAdCampaigns, function(adSet, callbackone) {\n\n        //variables\n        var doJSONRequest = require('../lib/do-request');\n\n        // api call to facebook\n        doJSONRequest({\n          method: 'get',\n          url: ['/v2.3/', adSet.id, '/adgroups' ].join(\"\"),\n          data: {\n            'access_token': inputs.accessToken,\n            'fields' : 'id,stats'\n          },\n          headers: {},\n        },\n\n        // handle the response for looking up all the ads in a given ad set.\n        function (err, response) {\n          if (err) { return exits.error(err); }\n\n          // PARSING RESPONSE INTO THE CORRECT FORMAT\n          var newArray = [];\n          var len = response.data.length;\n          for (var i=0; i<len; i++){\n            newArray.push({\n              'id' : response.data[i].id,\n            });\n          }\n\n           // rank by impressions\n           newArray.sort(function(a,b){\n            return b.impressions - a.impressions;\n        })\n\n          // append the existing json with the top ad information.\n          resultJson.adCampaigns[adSet.index].topAd = newArray[0] ;\n          counter++;\n\n          // if all of the parallel requests have completed, call the callback function\n          if (arrayAdCampaigns.length == counter){\n            callbackone(resultJson);\n          }\n\n          function callbackone(resultJson){\n            // variables\n            // counter for the next async.each function\n            var countChoco = 0;\n            arrayAds = [];\n            // create the array of ad ids and their index in the resultJson so we can fetch more data on each, and return the data to the correct position in the resultJson\n            for (var i = 0; i<resultJson.adCampaigns.length; i++){\n              arrayAds.push({ \"id\": resultJson.adCampaigns[i].topAd.id, \"index\" : i } );\n            }\n            async.each(arrayAds, function(ad, callbacktwo){\n\n              function callbacktwo(result){\n                return exits.success(result);\n              }\n\n              doJSONRequest({\n                method: 'get',\n                url: ['/v2.3/', ad.id ].join(\"\"),\n                data: {\n                  'access_token': inputs.accessToken,\n                  'fields' : 'adcreatives{id,image_url,object_story_spec}'\n                },\n                headers: {},\n                },\n                function (err, responseBody) {\n                  if (err) { return exits.error(err); }\n                  rb = responseBody.adcreatives.data;\n                  removeUnusedValues = []\n                  removeUnusedValues.push({\n                    'id' : rb.id,\n                    'image_url' : rb[0].image_url,\n                    'title' : rb[0].object_story_spec.link_data.name,\n                    'tagline' : rb[0].object_story_spec.link_data.message\n                  });\n\n\n                  resultJson.adCampaigns[ad.index].topAd.creatives = removeUnusedValues[0];\n                  countChoco++;\n                  if (countChoco == arrayAds.length) {\n                    callbacktwo(resultJson);\n                  }\n                }\n              ) // end of doJSONRequest\n            }) // end of async.each\n          } // end of callback\n        });\n      });\n    }); //doJSONRequest fetch ad campaigns\n  ",
        "environment": [],
        "extendedDescription": "fetch all ads in ad set and then return top performing ad, determined by impressions served.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-campaign-overview",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-campaign-overview",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 609,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "get-campaign-details",
        "variableName": "getCampaignDetails",
        "friendlyName": "get-campaign-details",
        "cacheable": true,
        "sync": null,
        "description": "get data about a specific ad set.",
        "inputs": {
          "adCampaignId": {
            "example": "31231321312",
            "description": "an adcampaign is an ad set",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    // fetch ad set information\n    var async = require('async');\n    var emptyResponse = require('../lib/utility');\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET ad accounts/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: ['/v2.3/', inputs.adCampaignId ].join(\"\"),\n      data: {\n        'access_token': inputs.accessToken,\n        'fields' : 'targeting,id,daily_budget,campaign_status,insights{ctr,reach, spend, clicks,impressions}'\n      },\n      headers: {},\n    },\n\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      // if the insights is empty, fill the json to stay consistent with ios app model\n      if (typeof responseBody.insights == 'undefined') {\n        responseBody.insights = emptyResponse.insights;\n        return exits.success(responseBody);\n      }\n\n\n\n      var rb = responseBody;\n      var countries  = require('country-data').countries;\n      var lookup  = require('country-data').lookup;\n\n\n\n      // PARSE GENDER !\n      if (typeof rb.targeting.gender == 'undefined'){\n        rb.targeting.gender = 'all';\n      } else if (rb.targeting.gender == 1) {\n        rb.targeting.gender = 'male';\n      } else {\n        rb.targeting.gender = 'female';\n      }\n\n      locationsArray =[];\n      locations = rb.targeting.geo_locations;\n      if (typeof rb.targeting.geo_locations !== 'undefined'){\n        if (typeof locations.countries !== 'undefined') {\n          countryList = []\n          for (i = 0; i < locations.countries.length; i++) {\n            tempCountry = lookup.countries({\n              alpha2 : locations.countries[i]\n            })[0].name\n            locationsArray.push(tempCountry);\n          }\n        }\n\n        if (typeof locations.cities !== 'undefined') {\n          cleanedList = [];\n          for ( var i = 0; i < locations.cities.length; i++) {\n            locationsArray.push(locations.cities[i].name);\n          }\n        }\n        if (typeof locations.regions !== 'undefined') {\n          cleanedList = [];\n          for ( var i = 0; i < locations.regions.length; i++) {\n            locationsArray.push(locations.regions[i].name);\n          }\n        }\n      }\n\n      interestsArray =[]\n      if (typeof rb.targeting.interests !== 'undefined'){\n        rb.targeting.interests.forEach(function(value) {\n          interestsArray.push(value.name);\n        });\n      }\n\n      var newArray = [];\n\n\n      newArray.push({\n        'id' : rb.id,\n        'status' : rb.campaign_status,\n        'clicks' : rb.insights.data[0].clicks || {},\n        'daily_budget' : rb.daily_budget || 0,\n        'people' : rb.insights.data[0].reach || {},\n        'ctr' : rb.insights.data[0].ctr || {},\n        'impressions' : rb.insights.data[0].impressions,\n        \"targeting\" : {\n          'age_min' : rb.targeting.age_min,\n          'age_max' : rb.targeting.age_max,\n          'gender'  : rb.targeting.gender,\n          'interests' : interestsArray,\n          'locations' : locationsArray,\n          }\n      })\n\n      if (rb.campaign_status == \"ACTIVE\" && rb.daily_budget > 0) {\n        newArray[0].status = 'ACTIVE';\n      } else {\n        newArray[0].status = 'INCREASE DAILY SPEND TO RESUME';\n      }\n      resultJson = { \"adset\" : newArray[0] };\n\n      // fetch all ads for the ad set\n      doJSONRequest({\n        method: 'get',\n        url: ['/v2.3/', resultJson.adset.id, '/adgroups' ].join(\"\"),\n        data: {\n         'access_token': inputs.accessToken,\n         'fields' : \"creative,adgroup_status,insights{ctr,impressions,clicks,reach}\"\n        },\n        headers: {},\n      },\n\n        function (err, response) {\n          if (err) { return exits.error(err); }\n\n          // sort by performance\n\n          response.data.sort(function(a,b){\n            return b.insights.data[0].impressions - a.insights.data[0].impressions;\n          })\n\n          cleanedResponse = [];\n          for (i = 0; i < response.data.length; i++)\n            cleanedResponse.push({\n              \"id\": response.data[i].id,\n              \"status\" : response.data[i].adgroup_status,\n              \"ctr\" : response.data[i].insights.data[0].ctr,\n              \"clicks\" : response.data[i].insights.data[0].clicks,\n              \"impressions\" : response.data[i].insights.data[0].impressions,\n              \"people\" : response.data[i].insights.data[0].reach,\n            })\n          resultJson.ads = cleanedResponse;\n\n\n      // variables\n      // counter for the next async.each function\n      var countChoco = 0;\n      arrayAds = [];\n      // create the array of ad ids and their index in the resultJson so we can fetch more data on each, and return the data to the correct position in the resultJson\n      for (var i = 0; i<resultJson.ads.length; i++){\n        arrayAds.push({ \"id\": resultJson.ads[i].id, \"index\" : i } );\n      }\n\n      async.each(arrayAds, function(ad, callbacktwo){\n        function callbacktwo(result){\n          return exits.success(result);\n        }\n        doJSONRequest({\n          method: 'get',\n          url: ['/v2.3/', ad.id ].join(\"\"),\n          data: {\n            'access_token': inputs.accessToken,\n            'fields' : 'adcreatives{id,image_url,object_story_spec}'\n          },\n          headers: {},\n          },\n          function (err, responseBody) {\n            if (err) { return exits.error(err); }\n            rb = responseBody.adcreatives.data;\n            resultJson.ads[ad.index].creatives = {\n              \"image_url\" : rb[0].image_url,\n              \"title\" : rb[0].object_story_spec.link_data.name,\n              \"tagline\" : rb[0].object_story_spec.link_data.message,\n            }\n\n            countChoco++;\n            if (countChoco == arrayAds.length) {\n\n              // once we have finished getting all the data, split the ads into two arrays, based on active or not.\n              console.log(resultJson);\n              resultJson.disabledAds = resultJson.ads.filter( function(ad) {\n                return ad.status == 'PAUSED';\n              }),\n\n              resultJson.ads = resultJson.ads.filter( function(ad) {\n                return ad.status == 'ACTIVE' || ad.status == 'CAMPAIGN_PAUSED' || ad.status == 'CAMPAIGN_GROUP_PAUSED' ;\n              }),\n\n              callbacktwo(resultJson);\n            }\n          }\n        ) // end of doJSONRequest\n      }) // end of async each\n    }) // end function (err, responseBody)\n          }) // end of doJsonRequest()\n  ",
        "environment": [],
        "extendedDescription": "get data about a specific ad set",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/get-campaign-details",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/get-campaign-details",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 610,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "create-campaign",
        "variableName": "createCampaign",
        "friendlyName": "create-campaign",
        "cacheable": true,
        "sync": null,
        "description": "create a facebook campaign",
        "inputs": {
          "fbUserId": {
            "example": "509503",
            "description": "facebook user id",
            "required": true,
            "type": "string"
          },
          "fbPageId": {
            "example": "3213213124",
            "description": "facebook page id",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "example": {},
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // fetch ad set information\n    var doJSONRequest = require('../lib/do-request');\n\n    getAdAccountId = require('machine').build(require('./get-ad-account-id'));\n    getPageName = require('machine').build(require('./get-page'));\n\n    getAdAccountId({\n      \"fbUserId\" : inputs.fbUserId,\n      \"accessToken\" : inputs.accessToken\n    }).exec({\n      error: function(error){\n        return exits.error(error);\n      },\n\n      success: function(account_id){\n        // get the page name of the page id param\n        getPageName({\n          \"fbPageId\" : inputs.fbPageId,\n          \"accessToken\" : inputs.accessToken\n        }).exec({\n          error: function(error){\n            console.log(error);\n            return exits.error(error);\n          },\n\n          success: function(page){\n            doJSONRequest({\n              method: 'post',\n              url: ['/v2.3/', account_id.data[0].id, '/adcampaign_groups' ].join(\"\"),\n              data: {\n                'name' : ['Woos - ', page.name].join(\"\"),\n                'objective' : 'WEBSITE_CONVERSIONS',\n                'campaign_group_status' : 'PAUSED',\n                'access_token': inputs.accessToken\n\n              },\n              headers: {},\n            },\n\n            function (err, responseBody) {\n              if (err) { return exits.error(err); }\n              return exits.success(responseBody);\n            });\n          }\n        })\n      }\n    })// success function find account id\n  ",
        "environment": [],
        "extendedDescription": "create facebook campaign and return campaignGroupId",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/create-campaign",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/create-campaign",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 611,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "create-ad-set",
        "variableName": "createAdSet",
        "friendlyName": "create-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "create an ad set and the creative",
        "inputs": {
          "fbUserId": {
            "example": "509503",
            "description": "facebook user id",
            "required": true,
            "type": "string"
          },
          "adCampaignGroupId": {
            "example": "3213213124",
            "description": "woo campaign group id",
            "required": true,
            "type": "string"
          },
          "adImages": {
            "example": "['fadlk3421jkl;rehui234', '1235tgds43q41234']",
            "description": "an array of image_hashes returned by facebook",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "example": {},
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // fetch ad set information\n\n    // create the ad set\n    doBatchRequest({\n      method: 'post',\n      url: ['/v2.3', ]\n    })\n\n\n\n\n\n\n    var doJSONRequest = require('../lib/do-request');\n\n    getAdAccountId = require('machine').build(require('./get-ad-account-id'));\n\n    getAdAccountId({\n      \"fbUserId\" : inputs.fbUserId,\n      \"accessToken\" : inputs.accessToken\n    }).exec({\n      error: function(error){\n        return exits.error(error);\n      },\n\n      success: function(account_id){\n        // get the page name of the page id param\n\n        doJSONRequest({\n          method: 'post',\n          url: ['/v2.3/', account_id.data[0].id, '/adcampaigns' ].join(\"\"),\n          data: {\n            'name' : ['Woo - ', page.name,'-', Date.now()].join(\"\"),\n            'bid_type' : 'ABSOLUTE_OCPM' ,\n            'bid_info' : {\"REACH\" : 100, \"CLICKS\" : 200},\n            'campaign_status' : 'PAUSED',\n            'daily_budget' : '1000',\n            'campaign_group_id' : inputs.campaignGroupId,\n            'targeting' : {'geo_locations' : 'Boston'},\n            'objective' : 'WEBSITE_CONVERSIONS',\n            'campaign_group_status' : 'PAUSED',\n            'access_token': inputs.accessToken\n\n          },\n          headers: {},\n        },\n\n            function (err, responseBody) {\n              if (err) { return exits.error(err); }\n              return exits.success(responseBody);\n            });\n          }\n    })// success function find account id\n  ",
        "environment": [],
        "extendedDescription": "return a paused campaign",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/create-ad-set",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/create-ad-set",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 612,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      },
      {
        "identity": "update-ad-set",
        "variableName": "updateAdSet",
        "friendlyName": "update-ad-set",
        "cacheable": true,
        "sync": null,
        "description": "update an ad set",
        "inputs": {
          "adCampaignId": {
            "example": "3213213124",
            "description": "this is the Ad Set Id",
            "required": true,
            "type": "string"
          },
          "dailyBudget": {
            "example": "100",
            "description": "daily budget, string, in cents",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "CAACEdEose0cBACBhZA7DJbYapwM7oZBt1EWhPiGqibBZAZAZCZCe6IOkfDRzrs1jyZCS93zSuj9GaNQQtxbny0jeSCqyBNaQUl3ocDiD3lO4GSboFm5B7NogSHFzTGYw0rdpndDKolQcfsS5nYeYwZAIKXF1WPzgGaGxNIDh36oZBHuazcN3WSNmL9jGyO9YmYlZBmZCcigBuMFvtXj4XlzNWyb",
            "description": "this is the facebook issued access token for a given user and app pair",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "example": {},
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          },
          "budgetError": {
            "example": {},
            "description": "minimum budget needs to be greater than 100 cents. However, 0 is an acceptable value.",
            "type": "object"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // fetch ad set information\n    var doJSONRequest = require('../lib/do-request');\n    if (inputs.dailyBudget < 100 && inputs.dailyBudget != 0){\n      console.log('minimum budget needs to be greater than 100 cents. However, 0 is an acceptable value.');\n      return exits.budgetError();\n    }\n    // if budget is set to 0, then pause the campaign.\n    if (inputs.dailyBudget == 0) {\n      console.log('0');\n      doJSONRequest({\n        method: 'post',\n        url: ['/v2.3/', inputs.adCampaignId ].join(\"\"),\n        data: {\n          'access_token': inputs.accessToken,\n          'campaign_status' : 'PAUSED',\n        },\n        headers: {},\n      },\n\n      function (err, responseBody) {\n        if (err) { return exits.error(err); }\n        responseBody = 'campaign paused';\n        return exits.success(responseBody);\n      });\n    } // end if\n    else {\n    doJSONRequest({\n      method: 'post',\n      url: ['/v2.3/', inputs.adCampaignId ].join(\"\"),\n      data: {\n        'daily_budget' : inputs.dailyBudget,\n        'access_token': inputs.accessToken,\n        'campaign_status' : 'ACTIVE',\n      },\n      headers: {},\n    },\n\n    function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success('changed daily budget');\n      console.log(responseBody)\n    });\n    }\n  ",
        "environment": [],
        "extendedDescription": "changes an ad set",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads/update-ad-set",
        "docsUrl": "http://node-machine.org/dk-machinepack-facebookads/update-ad-set",
        "defaultExit": "success",
        "machinepack": 137,
        "id": 613,
        "createdAt": "2015-06-23T20:09:48.000Z",
        "updatedAt": "2015-07-06T19:49:47.000Z"
      }
    ],
    "identity": "dk-machinepack-facebookads",
    "version": "1.3.31",
    "latestVersionPublishedAt": "2015-07-06T00:00:00.000Z",
    "variableName": "FacebookAds",
    "friendlyName": "Facebook-Ads",
    "description": "interact with the facebook marketing api",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/dk-machinepack-facebookads",
    "docsUrl": "http://node-machine.org/dk-machinepack-facebookads",
    "npmUrl": "http://npmjs.org/package/dk-machinepack-facebookads",
    "npmPackageName": "dk-machinepack-facebookads",
    "githubUrl": "http://github.com/longle255/dk-machinepack-facebookads/",
    "sourceUrl": "http://github.com/longle255/dk-machinepack-facebookads/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "country-data",
        "semverRange": "^0.0.19"
      }
    ],
    "contributors": [
      {
        "name": "longle255",
        "email": "hoanglong25588@gmail.com"
      }
    ],
    "id": 137,
    "createdAt": "2015-06-23T20:09:47.000Z",
    "updatedAt": "2015-07-06T19:49:47.000Z",
    "numMachines": 12
  },
  {
    "machines": [
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": true,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular Facebook user account.",
        "inputs": {
          "appId": {
            "example": "215798311808508",
            "description": "The unique identifier for your Facebook app  (i.e. this is the \"App ID\" listed on your app's dashboard page in the Facebook developer portal, e.g. https://developers.facebook.com/apps/215293311518502/dashboard)",
            "required": true,
            "type": "string"
          },
          "appSecret": {
            "example": "dsg4901g0123456",
            "description": "The developer \"secret\" for your Facebook app (i.e. this is the \"App Secret\" listed on your app's dashboard page in the Facebook developer portal)",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJFObCvACVRP-V7sfemiMPBh3TWypvagfZ6aoqfwKCNcBxg8XR_skdYUe5tsY9UzX9Z_8q4mRrqaLhwSh5OHj9ORmE4ocyd-neZtdceTZjlmEVeO38UH9QOe_md7h5hy2gMhOS6TL9IBk5Guxg3O6I0WmjpFNPoj6JzWIvG9cgj7RQqxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9__tuzB0JvgqbVh-U_WW8mjwGBqsfxlNvjYwIxk4zBNAxuRJijkkn0TwyogFpZqIlkY",
            "description": "The OAuth `code` generated by Facebook and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/user/facebook/login",
            "description": "The redirect URL that was used when generating the provided `code`",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "token": "CA2Emk9XsJUIBAHB9sTF5rOdNmAXTDjiHxZaZC1GYtFZCcdYGVnLYZB7jZCvensIpGc22yEzN6CL6wtQ9LPVXTNkuP6eQoUQ0toEVPrmTTqDpj0POijBpsuZBnx7jrZCHaTw8leiZBn0R8u6gZAYZAuD77cA3tnDMYvHhrl42CnljROeC9maWoa5zbsT2TZBXdL9wEuGQDSxKqRPyajRw3P3HEK",
              "expires": "2014-11-20T20:34:26.632Z"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n\n    // GET projects/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: '/oauth/access_token',\n      data: {\n        'redirect_uri': inputs.callbackUrl,\n        'client_id': inputs.appId,\n        'client_secret': inputs.appSecret,\n        'code': inputs.code,\n      },\n      headers: {}\n    }, function (err, responseBody) {\n      if (err) {\n        return exits.error(err);\n      }\n\n      // Parse Facebook Access Token from request Body\n      var token;\n      try {\n\n        return exits.success({\n          token: responseBody.match(/access_token=([a-z0-9]+)[^a-z0-9]{0,}/i)[1],\n          expires: (function getExpirationDateAsISOString (){\n            var now = new Date();\n            var secondsFromNowToExpiry = +(responseBody.match(/expires=([0-9]+)[^0-9]{0,}/i)[1]);\n            var expirationDate = new Date( (now.getTime() + (secondsFromNowToExpiry*1000)) );\n            return expirationDate.toJSON();\n          })()\n        });\n      } catch (parseError){\n        return exits.error(parseError);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebook-oauth/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-facebook-oauth/get-access-token",
        "defaultExit": "success",
        "machinepack": 184,
        "id": 843,
        "createdAt": "2016-09-25T19:59:40.000Z",
        "updatedAt": "2016-09-25T20:19:39.000Z"
      },
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get Facebook login URL",
        "cacheable": true,
        "sync": null,
        "description": "Get the URL on facebook.com that a user should visit to allow/deny the specified Facebook Developer app (i.e. your app).",
        "inputs": {
          "appId": {
            "example": "215798311808508",
            "description": "The unique identifier for your Facebook app  (i.e. this is the \"App ID\" listed on your app's dashboard page in the Facebook developer portal, e.g. https://developers.facebook.com/apps/215293311518502/dashboard)",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/user/facebook/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "permissions": {
            "example": [
              "email"
            ],
            "description": "The Facebook permissions requested by this application.  Most apps use `[\"user_friends\", \"email\", and \"public_profile\"]`.  Other permissions may be requested, but require review from Facebook before the app can be used by others. For complete reference of all such permissions, see https://developers.facebook.com/docs/facebook-login/permissions/v2.2#reference",
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "https://www.facebook.com/dialog/oauth?client_id=215798311808508&redirect_uri=http://localhost:1337/user/facebook/login&scope=email,friends",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n\n    inputs.permissions = inputs.permissions || ['email', 'public_profile', 'user_friends'];\n\n    try {\n      return exits.success(util.format(\n        'https://www.facebook.com/dialog/oauth?client_id=%s&redirect_uri=%s&scope=%s',\n        inputs.appId, inputs.callbackUrl, inputs.permissions.join(',')\n      ));\n    }\n    catch(e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your Facebook app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebook-oauth/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-facebook-oauth/get-login-url",
        "defaultExit": "success",
        "machinepack": 184,
        "id": 844,
        "createdAt": "2016-09-25T19:59:40.000Z",
        "updatedAt": "2016-09-25T20:19:39.000Z"
      },
      {
        "identity": "get-user-by-access-token",
        "variableName": "getUserByAccessToken",
        "friendlyName": "Get user by access token",
        "cacheable": true,
        "sync": null,
        "description": "Get information about the Facebook user with the specified access token.",
        "inputs": {
          "access_token": {
            "example": "CA2Emk9XsJUIBAHB9sTF5rOdNmAXTDjiHxZaZC1GYtFZCcdYGVnLYZB7jZCvensIpGc22yEzN6CL6wtQ9LPVXTNkuP6eQoUQ0toEVPrmTTqDpj0POijBpsuZBnx7jrZCHaTw8leiZBn0R8u6gZAYZAuD77cA3tnDMYvHhrl42CnljROeC9maWoa5zbsT2TZBXdL9wEuGQDSxKqRPyajRw3P3HEK",
            "description": "The access token which allows you to do things and get information on behalf of a particular Facebook user.",
            "required": true,
            "type": "string"
          },
          "fields": {
            "example": "email, first_name, last_name, gender, picture, link, locale, name",
            "description": "The fields to be requested to the API. Needs to be a comma separated string. If not send, will return only name and id",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "7653384",
              "email": "foobar@gzail.com",
              "first_name": "Brendan",
              "gender": "female",
              "last_name": "Eich",
              "link": "http://www.facebook.com/7653384",
              "locale": "en_US",
              "name": "Brendan Eich",
              "timezone": -6,
              "updated_time": "2014-08-16T12:07:43+0000",
              "verified": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var doJSONRequest = require('../lib/do-request');\n    var version = inputs.api_version || 'v2.5';\n    var url = '/' + version + '/me';\n    delete inputs.api_version;\n    // GET projects/ and send the api token as a header\n    doJSONRequest({\n      method: 'get',\n      url: url,\n      data: inputs,\n      headers: {},\n    }, function (err, responseBody) {\n      if (err) { return exits.error(err); }\n      return exits.success(responseBody);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-facebook-oauth/get-user-by-access-token",
        "docsUrl": "http://node-machine.org/machinepack-facebook-oauth/get-user-by-access-token",
        "defaultExit": "success",
        "machinepack": 184,
        "id": 845,
        "createdAt": "2016-09-25T19:59:40.000Z",
        "updatedAt": "2016-09-25T20:19:39.000Z"
      }
    ],
    "identity": "machinepack-facebook-oauth",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2016-09-25T00:00:00.000Z",
    "variableName": "FacebookOauth",
    "friendlyName": "Facebook-oauth",
    "description": "Communicate with Facebook to authenticate, get profile data, friends, likes, and more. This is a fork of the machinepack-facebook module.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-facebook-oauth",
    "docsUrl": "http://node-machine.org/machinepack-facebook-oauth",
    "npmUrl": "http://npmjs.org/package/machinepack-facebook-oauth",
    "npmPackageName": "machinepack-facebook-oauth",
    "githubUrl": "http://github.com/mario-ortiz/machinepack-facebook/",
    "sourceUrl": "http://github.com/mario-ortiz/machinepack-facebook/",
    "testsUrl": "https://travis-ci.org/irlnathan/machinepack-facebook",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "request",
        "semverRange": "^2.45.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil. Forked By Mario Ortiz.",
        "email": ""
      },
      {
        "name": "rogelio.sevilla",
        "email": "rogelio.sevilla@gmail.com"
      }
    ],
    "id": 184,
    "createdAt": "2016-09-25T19:59:40.000Z",
    "updatedAt": "2016-09-25T20:19:39.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "cp",
        "variableName": "cp",
        "friendlyName": "Copy (cp)",
        "cacheable": null,
        "sync": null,
        "description": "Copy file or directory located at source path to the destination path (overwriting an existing file at the destination path, if there is one).",
        "inputs": {
          "source": {
            "example": "/Users/mikermcneil/.tmp/foo",
            "description": "The path (relative or absolute) to the file or directory to copy.",
            "required": true,
            "type": "string"
          },
          "destination": {
            "example": "/Users/mikermcneil/.tmp/bar",
            "description": "The path (relative or absolute) to the directory in which to place the copied file(s).  When copying a single file, a target filename may be specified.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "No file or folder exists at the provided souce path."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n    fsx.copy(path.resolve(inputs.source), path.resolve(inputs.destination), function (err) {\n      if (err) {\n        if (err.code === 'ENOENT') {\n          return exits.doesNotExist();\n        }\n        return exits.error(err);\n      }\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "Includes all of its descendant files and directories (i.e. `cp -r`).",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/cp",
        "docsUrl": "http://node-machine.org/machinepack-fs/cp",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 30,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "ls",
        "variableName": "ls",
        "friendlyName": "List contents (ls)",
        "cacheable": true,
        "sync": null,
        "description": "List contents of a directory on the local filesystem.",
        "inputs": {
          "dir": {
            "friendlyName": "Directory path",
            "example": "/Users/mikermcneil/.tmp/foo",
            "description": "Path to the directory whose contents should be listed.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path from the context of the current working directory.",
            "required": true,
            "type": "string"
          },
          "depth": {
            "friendlyName": "Depth",
            "description": "The maximum number of \"hops\" (i.e. directories deep) to include directory contents from.",
            "extendedDescription": "For instance, if you are running `ls` on \"foo/\" which has a subdirectory \"foo/bar/baz/\", if `depth` is set to 2, the results will include \"foo/bar/baz/\", but none of the files/folders contained within.",
            "example": 1,
            "defaultsTo": 1,
            "type": "number"
          },
          "includeFiles": {
            "friendlyName": "Files?",
            "description": "Whether or not to include files",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          },
          "includeDirs": {
            "friendlyName": "Directories?",
            "description": "Whether or not to include directories",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          },
          "includeSymlinks": {
            "friendlyName": "Symlinks?",
            "description": "Whether or not to include symbolic links",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          },
          "includeHidden": {
            "friendlyName": "Hidden entries?",
            "description": "Whether or not to include hidden files/directories/symlinks",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "Nothing exists at the specified directory path."
          },
          "success": {
            "variableName": "dirContents",
            "example": [
              "/Users/mikermcneil/.tmp/foo/.gitignore"
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var Walker = require('walker');\n\n    // Ensure we've got an absolute path.\n    inputs.dir = path.resolve(inputs.dir);\n\n    // Determine the depth of the top-level directory we're walking,\n    // for comparison later on.\n    var topLvlDirDepth = inputs.dir.split(path.sep).length;\n\n    // Initialize the walker and teach it to skip walking directories\n    // that are:\n    // â¢ deeper than requested, or\n    // â¢ hidden (if the `includeHidden` input is set to false)\n    var walker = Walker(inputs.dir);\n    walker.filterDir(function(dir, stat) {\n      // Too deep\n      if (dir.split(path.sep).length > (topLvlDirDepth + inputs.depth)) {\n        return false;\n      }\n      // Too hidden\n      if (path.basename(dir).match(/^\\./) && !inputs.includeHidden) {\n        return false;\n      }\n      return true;\n    });\n\n    // Accumulate results array by listing file, directory, and/or symlink\n    // entries from the specified directory.\n    var results = [];\n    if (inputs.includeFiles) {\n      walker.on('file', function (entry, stat) {\n        // Add the new entry to our result list unless it is:\n        //  â¢ hidden (and the `includeHidden` input is set to false), or\n        //  â¢ too deep\n        var tooHidden = path.basename(entry).match(/^\\./) && !inputs.includeHidden;\n        var tooDeep = entry.split(path.sep).length > (topLvlDirDepth + inputs.depth);\n        if ( !tooHidden && !tooDeep  ) {\n          results.push(entry);\n        }\n      });\n    }\n    if (inputs.includeDirs) {\n      walker.on('dir', function (entry, stat) {\n        // If this is the top-level directory, exclude it.\n        if (entry === inputs.dir) { return; }\n        // Add the new entry to our result list unless it is:\n        //  â¢ hidden (and the `includeHidden` input is set to false)\n        var tooHidden = path.basename(entry).match(/^\\./) && !inputs.includeHidden;\n        if ( !tooHidden ) {\n          results.push(entry);\n        }\n      });\n    }\n    if (inputs.includeSymlinks) {\n      walker.on('symlink', function (entry, stat) {\n        // If this is the top-level directory, exclude it.\n        if (entry===inputs.dir) { return; }\n        // Add the new entry to our result list unless it is:\n        //  â¢ hidden (and the `includeHidden` input is set to false)\n        var tooHidden = path.basename(entry).match(/^\\./) && !inputs.includeHidden;\n        if ( !tooHidden ) {\n          results.push(entry);\n        }\n      });\n    }\n\n    // When walking is done, because of an error or otherwise,\n    // return the results.\n    var spinlock;\n    walker.on('error', function (err){\n      if (spinlock) { return; }\n      spinlock = true;\n      if (err.code === 'ENOENT') {\n        return exits.doesNotExist();\n      }\n      return exits.error(err);\n    });\n    walker.on('end', function (){\n      if (spinlock) { return; }\n      spinlock = true;\n      return exits.success(results);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/ls",
        "docsUrl": "http://node-machine.org/machinepack-fs/ls",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 31,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "rmrf",
        "variableName": "rmrf",
        "friendlyName": "Remove (rm)",
        "cacheable": null,
        "sync": null,
        "description": "Completely remove a file or directory (like rm -rf).",
        "inputs": {
          "path": {
            "example": "/Users/mikermcneil/.tmp/foo",
            "description": "The absolute path to the file or directory to remove.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n    // Ensure absolute path.\n    inputs.path = path.resolve(inputs.path);\n\n    fsx.remove(inputs.path, function(err) {\n      if (err) {return exits.error(err);}\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "If the provided path is a directory, all contents will be removed recursively. If nothing exists at the provided path, the success exit will be triggered, but nothing will be deleted.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/rmrf",
        "docsUrl": "http://node-machine.org/machinepack-fs/rmrf",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 32,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "write",
        "variableName": "write",
        "friendlyName": "Write file",
        "cacheable": null,
        "sync": null,
        "description": "Generate a file on the local filesystem using the specified utf8 string as its contents.",
        "inputs": {
          "string": {
            "description": "Text to write to the file (if omitted, will create an empty file)",
            "example": "lots of words, utf8 things you know",
            "defaultsTo": "",
            "type": "string"
          },
          "destination": {
            "description": "Path (relative or absolute) to the file to write.",
            "example": "/Users/mikermcneil/.tmp/bar",
            "required": true,
            "type": "string"
          },
          "force": {
            "description": "Overwrite files or directories which might exist at or within the specified destination path?",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "alreadyExists": {
            "description": "Something already exists at the specified path (overwrite by enabling the `force` input)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.destination = path.resolve(inputs.destination);\n\n    // Only override an existing file if `inputs.force` is true\n    fsx.exists(inputs.destination, function(exists) {\n      if (exists && !inputs.force) {\n        return exits.alreadyExists();\n      }\n\n      // Delete existing files and/or directories if necessary.\n      (function _deleteExistingFilesAndOrDirsIfNecessary(next) {\n        if (!exists) {\n          return next();\n        }\n        else {\n          fsx.remove(inputs.destination, next);\n        }\n      })(function nowWriteFileToDisk(err){\n        if (err) { return exits(err); }\n\n        // Now write the file to disk.\n        fsx.outputFile(inputs.destination, inputs.string, exits);\n\n      });//</after deleting existing file(s)/dir(s) if necessary>\n    });//</fsx.exists()>\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/write",
        "docsUrl": "http://node-machine.org/machinepack-fs/write",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 33,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "read-json",
        "variableName": "readJson",
        "friendlyName": "Read JSON file",
        "cacheable": true,
        "sync": null,
        "description": "Read and parse JSON file located at source path on disk into usable data.",
        "inputs": {
          "source": {
            "description": "Absolute path to the source file (if relative path is provided, will resolve path from current working directory)",
            "example": "/Users/mikermcneil/.tmp/foo.json",
            "required": true,
            "type": "string"
          },
          "schema": {
            "description": "An example schema (in RTTC exemplar syntax) describing what the parsed data should look like (used for type-coercion)",
            "extendedDescription": "If file does not exist, a \"base value\" will be derived from this example schema and used as the contents of the newly created JSON file.",
            "moreInfoUrl": "https://github.com/node-machine/rttc#types--terminology",
            "example": "*",
            "defaultsTo": "*",
            "constant": true,
            "isExemplar": true,
            "type": "string"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "No file exists at the provided `source` path"
          },
          "couldNotParse": {
            "description": "Could not parse file as JSON."
          },
          "success": {
            "description": "OK.",
            "getExample": "        return inputs.schema;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var MPJSON = require('machinepack-json');\n    var thisPack = require('../');\n\n    thisPack.read({\n      source: inputs.source\n    }).exec({\n      error: exits.error,\n      doesNotExist: exits.doesNotExist,\n      success: function (contents){\n        MPJSON.parse({\n          json: contents,\n          schema: inputs.schema\n        }).exec({\n          error: exits.error,\n          couldNotParse: exits.couldNotParse,\n          success: function (parsedData){\n            return exits.success(parsedData);\n          }\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Assumes file is encoded using utf8.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/read-json",
        "docsUrl": "http://node-machine.org/machinepack-fs/read-json",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 34,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "template",
        "variableName": "template",
        "friendlyName": "Template",
        "cacheable": null,
        "sync": null,
        "description": "Read file at source path as a template, render with provided data, then write to destination path.",
        "inputs": {
          "source": {
            "description": "The path on disk to the template file.",
            "example": "/Users/mikermcneil/.tmp/foo.tpl",
            "required": true,
            "type": "string"
          },
          "destination": {
            "description": "The path on disk where the resulting file should be written",
            "example": "/Users/mikermcneil/.tmp/bar.md",
            "required": true,
            "type": "string"
          },
          "data": {
            "friendlyName": "Template data",
            "description": "The data which will be accessible from the template",
            "extendedDescription": "Each key will be a variable accessible in the template.  For instance, if you supply an array `[{name:\"Chandra\"}, {name:\"Mary\"}]` as the key \"friends\", then you will be able to access `friends` from the template; i.e. `<ul><% _.each(friends, function (friend){ %><li><%= friend.name %></li> <%}); %></ul>`  Use `<%= %>` to inject the contents of a variable as-is, `<%- %>` to HTML-escape them first, or `<% %>` to execute some JavaScript code.",
            "example": "===",
            "readOnly": true,
            "type": "string"
          },
          "force": {
            "friendlyName": "Force?",
            "description": "Whether or not to overwrite existing file(s).",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "noTemplate": {
            "description": "Source template file not found."
          },
          "missingData": {
            "friendlyName": "missing data",
            "description": "One or more variables used in the template were not provided in the template data.",
            "variableName": "info",
            "example": {
              "message": "Some variables (`me`,`friends`) were used in template \"/code/machine/docs/.type-table.tpl\", but not provided in the template data dictionary.",
              "missingVariables": [
                "me",
                "friends"
              ]
            },
            "type": "object"
          },
          "couldNotRender": {
            "description": "Could not render the template due to invalid or unparseable syntax."
          },
          "alreadyExists": {
            "description": "Something already exists at the specified path (overwrite by enabling the `force` input)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var thisPack = require('../');\n    var MPStrings = require('machinepack-strings');\n\n    // Read template from disk\n    thisPack.read({\n      source: inputs.source\n    }).exec({\n      error: exits.error,\n      doesNotExist: exits.noTemplate,\n      success: function (templateStr) {\n        MPStrings.template({\n          templateStr: templateStr,\n          data: inputs.data\n        }).exec({\n          error: exits.error,\n          missingData: exits.missingData,\n          couldNotRender: exits.couldNotRender,\n          success: function (renderedStr) {\n            thisPack.write({\n              destination: inputs.destination,\n              string: renderedStr,\n              force: inputs.force\n            }).exec({\n              error: exits.error,\n              alreadyExists: exits.alreadyExists,\n              success: exits.success\n            });\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Uses Lodash template syntax (e.g. `<%= %>`, `<%- %>`, `<% %>`)  Also provides access to the Node.js core utility module (as `util`), as well as Lodash itself (as `_`).",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/template",
        "docsUrl": "http://node-machine.org/machinepack-fs/template",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 35,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "read",
        "variableName": "read",
        "friendlyName": "Read file",
        "cacheable": true,
        "sync": null,
        "description": "Read a file on disk as a string.",
        "inputs": {
          "source": {
            "description": "Absolute path to the source file (if relative path is provided, will resolve path from current working directory)",
            "example": "/Users/mikermcneil/.tmp/foo",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "No file exists at the provided `source` path"
          },
          "success": {
            "example": "stuff in a file!",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fs = require('fs');\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.source = path.resolve(inputs.source);\n\n    fs.readFile(inputs.source, 'utf8', function (err, contents) {\n      // It worked!\n      if (!err) {\n        return exits.success(contents);\n      }\n      // No need for `null` check here because we already know `err` is falsy\n      if (typeof err === 'object' && err.code === 'ENOENT') {\n        return exits.doesNotExist();\n      }\n      // Some unrecognized error\n      return exits.error(err);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Assumes file contents are encoded using utf8.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/read",
        "docsUrl": "http://node-machine.org/machinepack-fs/read",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 36,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "write-json",
        "variableName": "writeJson",
        "friendlyName": "Write JSON file",
        "cacheable": null,
        "sync": null,
        "description": "Write some data to the specified destination path on disk.",
        "inputs": {
          "json": {
            "example": "*",
            "description": "The data to write to disk as JSON",
            "required": true,
            "type": "string"
          },
          "destination": {
            "example": "/Users/mikermcneil/.tmp/bar.json",
            "description": "Absolute path for the destination file (if relative path is provided, will resolve path from current working directory)",
            "required": true,
            "type": "string"
          },
          "force": {
            "description": "Overwrite files or directories which might exist at or within the specified destination path?",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "alreadyExists": {
            "description": "A file or folder already exists at the specified destination"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.destination = path.resolve(inputs.destination);\n\n    // Only override an existing file if `inputs.force` is true\n    fsx.exists(inputs.destination, function(exists) {\n      if (exists && !inputs.force) {\n        return exits.alreadyExists();\n      }\n\n      // Delete existing files and/or directories if necessary.\n      (function _deleteExistingFilesAndOrDirsIfNecessary(next) {\n        if (!exists) {\n          return next();\n        }\n        else {\n          fsx.remove(inputs.destination, next);\n        }\n      })(function nowWriteFileToDisk(err){\n        if (err) { return exits(err); }\n\n        // Now write the JSON file to disk.\n        fsx.outputJson(inputs.destination, inputs.json, exits);\n\n      });//</after deleting existing file(s)/dir(s) if necessary>\n    });//</fsx.exists()>\n  ",
        "environment": [],
        "extendedDescription": "Assumes file is encoded using utf8.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/write-json",
        "docsUrl": "http://node-machine.org/machinepack-fs/write-json",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 37,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "mv",
        "variableName": "mv",
        "friendlyName": "Move (mv)",
        "cacheable": null,
        "sync": null,
        "description": "Move file or directory located at source path to the destination path.",
        "inputs": {
          "source": {
            "example": "/Users/mikermcneil/.tmp/foo",
            "required": true,
            "type": "string"
          },
          "destination": {
            "example": "/Users/mikermcneil/.tmp/bar",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "doesNotExist": {
            "description": "No file or folder exists at the provided souce path."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n    // Ensure absolute paths.\n    inputs.source = path.resolve(inputs.source);\n    inputs.destination = path.resolve(inputs.destination);\n\n    fsx.move(inputs.source, inputs.destination, function (err) {\n      if (err) {\n        if (err.code === 'ENOENT') {\n          return exits.doesNotExist();\n        }\n        return exits.error(err);\n      }\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/mv",
        "docsUrl": "http://node-machine.org/machinepack-fs/mv",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 38,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "exists",
        "variableName": "exists",
        "friendlyName": "Exists?",
        "cacheable": true,
        "sync": null,
        "description": "Check whether a file or directory exists at the given path.",
        "inputs": {
          "path": {
            "example": "/Users/mikermcneil/.tmp/foo",
            "description": "The absolute path to the file or directory",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "The specified path is empty"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Path = require('path');\n    var fsx = require('fs-extra');\n\n    fsx.exists(Path.resolve(process.cwd(),inputs.path), function(exists) {\n      if (!exists) {return exits.doesNotExist();}\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/exists",
        "docsUrl": "http://node-machine.org/machinepack-fs/exists",
        "defaultExit": "exists",
        "machinepack": 9,
        "id": 39,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "mkdir",
        "variableName": "mkdir",
        "friendlyName": "Make directory (mkdir)",
        "cacheable": null,
        "sync": null,
        "description": "Make a new directory.",
        "inputs": {
          "destination": {
            "description": "The destination path where the new directory should be created.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path using the current working directory.",
            "example": "/Users/mikermcneil/.tmp/bar",
            "required": true,
            "type": "string"
          },
          "force": {
            "description": "Overwrite files or directories which might exist at or within the specified destination path?",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "alreadyExists": {
            "description": "Something already exists at the specified path (overwrite by enabling the `force` input)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.destination = path.resolve(inputs.destination);\n\n    // Only override an existing file if `inputs.force` is true\n    fsx.exists(inputs.destination, function(exists) {\n      if (exists && !inputs.force) {\n        return exits.alreadyExists();\n      }\n\n      // Delete existing files and/or directories if necessary.\n      (function _deleteExistingFilesAndOrDirsIfNecessary(next) {\n        if (!exists) {\n          return next();\n        }\n        else {\n          fsx.remove(inputs.destination, next);\n        }\n      })(function nowWriteFileToDisk(err){\n        if (err) { return exits(err); }\n\n        // Now create the directory on disk.\n        fsx.mkdirs(inputs.destination, exits);\n\n      });//</after deleting existing file(s)/dir(s) if necessary>\n    });//</fsx.exists()>\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/mkdir",
        "docsUrl": "http://node-machine.org/machinepack-fs/mkdir",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 40,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "ensure-dir",
        "variableName": "ensureDir",
        "friendlyName": "Ensure directory",
        "cacheable": null,
        "sync": null,
        "description": "Ensure that the directory exists. If the directory structure does not exist, it is created.",
        "inputs": {
          "path": {
            "example": "/foo/bar/baz",
            "description": "The path to ensure- if nothing exists, a directory will be created here.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path using the current working directory.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fsx = require('fs-extra');\n\n    // In case we ended up w/ a relative path, make it absolute.\n    inputs.path = path.resolve(inputs.path);\n\n    fsx.ensureDir(inputs.path, function(err) {\n      if (err) {return exits.error(err);}\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/ensure-dir",
        "docsUrl": "http://node-machine.org/machinepack-fs/ensure-dir",
        "defaultExit": "success",
        "machinepack": 9,
        "id": 41,
        "createdAt": "2015-02-16T23:51:10.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "ensure-json",
        "variableName": "ensureJson",
        "friendlyName": "Ensure JSON file",
        "cacheable": true,
        "sync": null,
        "description": "Attempt to read from a JSON file, and if it does not exist, create it.",
        "inputs": {
          "path": {
            "description": "Absolute path for the JSON file (if relative path is provided, will resolve path from current working directory)",
            "example": "/Users/mikermcneil/.tmp/foo.json",
            "required": true,
            "type": "string"
          },
          "schema": {
            "description": "An example schema (in RTTC exemplar syntax) describing what the parsed data should look like (used for type-coercion)",
            "extendedDescription": "If file does not exist, a \"base value\" will be derived from this example schema and used as the contents of the newly created JSON file.",
            "moreInfoUrl": "https://github.com/node-machine/rttc#types--terminology",
            "example": "*",
            "defaultsTo": "*",
            "constant": true,
            "isExemplar": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "The data which is stored in the JSON file now.",
            "like": "schema",
            "description": "OK.",
            "isDefault": true
          },
          "couldNotParse": {
            "description": "Could not parse file as JSON."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var rttc = require('rttc');\n    var thisPack = require('../');\n\n    thisPack.readJson({\n      source: inputs.path,\n      schema: inputs.schema\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      couldNotParse: function (parseErr){\n        return exits.couldNotParse(parseErr);\n      },\n      doesNotExist: function (){\n        try {\n          // If the JSON file does not exist, create it using the base value\n          // for the provided schema.\n          var baseVal = rttc.coerce(rttc.infer(inputs.schema));\n          thisPack.writeJson({\n            destination: inputs.path,\n            json: baseVal\n          }).exec({\n            error: function (err){\n              return exits.error(err);\n            },\n            success: function (){\n              return exits.success(baseVal);\n            }\n          });// </writeJson>\n        }\n        catch (e) {\n          return exits.error(e);\n        }\n      },//</readJson.doesNotExist>\n      success: function (data){\n        return exits.success(data);\n      }//</readJson.success>\n    });//</readJson>\n\n  ",
        "environment": [],
        "extendedDescription": "Assumes file is encoded using utf8.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/ensure-json",
        "docsUrl": "http://node-machine.org/machinepack-fs/ensure-json",
        "defaultExit": null,
        "machinepack": 9,
        "id": 450,
        "createdAt": "2015-05-05T13:49:48.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "write-sync",
        "variableName": "writeSync",
        "friendlyName": "Write file (sync)",
        "cacheable": null,
        "sync": true,
        "description": "Generate a file on the local filesystem using the specified utf8 string as its contents.",
        "inputs": {
          "string": {
            "description": "Text to write to the file (if omitted, will create an empty file)",
            "example": "lots of words, utf8 things you know",
            "defaultsTo": "",
            "type": "string"
          },
          "destination": {
            "description": "Path (relative or absolute) to the file to write.",
            "example": "/Users/mikermcneil/.tmp/bar",
            "required": true,
            "type": "string"
          },
          "force": {
            "description": "Whether to overwrite existing file(s) which might exist at the destination path.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "alreadyExists": {
            "description": "Something already exists at the specified path (overwrite by enabling the `force` input)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fs = require('fs');\n    var fsx = require('fs-extra');\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.destination = path.resolve(inputs.destination);\n\n    // Only override an existing file if `inputs.force` is true\n    if (inputs.force) {\n      fsx.outputFileSync(inputs.destination, inputs.string);\n      return exits.success();\n    }\n\n    // Otherwise don't override existing files.\n    if (fs.existsSync(inputs.destination)) {\n      // TODO: Some time before fs.existsSync() is deprecated in\n      // Node core, switch this to use a different strategy.\n      // See `https://nodejs.org/api/fs.html#fs_fs_exists_path_callback`\n      return exits.alreadyExists();\n    }\n    fs.writeFileSync(inputs.destination, inputs.string);\n    return exits.success();\n\n  ",
        "environment": [],
        "extendedDescription": "Encodes file contents as utf8. This machine should **NEVER** be used in request handling code!",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/write-sync",
        "docsUrl": "http://node-machine.org/machinepack-fs/write-sync",
        "defaultExit": null,
        "machinepack": 9,
        "id": 646,
        "createdAt": "2015-07-22T02:59:47.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "read-sync",
        "variableName": "readSync",
        "friendlyName": "Read file (sync)",
        "cacheable": true,
        "sync": true,
        "description": "Read a file on disk as a string.",
        "inputs": {
          "source": {
            "description": "Absolute path to the source file (if relative path is provided, will resolve path from current working directory)",
            "example": "/Users/mikermcneil/.tmp/foo",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "No file exists at the provided `source` path"
          },
          "success": {
            "example": "stuff in a file!",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fs = require('fs');\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.source = path.resolve(inputs.source);\n\n    var contents;\n    try {\n      contents = fs.readFileSync(inputs.source, 'utf8');\n      // It worked!\n      return exits.success(contents);\n    }\n    catch (e) {\n      if (e.code === 'ENOENT') {\n        return exits.doesNotExist();\n      }\n      // Some unrecognized error\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": "Assumes file contents are encoded using utf8. This machine should **NEVER** be used in request handling code!",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/read-sync",
        "docsUrl": "http://node-machine.org/machinepack-fs/read-sync",
        "defaultExit": null,
        "machinepack": 9,
        "id": 647,
        "createdAt": "2015-07-22T02:59:47.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "read-stream",
        "variableName": "readStream",
        "friendlyName": "Read file (stream)",
        "cacheable": null,
        "sync": null,
        "description": "Open a readable stream that will pump out the contents from a file on disk.",
        "inputs": {
          "source": {
            "description": "Absolute path to the source file (if relative path is provided, will resolve path from current working directory)",
            "example": "/Users/mikermcneil/.tmp/foo",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "No file exists at the provided `source` path"
          },
          "isDirectory": {
            "description": "A directory (not the file we were expecting) is at the source path."
          },
          "success": {
            "description": "OK.",
            "extendedDescription": "Note that, while this result stream is associated with an open file descriptor, it _is not flowing_.  In other words, it is _paused_. That means you don't have to worry about using it immediately (i.e. before even one tick of the event loop elapses).",
            "variableName": "Readable stream",
            "outputDescription": "A stream of data from the source file.",
            "example": "===",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var fs = require('fs');\n\n    // In case we ended up here w/ a relative path,\n    // resolve it using the process's CWD\n    inputs.source = path.resolve(inputs.source);\n\n    // Set up a simple flag as a local variable (`alreadyExited`) which will serve\n    // as a spinlock to ensure this machine fn does not exit more than once.\n    var alreadyExited;\n\n    // Now create the read stream.  This is synchronous, but it also doesn't tell us\n    // whether or not the file at the specified source path actually exists, or whether\n    // we can access that path, etc.  That's all up to the machine which consumes this\n    // stream to figure out.\n    var file__ = fs.createReadStream(inputs.source);\n\n    // Bind a no-op handler for the `error` event to prevent it from crashing the process if it fires.\n    // (userland code can still bind and use its own error events)\n    file__.on('error', function noop (err) { });\n    // ^ Since event handlers are garbage collected when the event emitter is itself gc()'d, it is safe\n    // for us to bind this event handler here.\n\n\n    // Also bind a one-time error handler specifically to catch a few specific errors that can\n    // occur up-front.\n    file__.once('error', function (err) {\n      // When receiving subsequent read errors on this Readable stream after\n      // the first (or after we've exited successfully), the best we can do\n      // is remain silent.\n      if (alreadyExited) {\n        // Note that in the future, we could expose an optional input\n        // (e.g. `onUnexpectedError`) which accepts a notifier function that\n        // could be called in this scenario.\n        return;\n      }\n\n      if (err.code === 'ENOENT') {\n        alreadyExited = true;\n        return exits.doesNotExist();\n      }\n\n      // If any other sort of miscellaneous error occurs... (as long as we haven't exited yet)\n      alreadyExited = true;\n      return exits.error(err);\n    });\n\n\n    // Now wait for the file to be opened...\n    file__.once('open', function (fd){\n\n      // Once the file is open, use the file descriptor (`fd`) to transactionally ensure that it is not\n      // a directory using `fstat`. Why do we have to do this?  Well, even if this is a directory, it can\n      // still be _OPENED_ just fine-- but the first time you try to read it... BAM. Check out @modchan's\n      // SO answer at http://stackoverflow.com/a/24471971/486547 for more details & analysis.\n      fs.fstat(fd, function (err, stats) {\n        if (alreadyExited) {return;}\n\n        if (err) {\n          alreadyExited = true;\n          return exits.error(err);\n        }\n\n        if (stats.isDirectory()) {\n          alreadyExited = true;\n          return exits.isDirectory();\n        }\n\n        alreadyExited = true;\n        return exits.success(file__);\n      }); //</fstat()>\n    }); //</on open>\n  ",
        "environment": [],
        "extendedDescription": "This machine determines whether a file actually exists, is not a directory, and can be opened at the provided source path.  The responsibility for any other validations falls on the consumer of the stream.  However, this machine _DOES_ bind an `error` event handler on the stream to prevent emitted error events from crashing the process; ensuring that this machine is agnostic of its userland environment.\n\nIf you plan to write code which uses the readable stream returned by this machine but you have never worked with file streams in Node.js, [check this out](https://docs.nodejitsu.com/articles/advanced/streams/how-to-use-fs-create-read-stream) for tips.  For more information about readable streams in Node.js in general, check out the section on [`stream.Readable`](https://nodejs.org/api/stream.html#stream_class_stream_readable) in the Node.js docs.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/read-stream",
        "docsUrl": "http://node-machine.org/machinepack-fs/read-stream",
        "defaultExit": null,
        "machinepack": 9,
        "id": 684,
        "createdAt": "2015-12-13T05:19:33.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      },
      {
        "identity": "write-stream",
        "variableName": "writeStream",
        "friendlyName": "Write file (stream)",
        "cacheable": null,
        "sync": null,
        "description": "Generate a file on the local filesystem using the specified Readable stream for its contents.",
        "inputs": {
          "sourceStream": {
            "friendlyName": "Source stream",
            "description": "The source (Readable) stream whose contents will be pumped to disk.",
            "extendedDescription": "Must be a utf8-encoded, modern (streams2 or streams3) Readable stream.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "destination": {
            "example": "/Users/mikermcneil/.tmp/bar.json",
            "description": "Absolute path for the destination file (if relative path is provided, will resolve path from current working directory)",
            "required": true,
            "type": "string"
          },
          "force": {
            "description": "Overwrite files or directories which might exist at or within the specified destination path?",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "alreadyExists": {
            "description": "Something already exists at the specified path (overwrite by enabling the `force` input)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var isFunction = require('lodash.isfunction');\n    var isObject = require('lodash.isobject');\n    var fsx = require('fs-extra');\n\n    // Check for the methods we need on the provided Readable source stream.\n    if (!isObject(inputs.sourceStream) || !isFunction(inputs.sourceStream.pipe) || !isFunction(inputs.sourceStream.on)) {\n      return exits.error(new Error('Invalid stream provided (has no `.pipe()` and/or `.on()` methods).'));\n    }\n\n    // Ensure path is absolute (resolve from cwd if not).\n    inputs.destination = path.resolve(inputs.destination);\n\n    // Only override an existing file if `inputs.force` is true.\n    fsx.exists(inputs.destination, function(exists) {\n      if (exists && !inputs.force) {\n        return exits.alreadyExists();\n      }\n\n      // Delete existing files and/or directories if necessary.\n      (function _deleteExistingFilesAndOrDirsIfNecessary(next) {\n        if (!exists) {\n          return next();\n        }\n        else {\n          fsx.remove(inputs.destination, next);\n        }\n      })(function afterwards(err){\n        if (err) { return exits(err); }\n\n        // Build the write drain (i.e. \"write stream\").\n        // This is where the content will go.\n        var writeDrain = fsx.createOutputStream(inputs.destination);\n\n        // Pipe the source stream down the drain.\n        //\n        // Note that since we're using `createOutputStream()`, the necessary\n        // directory hierarchy leading to the destination will be created if\n        // it does not already exist.\n        inputs.sourceStream.pipe(writeDrain);\n\n        // Handle write errors.\n        // (note that errors on the source Readable stream are the\n        //  responsibility of the provider of said stream)\n        var hasAlreadyCalledExit;\n        writeDrain.on('error', function (err){\n          // If we have not called one of our exits yet, then this is\n          // our first error.  So we'll handle it by calling the\n          // appropriate exit.\n          if (!hasAlreadyCalledExit) {\n            hasAlreadyCalledExit = true;\n            return exits.error(err);\n          }\n          // Otherwise this is a subsequent error.  Since we've already\n          // called an exit, there is not a whole lot else we can do.\n          // So we just ignore it.\n          // (we need to keep this handler bound or an error will be\n          //  thrown, potentially crashing the process)\n        });\n\n        // When finished...\n        writeDrain.once('finish', function (){\n          if (hasAlreadyCalledExit) { return; }\n          hasAlreadyCalledExit = true;\n          return exits.success();\n        });\n      });//</after _deleteExistingFilesAndOrDirsIfNecessary>\n    });//</fsx.exists()>\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fs/write-stream",
        "docsUrl": "http://node-machine.org/machinepack-fs/write-stream",
        "defaultExit": null,
        "machinepack": 9,
        "id": 727,
        "createdAt": "2016-03-13T15:29:37.000Z",
        "updatedAt": "2016-03-15T17:20:10.000Z"
      }
    ],
    "identity": "machinepack-fs",
    "version": "8.0.2",
    "latestVersionPublishedAt": "2016-03-15T00:00:00.000Z",
    "variableName": "Filesystem",
    "friendlyName": "Filesystem",
    "description": "Work with the local filesystem; list files, write files, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-fs",
    "docsUrl": "http://node-machine.org/machinepack-fs",
    "npmUrl": "http://npmjs.org/package/machinepack-fs",
    "npmPackageName": "machinepack-fs",
    "githubUrl": "http://github.com/mikermcneil/machinepack-fs/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-fs/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-fs",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "fs-extra",
        "semverRange": "0.26.5"
      },
      {
        "name": "lodash.isfunction",
        "semverRange": "3.0.8"
      },
      {
        "name": "lodash.isobject",
        "semverRange": "3.0.2"
      },
      {
        "name": "machine",
        "semverRange": "~12.1.0"
      },
      {
        "name": "machinepack-json",
        "semverRange": "~2.0.0"
      },
      {
        "name": "machinepack-strings",
        "semverRange": "~5.0.0"
      },
      {
        "name": "machinepack-util",
        "semverRange": "~6.0.0"
      },
      {
        "name": "rttc",
        "semverRange": "~9.3.0"
      },
      {
        "name": "walker",
        "semverRange": "1.0.7"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 9,
    "createdAt": "2015-02-16T23:51:10.000Z",
    "updatedAt": "2016-03-15T17:20:10.000Z",
    "numMachines": 17
  },
  {
    "machines": [
      {
        "identity": "query-kickass",
        "variableName": "queryKickass",
        "friendlyName": "Query Kickass",
        "cacheable": false,
        "sync": false,
        "description": "Query Kickass Torrents.",
        "inputs": {
          "apiUrl": {
            "description": "The URL of the API",
            "required": false,
            "example": "https://kickass.to",
            "type": "string"
          },
          "sortByKey": {
            "description": "The key to sort the torrents by.",
            "required": false,
            "example": "seeders",
            "type": "string"
          },
          "sortOrder": {
            "description": "The sort order for the given sort key.",
            "required": false,
            "example": "desc",
            "type": "string"
          },
          "query": {
            "description": "The torrent query",
            "required": true,
            "example": "",
            "type": "string"
          },
          "page": {
            "description": "The page number",
            "required": false,
            "example": 1,
            "type": "number"
          },
          "category": {
            "description": "The category",
            "required": false,
            "example": "all",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "example": [],
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    // Default input values\n    inputs.apiUrl = inputs.apiUrl || defaultAPIURL;\n    inputs.sortByKey = inputs.sortByKey || defaultSortByKey;\n    inputs.sortOrder = inputs.sortOrder || defaultSortOrder;\n    inputs.page = inputs.page || defaultPage;\n    inputs.category = inputs.category || defaultCategory;\n    inputs.query = inputs.query || '';\n\n    var query = inputs.query + 'category:'+inputs.category;\n\n    // Send request to Kickass Torrents\n    var Http = require('machinepack-http');\n    Http.sendHttpRequest({\n      baseUrl: inputs.apiUrl,\n      url: '/json.php',\n      method: 'get',\n      params: {\n        q: query,\n        field: inputs.sortByKey,\n        sorter: inputs.sortOrder,\n      }\n    }).exec({\n      // OK.\n      success: function(result) {\n        try {\n          var responseBody = JSON.parse(result.body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n        var torrents = responseBody.list;\n        var count = torrents.length;\n        torrents = _.map(torrents, function(torrent) {\n          return {\n            title: torrent.title,\n            category: torrent.category.toLowerCase(),\n            url: torrent.torrentLink,\n            verified: !!torrent.verified,\n            votes: torrent.votes,\n            seeders: torrent.seeds,\n            leechers: torrent.leechs,\n            peers: torrent.peers,\n            hash: torrent.hash,\n            size: torrent.size,\n            dateCreated: new Date(torrent.pubDate),\n            provider: 'Kickass',\n            meta: torrent,\n          };\n        });\n        // var response = {\n        //   page: {\n        //     number: inputs.page,\n        //     size: count,\n        //     total: parseInt(responseBody.total_results),\n        //   },\n        //   torrents: torrents,\n        // };\n        // return exits.success(response);\n        return exits.success(torrents);\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/query-kickass",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/query-kickass",
        "defaultExit": null,
        "machinepack": 170,
        "id": 762,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "query-eztv",
        "variableName": "queryEztv",
        "friendlyName": "Query EZTV",
        "cacheable": false,
        "sync": false,
        "description": "Query EZTV Torrents.",
        "inputs": {
          "baseUrl": {
            "description": "The base URL",
            "required": false,
            "example": "https://eztv.ag",
            "type": "string"
          },
          "query": {
            "description": "The torrent query",
            "required": true,
            "example": "",
            "type": "string"
          },
          "category": {
            "description": "The category",
            "required": false,
            "example": "all",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "torrents": [],
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Default input values\n    inputs.baseUrl = inputs.baseUrl || defaultBaseUrl;\n\n    // Parse query\n    var episodeMatcher = require('episode');\n    function parseTitle(title) {\n      var showName = title;\n      var foundMatches = episodeMatcher(showName);\n      var season = foundMatches.season;\n      var episode = foundMatches.episode;\n      foundMatches.matches.forEach(function (match) {\n          showName = showName.replace(match, '');\n      });\n      showName = showName.replace(/ +/, ' ').trim();\n      return {\n        name: showName,\n        season: season,\n        episode: episode\n      };\n    }\n    var parsed = parseTitle(inputs.query);\n    var showName = parsed.name;\n    var season = parsed.season;\n    var episode = parsed.episode;\n\n    // Get all shows\n    var async = require('async');\n    var Machine = require('machine');\n    var getEZTVShowlist = Machine.build(require('./get-eztv-showlist'));\n    var getEZTVShowEpisodes = Machine.build(require('./get-eztv-show-episodes'));\n    getEZTVShowlist({\n      baseUrl: inputs.baseUrl\n    }).exec({\n      error: function(error) {\n        return exits.error(error);\n      },\n      success: function(shows) {\n        var _ = require('lodash');\n        // Filter shows by query\n        shows = _.filter(shows, function(show) {\n          // return show.title.toLowerCase() === showName.toLowerCase();\n          return parseTitle(show.title).name.toLowerCase() === showName;\n        });\n        // Get episodes for all shows\n        async.map(shows, function(show, callback) {\n          getEZTVShowEpisodes({\n            baseUrl: inputs.baseUrl,\n            showId: show.id\n          }).exec({\n            error: function(error) {\n              return exits.error(error);\n            },\n            success: function(torrents) {\n              return callback(null, torrents);\n            }\n          });\n        }, function(error, results) {\n          var torrents = _.flatten(results);\n          // Filter episodes by query\n          torrents = _.filter(torrents, function(torrent) {\n            // console.log(showName, season, episode, torrent);\n            if (season && torrent.season !== season) {\n              return false;\n            }\n            if (episode && torrent.episode !== episode) {\n              return false;\n            }\n            return true;\n          });\n          // console.log(torrents);\n          return exits.success(torrents);\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/query-eztv",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/query-eztv",
        "defaultExit": null,
        "machinepack": 170,
        "id": 763,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "find-movie",
        "variableName": "findMovie",
        "friendlyName": "Find Movie",
        "cacheable": false,
        "sync": false,
        "description": "Find a torrent for a given movie",
        "inputs": {
          "query": {
            "description": "The torrent query",
            "required": true,
            "example": "",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var queryAll = Machine.build(require('./query-all'));\n    queryAll({\n      query: inputs.query,\n      category: 'movies'\n    }).exec({\n      error: function(error) {\n        return exits.error(error);\n      },\n      success: function(torrents) {\n        return exits.success(torrents);\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/find-movie",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/find-movie",
        "defaultExit": null,
        "machinepack": 170,
        "id": 764,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "find-episode",
        "variableName": "findEpisode",
        "friendlyName": "Find Episode",
        "cacheable": false,
        "sync": false,
        "description": "Find a torrent for a given show episode",
        "inputs": {
          "query": {
            "description": "The torrent query",
            "required": true,
            "example": "",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var queryAll = Machine.build(require('./query-all'));\n    queryAll({\n      query: inputs.query,\n      category: 'tv'\n    }).exec({\n      error: function(error) {\n        return exits.error(error);\n      },\n      success: function(torrents) {\n        return exits.success(torrents);\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/find-episode",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/find-episode",
        "defaultExit": null,
        "machinepack": 170,
        "id": 765,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "query-all",
        "variableName": "queryAll",
        "friendlyName": "Query all",
        "cacheable": false,
        "sync": false,
        "description": "Query for torrents from all torrent providers",
        "inputs": {
          "query": {
            "description": "The torrent query",
            "required": true,
            "example": "",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "returns": [],
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Default input values\n    inputs.category = inputs.category || defaultCategory;\n    inputs.query = inputs.query || '';\n\n    var Machine = require('machine');\n    var queryEZTV = Machine.build(require('./query-eztv'));\n    var queryKickass = Machine.build(require('./query-kickass'));\n    var queryYTS = Machine.build(require('./query-yts'));\n    var async = require('async');\n    var _ = require('lodash');\n\n    function query(fn) {\n      return function(callback) {\n        fn({\n          query: inputs.query,\n          category: inputs.category\n        }).exec({\n          error: function(error) {\n            // return callback(error, []);\n            return callback(null, []);\n          },\n          success: function(torrents) {\n            return callback(null, torrents || []);\n          }\n        });\n      };\n    }\n    var providers = [];\n    providers.push(query(queryKickass));\n    if (inputs.category === 'all' || inputs.category === 'tv') {\n      providers.push(query(queryEZTV));\n    }\n    if (inputs.category === 'all' || inputs.category === 'movies') {\n      providers.push(query(queryYTS));\n    }\n    async.parallel(providers, function(error, results) {\n      if (error) {\n        return exits.error(error);\n      }\n      var torrents = _.flatten(results);\n      torrents = _.reverse(_.sortBy(torrents, ['verified', 'seeders', 'peers']));\n      return exits.success(torrents);\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/query-all",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/query-all",
        "defaultExit": null,
        "machinepack": 170,
        "id": 766,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "get-eztv-showlist",
        "variableName": "getEztvShowlist",
        "friendlyName": "Get EZTV Showlist",
        "cacheable": true,
        "sync": false,
        "description": "List all shows found on EZTV",
        "inputs": {
          "baseUrl": {
            "description": "The base URL",
            "required": false,
            "example": "https://eztv.ag",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "example": [
              {
                "id": 1,
                "title": "Show title",
                "url": "/shows/1/show-title",
                "slug": "show-title"
              }
            ],
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Default input values\n    inputs.baseUrl = inputs.baseUrl || defaultBaseUrl;\n\n    var request = require('request');\n    var url = inputs.baseUrl + '/showlist/';\n    request(url, function(error, response, html) {\n      if (error) {\n        return exits.error(error);\n      } else {\n        try {\n          var cheerio = require('cheerio');\n          var $ = cheerio.load(html);\n          var _ = require('lodash');\n          var $els = $('table.forum_header_border tr td:first-child.forum_thread_post a.thread_link');\n          var shows = [];\n          $els.each(function(i, e) {\n            var title = $(e).text();\n            // Handle show titles that start with The\n            var suffixThe = ', The';\n            var prefixThe = 'The ';\n            if (_.endsWith(title, suffixThe)) {\n              title = prefixThe + _.replace(title, suffixThe, '');\n            }\n            var url = $(e).attr('href');\n            var r = url.match(/\\/shows\\/(\\d+)\\/([^\\/]+)/);\n            var eid = parseInt(r[1]);\n            var slug = r[2];\n            var show = {\n              id: eid,\n              title: title,\n              url: url,\n              slug: slug\n            };\n            shows.push(show);\n          });\n          return exits.success(shows);\n        } catch (error) {\n          return exits.error(error);\n        }\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/get-eztv-showlist",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/get-eztv-showlist",
        "defaultExit": null,
        "machinepack": 170,
        "id": 767,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "get-eztv-show-episodes",
        "variableName": "getEztvShowEpisodes",
        "friendlyName": "Get EZTV Show Episodes",
        "cacheable": false,
        "sync": false,
        "description": "Get Episodes for an EZTV Show",
        "inputs": {
          "baseUrl": {
            "description": "The base URL",
            "required": false,
            "example": "https://eztv.ag",
            "type": "string"
          },
          "showId": {
            "description": "The Show ID",
            "required": true,
            "example": 1,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Default input values\n    inputs.baseUrl = inputs.baseUrl || defaultBaseUrl;\n\n    var request = require('request');\n    var url = inputs.baseUrl + '/shows/'+inputs.showId+'/';\n\n    request(url, function(error, response, html) {\n        if (error) {\n          return exits.error(error);\n        } else {\n          var cheerio = require('cheerio');\n          var $ = cheerio.load(html);\n          var _ = require('lodash');\n          var ptn = require('parse-torrent-name');\n          var $els = $('table.forum_header_noborder tr.forum_header_border');\n          var torrents = [];\n          $els.each(function(i,e) {\n            var title = $(e).find('a.epinfo').text();\n            var sizeMB = parseFloat($(e).find('td:nth-child(4)').text());\n            var size = sizeMB * 1000 * 1000;\n            var parsed = ptn(title);\n\n            // Magnet Torrent URL\n            var magnetURL = $(e).find('td:nth-child(3) a[href].magnet').attr('href');\n            // Download URL\n            var downloadURL1 = $(e).find('td:nth-child(3) a[href].download_1').attr('href');\n            var downloadURL2 = $(e).find('td:nth-child(3) a[href].download_2').attr('href');\n            var downloadURL3 = $(e).find('td:nth-child(3) a[href].download_3').attr('href');\n            var downloadURL4 = $(e).find('td:nth-child(3) a[href].download_4').attr('href');\n\n            var torrent = {\n              title: parsed.title,\n              season: parsed.season,\n              episode: parsed.episode,\n              repack: !!parsed.repack,\n              category: 'tv',\n              size: size,\n              verified: true,\n              url: downloadURL1 || downloadURL2 || downloadURL3 || downloadURL4 || magnetURL,\n              magnet: magnetURL,\n              provider: 'EZTV',\n            };\n            torrents.push(torrent);\n          });\n          return exits.success(torrents);\n        }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/get-eztv-show-episodes",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/get-eztv-show-episodes",
        "defaultExit": null,
        "machinepack": 170,
        "id": 768,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      },
      {
        "identity": "query-yts",
        "variableName": "queryYts",
        "friendlyName": "Query YTS",
        "cacheable": false,
        "sync": false,
        "description": "Query YTS Torrents.",
        "inputs": {
          "apiUrl": {
            "description": "The URL of the API",
            "required": false,
            "example": "https://yts.ag",
            "type": "string"
          },
          "sortByKey": {
            "description": "The key to sort the torrents by.",
            "required": false,
            "example": "seeds",
            "type": "string"
          },
          "sortOrder": {
            "description": "The sort order for the given sort key.",
            "required": false,
            "example": "desc",
            "type": "string"
          },
          "query": {
            "description": "The torrent query",
            "required": true,
            "example": "",
            "type": "string"
          },
          "page": {
            "description": "The page number",
            "required": false,
            "example": 1,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Default input values\n    inputs.apiUrl = inputs.apiUrl || defaultAPIURL;\n    inputs.sortByKey = inputs.sortByKey || defaultSortByKey;\n    inputs.sortOrder = inputs.sortOrder || defaultSortOrder;\n    inputs.page = inputs.page || defaultPage;\n    inputs.query = inputs.query || '';\n\n    // Send request to Kickass Torrents\n    var Http = require('machinepack-http');\n    Http.sendHttpRequest({\n      baseUrl: inputs.apiUrl,\n      url: '/api/v2/list_movies.json',\n      method: 'get',\n      params: {\n        query_term: inputs.query,\n        sort_by: inputs.sortByKey,\n        order_by: inputs.sortOrder,\n        // page: inputs.page,\n      }\n    }).exec({\n      // OK.\n      success: function(result) {\n        try {\n          var responseBody = JSON.parse(result.body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n        var _ = require('lodash');\n        var movies = responseBody.data.movies;\n        // console.log(JSON.stringify(movies, undefined, 2));\n        var results = _.map(movies, function(movie) {\n          return _.map(movie.torrents, function(torrent) {\n            return {\n              title: movie.title,\n              category: 'movies',\n              year: movie.year,\n              imdb: movie.imdb_code,\n              genres: movie.genres,\n              hash: torrent.hash,\n              url: torrent.url,\n              quality: torrent.quality,\n              seeders: torrent.seeds,\n              peers: torrent.peers,\n              size: torrent.size_bytes,\n              dateCreated: new Date(torrent.date_uploaded),\n              provider: 'YTS',\n              verified: true,\n              // meta: movie,\n            };\n          });\n        });\n        // console.log(results);\n        var torrents = _.flatten(results);\n        // console.log(JSON.stringify(torrents, undefined, 2));\n        return exits.success();\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent/query-yts",
        "docsUrl": "http://node-machine.org/machinepack-findtorrent/query-yts",
        "defaultExit": null,
        "machinepack": 170,
        "id": 769,
        "createdAt": "2016-04-10T20:29:41.000Z",
        "updatedAt": "2016-04-10T20:29:41.000Z"
      }
    ],
    "identity": "machinepack-findtorrent",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2016-04-10T00:00:00.000Z",
    "variableName": "FindTorrent",
    "friendlyName": "Find Torrent",
    "description": "Find torrents from Kickass, EZTV, and more",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-findtorrent",
    "docsUrl": "http://node-machine.org/machinepack-findtorrent",
    "npmUrl": "http://npmjs.org/package/machinepack-findtorrent",
    "npmPackageName": "machinepack-findtorrent",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^2.0.0-rc.3"
      },
      {
        "name": "cheerio",
        "semverRange": "^0.20.0"
      },
      {
        "name": "episode",
        "semverRange": "^0.2.0"
      },
      {
        "name": "lodash",
        "semverRange": "^4.9.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      },
      {
        "name": "parse-torrent-name",
        "semverRange": "^0.5.4"
      },
      {
        "name": "request",
        "semverRange": "^2.70.0"
      }
    ],
    "contributors": [
      {
        "name": "Glavin Wiechert",
        "email": "glavin.wiechert@gmail.com"
      },
      {
        "name": "glavin001",
        "email": "glavin.wiechert@gmail.com"
      }
    ],
    "id": 170,
    "createdAt": "2016-04-10T20:29:41.000Z",
    "updatedAt": "2016-04-10T20:29:41.000Z",
    "numMachines": 8
  },
  {
    "machines": [
      {
        "identity": "set-data",
        "variableName": "setData",
        "friendlyName": "Set Data",
        "cacheable": null,
        "sync": null,
        "description": "Write data to your Firebase instance with the Set method.",
        "inputs": {
          "firebaseURL": {
            "example": "your-firebase-database.firebaseio.com",
            "description": "The reference URL for your Firebase dataset.",
            "required": true,
            "type": "string"
          },
          "child": {
            "example": "users",
            "description": "The child of your reference URL which you wish to write to.",
            "type": "string"
          },
          "write": {
            "description": "The dataset you wish to write to your Firebase instance, in JSON form.",
            "typeclass": "*",
            "required": true,
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Require the Firebase SDK\n    var Firebase = require('firebase');\n\n    // Get the root reference\n    var rootRef = new Firebase(inputs.firebaseURL);\n\n    // If a child path is specified, get a reference to that data path\n    var finalRef = inputs.child ? rootRef.child(inputs.child) : rootRef;\n\n    // Set the data at the path\n    finalRef.set(inputs.write, function(error) {\n\n      // Handle errors\n      if (error) {\n        return exits.error(error);\n      }\n\n      // Return success\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "This will parse your data from a string into a JSON object. Writing data with .Set() will overwrite all existing data on the child node. This is best used for new or replacement data. To add data to your child node without overwriting, use .push(). You can find out more about which write option to use here: https://www.firebase.com/docs/web/guide/saving-data.html",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/set-data",
        "docsUrl": "http://node-machine.org/machinepack-firebase/set-data",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 299,
        "createdAt": "2015-03-31T07:19:21.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      },
      {
        "identity": "push-data",
        "variableName": "pushData",
        "friendlyName": "Push Data",
        "cacheable": null,
        "sync": null,
        "description": "Write data to your Firebase instance with the Push method.",
        "inputs": {
          "firebaseURL": {
            "example": "your-firebase-database.firebaseio.com",
            "description": "The reference URL for your Firebase dataset.",
            "required": true,
            "type": "string"
          },
          "child": {
            "example": "users",
            "description": "The child of your reference URL which you wish to write to.",
            "type": "string"
          },
          "write": {
            "description": "The dataset you wish to write to your Firebase instance.",
            "typeclass": "*",
            "required": true,
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "-JmahDOMzYCH1R_gGEAL",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    // Require the Firebase SDK\n    var Firebase = require('firebase');\n\n    // Get the root reference\n    var rootRef = new Firebase(inputs.firebaseURL);\n\n    // If a child path is specified, get a reference to that data path\n    var finalRef = inputs.child ? rootRef.child(inputs.child) : rootRef;\n\n    // Create a new data reference\n    var dataRef = finalRef.push(inputs.write, function(error) {\n\n        // Handle errors\n        if (error) {\n          return exits.error(error);\n        }\n\n        // Get the unique ID of the new data path\n        var key = dataRef.key();\n\n        // Return it through the success exit\n        return exits.success(key);\n      });\n  ",
        "environment": [],
        "extendedDescription": "This will parse your data from a string into a JSON object. Writing data with .Set() will overwrite all existing data on the child node. This is best used for new or replacement data. To add data to your child node without overwriting, use .push(). You can find out more about which write option to use here: https://www.firebase.com/docs/web/guide/saving-data.html",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/push-data",
        "docsUrl": "http://node-machine.org/machinepack-firebase/push-data",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 300,
        "createdAt": "2015-03-31T07:19:21.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      },
      {
        "identity": "update-data",
        "variableName": "updateData",
        "friendlyName": "Update Data",
        "cacheable": null,
        "sync": null,
        "description": "Update data in a Firebase child node per field.",
        "inputs": {
          "firebaseURL": {
            "example": "your-firebase-database.firebaseio.com/users",
            "description": "The reference URL for your Firebase dataset. NOTE: Refer to the specific location you need to update as this machine can only work on one child level. For example, add /users/ to the URL, and the specific user as the child.",
            "required": true,
            "type": "string"
          },
          "child": {
            "example": "users",
            "description": "The child of your reference URL which you wish to write to.",
            "type": "string"
          },
          "write": {
            "description": "The children to overwrite in the data path.",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Require the Firebase SDK\n    var Firebase = require('firebase');\n\n    // Get the root reference\n    var rootRef = new Firebase(inputs.firebaseURL);\n\n    // If a child path is specified, get a reference to that data path\n    var finalRef = inputs.child ? rootRef.child(inputs.child) : rootRef;\n\n    // Set the data at the path\n    finalRef.update(inputs.write, function(error) {\n\n      // Handle errors\n      if (error) {\n        return exits.error(error);\n      }\n\n      // Return success\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This can be used to edit a single field within a child, or to add a new field entirely. You can find out more about which write option to use here: https://www.firebase.com/docs/web/guide/saving-data.html",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/update-data",
        "docsUrl": "http://node-machine.org/machinepack-firebase/update-data",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 301,
        "createdAt": "2015-03-31T07:19:21.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      },
      {
        "identity": "read-value",
        "variableName": "readValue",
        "friendlyName": "Read Value",
        "cacheable": null,
        "sync": null,
        "description": "Read data from a specific firebase location, such as \"/users/\".",
        "inputs": {
          "firebaseURL": {
            "example": "your-firebase-database.firebaseio.com/users/",
            "description": "The reference URL for your Firebase dataset.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "{ \"User 1\": {\"email\": \"user@gmail.com\", \"password\": \"password123\"}}",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    // Require the Firebase SDK\n    var Firebase = require('firebase');\n\n    // Get the data path reference\n    var ref = new Firebase(inputs.firebaseURL);\n\n    // Attempt to read from the data path\n    ref.once(\"value\", function(snapshot) {\n\n      // Return the data as a JSON string through the success exit\n      return exits.success(JSON.stringify(snapshot.val()));\n    },\n\n    // In case of error, send the error throuh the error exit\n    function(errorObject) {\n        return exits.error(errorObject);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This will return your data as a JSON object. To return this to a String format, please use the .JSONtoString machine included in this machinepack. You can find more information on which read method to use here: https://www.firebase.com/docs/web/guide/retrieving-data.html",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/read-value",
        "docsUrl": "http://node-machine.org/machinepack-firebase/read-value",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 302,
        "createdAt": "2015-03-31T07:19:21.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      },
      {
        "identity": "json-to-string",
        "variableName": "jsonToString",
        "friendlyName": "Convert JSON to String",
        "cacheable": null,
        "sync": null,
        "description": "Firebase reads data as a JSON object. You can convert this to a string with this machine.",
        "inputs": {
          "object": {
            "example": "{ \"User 1\": {\"email\": \"user@gmail.com\", \"password\": \"password123\"}}",
            "description": "The object you wish to convert into a string.",
            "typeclass": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "parseFailure": {
            "description": "The data provided is not a valid JSON object.",
            "moreInfo": "This usually happens due to a lack of double-quotes or because your variable is already a string. You can check out exactly how to present your string of data here: http://www.json.org/"
          },
          "success": {
            "description": "OK.",
            "data": "{ \"User 1\": {\"email\": \"user@gmail.com\", \"password\": \"password123\"}}",
            "isDefault": true
          }
        },
        "fn": "\n    var jdata;\n\n    try {\n      jdata= JSON.stringify(inputs.object);\n    }\n    catch (e){\n      return exits.parseFailure(e);\n    }\n\n    return exits.success({\n      description: \"Object succesfully converted.\",\n      data: jdata\n    });\n  ",
        "environment": [],
        "extendedDescription": "This will parse your data from a JSON Object into a string.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/json-to-string",
        "docsUrl": "http://node-machine.org/machinepack-firebase/json-to-string",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 303,
        "createdAt": "2015-03-31T07:19:21.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      },
      {
        "identity": "string-to-json",
        "variableName": "stringToJson",
        "friendlyName": "Convert string to JSON",
        "cacheable": null,
        "sync": null,
        "description": "Firebase writes data as a JSON object. You can convert your JSON-format string to a JSON object with this machine.",
        "inputs": {
          "string": {
            "example": "{ \"User 1\": {\"email\": \"user@gmail.com\", \"password\": \"password123\"}}",
            "description": "The string you wish to convert.",
            "typeclass": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "parseFailure": {
            "description": "The data provided is not in valid JSON format.",
            "moreInfo": "This usually happens due to a lack of double-quotes or because your variable is already a JSON object. You can check out exactly how to present your string of data here: http://www.json.org/"
          },
          "success": {
            "description": "OK.",
            "data": "{ \"User 1\": {\"email\": \"user@gmail.com\", \"password\": \"password123\"}}",
            "isDefault": true
          }
        },
        "fn": "\n    var jdata;\n\n    try {\n      jdata= JSON.parse(inputs.string);\n    }\n    catch (e){\n      return exits.parseFailure(e);\n    }\n\n    return exits.success({\n      description: \"String succesfully converted.\",\n      data: jdata\n    });\n  ",
        "environment": [],
        "extendedDescription": "This will parse your data from a JSON Object into a string.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/string-to-json",
        "docsUrl": "http://node-machine.org/machinepack-firebase/string-to-json",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 323,
        "createdAt": "2015-04-08T16:39:47.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      },
      {
        "identity": "remove-value",
        "variableName": "removeValue",
        "friendlyName": "Remove Value",
        "cacheable": null,
        "sync": null,
        "description": "Remove data from a specific firebase location, such as \"/users/\".",
        "inputs": {
          "firebaseURL": {
            "example": "your-firebase-database.firebaseio.com/users/",
            "description": "The reference URL for your Firebase dataset.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Require the Firebase SDK\n    var Firebase = require('firebase');\n\n    // Get the data path reference\n    var ref = new Firebase(inputs.firebaseURL);\n\n    // Attempt to read from the data path\n    ref.remove(function(error) {\n\n      // Handle errors\n      if (error) {\n        return exits.error(error);\n      }\n\n      // Return through the success exit\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-firebase/remove-value",
        "docsUrl": "http://node-machine.org/machinepack-firebase/remove-value",
        "defaultExit": "success",
        "machinepack": 79,
        "id": 332,
        "createdAt": "2015-04-11T10:59:34.000Z",
        "updatedAt": "2015-05-13T22:39:28.000Z"
      }
    ],
    "identity": "machinepack-firebase",
    "version": "3.1.0",
    "latestVersionPublishedAt": "2015-05-13T00:00:00.000Z",
    "variableName": "Firebase",
    "friendlyName": "Firebase",
    "description": "This machinepack lets you commuicate with the Firebase API to store and sync your data in realtime.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_firebase.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-firebase",
    "docsUrl": "http://node-machine.org/machinepack-firebase",
    "npmUrl": "http://npmjs.org/package/machinepack-firebase",
    "npmPackageName": "machinepack-firebase",
    "githubUrl": "http://github.com/nilefrater/machinepack-firebase/",
    "sourceUrl": "http://github.com/nilefrater/machinepack-firebase/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "JSON",
        "semverRange": "^1.0.0"
      },
      {
        "name": "firebase",
        "semverRange": "^2.2.3"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 79,
    "createdAt": "2015-03-31T07:19:21.000Z",
    "updatedAt": "2015-05-13T22:39:28.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "get-venue",
        "variableName": "getVenue",
        "friendlyName": "Get venue",
        "cacheable": false,
        "sync": false,
        "description": "Get a single venue based on ID",
        "inputs": {
          "id": {
            "description": "The unique id for a Venue",
            "example": "40b28c80f964a5204df81ee3",
            "required": true,
            "type": "string"
          },
          "client_id": {
            "example": "XYRA11GEUJ0GQSS4APL0VXCI1GZIHVRBQQIR0XB32GIEDUYT",
            "description": "Your Foursquare app CLIENT_ID",
            "required": true,
            "type": "string"
          },
          "client_secret": {
            "example": "H4JII1UI2AQK5VH4G1CASEN3XWFXM2KTY0OUWVKYZSZERR30",
            "description": "Your Foursquare app CLIENT_SECRET",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var https = require('https');\n    var version = 20130815; //4sq API version\n    var client_id = inputs.client_id;\n    var client_secret = inputs.client_secret;\n    var id = inputs.id;\n\n\n    var url = \"https://api.foursquare.com/v2/venues/\"+id+\"?client_id=\"+client_id+\"&client_secret=\"+client_secret+\"&v=\"+version;\n    https.get(url, function(res) {\n    }).on('error', function(e) {\n      return exits.error(e.message);\n    });\n    https.get(url, function(res) {\n      var data = '';\n      res.on(\"data\", function(chunk) {\n        data += chunk;\n      });\n      res.on('end',function(){\n          try {\n            var obj = JSON.parse(data);\n            return exits.success(obj.response);\n        } catch (e) {\n            return exits.error(e);\n        };\n      });\n    }).on('error', function(e) {\n       return exits.error(e.message);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-foursquare/get-venue",
        "docsUrl": "http://node-machine.org/machinepack-foursquare/get-venue",
        "defaultExit": null,
        "machinepack": 147,
        "id": 663,
        "createdAt": "2015-08-17T21:09:22.000Z",
        "updatedAt": "2015-08-17T21:39:29.000Z"
      },
      {
        "identity": "list-venues",
        "variableName": "listVenues",
        "friendlyName": "List venues",
        "cacheable": false,
        "sync": false,
        "description": "List Venues in an specific area",
        "inputs": {
          "client_id": {
            "example": "XYRA11GEUJ0GQSS4APL0VXCI1GZIHVRBQQIR0XB32GIEDUYT",
            "description": "Your Foursquare app CLIENT_ID",
            "required": true,
            "type": "string"
          },
          "client_secret": {
            "example": "H4JII1UI2AQK5VH4G1CASEN3XWFXM2KTY0OUWVKYZSZERR30",
            "description": "Your Foursquare app CLIENT_SECRET",
            "required": true,
            "type": "string"
          },
          "near": {
            "example": "Cambridge, MA",
            "description": "The location you want to query",
            "required": true,
            "type": "string"
          },
          "query": {
            "example": "Sushi",
            "description": "A search term to be applied against venue names.",
            "required": false,
            "type": "string"
          },
          "limit": {
            "example": "5",
            "description": "Limit venues results.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var https = require('https');\n    var version = 20130815; //4sq API version\n\n    var client_id = inputs.client_id;\n    var client_secret = inputs.client_secret;\n    var near = inputs.near;\n    if (!inputs.query) {\n      var query = \"\"\n    } else {\n      var query = inputs.query;\n    }\n    console.log(query);\n    if (!inputs.limit) {\n      var limit = 10;\n    } else {\n      var limit = inputs.limit;\n    }\n    console.log(limit);\n\n    var url = \"https://api.foursquare.com/v2/venues/search?client_id=\"+client_id+\"&client_secret=\"+client_secret+\"&v=\"+version+\"&near=\"+near+\"&query=\"+query+\"&limit=\"+limit;\n    console.log(url);\n    https.get(url, function(res) {\n      console.log(\"Got response: \" + res.statusCode);\n    }).on('error', function(e) {\n      console.log(\"Got error: \" + e.message);\n    });\n    https.get(url, function(res) {\n      var data = '';\n      res.on(\"data\", function(chunk) {\n        data += chunk;\n      });\n      res.on('end',function(){\n          try {\n            var obj = JSON.parse(data);\n            return exits.success(obj);\n        } catch (e) {\n            return exits.error(e);\n        };\n      });\n    }).on('error', function(e) {\n      console.log(\"Got error: \" + e.message);\n       return exits.error(e);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-foursquare/list-venues",
        "docsUrl": "http://node-machine.org/machinepack-foursquare/list-venues",
        "defaultExit": null,
        "machinepack": 147,
        "id": 664,
        "createdAt": "2015-08-17T21:09:22.000Z",
        "updatedAt": "2015-08-17T21:39:29.000Z"
      }
    ],
    "identity": "machinepack-foursquare",
    "version": "1.0.2",
    "latestVersionPublishedAt": "2015-08-17T00:00:00.000Z",
    "variableName": "Foursquare",
    "friendlyName": "Foursquare",
    "description": "Communicate with the Foursquare API to list venues, get reviews, check-ins, etc",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://playfoursquare.s3.amazonaws.com/press/2014/foursquare-logomark.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-foursquare",
    "docsUrl": "http://node-machine.org/machinepack-foursquare",
    "npmUrl": "http://npmjs.org/package/machinepack-foursquare",
    "npmPackageName": "machinepack-foursquare",
    "githubUrl": "http://github.com/ytzvan/machinepack-foursquare/",
    "sourceUrl": "http://github.com/ytzvan/machinepack-foursquare/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "ytzvan",
        "email": "mastino14@gmail.com"
      }
    ],
    "id": 147,
    "createdAt": "2015-08-17T21:09:22.000Z",
    "updatedAt": "2015-08-17T21:39:29.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "best",
        "variableName": "best",
        "friendlyName": "get best image from venue",
        "cacheable": false,
        "sync": false,
        "description": "get the best image of a venue based on the foursqaure id",
        "inputs": {
          "id": {
            "description": "The unique id for a Venue",
            "example": "40b28c80f964a5204df81ee3",
            "required": true,
            "type": "string"
          },
          "client_id": {
            "example": "XYRA11GEUJ0GQSS4APL0VXCI1GZIHVRBQQIR0XB32GIEDUYT",
            "description": "Your Foursquare app CLIENT_ID",
            "required": true,
            "type": "string"
          },
          "client_secret": {
            "example": "H4JII1UI2AQK5VH4G1CASEN3XWFXM2KTY0OUWVKYZSZERR30",
            "description": "Your Foursquare app CLIENT_SECRET",
            "required": true,
            "type": "string"
          },
          "size": {
            "example": "width640",
            "description": "size string",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    /**  \n    Control Flow:\n    * Verify Inputs -> Return if there is an error\n    * Connect to foursquare API to get the venue response\n    * parse and return the URL string\n    */\n\n    Foursquare.getVenue(inputs).exec({\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n      // OK.\n      success: function(output) {\n        var venue = output.venue;\n        if(typeof venue === 'undefined'){\n          return exits.error('venue not found');\n        }\n        var size = inputs.size || \"width640\";\n        var returnValue = venue.bestPhoto.prefix + size + venue.bestPhoto.suffix;\n        return exits.success(returnValue);\n      },\n    });\n  ",
        "environment": [],
        "extendedDescription": "This function will take the Foursquare venue ID as input and query the foursquare API on the user's behalf to get the JSON response of the venue detail, then return the image url of the best image",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-foursquareimageproxy/best",
        "docsUrl": "http://node-machine.org/machinepack-foursquareimageproxy/best",
        "defaultExit": null,
        "machinepack": 150,
        "id": 668,
        "createdAt": "2015-09-19T03:50:12.000Z",
        "updatedAt": "2015-09-19T03:50:12.000Z"
      }
    ],
    "identity": "machinepack-foursquareimageproxy",
    "version": "1.0.2",
    "latestVersionPublishedAt": "2015-09-19T00:00:00.000Z",
    "variableName": "Foursquareimageproxy",
    "friendlyName": "Foursquare image proxy",
    "description": "proxy images of a foursquare venue based on its foursqaure id",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-foursquareimageproxy",
    "docsUrl": "http://node-machine.org/machinepack-foursquareimageproxy",
    "npmUrl": "http://npmjs.org/package/machinepack-foursquareimageproxy",
    "npmPackageName": "machinepack-foursquareimageproxy",
    "githubUrl": "http://github.com/paulwoodiii/machinepack-foursquareimageproxy/",
    "sourceUrl": "http://github.com/paulwoodiii/machinepack-foursquareimageproxy/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-foursquare",
        "semverRange": "^1.0.2"
      }
    ],
    "contributors": [
      {
        "name": "Paul Wood",
        "email": ""
      },
      {
        "name": "paulwoodiii",
        "email": "paul.wood.iii@gmail.com"
      }
    ],
    "id": 150,
    "createdAt": "2015-09-17T05:59:59.000Z",
    "updatedAt": "2015-09-19T03:50:12.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-series-observations",
        "variableName": "getSeriesObservations",
        "friendlyName": "Get series observations",
        "cacheable": null,
        "sync": null,
        "description": "Get the observations or data values for an economic data series.",
        "inputs": {
          "apiKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The private API key for this application.",
            "required": true,
            "whereToGet": {
              "url": "https://research.stlouisfed.org/useraccount/register/step1",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "seriesId": {
            "example": "EXCSRESNS",
            "description": "The id for a series.",
            "required": true,
            "type": "string"
          },
          "fileType": {
            "example": "json",
            "description": "A key or file extension that indicates the type of file to send (e.g. xml, json, txt, xls).",
            "type": "string"
          },
          "observationStart": {
            "example": "2014-01-01",
            "description": "The start of the observation period.",
            "type": "string"
          },
          "observationEnd": {
            "example": "2014-01-01",
            "description": "The end of the observation period.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "realtime_start": "2015-02-15",
                "realtime_end": "2015-02-15",
                "date": "2015-01-01",
                "value": "2593187"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.stlouisfed.org',\n      url: '/fred/series/observations',\n      method: 'get',\n      params: {\n        api_key: inputs.apiKey,\n        series_id: inputs.seriesId,\n        file_type: inputs.fileType,\n        observation_start: inputs.observationStart,\n        observation_end: inputs.observationEnd\n      }\n    }).exec({\n      success: function(httpResponse) {\n\n        // Parse response body and build up result.\n        var responseBody;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n          return exits.success(responseBody.observations);\n        } catch (e) {\n           return exits.error('Unexpected response from FRED API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fred/get-series-observations",
        "docsUrl": "http://node-machine.org/machinepack-fred/get-series-observations",
        "defaultExit": "success",
        "machinepack": 6,
        "id": 23,
        "createdAt": "2015-02-16T23:51:04.000Z",
        "updatedAt": "2015-02-16T23:51:04.000Z"
      }
    ],
    "identity": "machinepack-fred",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-02-15T00:00:00.000Z",
    "variableName": "Fred",
    "friendlyName": "Fred",
    "description": "Communicate with the Fred API to get series, releases, observations, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-fred",
    "docsUrl": "http://node-machine.org/machinepack-fred",
    "npmUrl": "http://npmjs.org/package/machinepack-fred",
    "npmPackageName": "machinepack-fred",
    "githubUrl": "http://github.com/irlnathan/machinepack-fred/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-fred/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 6,
    "createdAt": "2015-02-16T23:51:03.000Z",
    "updatedAt": "2015-02-16T23:51:03.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-person-from-email",
        "variableName": "getPersonFromEmail",
        "friendlyName": "Get Person from Email",
        "cacheable": null,
        "sync": null,
        "description": "Retrieves contact information by e-mail address.",
        "inputs": {
          "apiKey": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your FullContact API key",
            "whereToGet": {
              "url": "https://www.fullcontact.com/developer/",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "email": {
            "required": true,
            "example": "jane@example.com",
            "description": "The email address of the person you are looking up",
            "type": "string"
          },
          "queue": {
            "example": "1",
            "description": "Using this parameter notifies FullContact that the email address in question will be called later. It allows the API to make sure it has indexed the email address prior to the application needing it. When using this parameter, it will always return a response code of 202.",
            "type": "string"
          },
          "webhookUrl": {
            "example": "https://mydomain.com/callback/listener",
            "description": "The callback url you'd like the data to be posted back to.",
            "extendedDescription": "Read the webhook flow diagram: https://www.fullcontact.com/developer/docs/person/#webhook-flow-diagram",
            "type": "string"
          },
          "webhookId": {
            "example": "myId",
            "description": "You can enter anything you want here, we will just pass it back in the response. This allows you to track the webhook if you wish.",
            "type": "string"
          },
          "webhookBody": {
            "example": "json",
            "description": "You can specify that the payload of the webhook response be retuned as a JSON document instead of a URL-encoded form using the webhookBody=json query parameter. A JSON document will be the format regardless of whether the initial request to v2/Person was to the .json, .xml or .html version of the person endpoint.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "FullContact says your API request was malformed",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "apiKeyProblem": {
            "description": "FulLContact says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queryParamProblem": {
            "description": "FullContact says you have an invalid or missing query parameter.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queued": {
            "description": "FullContact has queued the search and will have an answer shortly.  If you don't want to wait, use the webhook input",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "wait24Hours": {
            "description": "FullContact says you have to wait 24 hours to try this query again.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var FullContact = require('fullcontact');\n    var fullcontact = new FullContact(inputs.apiKey);\n\n    var email = inputs.email.toLowerCase();\n    var queue = (inputs.queue && inputs.queue === '1') ? 1 : 0;\n    var webhookUrl = inputs.webhookUrl || null;\n    var webhookId = inputs.webhookId || null;\n    var webhookBody = inputs.webhookBody || null;\n\n    fullcontact.person.email(email, queue, webhookUrl, webhookId, webhookBody, function(err, data) {\n      if (err) {\n        if (404 === err.status) {\n          return exits.wait24Hours(err);\n        } else if (400 === err.status) {\n          return exits.malformedRequest(err);\n        } else if (403 === err.status) {\n          return exits.apiKeyProblem(err);\n        } else if (422 === err.status) {\n          return exits.queryParamProblem(err);\n        }\n        return exits.error(err);\n      }\n      if (202 === data.status) {\n        return exits.queued(data);\n      }\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Read the docs here: https://www.fullcontact.com/developer/docs/person/",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-email",
        "docsUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-email",
        "defaultExit": "success",
        "machinepack": 56,
        "id": 224,
        "createdAt": "2015-03-16T21:29:37.000Z",
        "updatedAt": "2015-04-24T17:49:42.000Z"
      },
      {
        "identity": "get-person-from-twitter",
        "variableName": "getPersonFromTwitter",
        "friendlyName": "Get Person from Twitter",
        "cacheable": null,
        "sync": null,
        "description": "Retrieves contact information by Twitter username.",
        "inputs": {
          "apiKey": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your FullContact API key",
            "whereToGet": {
              "url": "https://www.fullcontact.com/developer/",
              "description": "Sign up for a free FullContact developer account here: https://www.fullcontact.com/developer/try-fullcontact/",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "twitter": {
            "required": true,
            "example": "janedoe",
            "description": "The twitter name fo the person being looked up",
            "type": "string"
          },
          "queue": {
            "example": "1",
            "description": "Using this parameter notifies FullContact that the email address in question will be called later. It allows the API to make sure it has indexed the email address prior to the application needing it. When using this parameter, it will always return a response code of 202.",
            "type": "string"
          },
          "webhookUrl": {
            "example": "https://mydomain.com/callback/listener",
            "description": "The callback url you'd like the data to be posted back to.",
            "extendedDescription": "Read the webhook flow diagram: https://www.fullcontact.com/developer/docs/person/#webhook-flow-diagram",
            "type": "string"
          },
          "webhookId": {
            "example": "myId",
            "description": "You can enter anything you want here, we will just pass it back in the response. This allows you to track the webhook if you wish.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "FullContact says your API request was malformed",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "apiKeyProblem": {
            "description": "FulLContact says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queryParamProblem": {
            "description": "FullContact says you have an invalid or missing query parameter.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queued": {
            "description": "FullContact has queued the search and will have an answer shortly.  If you don't want to wait, use the webhook input",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "wait24Hours": {
            "description": "FullContact says you have to wait 24 hours to try this query again.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var FullContact = require('fullcontact');\n    var fullcontact = new FullContact(inputs.apiKey);\n\n    var twitter = inputs.twitter;\n    var queue = (inputs.queue && inputs.queue === '1') ? 1 : 0;\n    var webhookUrl = inputs.webhookUrl || null;\n    var webhookId = inputs.webhookId || null;\n\n    fullcontact.person.twitter(twitter, queue, webhookUrl, webhookId, function(err, data) {\n      if (err) {\n        if (404 === err.status) {\n          return exits.wait24Hours(err);\n        } else if (400 === err.status) {\n          return exits.malformedRequest(err);\n        } else if (403 === err.status) {\n          return exits.apiKeyProblem(err);\n        } else if (422 === err.status) {\n          return exits.queryParamProblem(err);\n        }\n        return exits.error(err);\n      }\n      if (202 === data.status) {\n        return exits.queued(data);\n      }\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-twitter",
        "docsUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-twitter",
        "defaultExit": "success",
        "machinepack": 56,
        "id": 225,
        "createdAt": "2015-03-16T21:29:37.000Z",
        "updatedAt": "2015-04-24T17:49:42.000Z"
      },
      {
        "identity": "get-person-from-phone",
        "variableName": "getPersonFromPhone",
        "friendlyName": "Get Person from Phone",
        "cacheable": null,
        "sync": null,
        "description": "Retrieves contact information by phone number.",
        "inputs": {
          "apiKey": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your FullContact API key",
            "whereToGet": {
              "url": "https://www.fullcontact.com/developer/",
              "description": "Sign up for a free FullContact developer account here: https://www.fullcontact.com/developer/try-fullcontact/",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "phone": {
            "required": true,
            "example": "123-555-4444",
            "description": "The phone number of the person you are looking up",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "FullContact says your API request was malformed",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "apiKeyProblem": {
            "description": "FulLContact says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queryParamProblem": {
            "description": "FullContact says you have an invalid or missing query parameter.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queued": {
            "description": "FullContact has queued the search and will have an answer shortly.  If you don't want to wait, use the webhook input",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "wait24Hours": {
            "description": "FullContact says you have to wait 24 hours to try this query again.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var FullContact = require('fullcontact');\n    var fullcontact = new FullContact(inputs.apiKey);\n\n    fullcontact.person.phone(inputs.phone, function(err, data) {\n      if (err) {\n        if (404 === err.status) {\n          return exits.wait24Hours(err);\n        } else if (400 === err.status) {\n          return exits.malformedRequest(err);\n        } else if (403 === err.status) {\n          return exits.apiKeyProblem(err);\n        } else if (422 === err.status) {\n          return exits.queryParamProblem(err);\n        }\n        return exits.error(err);\n      }\n      if (202 === data.status) {\n        return exits.queued(data);\n      }\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Read the docs here: https://www.fullcontact.com/developer/docs/person/",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-phone",
        "docsUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-phone",
        "defaultExit": "success",
        "machinepack": 56,
        "id": 226,
        "createdAt": "2015-03-16T21:29:37.000Z",
        "updatedAt": "2015-04-24T17:49:42.000Z"
      },
      {
        "identity": "get-person-from-email-md5",
        "variableName": "getPersonFromEmailMd5",
        "friendlyName": "Get Person from Email MD5",
        "cacheable": null,
        "sync": null,
        "description": "Retrieves contact information by an MD5 of an email address",
        "inputs": {
          "apiKey": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your FullContact API key",
            "whereToGet": {
              "url": "https://www.fullcontact.com/developer/",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "emailMD5": {
            "required": true,
            "example": "a4cb1b07d68a3436a190e1559586ae3c",
            "description": "Allows you to query by an MD5-hashed email address. Match rates for emailMD5 lookups will be slightly lower than those returned via the standard email parameter.",
            "type": "string"
          },
          "queue": {
            "example": "1",
            "description": "Using this parameter notifies FullContact that the email address in question will be called later. It allows the API to make sure it has indexed the email address prior to the application needing it. When using this parameter, it will always return a response code of 202.",
            "type": "string"
          },
          "webhookUrl": {
            "example": "https://mydomain.com/callback/listener",
            "description": "The callback url you'd like the data to be posted back to.",
            "extendedDescription": "Read the webhook flow diagram: https://www.fullcontact.com/developer/docs/person/#webhook-flow-diagram",
            "type": "string"
          },
          "webhookId": {
            "example": "myId",
            "description": "You can enter anything you want here, we will just pass it back in the response. This allows you to track the webhook if you wish.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "FullContact says your API request was malformed",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "apiKeyProblem": {
            "description": "FulLContact says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queryParamProblem": {
            "description": "FullContact says you have an invalid or missing query parameter.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queued": {
            "description": "FullContact has queued the search and will have an answer shortly.  If you don't want to wait, use the webhook input",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "wait24Hours": {
            "description": "FullContact says you have to wait 24 hours to try this query again.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var FullContact = require('fullcontact');\n    var fullcontact = new FullContact(inputs.apiKey);\n\n    var emailMD5 = inputs.emailMD5;\n    var queue = (inputs.queue && inputs.queue === '1') ? 1 : 0;\n    var webhookUrl = inputs.webhookUrl || null;\n    var webhookId = inputs.webhookId || null;\n\n    if (emailMD5) {\n      emailMD5 = emailMD5.toLowerCase();\n    }\n\n    fullcontact.person.md5(emailMD5, queue, webhookUrl, webhookId, function(err, data) {\n      if (err) {\n        if (404 === err.status) {\n          return exits.wait24Hours(err);\n        } else if (400 === err.status) {\n          return exits.malformedRequest(err);\n        } else if (403 === err.status) {\n          return exits.apiKeyProblem(err);\n        } else if (422 === err.status) {\n          return exits.queryParamProblem(err);\n        }\n        return exits.error(err);\n      }\n      if (202 === data.status) {\n        return exits.queued(data);\n      }\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-email-md5",
        "docsUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-email-md5",
        "defaultExit": "success",
        "machinepack": 56,
        "id": 227,
        "createdAt": "2015-03-16T21:29:37.000Z",
        "updatedAt": "2015-04-24T17:49:42.000Z"
      },
      {
        "identity": "get-person-from-facebook",
        "variableName": "getPersonFromFacebook",
        "friendlyName": "Get Person from Facebook",
        "cacheable": null,
        "sync": null,
        "description": "Retrieve more information about a specific person by facebook username or facebook ID",
        "inputs": {
          "apiKey": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your FullContact API key",
            "whereToGet": {
              "url": "https://www.fullcontact.com/developer/",
              "description": "Sign up for a free FullContact developer account here: https://www.fullcontact.com/developer/try-fullcontact/",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "username": {
            "example": "janedoe",
            "description": "The facebook name of the person being looked up",
            "extendedDescription": "facebookUsername takes precedence over facebookId if both are specified.",
            "type": "string"
          },
          "id": {
            "example": "123456789",
            "description": "The facebook ID of the person being looked up",
            "extendedDescription": "facebookUsername takes precedence over facebookId if both are specified.",
            "type": "string"
          },
          "queue": {
            "example": "1",
            "description": "Using this parameter notifies FullContact that the email address in question will be called later. It allows the API to make sure it has indexed the email address prior to the application needing it. When using this parameter, it will always return a response code of 202.",
            "type": "string"
          },
          "webhookUrl": {
            "example": "https://mydomain.com/callback/listener",
            "description": "The callback url you'd like the data to be posted back to.",
            "extendedDescription": "Read the webhook flow diagram: https://www.fullcontact.com/developer/docs/person/#webhook-flow-diagram",
            "type": "string"
          },
          "webhookId": {
            "example": "myId",
            "description": "You can enter anything you want here, we will just pass it back in the response. This allows you to track the webhook if you wish.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "FullContact says your API request was malformed",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "apiKeyProblem": {
            "description": "FulLContact says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queryParamProblem": {
            "description": "FullContact says you have an invalid or missing query parameter.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "queued": {
            "description": "FullContact has queued the search and will have an answer shortly.  If you don't want to wait, use the webhook input",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "wait24Hours": {
            "description": "FullContact says you have to wait 24 hours to try this query again.",
            "extendedDescription": "Refer to the flow diagram: https://www.fullcontact.com/developer/docs/person/#flow-diagram"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var FullContact = require('fullcontact');\n    var fullcontact = new FullContact(inputs.apiKey);\n\n    var facebookUsername = inputs.username;\n    var facebookId = inputs.id;\n    var queue = (inputs.queue && inputs.queue === '1') ? 1 : 0;\n    var webhookUrl = inputs.webhookUrl || null;\n    var webhookId = inputs.webhookId || null;\n\n    // Username takes precedence\n    if (facebookUsername) {\n      fullcontact.person.facebook(facebookUsername, queue, webhookUrl, webhookId, function(err, data) {\n        if (err) {\n          if (202 === err.status) {\n            return exits.queued(err);\n          } else if (404 === err.status) {\n            return exits.wait24Hours(err);\n          } else if (400 === err.status) {\n            return exits.malformedRequest(err);\n          } else if (403 === err.status) {\n            return exits.apiKeyProblem(err);\n          } else if (422 === err.status) {\n            return exits.queryParamProblem(err);\n          }\n          return exits.error(err);\n        }\n        return exits.success(data);\n      });\n    } else if (facebookId) {\n      fullcontact.person.facebookId(facebookId, function(err, data) {\n        if (err) {\n          if (404 === err.status) {\n            return exits.wait24Hours(err);\n          } else if (400 === err.status) {\n            return exits.malformedRequest(err);\n          } else if (403 === err.status) {\n            return exits.apiKeyProblem(err);\n          } else if (422 === err.status) {\n            return exits.queryParamProblem(err);\n          }\n          return exits.error(err);\n        }\n        if (202 === data.status) {\n          return exits.queued(data);\n        }\n        return exits.success(data);\n      });\n    } else {\n      return exits.missingArgument('username or id');\n    }\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-facebook",
        "docsUrl": "http://node-machine.org/machinepack-fullcontact/get-person-from-facebook",
        "defaultExit": "success",
        "machinepack": 56,
        "id": 228,
        "createdAt": "2015-03-16T21:29:37.000Z",
        "updatedAt": "2015-04-24T17:49:42.000Z"
      }
    ],
    "identity": "machinepack-fullcontact",
    "version": "1.1.2",
    "latestVersionPublishedAt": "2015-04-24T00:00:00.000Z",
    "variableName": "FullContact",
    "friendlyName": "FullContact",
    "description": "Interact with the FullContact.com API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-fullcontact",
    "docsUrl": "http://node-machine.org/machinepack-fullcontact",
    "npmUrl": "http://npmjs.org/package/machinepack-fullcontact",
    "npmPackageName": "machinepack-fullcontact",
    "githubUrl": "https://bitbucket.org/mstralka/machinepack-fullcontact/",
    "sourceUrl": "https://bitbucket.org/mstralka/machinepack-fullcontact/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "fullcontact",
        "semverRange": "^0.2.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "mstralka",
        "email": "mstralka@vorenusventures.com"
      }
    ],
    "id": 56,
    "createdAt": "2015-03-16T21:29:37.000Z",
    "updatedAt": "2015-04-24T17:49:42.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "charge",
        "variableName": "charge",
        "friendlyName": "charge",
        "cacheable": null,
        "sync": null,
        "description": "Charge Credit Card",
        "inputs": {
          "credential": {
            "friendlyName": "credential",
            "description": "Username and / pasword / token etc required to access your gateway account",
            "example": "...{\"apiLogin\": \"this info\"}...",
            "required": true,
            "type": "string"
          },
          "transaction": {
            "friendlyName": "transaction",
            "description": "Credit Card Sale info",
            "example": "...{\"firstname\": \"John\"}...",
            "required": true,
            "type": "string"
          },
          "gateway": {
            "friendlyName": "gateway",
            "description": "Code name of gateway to use",
            "example": "Authorize.Net",
            "required": true,
            "type": "string"
          },
          "testMode": {
            "friendlyName": "test",
            "description": "is this a test?",
            "example": "false",
            "type": "string"
          }
        },
        "exits": {
          "couldNotParse": {
            "friendlyName": "could not parse",
            "description": "Could not parse provided credential string- must be a valid JSON string.",
            "extendedDescription": "Oftentimes this error is a result of not using double-quotes.  Refer to the official JSON specification at http://www.json.org/ for more information."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    console.log('inputs')\n    console.log(inputs)\n    function time() {\n      \n      return Math.floor(new Date()\n        .getTime() / 1000);\n    }\n\n    var md5 = require('md5'),\n        orderId = time(),\n        credentials,\n        transaction\n    try {\n      credentials = JSON.parse(inputs.credential)\n\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    try {\n      transaction = JSON.parse(inputs.transaction)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n\n    if(credentials.provider.name === 'OmniPay PSP'){\n      var order = {\n        amount : parseInt((String(transaction.amount)).replace('.',''))\n      }\n    } else {\n      var order = {\n        amount : transaction.amount\n      }\n    }\n    console.log('transaction.expDate');\n    console.log(transaction);\n    var creditCard = {\n      creditCardNumber : transaction.cardNumber,\n      expirationMonth : (transaction.expDate).slice(0, 2),\n      expirationYear : (transaction.expDate).slice(2, 4),\n      cvv : transaction.cvv\n    };\n\n    if(transaction.billing_same_as_shipping && transaction.billing_same_as_shipping == 1){\n      prospect = {\n        customerFirstName : transaction.firstName,\n        customerLastName : transaction.lastName,\n        customerEmail : transaction.email,\n        billingAddress : transaction.address,\n        billingCity : transaction.city,\n        billingState : transaction.state,\n        billingZip : transaction.zip,\n        billingCountry : transaction.country,\n        shippingFirstName : transaction.firstName,\n        shippingLastName : transaction.lastName,\n        shippingEmail : transaction.email,\n        shippingAddress : transaction.address,\n        shippingCity : transaction.city,\n        shippingState : transaction.state,\n        shippingZip : transaction.zip,\n        shippingCountry : transaction.country\n      }\n    } else {\n      prospect = {\n        customerFirstName : transaction.billingFirstName,\n        customerLastName : transaction.billingLastName,\n        customerEmail : transaction.email,\n        billingAddress : transaction.billingAddress,\n        billingCity : transaction.billingCity,\n        billingState : transaction.billingState,\n        billingZip : transaction.billingZip,\n        billingCountry : transaction.country,\n        shippingFirstName : transaction.firstName,\n        shippingLastName : transaction.lastName,\n        shippingEmail : transaction.email,\n        shippingAddress : transaction.address,\n        shippingCity : transaction.city,\n        shippingState : transaction.state,\n        shippingZip : transaction.zip,\n        shippingCountry : transaction.country\n      }\n    }\n     \n    var other = {\n      phone: transaction.phone,\n      currency: credentials.currency,\n      IP: transaction.ipAddress,\n      orderID: orderId,\n      Operation: 'SAL'\n    },\n    sigParam = other.orderID+transaction.amount+other.currency+credentials.NumSite+other.Operation+transaction.cardNumber+credentials.KeySentence,\n    sign = md5(sigParam);\n\n    other.Signature = sign;\n\n    // credentials.testMode = inputs.testMode;\n    if(transaction.cardNumber == '4111111111111111'){\n      credentials.testMode = true;\n    }\n    \n    if(transaction.type == 'crm'){\n      other.type = transaction.type;\n    }\n    if(credentials.testMode){\n      credentials.API_LOGIN_ID = credentials.provider.demoUser,\n      credentials.TRANSACTION_KEY = credentials.provider.demoPassword\n    }\n    // console.log('order.amount');\n    // console.log(order.amount);\n    var Gateways = require('42-cent'),\n        client = Gateways.use(inputs.gateway, credentials)\n    \n    client.submitTransaction(order, creditCard, prospect, other)\n    .then(\n      function(result){\n        console.log('chargeresult');  console.log(result);\n        return exits.success(result)\n      },\n      function(err){\n        console.log('chargeerr');  console.log(err);\n        return exits.error(err)\n      }\n    )\n\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/charge",
        "docsUrl": "http://node-machine.org/machinepack-gateway/charge",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 709,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      },
      {
        "identity": "refund",
        "variableName": "refund",
        "friendlyName": "refund",
        "cacheable": null,
        "sync": null,
        "description": "Refund a processed transaction",
        "inputs": {
          "credential": {
            "friendlyName": "credential",
            "description": "Username and / pasword / token etc required to access your gateway account",
            "example": "...{\"apiLogin\": \"this info\"}...",
            "required": true,
            "type": "string"
          },
          "transaction": {
            "friendlyName": "transaction",
            "description": "Credit Card Sale info",
            "example": "...{\"firstname\": \"John\"}...",
            "required": true,
            "type": "string"
          },
          "gateway": {
            "friendlyName": "gateway",
            "description": "Code name of gateway to use",
            "example": "Authorize.Net",
            "required": true,
            "type": "string"
          },
          "testMode": {
            "friendlyName": "test",
            "description": "is this a test?",
            "example": "false",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    console.log('inputs')\n    console.log(inputs)\n    var credentials,\n        transaction\n    try {\n      credentials = JSON.parse(inputs.credential)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    try {\n      transaction = JSON.parse(inputs.transaction)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    var options = {\n          creditCardNumber : transaction.cardNumber,\n          expirationMonth : (transaction.expDate).slice(0, 2),\n          expirationYear : (transaction.expDate).slice(2, 4),\n          amount : transaction.amount\n        }\n    credentials.testMode = inputs.testMode\n    console.log(inputs.gateway);\n    console.log(credentials);\n\n    var Gateways = require('42-cent'),\n        client = Gateways.use(inputs.gateway, credentials)\n    client.refundTransaction(transaction.transactionId, options)\n    .then(\n      function(result){\n        // console.log('result');  console.log(result);\n        return exits.success(result)\n      },\n      function(err){\n        // console.log('err');  console.log(err);\n        return exits.error(err)\n      }\n    )\n\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/refund",
        "docsUrl": "http://node-machine.org/machinepack-gateway/refund",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 710,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      },
      {
        "identity": "authorize",
        "variableName": "authorize",
        "friendlyName": "authorize",
        "cacheable": null,
        "sync": null,
        "description": "Auhtorize a transaction",
        "inputs": {
          "credential": {
            "friendlyName": "credential",
            "description": "Username and / pasword / token etc required to access your gateway account",
            "example": "...{\"apiLogin\": \"this info\"}...",
            "required": true,
            "type": "string"
          },
          "transaction": {
            "friendlyName": "transaction",
            "description": "Credit Card Sale info",
            "example": "...{\"firstname\": \"John\"}...",
            "required": true,
            "type": "string"
          },
          "gateway": {
            "friendlyName": "gateway",
            "description": "Code name of gateway to use",
            "example": "Authorize.Net",
            "required": true,
            "type": "string"
          },
          "testMode": {
            "friendlyName": "test",
            "description": "is this a test?",
            "example": "false",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    console.log('inputs')\n    console.log(inputs)\n    var credentials,\n        transaction\n    try {\n      credentials = JSON.parse(inputs.credential)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    try {\n      transaction = JSON.parse(inputs.transaction)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    var order = {\n      amount : transaction.amount\n    },\n    creditCard = {\n      creditCardNumber : transaction.cardNumber,\n      expirationMonth : (transaction.expDate).slice(0, 2),\n      expirationYear : (transaction.expDate).slice(2, 4),\n      cvv : transaction.cvv\n    },\n    prospect = {\n      customerFirstName : transaction.firstName,\n      customerLastName : transaction.lastName,\n      customerEmail : transaction.email,\n      billingAddress : transaction.address,\n      billingCity : transaction.city,\n      billingState : transaction.state,\n      billingZip : transaction.zip,\n      billingCountry : transaction.country,\n      shippingFirstName : transaction.firstName,\n      shippingLastName : transaction.lastName,\n      shippingEmail : transaction.email,\n      shippingAddress : transaction.address,\n      shippingCity : transaction.city,\n      shippingState : transaction.state,\n      shippingZip : transaction.zip,\n      shippingCountry : transaction.country\n    }\n    credentials.testMode = inputs.testMode\n    console.log(inputs.gateway);\n    console.log(credentials);\n\n    var Gateways = require('42-cent'),\n        client = Gateways.use(inputs.gateway, credentials)\n    client.authorizeTransaction(order, creditCard, prospect)\n    .then(\n      function(result){\n        // console.log('result');  console.log(result);\n        return exits.success(result)\n      },\n      function(err){\n        // console.log('err');  console.log(err);\n        return exits.error(err)\n      }\n    )\n\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/authorize",
        "docsUrl": "http://node-machine.org/machinepack-gateway/authorize",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 711,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      },
      {
        "identity": "capture",
        "variableName": "capture",
        "friendlyName": "capture",
        "cacheable": null,
        "sync": null,
        "description": "Capture a previously authorized transaction",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    console.log('inputs')\n    console.log(inputs)\n    var credentials,\n        transaction\n    try {\n      credentials = JSON.parse(inputs.credential)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    try {\n      transaction = JSON.parse(inputs.transaction)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    var order = {\n      amount : transaction.amount\n    },\n    creditCard = {\n      creditCardNumber : transaction.cardNumber,\n      expirationMonth : (transaction.expDate).slice(0, 2),\n      expirationYear : (transaction.expDate).slice(2, 4),\n      cvv : transaction.cvv\n    },\n    prospect = {\n      customerFirstName : transaction.firstName,\n      customerLastName : transaction.lastName,\n      customerEmail : transaction.email,\n      billingAddress : transaction.address,\n      billingCity : transaction.city,\n      billingState : transaction.state,\n      billingZip : transaction.zip,\n      billingCountry : transaction.country,\n      shippingFirstName : transaction.firstName,\n      shippingLastName : transaction.lastName,\n      shippingEmail : transaction.email,\n      shippingAddress : transaction.address,\n      shippingCity : transaction.city,\n      shippingState : transaction.state,\n      shippingZip : transaction.zip,\n      shippingCountry : transaction.country\n    }\n    credentials.testMode = inputs.testMode\n    console.log(inputs.gateway);\n    console.log(credentials);\n\n    var Gateways = require('42-cent'),\n        client = Gateways.use(inputs.gateway, credentials)\n    client.authorizeTransaction(order, creditCard, prospect)\n    .then(\n      function(result){\n        // console.log('result');  console.log(result);\n        return exits.success(result)\n      },\n      function(err){\n        // console.log('err');  console.log(err);\n        return exits.error(err)\n      }\n    )\n\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/capture",
        "docsUrl": "http://node-machine.org/machinepack-gateway/capture",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 712,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      },
      {
        "identity": "void-transaction",
        "variableName": "voidTransaction",
        "friendlyName": "void transaction",
        "cacheable": null,
        "sync": null,
        "description": "Void a non-settled transaction",
        "inputs": {
          "credential": {
            "friendlyName": "credential",
            "description": "Username and / pasword / token etc required to access your gateway account",
            "example": "...{\"apiLogin\": \"this info\"}...",
            "required": true,
            "type": "string"
          },
          "transaction": {
            "friendlyName": "transaction",
            "description": "Credit Card Sale info",
            "example": "...{\"firstname\": \"John\"}...",
            "required": true,
            "type": "string"
          },
          "gateway": {
            "friendlyName": "gateway",
            "description": "Code name of gateway to use",
            "example": "Authorize.Net",
            "required": true,
            "type": "string"
          },
          "testMode": {
            "friendlyName": "test",
            "description": "is this a test?",
            "example": "false",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    console.log('inputs')\n    console.log(inputs)\n    var credentials,\n        transaction\n    try {\n      credentials = JSON.parse(inputs.credential)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n    try {\n      transaction = JSON.parse(inputs.transaction)\n    }\n    catch (e){\n      return exits.couldNotParse(e)\n    }\n\n    credentials.testMode = inputs.testMode\n    console.log(inputs.gateway);\n    console.log(credentials);\n\n    var Gateways = require('42-cent'),\n        client = Gateways.use(inputs.gateway, credentials)\n    client.voidTransaction(transaction.transactionId)\n    .then(\n      function(result){\n        // console.log('result');  console.log(result);\n        return exits.success(result)\n      },\n      function(err){\n        // console.log('err');  console.log(err);\n        return exits.error(err)\n      }\n    )\n\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/void-transaction",
        "docsUrl": "http://node-machine.org/machinepack-gateway/void-transaction",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 713,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      },
      {
        "identity": "get-settled-batch-list",
        "variableName": "getSettledBatchList",
        "friendlyName": "get settled batch list",
        "cacheable": null,
        "sync": null,
        "description": "get a batch list of settled transaction within the window of time",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    return exits.success();\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/get-settled-batch-list",
        "docsUrl": "http://node-machine.org/machinepack-gateway/get-settled-batch-list",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 714,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      },
      {
        "identity": "get-unsettled-transaction-list",
        "variableName": "getUnsettledTransactionList",
        "friendlyName": "get unsettled transaction list",
        "cacheable": null,
        "sync": null,
        "description": "get data for unsettled transactions",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function (inputs,exits\n  /**/) {\n    return exits.success();\n  }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gateway/get-unsettled-transaction-list",
        "docsUrl": "http://node-machine.org/machinepack-gateway/get-unsettled-transaction-list",
        "defaultExit": "success",
        "machinepack": 162,
        "id": 715,
        "createdAt": "2016-03-09T01:59:42.000Z",
        "updatedAt": "2016-03-09T01:59:42.000Z"
      }
    ],
    "identity": "machinepack-gateway",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2016-03-09T00:00:00.000Z",
    "variableName": "Gateway",
    "friendlyName": "Gateway",
    "description": "Credit Card processing gateway wrapper",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-gateway",
    "docsUrl": "http://node-machine.org/machinepack-gateway",
    "npmUrl": "http://npmjs.org/package/machinepack-gateway",
    "npmPackageName": "machinepack-gateway",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "42-cent",
        "semverRange": "^1.3.1"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "md5",
        "semverRange": "^2.0.0"
      },
      {
        "name": "q",
        "semverRange": "^1.4.1"
      }
    ],
    "contributors": [
      {
        "name": "sharkworld",
        "email": "marxxt@mastermyndllc.com"
      }
    ],
    "id": 162,
    "createdAt": "2016-03-09T01:59:42.000Z",
    "updatedAt": "2016-03-09T01:59:42.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "clone",
        "variableName": "clone",
        "friendlyName": "Clone",
        "cacheable": true,
        "sync": null,
        "description": "Clone a remote git repository into a new local directory.",
        "inputs": {
          "destination": {
            "friendlyName": "Destination",
            "description": "Path (relative or absolute) to the directory where the repo should be cloned.  Will be created if necessary.",
            "example": "./put/the/new/local/repo/here",
            "required": true,
            "type": "string"
          },
          "remote": {
            "friendlyName": "Remote (URL)",
            "description": "The URL of the git remote repository that will be cloned.",
            "example": "git://github.com/balderdashy/sails-docs.git",
            "required": true,
            "type": "string"
          },
          "branch": {
            "description": "The remote branch to check out after pulling (if omitted, do not check out anything-- just use whatever the default is)",
            "example": "master",
            "type": "string"
          }
        },
        "exits": {
          "forbidden": {
            "description": "Insufficient permissions at destination path to clone repo repo."
          },
          "alreadyExists": {
            "description": "Somthing other than an empty directory already exists at the destination path."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Proc = require('machinepack-process');\n\n    // Ensure destination is an absolute path.\n    inputs.destination = require('path').resolve(inputs.destination);\n\n    Proc.spawn({\n      command: 'git clone ' + inputs.remote + ' ' + inputs.destination\n    }, {\n      error: function (err) {\n        // always seems to be `killed: false`, `code: 128`, `signal: null`\n        try {\n          if (err.message.match(/Permission denied/)) {\n            return exits.forbidden(err);\n          }\n          if (err.message.match(/already exists and is not an empty directory/)) {\n            return exits.alreadyExists(err);\n          }\n        }\n        catch (e){}\n        return exits.error(err);\n      },\n      success: function (outs) {\n\n        // If a specific branch was not specified, then we're done.\n        if (!inputs.branch) {\n          return exits.success();\n        }\n\n        // But if it was, then we need to check out that branch.\n        Proc.spawn({\n          command: 'git checkout '+inputs.branch,\n          dir: inputs.destination\n        }).exec({\n          error: function (err) {\n            return exits.error(err);\n          },\n          success: function () {\n            return exits.success();\n          }\n        });\n\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-git/clone",
        "docsUrl": "http://node-machine.org/machinepack-git/clone",
        "defaultExit": "success",
        "machinepack": 8,
        "id": 26,
        "createdAt": "2015-02-16T23:51:07.000Z",
        "updatedAt": "2016-01-11T16:49:59.000Z"
      },
      {
        "identity": "status",
        "variableName": "status",
        "friendlyName": "Status",
        "cacheable": true,
        "sync": null,
        "description": "Get the current \"working tree status\" of a local git repo.",
        "inputs": {
          "dir": {
            "description": "Path (relative or absolute) to the working copy to get the status of.",
            "example": "./",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notRepo": {
            "description": "Specified directory is not a git repository (and neither are any of its parents)"
          },
          "forbidden": {
            "description": "Insufficient permissions (i.e. you might need to use `chown`/`chmod`)"
          },
          "noSuchDir": {
            "description": "Specified directory does not exist."
          },
          "success": {
            "variableName": "statusMsg",
            "description": "OK.",
            "example": "On branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n\tmodified:   status.js\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Proc = require('machinepack-process');\n\n    Proc.spawn({\n      command: 'git status',\n      dir: inputs.dir\n    }, {\n      error: function (err) {\n        // console.log(err.killed, err.code, err.sigal);\n        // always seems to be `killed: false`, `code: 128`, `signal: null` (or undefined)\n        try {\n          if (err.message.match(/Not a git repository/)) {\n            return exits.notRepo();\n          }\n        }\n        catch (e){}\n        return exits.error(err);\n      },\n      forbidden: exits.forbidden,\n      noSuchDir: exits.noSuchDir,\n      success: function (outs) {\n        // outs.stdout =>\n        //  â¢ 'On branch master\\nYour branch is up-to-date with \\'origin/master\\'.\\n\\nnothing to commit, working directory clean\\n'\n        //    -or-\n        //  â¢ 'On branch master\\nYour branch is up-to-date with \\'origin/master\\'.\\n\\nChanges not staged for commit:\\n  (use \"git add <file>...\" to update what will be committed)\\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\\n\\n\\tmodified:   machines/clone.js\\n\\tmodified:   machines/pull-or-clone.js\\n\\tmodified:   machines/pull.js\\n\\tmodified:   machines/status.js\\n\\tmodified:   package.json\\n\\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\\n',\n        return exits.success(outs.stdout);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-git/status",
        "docsUrl": "http://node-machine.org/machinepack-git/status",
        "defaultExit": "success",
        "machinepack": 8,
        "id": 27,
        "createdAt": "2015-02-16T23:51:07.000Z",
        "updatedAt": "2016-01-11T16:49:59.000Z"
      },
      {
        "identity": "pull-or-clone",
        "variableName": "pullOrClone",
        "friendlyName": "Pull or clone",
        "cacheable": true,
        "sync": null,
        "description": "Clone a git repo to a folder on disk (or if the folder already exists, just pull)",
        "inputs": {
          "destination": {
            "description": "The path where the remote repo should be pulled (will be created if necessary)",
            "example": "./",
            "required": true,
            "type": "string"
          },
          "remote": {
            "description": "The git remote to pull from (defaults to \"origin\", but you can specify a named remote or URL)",
            "example": "origin",
            "defaultsTo": "origin",
            "type": "string"
          },
          "branch": {
            "description": "The remote branch to pull (defaults to \"master\")",
            "example": "master",
            "defaultsTo": "master",
            "type": "string"
          }
        },
        "exits": {
          "notRepo": {
            "description": "Specified directory is not a git repository (and neither are any of its parents)"
          },
          "forbidden": {
            "description": "Insufficient permissions (i.e. you might need to use `chown`/`chmod`)"
          },
          "noSuchDir": {
            "description": "Specified directory does not exist."
          },
          "uncommittedChanges": {
            "description": "Cannot pull because uncommitted/unstashed local changes exist locally and would be overwritten by merge."
          },
          "unresolvedConflicts": {
            "description": "Cannot pull because this local repo has unmerged conflicts.",
            "extendedDescription": "To get past this, one would need to resolve the merge conflicts manually, commit the changes (`git commit -am \"..your msg..\"`), then run this machine again."
          },
          "failed": {
            "description": "The command failed-- the local repo may now be in an invalid/unmerged state. Please verify that this is not the case.",
            "extendedDescription": "If this exit is traversed, it means the child process running `git pull` failed with an exit code of 1, and the output didn't match any of our other heuristics for detecing errors."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var thisPack = require('../');\n\n    thisPack.status({\n      dir: inputs.destination\n    }).exec({\n      error: exits.error,\n      noSuchDir: function () {\n        thisPack.clone({\n          destination: inputs.destination,\n          remote: inputs.remote,\n          branch: inputs.branch\n        }).exec(exits);\n      }, //</status.noSuchDir>\n      success: function (status){\n        thisPack.pull({\n          destination: inputs.destination,\n          remote: inputs.remote,\n          branch: inputs.branch\n        }).exec(exits);\n      } //</status.success>\n    }); // </status>\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-git/pull-or-clone",
        "docsUrl": "http://node-machine.org/machinepack-git/pull-or-clone",
        "defaultExit": "success",
        "machinepack": 8,
        "id": 28,
        "createdAt": "2015-02-16T23:51:07.000Z",
        "updatedAt": "2016-01-11T16:49:59.000Z"
      },
      {
        "identity": "pull",
        "variableName": "pull",
        "friendlyName": "Pull",
        "cacheable": true,
        "sync": null,
        "description": "Fetch from and integrate with a git repository or a local branch",
        "inputs": {
          "destination": {
            "description": "The path where the working copy exists locally (where the remote repo should be pulled)",
            "example": "./",
            "required": true,
            "type": "string"
          },
          "remote": {
            "description": "The git remote to pull from (defaults to \"origin\", but you can specify a named remote or URL)",
            "example": "origin",
            "defaultsTo": "origin",
            "type": "string"
          },
          "branch": {
            "description": "The remote branch to pull (defaults to \"master\")",
            "example": "master",
            "defaultsTo": "master",
            "type": "string"
          }
        },
        "exits": {
          "notRepo": {
            "description": "Specified directory is not a git repository (and neither are any of its parents)"
          },
          "forbidden": {
            "description": "Insufficient permissions (i.e. you might need to use `chown`/`chmod`)"
          },
          "noSuchDir": {
            "description": "Specified directory does not exist."
          },
          "uncommittedChanges": {
            "description": "Cannot pull because uncommitted/unstashed local changes exist locally and would be overwritten by merge."
          },
          "unresolvedConflicts": {
            "description": "Cannot pull because this local repo has unmerged conflicts.",
            "extendedDescription": "To get past this, one would need to resolve the merge conflicts manually, commit the changes (`git commit -am \"..your msg..\"`), then run this machine again."
          },
          "failed": {
            "description": "The command failed-- the local repo may now be in an invalid/unmerged state. Please verify that this is not the case.",
            "extendedDescription": "If this exit is traversed, it means the child process running `git pull` failed with an exit code of 1, and the output didn't match any of our other heuristics for detecing errors."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Proc = require('machinepack-process');\n\n    Proc.spawn({\n      command: 'git pull ' + inputs.remote + ' ' + inputs.branch,\n      dir: inputs.destination\n    }, {\n      error: function (err) {\n        try {\n          // console.log(err, Object.keys(err), err.signal, err.killed, err.code);\n          if (err.message.match(/Not a git repository/)) {\n            return exits.notRepo();\n          }\n          if (err.message.match(/Your local changes to the following files would be overwritten by merge/) || err.message.match(/Please, commit your changes or stash them before you can merge/)) {\n            return exits.uncommittedChanges();\n            // TODO: attempt to parse out a list of the files which would be overwritten by merge\n            /*\n            Error: Command failed: From github.com:mikermcneil/machinepack-git\n             * branch            master     -> FETCH_HEAD\n               874fab0..afa9e77  master     -> origin/master\n            error: Your local changes to the following files would be overwritten by merge:\n              README.md\n            Please, commit your changes or stash them before you can merge.\n            Aborting\n\n                at ChildProcess.exithandler (child_process.js:637:15)\n                at ChildProcess.EventEmitter.emit (events.js:98:17)\n                at maybeClose (child_process.js:743:16)\n                at Socket.<anonymous> (child_process.js:956:11)\n                at Socket.EventEmitter.emit (events.js:95:17)\n                at Pipe.close (net.js:465:12)\n             */\n          }\n\n          if (err.message.match(/Pull is not possible because you have unmerged files/i)) {\n            // (Note that err.code should also be === 1 in this case)\n            return exits.unresolvedConflicts();\n             /*\n             Error: Command failed: Pull is not possible because you have unmerged files.\n              Please, fix them up in the work tree, and then use 'git add/rm <file>'\n              as appropriate to mark resolution, or use 'git commit -a'.\n\n                  at ChildProcess.exithandler (child_process.js:637:15)\n                  at ChildProcess.EventEmitter.emit (events.js:98:17)\n                  at maybeClose (child_process.js:743:16)\n                  at Socket.<anonymous> (child_process.js:956:11)\n                  at Socket.EventEmitter.emit (events.js:95:17)\n                  at Pipe.close (net.js:465:12)\n              */\n          }\n\n\n\n          // In the case where new merge conflicts are created locally and local repo gets into an unmerged state,\n          // the code will always be 1.\n          //\n          // BUT for some reason, we can't access the output you normally see on the CLI:\n          // ```\n          // Auto-merging README.md\n          // CONFLICT (content): Merge conflict in README.md\n          // Automatic merge failed; fix conflicts and then commit the result.\n          // ```\n          //\n          // Instead we get:\n           /*\n           Error: Command failed: From github.com:mikermcneil/machinepack-git\n             * branch            master     -> FETCH_HEAD\n\n                at ChildProcess.exithandler (child_process.js:637:15)\n                at ChildProcess.EventEmitter.emit (events.js:98:17)\n                at maybeClose (child_process.js:743:16)\n                at Process.ChildProcess._handle.onexit (child_process.js:810:5)\n          */\n          if (err.code === 1) {\n            return exits.failed(err);\n          }\n\n        }\n        catch (e){}\n        return exits.error(err);\n      },\n      forbidden: exits.forbidden,\n      noSuchDir: exits.noSuchDir,\n      success: function (outs) {\n        //{\n        //  stdout: 'Already up-to-date.\\n',\n        //  stderr: 'From github.com:mikermcneil/scribe\\n * branch            master     -> FETCH_HEAD\\n'\n        //}\n\n        /*\n        {\n          stdout: 'Updating 3d37349..d513869\\nFast-forward\\n api/controllers/StaticController.js                | 82 ++++++++++++++++++++++\\n assets/js/cloud/misc.endpoints.js....                              |  6 +-\\n 23 files changed, 340 insertions(+), 32 deletions(-)\\n create mode 100644 assets/templates/shared-elements/modals/name-grouped-thing.html\\n',\n          stderr: 'From github.com:someapp/someapp-july\\n * branch            master     -> FETCH_HEAD\\n   3d37349..d513869  master     -> origin/master\\n' }\n         */\n        return exits.success();\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-git/pull",
        "docsUrl": "http://node-machine.org/machinepack-git/pull",
        "defaultExit": "success",
        "machinepack": 8,
        "id": 29,
        "createdAt": "2015-02-16T23:51:07.000Z",
        "updatedAt": "2016-01-11T16:49:59.000Z"
      }
    ],
    "identity": "machinepack-git",
    "version": "2.2.0",
    "latestVersionPublishedAt": "2016-01-11T00:00:00.000Z",
    "variableName": "Git",
    "friendlyName": "Git",
    "description": "Machines for working with the `git` command line interface.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-git",
    "docsUrl": "http://node-machine.org/machinepack-git",
    "npmUrl": "http://npmjs.org/package/machinepack-git",
    "npmPackageName": "machinepack-git",
    "githubUrl": "http://github.com/mikermcneil/machinepack-git/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-git/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-git",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-process",
        "semverRange": "^1.2.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 8,
    "createdAt": "2015-02-16T23:51:07.000Z",
    "updatedAt": "2016-01-11T16:49:59.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get-user-details",
        "variableName": "getUserDetails",
        "friendlyName": "Get user details",
        "cacheable": true,
        "sync": null,
        "description": "Get the GitHub profile data for a user.",
        "inputs": {
          "user": {
            "description": "The user or organization to look up (i.e. as it appears in the URL on GitHub)",
            "example": "mikermcneil",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "username": "mikermcneil",
              "isOrganization": false,
              "name": "Mike McNeil",
              "email": "customers@balderdash.co",
              "avatarUrl": "https://avatars.githubusercontent.com/u/618009?v=3",
              "blogUrl": "http://balderdash.co",
              "githubProfileUrl": "https://github.com/mikermcneil",
              "location": "Austin, TX",
              "company": "Balderdash",
              "bio": "",
              "numFollowers": 437,
              "numPublicRepos": 82,
              "numPublicGists": 122,
              "isHireable": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var _ = require('lodash');\n    var Github = require('github');\n\n    var github = new Github({\n      version: '3.0.0',\n    });\n\n    // http://mikedeboer.github.io/node-github/#user.prototype.get\n    github.user.getFrom({\n      user: inputs.user\n    }, function(err, data) {\n      if (err) return exits.error(err);\n\n      // Marshal data into nicer format\n      var userProfile = {};\n      try {\n\n        // Basic info\n        userProfile.username = data.login;\n        userProfile.isOrganization = !!data.type.match(/organization/i);\n        userProfile.name = data.name;\n        userProfile.email = data.email;\n        userProfile.avatarUrl = data.avatar_url;\n\n        // Details\n        userProfile.blogUrl = data.blog;\n        userProfile.githubProfileUrl = data.html_url;\n        userProfile.location = data.location;\n        userProfile.company = data.company;\n        userProfile.bio = data.bio;\n        userProfile.numFollowers = data.followers;\n        userProfile.numPublicRepos = data.public_repos;\n        userProfile.numPublicGists = data.public_gists;\n        userProfile.isHireable = !!data.hireable;\n      }\n      catch (e){\n        return exits.error(e);\n      }\n\n      return exits.success(userProfile);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/get-user-details",
        "docsUrl": "http://node-machine.org/machinepack-github/get-user-details",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 11,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "create-repo",
        "variableName": "createRepo",
        "friendlyName": "Create repo",
        "cacheable": null,
        "sync": null,
        "description": "Create a new GitHub repository in the specified organization.",
        "inputs": {
          "repo": {
            "description": "The name for the new GitHub repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user under which the new repo should be created (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "username": {
            "description": "Your GitHub username (to authenticate with)",
            "example": "mikermcneil",
            "required": true,
            "type": "string"
          },
          "password": {
            "description": "Your GitHub password (to authenticate with)",
            "example": "l0lcatzz",
            "required": true,
            "protect": true,
            "type": "string"
          },
          "homepage": {
            "description": "A homepage URL to include on the new repo",
            "example": "http://node-machine.org/machinepack-foo",
            "type": "string"
          },
          "description": {
            "description": "A short description to include on the new repo",
            "example": "A utility for working with direwolves.",
            "type": "string"
          },
          "private": {
            "description": "Whether or not the new repo should be private (defaults to false, i.e. open-source)",
            "example": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "userMismatch": {
            "description": "Failed; can only create repo for an organization or the user whose credentials were used for authentication (i.e. provided as `username`)"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Dependencies\n    var _ = require('lodash');\n    var Github = require('github');\n    var Machine = require('machine');\n\n\n\n    var github = new Github({\n      version: '3.0.0',\n    });\n\n    // Authenticate\n    github.authenticate({\n      type: 'basic',\n      username: inputs.username,\n      password: inputs.password\n    });\n\n    Machine.build(require('./get-user-details'))({\n      user: inputs.owner\n    }).exec({\n      error: exits.error,\n      success: function (user){\n\n        // Now send the appropriate request to create a new repo:\n\n        // http://mikedeboer.github.io/node-github/#repos.prototype.createFromOrg\n        if (user.isOrganization) {\n          return (function _ifOrganization(){\n            github.repos.createFromOrg(_stripUndefinedKeys({\n              has_wiki: false,\n              has_issues: true,\n              description: inputs.description||undefined,\n              homepage: inputs.homepage||undefined,\n              org: inputs.owner,\n              name: inputs.repo,\n              private: inputs.private||undefined\n            }), function(err, data) {\n              if (err) return exits.error(err);\n              return exits.success(data);\n            });\n          })();\n        }\n\n        // Since the provided `owner` is not an organization, we must check that\n        // it matches the username provided for authentication.  Otherwise this\n        // won't work.\n        if (inputs.owner !== inputs.username) {\n          return exits.userMismatch();\n        }\n\n        // or http://mikedeboer.github.io/node-github/#repos.prototype.create\n        github.repos.create(_stripUndefinedKeys({\n          has_wiki: false,\n          has_issues: true,\n          description: inputs.description||undefined,\n          homepage: inputs.homepage||undefined,\n          name: inputs.repo,\n          private: inputs.private||undefined\n        }), function(err, data) {\n          if (err) return exits.error(err);\n          return exits.success(data);\n        });\n\n      }\n    });\n\n\n    /**\n     * (just a helper function)\n     *\n     * @param {Object} obj\n     * @return {Object}\n     * @api private\n     */\n    function _stripUndefinedKeys(obj) {\n      return _.pick(obj, function _stripKeysWithUndefinedValues(val) {\n        return !_.isUndefined(val);\n      });\n    }\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/create-repo",
        "docsUrl": "http://node-machine.org/machinepack-github/create-repo",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 12,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "list-organization-repos",
        "variableName": "listOrganizationRepos",
        "friendlyName": "List organization repos",
        "cacheable": true,
        "sync": null,
        "description": "Fetch the list of repos in the specified Github organization.",
        "inputs": {
          "owner": {
            "description": "The name of the organization (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "limit": {
            "description": "Maximum number of repos to retrieve (for pagination)",
            "example": 30,
            "defaultsTo": 30,
            "type": "number"
          },
          "skip": {
            "description": "Index of the first repo to retrieve, starting from 0 (for pagination)",
            "example": 0,
            "defaultsTo": 0,
            "type": "number"
          },
          "username": {
            "description": "Your GitHub username (to authenticate with)",
            "example": "jresig",
            "type": "string"
          },
          "password": {
            "description": "Your GitHub password (to authenticate with)",
            "example": "jqftw",
            "protect": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              {
                "id": 1296269,
                "owner": {
                  "login": "octocat",
                  "id": 1,
                  "avatar_url": "https://github.com/images/error/octocat_happy.gif",
                  "gravatar_id": "somehexcode",
                  "url": "https://api.github.com/users/octocat",
                  "html_url": "https://github.com/octocat",
                  "followers_url": "https://api.github.com/users/octocat/followers",
                  "following_url": "https://api.github.com/users/octocat/following{/other_user}",
                  "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",
                  "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",
                  "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",
                  "organizations_url": "https://api.github.com/users/octocat/orgs",
                  "repos_url": "https://api.github.com/users/octocat/repos",
                  "events_url": "https://api.github.com/users/octocat/events{/privacy}",
                  "received_events_url": "https://api.github.com/users/octocat/received_events",
                  "type": "User",
                  "site_admin": false
                },
                "name": "Hello-World",
                "full_name": "octocat/Hello-World",
                "description": "This your first repo!",
                "private": false,
                "fork": false,
                "url": "https://api.github.com/repos/octocat/Hello-World",
                "html_url": "https://github.com/octocat/Hello-World",
                "clone_url": "https://github.com/octocat/Hello-World.git",
                "git_url": "git://github.com/octocat/Hello-World.git",
                "ssh_url": "git@github.com:octocat/Hello-World.git",
                "svn_url": "https://svn.github.com/octocat/Hello-World",
                "mirror_url": "git://git.example.com/octocat/Hello-World",
                "homepage": "https://github.com",
                "forks_count": 9,
                "stargazers_count": 80,
                "watchers_count": 80,
                "size": 108,
                "default_branch": "master",
                "open_issues_count": 0,
                "has_issues": true,
                "has_wiki": true,
                "has_downloads": true,
                "pushed_at": "2011-01-26T19:06:43Z",
                "created_at": "2011-01-26T19:01:12Z",
                "updated_at": "2011-01-26T19:14:43Z",
                "permissions": {
                  "admin": false,
                  "push": false,
                  "pull": true
                }
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Github = require('github');\n\n    var limit = inputs.limit;\n    var skip = inputs.skip;\n\n    try {\n      var github = new Github({\n        version: '3.0.0'\n      });\n\n      if (inputs.username && inputs.password) {\n        // Authenticate\n        github.authenticate({\n          type: 'basic',\n          username: inputs.username,\n          password: inputs.password\n        });\n      }\n\n      github.repos.getFromOrg({\n        org: inputs.owner,\n        per_page: limit,\n        page: Math.ceil(skip / limit)\n      }, function(err, data) {\n        if (err) return exits(err);\n        else return exits.success(data);\n      });\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/list-organization-repos",
        "docsUrl": "http://node-machine.org/machinepack-github/list-organization-repos",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 13,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "get-repo",
        "variableName": "getRepo",
        "friendlyName": "Get repo",
        "cacheable": true,
        "sync": null,
        "description": "Fetch metadata about a repository on GitHub.",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "rateLimitExceeded": {
            "description": "Rate limit exceeded."
          },
          "success": {
            "example": {
              "id": 3757512,
              "name": "sails",
              "full_name": "balderdashy/sails",
              "owner": {
                "login": "balderdashy",
                "id": 1445252,
                "avatar_url": "https://avatars.githubusercontent.com/u/1445252?",
                "gravatar_id": "8590af9cb2eed44f7b66fed322704aeb",
                "url": "https://api.github.com/users/balderdashy",
                "html_url": "https://github.com/balderdashy",
                "followers_url": "https://api.github.com/users/balderdashy/followers",
                "following_url": "https://api.github.com/users/balderdashy/following{/other_user}",
                "gists_url": "https://api.github.com/users/balderdashy/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/balderdashy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/balderdashy/subscriptions",
                "organizations_url": "https://api.github.com/users/balderdashy/orgs",
                "repos_url": "https://api.github.com/users/balderdashy/repos",
                "events_url": "https://api.github.com/users/balderdashy/events{/privacy}",
                "received_events_url": "https://api.github.com/users/balderdashy/received_events",
                "type": "Organization",
                "site_admin": false
              },
              "private": false,
              "html_url": "https://github.com/balderdashy/sails",
              "description": "Realtime MVC Framework for Node.js",
              "fork": false,
              "url": "https://api.github.com/repos/balderdashy/sails",
              "forks_url": "https://api.github.com/repos/balderdashy/sails/forks",
              "keys_url": "https://api.github.com/repos/balderdashy/sails/keys{/key_id}",
              "collaborators_url": "https://api.github.com/repos/balderdashy/sails/collaborators{/collaborator}",
              "teams_url": "https://api.github.com/repos/balderdashy/sails/teams",
              "hooks_url": "https://api.github.com/repos/balderdashy/sails/hooks",
              "issue_events_url": "https://api.github.com/repos/balderdashy/sails/issues/events{/number}",
              "events_url": "https://api.github.com/repos/balderdashy/sails/events",
              "assignees_url": "https://api.github.com/repos/balderdashy/sails/assignees{/user}",
              "branches_url": "https://api.github.com/repos/balderdashy/sails/branches{/branch}",
              "tags_url": "https://api.github.com/repos/balderdashy/sails/tags",
              "blobs_url": "https://api.github.com/repos/balderdashy/sails/git/blobs{/sha}",
              "git_tags_url": "https://api.github.com/repos/balderdashy/sails/git/tags{/sha}",
              "git_refs_url": "https://api.github.com/repos/balderdashy/sails/git/refs{/sha}",
              "trees_url": "https://api.github.com/repos/balderdashy/sails/git/trees{/sha}",
              "statuses_url": "https://api.github.com/repos/balderdashy/sails/statuses/{sha}",
              "languages_url": "https://api.github.com/repos/balderdashy/sails/languages",
              "stargazers_url": "https://api.github.com/repos/balderdashy/sails/stargazers",
              "contributors_url": "https://api.github.com/repos/balderdashy/sails/contributors",
              "subscribers_url": "https://api.github.com/repos/balderdashy/sails/subscribers",
              "subscription_url": "https://api.github.com/repos/balderdashy/sails/subscription",
              "commits_url": "https://api.github.com/repos/balderdashy/sails/commits{/sha}",
              "git_commits_url": "https://api.github.com/repos/balderdashy/sails/git/commits{/sha}",
              "comments_url": "https://api.github.com/repos/balderdashy/sails/comments{/number}",
              "issue_comment_url": "https://api.github.com/repos/balderdashy/sails/issues/comments/{number}",
              "contents_url": "https://api.github.com/repos/balderdashy/sails/contents/{+path}",
              "compare_url": "https://api.github.com/repos/balderdashy/sails/compare/{base}...{head}",
              "merges_url": "https://api.github.com/repos/balderdashy/sails/merges",
              "archive_url": "https://api.github.com/repos/balderdashy/sails/{archive_format}{/ref}",
              "downloads_url": "https://api.github.com/repos/balderdashy/sails/downloads",
              "issues_url": "https://api.github.com/repos/balderdashy/sails/issues{/number}",
              "pulls_url": "https://api.github.com/repos/balderdashy/sails/pulls{/number}",
              "milestones_url": "https://api.github.com/repos/balderdashy/sails/milestones{/number}",
              "notifications_url": "https://api.github.com/repos/balderdashy/sails/notifications{?since,all,participating}",
              "labels_url": "https://api.github.com/repos/balderdashy/sails/labels{/name}",
              "releases_url": "https://api.github.com/repos/balderdashy/sails/releases{/id}",
              "created_at": "2012-03-18T19:46:15Z",
              "updated_at": "2014-05-16T19:15:35Z",
              "pushed_at": "2014-05-15T17:43:12Z",
              "git_url": "git://github.com/balderdashy/sails.git",
              "ssh_url": "git@github.com:balderdashy/sails.git",
              "clone_url": "https://github.com/balderdashy/sails.git",
              "svn_url": "https://github.com/balderdashy/sails",
              "homepage": "http://sailsjs.org",
              "size": 28470,
              "stargazers_count": 6212,
              "watchers_count": 6212,
              "language": "JavaScript",
              "has_issues": true,
              "has_downloads": true,
              "has_wiki": false,
              "forks_count": 697,
              "open_issues_count": 109,
              "forks": 697,
              "open_issues": 109,
              "watchers": 6212,
              "default_branch": "master",
              "master_branch": "master",
              "organization": {
                "login": "balderdashy",
                "id": 1445252,
                "avatar_url": "https://avatars.githubusercontent.com/u/1445252?",
                "gravatar_id": "8590af9cb2eed44f7b66fed322704aeb",
                "url": "https://api.github.com/users/balderdashy",
                "html_url": "https://github.com/balderdashy",
                "followers_url": "https://api.github.com/users/balderdashy/followers",
                "following_url": "https://api.github.com/users/balderdashy/following{/other_user}",
                "gists_url": "https://api.github.com/users/balderdashy/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/balderdashy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/balderdashy/subscriptions",
                "organizations_url": "https://api.github.com/users/balderdashy/orgs",
                "repos_url": "https://api.github.com/users/balderdashy/repos",
                "events_url": "https://api.github.com/users/balderdashy/events{/privacy}",
                "received_events_url": "https://api.github.com/users/balderdashy/received_events",
                "type": "Organization",
                "site_admin": false
              },
              "network_count": 697,
              "subscribers_count": 559,
              "meta": {
                "x-ratelimit-limit": "60",
                "x-ratelimit-remaining": "56",
                "last-modified": "Fri, 16 May 2014 19:15:35 GMT",
                "etag": "\"e839eeae9eb0c5cafd84175f29d4ce94\"",
                "status": "200 OK"
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var Github = require('github');\n\n    var github = new Github({\n      version: '3.0.0',\n    });\n\n    github.repos.get({\n      repo: inputs.repo,\n      user: inputs.owner\n    }, function(err, data) {\n      if (err) {\n        if (_.isObject(err) && (+err.code)===403) {\n          return exits.rateLimitExceeded(err.message);\n        }\n        return exits.error(err);\n      }\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/get-repo",
        "docsUrl": "http://node-machine.org/machinepack-github/get-repo",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 14,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "list-repo-commits-at-path",
        "variableName": "listRepoCommitsAtPath",
        "friendlyName": "List repo commits at path",
        "cacheable": true,
        "sync": null,
        "description": "Fetch recent commits from a remote GitHub repository within the specifed path.",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "path": {
            "description": "Filter to the specified relative path within the remote repository",
            "example": "foo/bar",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "badRequest": {
            "example": {
              "defaultMessage": "Bad Request",
              "message": "Empty value for parameter 'user': undefined",
              "code": "400",
              "status": 400
            },
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              {
                "sha": "71c4c195593af43d1d3bc0502a8c92ac5f5197a8",
                "commit": {
                  "author": {
                    "name": "sgress454",
                    "email": "scottmgress@gmail.com",
                    "date": "2014-06-10T23:00:59Z"
                  },
                  "committer": {
                    "name": "sgress454",
                    "email": "scottmgress@gmail.com",
                    "date": "2014-06-10T23:00:59Z"
                  },
                  "message": "Update README.md",
                  "tree": {
                    "sha": "631c8ce31634a73c11b9b48a81be4fd155371d6e",
                    "url": "https://api.github.com/repos/balderdashy/sails/git/trees/631c8ce31634a73c11b9b48a81be4fd155371d6e"
                  },
                  "url": "https://api.github.com/repos/balderdashy/sails/git/commits/71c4c195593af43d1d3bc0502a8c92ac5f5197a8",
                  "comment_count": 0
                },
                "url": "https://api.github.com/repos/balderdashy/sails/commits/71c4c195593af43d1d3bc0502a8c92ac5f5197a8",
                "html_url": "https://github.com/balderdashy/sails/commit/71c4c195593af43d1d3bc0502a8c92ac5f5197a8",
                "comments_url": "https://api.github.com/repos/balderdashy/sails/commits/71c4c195593af43d1d3bc0502a8c92ac5f5197a8/comments",
                "author": {
                  "login": "sgress454",
                  "id": 553428,
                  "avatar_url": "https://avatars.githubusercontent.com/u/553428?",
                  "gravatar_id": "b74e07aa543552709bf546ca279c9c67",
                  "url": "https://api.github.com/users/sgress454",
                  "html_url": "https://github.com/sgress454",
                  "followers_url": "https://api.github.com/users/sgress454/followers",
                  "following_url": "https://api.github.com/users/sgress454/following{/other_user}",
                  "gists_url": "https://api.github.com/users/sgress454/gists{/gist_id}",
                  "starred_url": "https://api.github.com/users/sgress454/starred{/owner}{/repo}",
                  "subscriptions_url": "https://api.github.com/users/sgress454/subscriptions",
                  "organizations_url": "https://api.github.com/users/sgress454/orgs",
                  "repos_url": "https://api.github.com/users/sgress454/repos",
                  "events_url": "https://api.github.com/users/sgress454/events{/privacy}",
                  "received_events_url": "https://api.github.com/users/sgress454/received_events",
                  "type": "User",
                  "site_admin": false
                },
                "committer": {
                  "login": "sgress454",
                  "id": 553428,
                  "avatar_url": "https://avatars.githubusercontent.com/u/553428?",
                  "gravatar_id": "b74e07aa543552709bf546ca279c9c67",
                  "url": "https://api.github.com/users/sgress454",
                  "html_url": "https://github.com/sgress454",
                  "followers_url": "https://api.github.com/users/sgress454/followers",
                  "following_url": "https://api.github.com/users/sgress454/following{/other_user}",
                  "gists_url": "https://api.github.com/users/sgress454/gists{/gist_id}",
                  "starred_url": "https://api.github.com/users/sgress454/starred{/owner}{/repo}",
                  "subscriptions_url": "https://api.github.com/users/sgress454/subscriptions",
                  "organizations_url": "https://api.github.com/users/sgress454/orgs",
                  "repos_url": "https://api.github.com/users/sgress454/repos",
                  "events_url": "https://api.github.com/users/sgress454/events{/privacy}",
                  "received_events_url": "https://api.github.com/users/sgress454/received_events",
                  "type": "User",
                  "site_admin": false
                },
                "parents": [
                  {
                    "sha": "975273b2dd5b848d1519178a8138369fc6b8fa24",
                    "url": "https://api.github.com/repos/balderdashy/sails/commits/975273b2dd5b848d1519178a8138369fc6b8fa24",
                    "html_url": "https://github.com/balderdashy/sails/commit/975273b2dd5b848d1519178a8138369fc6b8fa24"
                  }
                ]
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Github = new require('github');\n\n    try {\n      var github = new Github({\n        version: '3.0.0',\n      });\n\n      github.repos.getCommits({\n        repo: inputs.repo,\n        user: inputs.owner,\n        path: inputs.path\n      }, function(err, data) {\n        if (err) {\n          if (typeof err === 'object' && +err.code === 400) {\n            err.status = 400;\n            return exits.badRequest(err);\n          }\n          return exits.error(err);\n        }\n\n        return exits.success(data);\n      });\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/list-repo-commits-at-path",
        "docsUrl": "http://node-machine.org/machinepack-github/list-repo-commits-at-path",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 15,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "list-repo-commits",
        "variableName": "listRepoCommits",
        "friendlyName": "List repo commits",
        "cacheable": true,
        "sync": null,
        "description": "Fetch recent commits from the specified GitHub repository.",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              {
                "author": {
                  "name": "sgress454",
                  "username": "sgress454",
                  "avatarUrl": "https://avatars.githubusercontent.com/u/583701?v=3",
                  "profileUrl": "https://github.com/sgress454"
                },
                "commitUrl": "https://github.com/balderdashy/sails/commit/5685d673dc346f226a229021af38556062e32a3d",
                "timestamp": "2015-04-14T21:14:43Z"
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Github = require('github');\n    var _ = require('lodash');\n\n    var github = new Github({\n      version: '3.0.0'\n    });\n\n    github.repos.getCommits({\n      repo: inputs.repo,\n      user: inputs.owner\n    }, function(err, data) {\n      try {\n        if (err) return exits.error(err);\n\n        var commits = [];\n\n        _.each(data, function(commitData){\n          var formattedCommit = {\n            author: {\n              name: commitData.commit.author.name\n            },\n            commitUrl: commitData.html_url,\n            timestamp: commitData.commit.author.date\n          };\n          if (!_.isNull(commitData.author) && !_.isUndefined(commitData.author)) {\n            formattedCommit.author.username = commitData.author.login;\n            formattedCommit.author.avatarUrl = commitData.author.avatar_url;\n            formattedCommit.author.profileUrl = commitData.author.html_url;\n          }\n          commits.push(formattedCommit);\n        });\n\n        return exits.success(commits);\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/list-repo-commits",
        "docsUrl": "http://node-machine.org/machinepack-github/list-repo-commits",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 16,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "list-repo-activity",
        "variableName": "listRepoActivity",
        "friendlyName": "List repo activity",
        "cacheable": true,
        "sync": null,
        "description": "Fetch activity in a github repo.",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              {
                "id": "2100840605",
                "type": "IssuesEvent",
                "actor": {
                  "id": 618009,
                  "login": "mikermcneil",
                  "gravatar_id": "199046437b76e6ca73e00b4cc182a1c5",
                  "url": "https://api.github.com/users/mikermcneil",
                  "avatar_url": "https://avatars.githubusercontent.com/u/618009?"
                },
                "repo": {
                  "id": 3757512,
                  "name": "balderdashy/sails",
                  "url": "https://api.github.com/repos/balderdashy/sails"
                },
                "payload": {
                  "action": "closed",
                  "issue": {
                    "url": "https://api.github.com/repos/balderdashy/sails/issues/1702",
                    "labels_url": "https://api.github.com/repos/balderdashy/sails/issues/1702/labels{/name}",
                    "comments_url": "https://api.github.com/repos/balderdashy/sails/issues/1702/comments",
                    "events_url": "https://api.github.com/repos/balderdashy/sails/issues/1702/events",
                    "html_url": "https://github.com/balderdashy/sails/issues/1702",
                    "id": 33589919,
                    "number": 1702,
                    "title": "baseUrl doesn't trust Host header",
                    "user": {
                      "login": "adamhooper",
                      "id": 10812,
                      "avatar_url": "https://avatars.githubusercontent.com/u/10812?",
                      "gravatar_id": "933d8a04917ef38f905f2abe02d2bda9",
                      "url": "https://api.github.com/users/adamhooper",
                      "html_url": "https://github.com/adamhooper",
                      "followers_url": "https://api.github.com/users/adamhooper/followers",
                      "following_url": "https://api.github.com/users/adamhooper/following{/other_user}",
                      "gists_url": "https://api.github.com/users/adamhooper/gists{/gist_id}",
                      "starred_url": "https://api.github.com/users/adamhooper/starred{/owner}{/repo}",
                      "subscriptions_url": "https://api.github.com/users/adamhooper/subscriptions",
                      "organizations_url": "https://api.github.com/users/adamhooper/orgs",
                      "repos_url": "https://api.github.com/users/adamhooper/repos",
                      "events_url": "https://api.github.com/users/adamhooper/events{/privacy}",
                      "received_events_url": "https://api.github.com/users/adamhooper/received_events",
                      "type": "User",
                      "site_admin": false
                    },
                    "labels": [],
                    "state": "closed",
                    "comments": 1,
                    "created_at": "2014-05-15T14:23:58Z",
                    "updated_at": "2014-05-15T17:43:12Z",
                    "closed_at": "2014-05-15T17:43:12Z",
                    "body": "A bug was introduced in #1587.\r\n\r\nThe HTTP Host header already includes the port [http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23], and there is no such thing as a Port header. Therefore Sails doesn't work behind properly-configured proxies: it only works behind misconfigured ones.\r\n\r\nThe solution is to use the actual HTTP Host header, which -- unfortunately -- Express truncates. A simple copy/paste from Express' `request.js` will give the host and port, straight from a valid HTTP request:\r\n\r\n```javascript\r\n  var trustProxy = req.app.get('trust proxy');\r\n  var host = trustProxy && req.get('X-Forwarded-Host');\r\n  host = host || req.get('Host');\r\n\r\n  req.baseUrl = req.protocol + \"://\" + host;\r\n```\r\n\r\nWith this change, the developer need only enable `trust proxy` to work behind any HTTP-compliant reverse proxy."
                  }
                },
                "public": true,
                "created_at": "2014-05-15T17:43:12Z",
                "org": {
                  "id": 1445252,
                  "login": "balderdashy",
                  "gravatar_id": "8590af9cb2eed44f7b66fed322704aeb",
                  "url": "https://api.github.com/orgs/balderdashy",
                  "avatar_url": "https://avatars.githubusercontent.com/u/1445252?"
                }
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Github = require('github');\n\n    try {\n      var github = new Github({\n        version: '3.0.0'\n      });\n\n      github.events.getFromRepo({\n        repo: inputs.repo,\n        user: inputs.owner\n      }, function(err, data) {\n        if (err) return exits(err);\n        else return exits.success(data);\n      });\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/list-repo-activity",
        "docsUrl": "http://node-machine.org/machinepack-github/list-repo-activity",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 17,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "list-repos",
        "variableName": "listRepos",
        "friendlyName": "List repos",
        "cacheable": true,
        "sync": null,
        "description": "Fetch the list of repos belonging to the specified Github user or organization.",
        "inputs": {
          "owner": {
            "description": "The name of the user or organization (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "limit": {
            "description": "Maximum number of repos to retrieve (for pagination)",
            "example": 30,
            "type": "number"
          },
          "skip": {
            "description": "Index of the first repo to retrieve, starting from 0 (for pagination)",
            "example": 0,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "repos",
            "example": [
              {
                "id": 1296269,
                "owner": {
                  "login": "octocat",
                  "id": 1,
                  "avatar_url": "https://github.com/images/error/octocat_happy.gif",
                  "gravatar_id": "somehexcode",
                  "url": "https://api.github.com/users/octocat",
                  "html_url": "https://github.com/octocat",
                  "followers_url": "https://api.github.com/users/octocat/followers",
                  "following_url": "https://api.github.com/users/octocat/following{/other_user}",
                  "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",
                  "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",
                  "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",
                  "organizations_url": "https://api.github.com/users/octocat/orgs",
                  "repos_url": "https://api.github.com/users/octocat/repos",
                  "events_url": "https://api.github.com/users/octocat/events{/privacy}",
                  "received_events_url": "https://api.github.com/users/octocat/received_events",
                  "type": "User",
                  "site_admin": false
                },
                "name": "Hello-World",
                "full_name": "octocat/Hello-World",
                "description": "This your first repo!",
                "private": false,
                "fork": false,
                "url": "https://api.github.com/repos/octocat/Hello-World",
                "html_url": "https://github.com/octocat/Hello-World",
                "clone_url": "https://github.com/octocat/Hello-World.git",
                "git_url": "git://github.com/octocat/Hello-World.git",
                "ssh_url": "git@github.com:octocat/Hello-World.git",
                "svn_url": "https://svn.github.com/octocat/Hello-World",
                "mirror_url": "git://git.example.com/octocat/Hello-World",
                "homepage": "https://github.com",
                "forks_count": 9,
                "stargazers_count": 80,
                "watchers_count": 80,
                "size": 108,
                "default_branch": "master",
                "open_issues_count": 0,
                "has_issues": true,
                "has_wiki": true,
                "has_downloads": true,
                "pushed_at": "2011-01-26T19:06:43Z",
                "created_at": "2011-01-26T19:01:12Z",
                "updated_at": "2011-01-26T19:14:43Z",
                "permissions": {
                  "admin": false,
                  "push": false,
                  "pull": true
                }
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Github = require('github');\n\n    var limit = inputs.limit || 30;\n    var skip = inputs.skip || 0;\n\n    var github = new Github({\n      version: '3.0.0'\n    });\n\n    github.repos.getFromUser({\n      user: inputs.owner,\n      per_page: limit,\n      page: Math.ceil(skip / limit)\n    }, function(err, data) {\n      if (err) return exits.error(err);\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/list-repos",
        "docsUrl": "http://node-machine.org/machinepack-github/list-repos",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 18,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "build-installable-url",
        "variableName": "buildInstallableUrl",
        "friendlyName": "Build installable URL",
        "cacheable": null,
        "sync": null,
        "description": "Build an npm-installable URL compatible with private repos.",
        "inputs": {
          "personalAccessToken": {
            "description": "A personal access token",
            "example": "x32929hghakg1ghdsgkj",
            "required": true,
            "whereToGet": {
              "url": "https://github.com/settings/applications",
              "description": "Copy and paste a personal access token, or generate one if you haven't already."
            },
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user who owns this repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "private-customer-app",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "git+https://x32929hghakg1ghdsgkj:x-oauth-basic@github.com/balderdashy/private-customer-app.git",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    // Dependencies\n    var _ = require('lodash');\n    var util = require('util');\n\n    return exits.success(util.format('git+https://%s:x-oauth-basic@github.com/%s/%s.git',inputs.personalAccessToken, inputs.owner, inputs.repo));\n\n  ",
        "environment": [],
        "extendedDescription": "The URL returned by this machine is useful for accessing private repos in situations where `ssh` is not an option (e.g. with npm).  You can use the URL returned by this machine as a dependency in your package.json file, allowing `npm install` to grab the code for your dependency directly from its private GitHub repo.  NPM installing from private repo URLs is a great way to take advantage of the power of NPM when circumstances prevent you from making your dependencies open-source.  However, be aware that you may experience occasional caching issues with PaaS deployments (Modulus, Heroku, EBS, etc) and/or continuous integration services (like CircleCI or Travis).  This is because the current version of NPM relies completely on the SEMVER range in the package.json file (which, in this approach, we replace with the URL generated by this machine.)  If you run into issues with code from your private GitHub dependencies not being updated, try clearing the NPM cache (the way to do this varies across different PaaS and CI providers-- to do it locally, run `npm cache clear`.)Caching systems are difficult design problems, and NPM does a great job 99% of the time.  Stay tuned to the NPM repo for updates, and please participate in the discussion if you have ideas.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/build-installable-url",
        "docsUrl": "http://node-machine.org/machinepack-github/build-installable-url",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 19,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get GitHub login URL",
        "cacheable": true,
        "sync": null,
        "description": "Get the URL on github.com that a user should visit to authorize the specified GitHub app (i.e. your app).",
        "inputs": {
          "clientId": {
            "example": "abc123jdhs3h4js",
            "description": "The unique identifier for your GitHub app. It's listed on the application settings page.",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://my-cool-app.com/auth/callback",
            "description": "The URL in your app where users will be sent after authorization.",
            "required": true,
            "type": "string"
          },
          "scope": {
            "example": [
              "public_repo"
            ],
            "description": "A comma separated list of scopes requested for the authorization.",
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "https://github.com/login/oauth/authorize?client_id=215798311808508&redirect_uri=http://localhost:1337/auth/authorize&scope=email,friends",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n    var url = 'https://github.com/login/oauth/authorize';\n    inputs.scope = inputs.scope || [];\n\n    // Generate a semi-random string to use for the state\n    var state = (Math.random() + 1).toString(36).substring(7);\n\n    try {\n      return exits.success(util.format(\n        'https://github.com/login/oauth/authorize?client_id=%s&redirect_uri=%s&scope=%s&state=%s',\n        inputs.clientId, inputs.callbackUrl, inputs.scope.join(','), state\n      ));\n    }\n    catch(e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your GitHub app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-github/get-login-url",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 20,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": true,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular GitHub user account.",
        "inputs": {
          "clientId": {
            "example": "215798311808508",
            "description": "The unique identifier for your GitHub app  (i.e. this is the \"Client ID\" listed on your app's settings page)",
            "required": true,
            "type": "string"
          },
          "clientSecret": {
            "example": "dsg4901g0123456",
            "description": "The developer \"secret\" for your GitHub app (i.e. this is the \"Client ID\" listed on your app's settings page)",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJFObCvACVRP-V7sfemiMPBh3TWypvagfZ6aoqfwKCNcBxg8XR_skdYUe5tsY9UzX9Z_8q4mRrqaLhwSh5OHj9ORmE4ocyd-neZtdceTZjlmEVeO38UH9QOe_md7h5hy2gMhOS6TL9IBk5Guxg3O6I0WmjpFNPoj6JzWIvG9cgj7RQqxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9__tuzB0JvgqbVh-U_WW8mjwGBqsfxlNvjYwIxk4zBNAxuRJijkkn0TwyogFpZqIlkY",
            "description": "The OAuth `code` generated by GitHub and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/user/github/login",
            "description": "The redirect URL that was used when generating the provided `code`",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "redirectUriMismatch": {
            "description": "Triggered when the callbackUrl doesn't match the settings supplied in the configured app settings on GitHub."
          },
          "badVerificationCode": {
            "description": "Triggered when the code sent with the request is invalid."
          },
          "incorrectClientCredentials": {
            "description": "Triggered when either the client id or client secret is incorrect."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "token": "CA2Emk9XsJUIBAHB9sTF5rOdNmAXTDjiHxZaZC1GYtFZCcdYGVnLYZB7jZCvensIpGc22yEzN6CL6wtQ9LPVXTNkuP6eQoUQ0toEVPrmTTqDpj0POijBpsuZBnx7jrZCHaTw8leiZBn0R8u6gZAYZAuD77cA3tnDMYvHhrl42CnljROeC9maWoa5zbsT2TZBXdL9wEuGQDSxKqRPyajRw3P3HEK"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      baseUrl: 'https://github.com',\n      url: '/login/oauth/access_token',\n      method: 'post',\n      params: {\n        'client_id': inputs.clientId,\n        'client_secret': inputs.clientSecret,\n        'code': inputs.code,\n        'redirect_uri': inputs.callbackUrl\n      },\n      headers: {\n        'Accept': 'application/json'\n      },\n    }).exec({\n\n      success: function(response) {\n\n        // Parse AccessToken from the response body\n        try {\n          var data = JSON.parse(response.body);\n\n          if(data.error) {\n            if(data.error === 'redirect_uri_mismatch') return exits.redirectUriMismatch();\n            if(data.error === 'bad_verification_code') return exits.badVerificationCode();\n            if(data.error === 'incorrect_client_credentials') return exits.incorrectClientCredentials();\n          }\n\n          if(!data.access_token) {\n            return exits.error(data);\n          }\n\n          var accessToken = data.access_token;\n          return exits.success({ token: accessToken });\n        }\n        catch (e) {\n          return exits.error(e);\n        }\n\n      },\n\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-github/get-access-token",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 21,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "get-current-user",
        "variableName": "getCurrentUser",
        "friendlyName": "Get current user",
        "cacheable": true,
        "sync": null,
        "description": "Get the GitHub profile data for a user by access token.",
        "inputs": {
          "accessToken": {
            "description": "A valid access token that can be used to access the GitHub api.",
            "example": "abdg27snhd72",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "login": "octocat",
              "id": 1,
              "avatar_url": "https://github.com/images/error/octocat_happy.gif",
              "gravatar_id": "",
              "url": "https://api.github.com/users/octocat",
              "html_url": "https://github.com/octocat",
              "followers_url": "https://api.github.com/users/octocat/followers",
              "following_url": "https://api.github.com/users/octocat/following{/other_user}",
              "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",
              "organizations_url": "https://api.github.com/users/octocat/orgs",
              "repos_url": "https://api.github.com/users/octocat/repos",
              "events_url": "https://api.github.com/users/octocat/events{/privacy}",
              "received_events_url": "https://api.github.com/users/octocat/received_events",
              "type": "User",
              "site_admin": false,
              "name": "monalisa octocat",
              "company": "GitHub",
              "blog": "https://github.com/blog",
              "location": "San Francisco",
              "email": "octocat@github.com",
              "hireable": false,
              "bio": "There once was...",
              "public_repos": 2,
              "public_gists": 1,
              "followers": 20,
              "following": 0,
              "created_at": "2008-01-14T04:33:35Z",
              "updated_at": "2008-01-14T04:33:35Z"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      baseUrl: 'https://api.github.com',\n      url: '/user',\n      method: 'get',\n      headers: {\n        'Accept': 'application/json',\n        'Authorization': 'token ' + inputs.accessToken,\n        'User-Agent': 'MachinePack'\n      },\n    }).exec({\n\n      success: function(response) {\n        // Parse data from the response body\n        try {\n          var data = JSON.parse(response.body);\n          return exits.success(data);\n        }\n        catch (e) {\n          return exits.error(e);\n        }\n\n      },\n\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/get-current-user",
        "docsUrl": "http://node-machine.org/machinepack-github/get-current-user",
        "defaultExit": "success",
        "machinepack": 5,
        "id": 22,
        "createdAt": "2015-02-16T23:51:01.000Z",
        "updatedAt": "2015-06-30T17:19:39.000Z"
      },
      {
        "identity": "parse-repo-str",
        "variableName": "parseRepoStr",
        "friendlyName": "Parse repo string",
        "cacheable": true,
        "sync": true,
        "description": "Parse a repo string (e.g. '/node-machine/machine')",
        "inputs": {
          "string": {
            "friendlyName": "Repo string",
            "description": "The repo string to parse",
            "example": "/node-machine/machine#master",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "example": {
              "owner": "node-machine",
              "repo": "machine",
              "branch": "master"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    inputs.string = _.trimLeft(inputs.string, '/');\n    var owner = inputs.string.split('/')[0];\n    var name = inputs.string.split('/')[1];\n    var branch = 'master';\n\n    if (~name.indexOf('#')) {\n      branch = name.split('#')[1];\n      name = name.split('#')[0];\n    }\n\n    return exits.success({\n      owner: owner,\n      repo: name,\n      branch: branch\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/parse-repo-str",
        "docsUrl": "http://node-machine.org/machinepack-github/parse-repo-str",
        "defaultExit": null,
        "machinepack": 5,
        "id": 509,
        "createdAt": "2015-05-18T22:49:33.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "build-github-search-string",
        "variableName": "buildGithubSearchString",
        "friendlyName": "Build GitHub search string",
        "cacheable": true,
        "sync": true,
        "description": "Build a GitHub search string (the 'q' parameter for use with the GitHub Search API).",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "type": "string"
          },
          "state": {
            "description": "The state to filter issues by (either \"open\" or \"closed\".",
            "example": "open",
            "type": "string"
          },
          "lastUpdatedBefore": {
            "description": "A JS timestamp.",
            "extendedDescription": "Issues that have been updated _since_ this timestamp will be excluded from the results.",
            "example": 1442710858715,
            "type": "number"
          },
          "withAllOfTheseLabels": {
            "description": "A set of issue labels.",
            "extendedDescription": "Issues that include _all_ of these labels will be included in search results.",
            "example": [
              "question"
            ],
            "type": "array"
          },
          "withNoneOfTheseLabels": {
            "description": "A set of issue labels.",
            "extendedDescription": "Issues that include _none_ of these labels will be included in search results.",
            "example": [
              "bug"
            ],
            "type": "array"
          },
          "type": {
            "description": "The type of issues to return (either `pr` or `issue).",
            "extendedDescription": "If omitted, both types of issues will be searched.",
            "example": "pr",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "githubSearchStr",
            "example": "repo:balderdashy/sails state:open",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var Datetime = require('machinepack-datetime');\n\n    // The local variable `q` will be used to build up the search string\n    // iteratively in the code below.  We'll start by building it as an\n    // array of strings, then mash it together at the end using `.join()`.\n    var q = [];\n\n    // Filter on owner+repo\n    if (inputs.owner && inputs.repo) {\n      q.push( util.format( 'repo:%s/%s', inputs.owner, inputs.repo) );\n    }\n    // or just owner\n    else if (inputs.owner) {\n      q.push( util.format( 'user:%s', inputs.owner) );\n    }\n\n    // Filter on labels (only include issue if it has _all_ of these labels)\n    if (!_.isUndefined(inputs.withAllOfTheseLabels)) {\n      q.push(\n        _.map(inputs.withAllOfTheseLabels, function (labelName){\n          return 'label:\"'+labelName+'\"'; // << use double quotes to support labels with whitespace (see https://github.com/isaacs/github/issues/65#issuecomment-63971607)\n        })\n        .join(' ')\n      );\n    }\n\n    // Filter on labels (only include issue if it has _none_ of these labels)\n    if (!_.isUndefined(inputs.withNoneOfTheseLabels)) {\n      q.push(\n        _.map(inputs.withNoneOfTheseLabels, function (labelName){\n          return '-label:\"'+labelName+'\"'; // << use double quotes to support labels with whitespace (see https://github.com/isaacs/github/issues/65#issuecomment-63971607)\n        })\n        .join(' ')\n      );\n    }\n\n    // Filter on issue state (open vs. closed)\n    if (!_.isUndefined(inputs.state)) {\n      q.push( 'state:'+inputs.state );\n    }\n\n    // Filter on issue type (pr vs. issue)\n    if (!_.isUndefined(inputs.type)) {\n      q.push( 'type:'+inputs.type );\n    }\n\n    // Filter issues based on when they were last updated.\n    if (!_.isUndefined(inputs.lastUpdatedBefore)) {\n      var dateInstance = Datetime.parseTimestamp({\n        timestamp: inputs.lastUpdatedBefore,\n        timezone: 'America/Chicago'\n      }).execSync();\n      var formattedDateStr = util.format('%s-%s-%s',\n        dateInstance.year,\n        (dateInstance.month<10?'0':'')+dateInstance.month,\n        (dateInstance.date<10?'0':'')+dateInstance.date\n      );\n      q.push( 'updated:<'+formattedDateStr );\n    }\n\n    // Now smash the strings together, separating them w/ spaces...\n    q = q.join(' ');\n\n    // and we're done!\n    return exits.success(q);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/build-github-search-string",
        "docsUrl": "http://node-machine.org/machinepack-github/build-github-search-string",
        "defaultExit": null,
        "machinepack": 5,
        "id": 669,
        "createdAt": "2015-09-20T08:19:39.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "get-download-url",
        "variableName": "getDownloadUrl",
        "friendlyName": "Get download URL",
        "cacheable": true,
        "sync": true,
        "description": "Build the URL to download a specific release/branch .zip file for a particular repo.",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "branch": {
            "description": "The branch of the repo that will be downloaded.",
            "example": "master",
            "defaultsTo": "master",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "example": "https://github.com/balderdashy/sails/master.zip",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success('https://github.com/' + inputs.owner + '/' + inputs.repo + '/archive/' + inputs.branch + '.zip');\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/get-download-url",
        "docsUrl": "http://node-machine.org/machinepack-github/get-download-url",
        "defaultExit": null,
        "machinepack": 5,
        "id": 670,
        "createdAt": "2015-09-20T08:19:39.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      },
      {
        "identity": "list-issue-comments",
        "variableName": "listIssueComments",
        "friendlyName": "List issue comments",
        "cacheable": true,
        "sync": null,
        "description": "Fetch recent comments from the specified GitHub repository.",
        "inputs": {
          "repo": {
            "description": "The name of the Github repo (i.e. as it appears in the URL on GitHub)",
            "example": "sails",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The name of the organization or user that owns the repo (i.e. as it appears in the URL on GitHub)",
            "example": "balderdashy",
            "required": true,
            "type": "string"
          },
          "issueNumber": {
            "description": "The issue number of the issue to close.",
            "extendedDescription": "Note that issue numbers are not globally unique-- they are only unique per-repository.",
            "example": 237,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              {
                "author": {
                  "username": "sgress454",
                  "avatarUrl": "https://avatars.githubusercontent.com/u/583701?v=3",
                  "profileUrl": "https://github.com/sgress454"
                },
                "body": "Bump +1 I haz this issue too",
                "timestamp": "2015-04-14T21:14:43Z",
                "id": 187625171,
                "url": "https://github.com/balderdashy/sails/issues/3594#issuecomment-187625171"
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Github = require('github');\n    var _ = require('lodash');\n\n    var github = new Github({\n      version: '3.0.0'\n    });\n\n    github.issues.getComments({\n      repo: inputs.repo,\n      user: inputs.owner,\n      number: inputs.issueNumber\n    }, function(err, data) {\n      try {\n        if (err) return exits.error(err);\n        var comments = _.map(data, function(commentData){\n          return {\n            author: {\n              username: commentData.user.login,\n              avatarUrl: commentData.user.avatar_url,\n              profileUrl: commentData.user.html_url,\n            },\n            body: commentData.body,\n            timestamp: commentData.created_at,\n            id: commentData.id,\n            url: commentData.html_url\n          };\n        });\n\n        return exits.success(comments);\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-github/list-issue-comments",
        "docsUrl": "http://node-machine.org/machinepack-github/list-issue-comments",
        "defaultExit": null,
        "machinepack": 5,
        "id": 700,
        "createdAt": "2016-02-24T01:19:52.000Z",
        "updatedAt": "2016-03-09T20:09:41.000Z"
      }
    ],
    "identity": "machinepack-github",
    "version": "4.5.0",
    "latestVersionPublishedAt": "2016-03-09T00:00:00.000Z",
    "variableName": "Github",
    "friendlyName": "Github",
    "description": "Communicate with the Github API to get repos, commits, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-github",
    "docsUrl": "http://node-machine.org/machinepack-github",
    "npmUrl": "http://npmjs.org/package/machinepack-github",
    "npmPackageName": "machinepack-github",
    "githubUrl": "http://github.com/mikermcneil/machinepack-github/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-github/",
    "testsUrl": "",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "github",
        "semverRange": "~0.1.16"
      },
      {
        "name": "lodash",
        "semverRange": "^3.8.0"
      },
      {
        "name": "machine",
        "semverRange": "^11.0.3"
      },
      {
        "name": "machinepack-datetime",
        "semverRange": "^1.4.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "rachaelraygun",
        "email": "rachael@balderdash.co"
      }
    ],
    "id": 5,
    "createdAt": "2015-02-16T23:51:01.000Z",
    "updatedAt": "2016-03-09T20:09:41.000Z",
    "numMachines": 16
  },
  {
    "machines": [
      {
        "identity": "get-company",
        "variableName": "getCompany",
        "friendlyName": "Get company",
        "cacheable": null,
        "sync": null,
        "description": "Get company information",
        "inputs": {
          "partnerId": {
            "example": "5317",
            "description": "Your partner id, as assigned by Glassdoor",
            "required": true,
            "type": "string"
          },
          "partnerKey": {
            "example": "n07aR34Lk3Y",
            "description": "Your partner key, as assigned by Glassdoor",
            "required": true,
            "type": "string"
          },
          "userIp": {
            "example": "0.0.0.0",
            "description": "The IP address of the end user to whom the API results will be shown",
            "required": true,
            "type": "string"
          },
          "userAgent": {
            "example": "",
            "description": "The User-Agent (browser) of the end user to whom the API results will be shown. Note that you can can obtain this from the \"User-Agent\" HTTP request header from the end-user",
            "required": true,
            "type": "string"
          },
          "q": {
            "example": "Microsoft",
            "description": "Query phrase to search for - can be any combination of employer or occupation, but location should be in l param.",
            "required": true,
            "type": "string"
          },
          "l": {
            "example": "Albuquerque, NM, United States",
            "description": "Scope the search to a specific location by specifying it here - city, state, or country.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    //var URL = require('url');\n    //var QS = require('querystring');\n    //var _ = require('lodash');\n    var Http = require('machinepack-http');\n    var _ = require('underscore');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.glassdoor.com/api/api.htm?format=json&v=1&action=employers'\n      + '&t.p=' + inputs.partnerId\n      + '&t.k=' + inputs.partnerKey\n      + '&userip=' + inputs.userIp\n      + '&useragent=' + inputs.userAgent\n      + '&q=' + inputs.q\n      + '&l=' + inputs.l,\n      url: '',\n      method: 'get'\n    }).exec({\n      // OK.\n      success: function (result) {\n\n        try {\n          var responseBody = JSON.parse(result.body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n\n        if (!responseBody.success) {\n          return exits.error('API call failed');\n        }\n        if (!responseBody.response || !responseBody.response.employers) {\n          return exits.error('No companies found');\n        }\n\n        var found = false;\n\n        responseBody.response.employers.forEach(function (employer, index) {\n          if (employer.exactMatch == true) {\n            found = true;\n            return exits.success(employer);\n          }\n        });\n\n        if (!found) {\n          return exits.error('No exact match');\n        }\n\n      },\n      // Non-2xx status code returned from server\n      notOk: function (result) {\n\n        try {\n          if (result.status === 403) {\n            return exits.error(\"Invalid or unprovided API key. All calls must have a key.\");\n          }\n        } catch (e) {\n          return exits.error(e);\n        }\n\n      },\n      // An unexpected error occurred.\n      error: function (err) {\n\n        exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-glassdoor/get-company",
        "docsUrl": "http://node-machine.org/machinepack-glassdoor/get-company",
        "defaultExit": "success",
        "machinepack": 92,
        "id": 341,
        "createdAt": "2015-04-16T13:39:46.000Z",
        "updatedAt": "2015-04-16T16:19:33.000Z"
      }
    ],
    "identity": "machinepack-glassdoor",
    "version": "1.0.1",
    "latestVersionPublishedAt": "2015-04-16T00:00:00.000Z",
    "variableName": "Glassdoor",
    "friendlyName": "Glassdoor",
    "description": "Communicate with the Glassdoor API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-glassdoor",
    "docsUrl": "http://node-machine.org/machinepack-glassdoor",
    "npmUrl": "http://npmjs.org/package/machinepack-glassdoor",
    "npmPackageName": "machinepack-glassdoor",
    "githubUrl": "http://github.com/websquared/machinepack-glassdoor/",
    "sourceUrl": "http://github.com/websquared/machinepack-glassdoor/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.1.0"
      }
    ],
    "contributors": [
      {
        "name": "websquared",
        "email": "support@websquared.ca"
      }
    ],
    "id": 92,
    "createdAt": "2015-04-16T13:39:46.000Z",
    "updatedAt": "2015-04-16T16:19:33.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "search",
        "variableName": "search",
        "friendlyName": "Search",
        "cacheable": true,
        "sync": false,
        "description": "Executes the search using Customsearch API call",
        "inputs": {
          "q": {
            "example": "test search",
            "description": "Search phrase",
            "required": true,
            "type": "string"
          },
          "cx": {
            "example": "",
            "description": "The custom search engine ID to use for this request",
            "type": "string"
          },
          "cref": {
            "example": "",
            "description": "The URL of a linked custom search engine specification to use for this request. ",
            "type": "string"
          },
          "auth": {
            "example": "AIzaSyAYVDlaoVs_GZw9JNvSclRWH_PEMKII6tc",
            "description": "You generated API_KEY",
            "type": "string"
          },
          "alt": {
            "example": "atom",
            "description": "JSON/Atom Custom Search API can return results in one of two formats. JSON is the default data format; you can get results in Atom format by specifying the alt=atom query parameter",
            "type": "string"
          },
          "c2coff": {
            "example": "",
            "description": "Turns off the translation between zh-CN and zh-TW.",
            "type": "string"
          },
          "cr": {
            "example": "",
            "description": "Country restrict(s)",
            "type": "string"
          },
          "fileType": {
            "example": "jpg",
            "description": "Returns images of a specified type. Some of the allowed values are: bmp, gif, png, jpg, svg, pdf, ...",
            "type": "string"
          },
          "searchType": {
            "example": "image",
            "description": "Specifies the search type",
            "type": "string"
          },
          "sort": {
            "example": "",
            "description": "The sort expression to apply to the results",
            "type": "string"
          },
          "start": {
            "example": 15,
            "description": "The index of the first result to return",
            "type": "number"
          }
        },
        "exits": {
          "invalidParameter": {
            "description": "Invalid field parameter passed"
          },
          "dailyLimitExceededUnreg": {
            "description": "Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup."
          },
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {};\n    _.merge(params, inputs);\n    customsearch.cse.list(params, function(err, result) {\n      if (err) {\n        if (!err.code) {\n          return exits.error(err);\n        }\n        switch (err.code) {\n          case 400:\n            return exits.invalidParameter(err);\n            break;\n          case 403:\n            return exits.dailyLimitExceededUnreg(err);\n            break;\n          default:\n            return exits.error(err);\n            break;\n        }\n      }\n      return exits.success(result);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapicustomsearch/search",
        "docsUrl": "http://node-machine.org/machinepack-googleapicustomsearch/search",
        "defaultExit": null,
        "machinepack": 124,
        "id": 549,
        "createdAt": "2015-05-29T21:29:52.000Z",
        "updatedAt": "2015-05-29T21:29:52.000Z"
      }
    ],
    "identity": "machinepack-googleapicustomsearch",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-05-29T00:00:00.000Z",
    "variableName": "GoogleAPICustomSearch",
    "friendlyName": "Google API CustomSearch",
    "description": "Communicate with Google Customsearch API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapicustomsearch",
    "docsUrl": "http://node-machine.org/machinepack-googleapicustomsearch",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapicustomsearch",
    "npmPackageName": "machinepack-googleapicustomsearch",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapicustomsearch/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapicustomsearch/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 124,
    "createdAt": "2015-05-29T21:29:51.000Z",
    "updatedAt": "2015-05-29T21:29:51.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "authorize",
        "variableName": "authorize",
        "friendlyName": "Authorize",
        "cacheable": true,
        "sync": false,
        "description": "Get authorization tokens",
        "inputs": {
          "email": {
            "example": "service-account-email@developer.gserviceaccount.com",
            "description": "Service account email",
            "required": true,
            "type": "string"
          },
          "keyFile": {
            "example": "path/to/key.pem",
            "description": "Path to your generated key.pem",
            "type": "string"
          },
          "key": {
            "example": "keyContent",
            "description": "Contents of private_key.pem if you want to load the pem file yourself. (do not use the path parameter above if using this param)",
            "type": "string"
          },
          "scopes": {
            "example": [
              "https://www.googleapis.com/auth/drive.readonly"
            ],
            "description": "Scopes can be specified either as an array or as a single, space-delimited string",
            "typeclass": "array",
            "type": "array"
          },
          "impersonateEmail": {
            "example": "subject-account-email@example.com",
            "description": "User to impersonate (leave empty if no impersonation needed)",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var authClient = new google.auth.JWT(\n      inputs.email,\n      inputs.keyFile,\n      inputs.key || undefined,\n      inputs.scopes || [],\n      inputs.impersonateEmail || undefined);\n\n    authClient.authorize(function(err, tokens) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(tokens);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisauthjwt/authorize",
        "docsUrl": "http://node-machine.org/machinepack-googleapisauthjwt/authorize",
        "defaultExit": null,
        "machinepack": 126,
        "id": 552,
        "createdAt": "2015-06-02T00:49:50.000Z",
        "updatedAt": "2015-06-02T04:09:41.000Z"
      }
    ],
    "identity": "machinepack-googleapisauthjwt",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-06-02T00:00:00.000Z",
    "variableName": "GoogleAPIsAuthJWT",
    "friendlyName": "Google APIs Auth JWT",
    "description": "The JWT authorization is ideal for performing server-to-server communication without asking for user consent.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisauthjwt",
    "docsUrl": "http://node-machine.org/machinepack-googleapisauthjwt",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapisauthjwt",
    "npmPackageName": "machinepack-googleapisauthjwt",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisauthjwt/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisauthjwt/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 126,
    "createdAt": "2015-06-02T00:49:50.000Z",
    "updatedAt": "2015-06-02T04:09:41.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "list",
        "variableName": "list",
        "friendlyName": "List",
        "cacheable": true,
        "sync": false,
        "description": "List Web Fonts",
        "inputs": {
          "key": {
            "example": "YOUR_API_KEY",
            "description": "Your API key",
            "required": true,
            "type": "string"
          },
          "sort": {
            "example": "alpha",
            "description": "Enables sorting of the list",
            "whereToGet": {
              "url": "https://developers.google.com/fonts/docs/developer_api"
            },
            "type": "string"
          },
          "fields": {
            "example": "items,kind",
            "description": "Selector specifying which fields to include in a partial response.",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "accessNotConfigured": {
            "variableName": "err",
            "description": "Access Not Configured"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {\n      key: inputs.key\n    };\n    if (inputs.sort) {\n      params.sort = inputs.sort;\n    }\n    if (inputs.fields) {\n      params.fields = inputs.fields;\n    }\n    var webFonts = google.webfonts('v1');\n    webFonts.webfonts.list(params, function(err, result) {\n      if (err) {\n        if (!err.code) {\n          return exits.error(err);\n        }\n        switch(err.code) {\n          case 403:\n            return exits.accessNotConfigured(err);\n            break;\n          default:\n            return exits.error(err);\n            break;\n        }\n      }\n      return exits.success(result);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisdeveloperfonts/list",
        "docsUrl": "http://node-machine.org/machinepack-googleapisdeveloperfonts/list",
        "defaultExit": null,
        "machinepack": 129,
        "id": 563,
        "createdAt": "2015-06-04T00:39:45.000Z",
        "updatedAt": "2015-06-04T01:19:42.000Z"
      }
    ],
    "identity": "machinepack-googleapisdeveloperfonts",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-06-04T00:00:00.000Z",
    "variableName": "GoogleAPIsDeveloperFonts",
    "friendlyName": "Google APIs Developer Fonts",
    "description": "Work with google aPIs developer fonts.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisdeveloperfonts",
    "docsUrl": "http://node-machine.org/machinepack-googleapisdeveloperfonts",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapisdeveloperfonts",
    "npmPackageName": "machinepack-googleapisdeveloperfonts",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisdeveloperfonts/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisdeveloperfonts/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 129,
    "createdAt": "2015-06-04T00:39:45.000Z",
    "updatedAt": "2015-06-04T01:19:42.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "list",
        "variableName": "list",
        "friendlyName": "List",
        "cacheable": true,
        "sync": false,
        "description": "Retrieve the list of APIs supported at this endpoint.",
        "inputs": {
          "name": {
            "example": "plusDomains",
            "description": "Only include APIs with the given name.",
            "type": "string"
          },
          "preferred": {
            "example": true,
            "description": "Return only the preferred version of an API. (boolean)",
            "type": "boolean"
          },
          "fields": {
            "example": "discoveryVersion,items(description,discoveryLink,discoveryRestUrl,documentationLink,icons,kind,labels,name,preferred,title,version,id),kind",
            "description": "Selector specifying which fields to include in a partial response.",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var discovery = google.discovery('v1');\n    var params = {};\n    _.merge(params, inputs);\n    discovery.apis.list(params, function(err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(result);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisdiscoveryservice/list",
        "docsUrl": "http://node-machine.org/machinepack-googleapisdiscoveryservice/list",
        "defaultExit": null,
        "machinepack": 125,
        "id": 550,
        "createdAt": "2015-06-01T04:09:36.000Z",
        "updatedAt": "2015-06-01T04:19:34.000Z"
      },
      {
        "identity": "get-rest",
        "variableName": "getRest",
        "friendlyName": "Get Rest",
        "cacheable": true,
        "sync": false,
        "description": "Retrieve the description of a particular version of an api.",
        "inputs": {
          "api": {
            "example": "plusDomains",
            "description": "The name of the API",
            "required": true,
            "type": "string"
          },
          "version": {
            "example": "v1",
            "description": "The version of the API",
            "required": true,
            "type": "string"
          },
          "fields": {
            "example": "servicePath,labels,name,methods,description,basePath,ownerName,etag,icons,id,discoveryVersion,kind,resources,baseUrl,packagePath,documentationLink,auth,version,title,parameters,protocol,batchPath,rootUrl,ownerDomain,canonicalName,revision,schemas,features",
            "description": "Selector specifying which fields to include in a partial response.",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var discovery = google.discovery('v1');\n    var params = {};\n    _.merge(params, inputs);\n    discovery.apis.getRest(params, function(err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(result);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisdiscoveryservice/get-rest",
        "docsUrl": "http://node-machine.org/machinepack-googleapisdiscoveryservice/get-rest",
        "defaultExit": null,
        "machinepack": 125,
        "id": 551,
        "createdAt": "2015-06-01T04:09:36.000Z",
        "updatedAt": "2015-06-01T04:19:34.000Z"
      }
    ],
    "identity": "machinepack-googleapisdiscoveryservice",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-06-01T00:00:00.000Z",
    "variableName": "GoogleAPIsDiscoveryService",
    "friendlyName": "Google APIs Discovery Service",
    "description": "Work with google aPIs discovery service.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisdiscoveryservice",
    "docsUrl": "http://node-machine.org/machinepack-googleapisdiscoveryservice",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapisdiscoveryservice",
    "npmPackageName": "machinepack-googleapisdiscoveryservice",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisdiscoveryservice/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisdiscoveryservice/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 125,
    "createdAt": "2015-06-01T04:09:36.000Z",
    "updatedAt": "2015-06-01T04:19:34.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login URL",
        "cacheable": true,
        "sync": false,
        "description": "Generating an authentication URL",
        "inputs": {
          "clientId": {
            "example": "284875887706-4gku5u85022s3cbsde5rpvps88ekcfql.apps.googleusercontent.com",
            "description": "OAuth2 Client ID",
            "required": true,
            "whereToGet": {
              "url": "https://console.developers.google.com",
              "description": "You can gengerate new Client ID and secret in Google Developer console"
            },
            "type": "string"
          },
          "clientSecret": {
            "example": "SomeSuperSecretKey",
            "description": "OAuth2 Client Secret key",
            "required": true,
            "whereToGet": {
              "url": "https://console.developers.google.com",
              "description": "You can gengerate new Client ID and secret in Google Developer console"
            },
            "type": "string"
          },
          "redirectUrl": {
            "example": "http://localhost:1337/user/google/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "scope": {
            "example": [
              "https://www.googleapis.com/auth/plus.me"
            ],
            "description": "List of urls that you need to asks permissions for",
            "typeclass": "array",
            "type": "array"
          },
          "accessType": {
            "example": "offline",
            "description": "'online' (default) or 'offline' (gets refresh_token)",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "https://accounts.google.com/o/oauth2/auth?response_type=code&client_id=123&redirect_uri=123",
            "variableName": "result",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {};\n    if (inputs.scope && _.isArray(inputs.scope)) {\n      params.scope = inputs.scope;\n    }\n\n    if (inputs.accessType && _.isString(inputs.accessType)) {\n      params.access_type = inputs.accessType;\n    }\n    if (!params.scope) {\n      params.scope = ['https://www.googleapis.com/auth/plus.me'];\n    }\n\n    try {\n      var oauth2Client = require('../lib/getOAuth2Client')(inputs);\n      return exits.success(oauth2Client.generateAuthUrl(params || {}));\n    } catch(err) {\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisoauth2v2/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-googleapisoauth2v2/get-login-url",
        "defaultExit": null,
        "machinepack": 127,
        "id": 553,
        "createdAt": "2015-06-03T04:59:40.000Z",
        "updatedAt": "2015-06-03T04:59:40.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": true,
        "sync": false,
        "description": "Getting access token using authorization token that Google provided you with",
        "inputs": {
          "clientId": {
            "example": "284875887706-4gku5u85022s3cbsde5rpvps88ekcfql.apps.googleusercontent.com",
            "description": "OAuth2 Client ID",
            "required": true,
            "whereToGet": {
              "url": "https://console.developers.google.com",
              "description": "You can gengerate new Client ID and secret in Google Developer console"
            },
            "type": "string"
          },
          "clientSecret": {
            "example": "SomeSuperSecretKey",
            "description": "OAuth2 Client Secret key",
            "required": true,
            "whereToGet": {
              "url": "https://console.developers.google.com",
              "description": "You can gengerate new Client ID and secret in Google Developer console"
            },
            "type": "string"
          },
          "redirectUrl": {
            "example": "http://localhost:1337/user/google/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "someSuperCodeYouGotFromGoogle",
            "description": "With the code returned, you can ask for an access token",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "invalidRequest": {
            "variableName": "err",
            "description": "Triggers if some of input variables are wrong."
          },
          "invalidToken": {
            "variableName": "err",
            "description": "Triggers if code is wrong."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var oauth2Client = require('../lib/getOAuth2Client')(inputs);\n\n    oauth2Client.getToken(inputs.code, function(err, tokens) {\n      if (err) {\n        if (!err.code) {\n          return exits.error(err);\n        }\n        console.log(err);\n        switch(err.code) {\n          case 400:\n            return exits.invalidRequest(err);\n            break;\n          case 401:\n            return exits.invalidToken(err);\n            break;\n          default:\n            return exits.error(err);\n            break;\n        }\n        console.log(err);\n      }\n      return exits.success(tokens);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisoauth2v2/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-googleapisoauth2v2/get-access-token",
        "defaultExit": null,
        "machinepack": 127,
        "id": 554,
        "createdAt": "2015-06-03T04:59:40.000Z",
        "updatedAt": "2015-06-03T04:59:40.000Z"
      },
      {
        "identity": "get-oauth2-client",
        "variableName": "getOauth2Client",
        "friendlyName": "Get OAuth2 client",
        "cacheable": true,
        "sync": false,
        "description": "Get OAuth2 client",
        "inputs": {
          "clientId": {
            "example": "284875887706-4gku5u85022s3cbsde5rpvps88ekcfql.apps.googleusercontent.com",
            "description": "OAuth2 Client ID",
            "required": true,
            "whereToGet": {
              "url": "https://console.developers.google.com",
              "description": "You can gengerate new Client ID and secret in Google Developer console"
            },
            "type": "string"
          },
          "clientSecret": {
            "example": "SomeSuperSecretKey",
            "description": "OAuth2 Client Secret key",
            "required": true,
            "whereToGet": {
              "url": "https://console.developers.google.com",
              "description": "You can gengerate new Client ID and secret in Google Developer console"
            },
            "type": "string"
          },
          "redirectUrl": {
            "example": "http://localhost:1337/user/google/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(require('../lib/getOAuth2Client')(inputs));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisoauth2v2/get-oauth2-client",
        "docsUrl": "http://node-machine.org/machinepack-googleapisoauth2v2/get-oauth2-client",
        "defaultExit": null,
        "machinepack": 127,
        "id": 555,
        "createdAt": "2015-06-03T04:59:40.000Z",
        "updatedAt": "2015-06-03T04:59:40.000Z"
      }
    ],
    "identity": "machinepack-googleapisoauth2v2",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-06-03T00:00:00.000Z",
    "variableName": "GoogleAPIsOAuth2v2",
    "friendlyName": "Google APIs OAuth2 v2",
    "description": "Work with Google OAuth2 API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisoauth2v2",
    "docsUrl": "http://node-machine.org/machinepack-googleapisoauth2v2",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapisoauth2v2",
    "npmPackageName": "machinepack-googleapisoauth2v2",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisoauth2v2/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisoauth2v2/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 127,
    "createdAt": "2015-06-03T04:59:40.000Z",
    "updatedAt": "2015-06-03T04:59:40.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "run",
        "variableName": "run",
        "friendlyName": "Run",
        "cacheable": true,
        "sync": false,
        "description": "Run PageSpeed analizer",
        "inputs": {
          "key": {
            "example": "YOUR_API_KEY",
            "description": "Your API key",
            "type": "string"
          },
          "url": {
            "example": "http://google.com",
            "description": "URL of the resource you need to analize",
            "required": true,
            "type": "string"
          },
          "filterThirdPartyResources": {
            "example": true,
            "description": "Indicates if third party resources should be filtered out before PageSpeed analysis",
            "type": "boolean"
          },
          "locale": {
            "example": "en",
            "description": "The locale used to localize formatted results",
            "type": "string"
          },
          "screenshot": {
            "example": true,
            "description": "Indicates if binary data containing a screenshot should be included",
            "type": "boolean"
          },
          "rule": {
            "example": "test",
            "description": "A PageSpeed rule to run; if none are given, all rules are run",
            "type": "string"
          },
          "fields": {
            "example": "formattedResults,id,invalidRules,kind,pageStats,responseCode,ruleGroups,screenshot,title,version/major,version/minor",
            "description": "Selector specifying which fields to include in a partial response",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {};\n    _.merge(params, inputs);\n\n    var pageSpeed = google.pagespeedonline('v2');\n    pageSpeed.pagespeedapi.runpagespeed(params, function(err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(result);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapispagespeedinsights/run",
        "docsUrl": "http://node-machine.org/machinepack-googleapispagespeedinsights/run",
        "defaultExit": null,
        "machinepack": 130,
        "id": 564,
        "createdAt": "2015-06-04T01:29:24.000Z",
        "updatedAt": "2015-06-04T01:29:24.000Z"
      }
    ],
    "identity": "machinepack-googleapispagespeedinsights",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-06-04T00:00:00.000Z",
    "variableName": "GoogleAPIsPageSpeedInsights",
    "friendlyName": "Google APIs PageSpeed Insights",
    "description": "Work with google aPIs pageSpeed insights.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapispagespeedinsights",
    "docsUrl": "http://node-machine.org/machinepack-googleapispagespeedinsights",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapispagespeedinsights",
    "npmPackageName": "machinepack-googleapispagespeedinsights",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapispagespeedinsights/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapispagespeedinsights/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 130,
    "createdAt": "2015-06-04T01:29:24.000Z",
    "updatedAt": "2015-06-04T01:29:24.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "url-get",
        "variableName": "urlGet",
        "friendlyName": "URL get",
        "cacheable": true,
        "sync": false,
        "description": "Expand a short URL",
        "inputs": {
          "shortUrl": {
            "example": "http://goo.gl/xKbRu3",
            "description": "Short URL",
            "required": true,
            "type": "string"
          },
          "projection": {
            "example": "ANALYTICS_TOP_STRINGS",
            "description": "Additional information to return.",
            "type": "string"
          },
          "fields": {
            "example": "analytics,created,id,kind,longUrl,status",
            "description": "Selector specifying which fields to include in a partial response",
            "type": "string"
          },
          "key": {
            "example": "AIzaSyAYVDlaoVs_GZw9JNvSclRWH_PEMKII6tc",
            "description": "Your api key",
            "whereToGet": {
              "url": "https://developers.google.com/url-shortener/v1/getting_started#APIKey"
            },
            "type": "string"
          }
        },
        "exits": {
          "invalidParameter": {
            "description": "Invalid field parameter passed"
          },
          "dailyLimitExceededUnreg": {
            "description": "Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup."
          },
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {};\n    // Mergind given objects\n    _.merge(params, inputs);\n    // Make API call\n    urlshortener.url.get(params, function(err, response) {\n      if (err) {\n        if (!err.code) {\n          return exits.error(err);\n        }\n        switch (err.code) {\n          case 400:\n            return exits.invalidParameter(err);\n            break;\n          case 403:\n            return exits.dailyLimitExceededUnreg(err);\n            break;\n          default:\n            return exits.error(err);\n            break;\n        }\n      }\n      return exits.success(response);\n    });\n  ",
        "environment": [],
        "extendedDescription": "You can call this method to expand any goo.gl short URL. For example, to expand http://goo.gl/fbsS to narmal URL",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisurlshortener/url-get",
        "docsUrl": "http://node-machine.org/machinepack-googleapisurlshortener/url-get",
        "defaultExit": null,
        "machinepack": 123,
        "id": 546,
        "createdAt": "2015-05-29T18:49:48.000Z",
        "updatedAt": "2015-05-31T04:39:42.000Z"
      },
      {
        "identity": "url-insert",
        "variableName": "urlInsert",
        "friendlyName": "URL insert",
        "cacheable": true,
        "sync": false,
        "description": "Create a short URL from given long version",
        "inputs": {
          "longUrl": {
            "example": "https://www.google.com",
            "description": "",
            "type": "string"
          },
          "analitics": {
            "typeclass": "dictionary",
            "description": "",
            "type": "dictionary"
          },
          "id": {
            "example": "someUniqId",
            "description": "id is the short URL that expands to the long URL you provided. If your request includes an auth token, then this URL will be unique. If not, then it might be reused from a previous request to shorten the same URL.",
            "type": "string"
          },
          "kind": {
            "example": "urlshortener#url",
            "description": "https://developers.google.com/url-shortener/v1/url/insert",
            "type": "string"
          },
          "status": {
            "example": "SomeStatus",
            "description": "https://developers.google.com/url-shortener/v1/url/insert",
            "type": "string"
          },
          "created": {
            "example": "1605-11-05T00:00:00.000Z",
            "description": "https://developers.google.com/url-shortener/v1/url/insert",
            "type": "string"
          },
          "fields": {
            "example": "analytics,created,id,kind,longUrl,status",
            "description": "Selector specifying which fields to include in a partial response",
            "type": "string"
          },
          "key": {
            "example": "AIzaSyAYVDlaoVs_GZw9JNvSclRWH_PEMKII6tc",
            "description": "Your api key",
            "whereToGet": {
              "url": "https://developers.google.com/url-shortener/v1/getting_started#APIKey"
            },
            "type": "string"
          }
        },
        "exits": {
          "invalidParameter": {
            "description": "Invalid field parameter passed"
          },
          "dailyLimitExceededUnreg": {
            "description": "Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup."
          },
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {\n      resource: {}\n    };\n    var inputParams = _.clone(inputs);\n    if (inputParams.fields && inputParams.fields.length > 0) {\n      params.fields = inputParams.fields;\n      delete inputParams.fields; // Have to remove this\n    }\n    // Check and add key\n    if (inputParams.key && inputParams.key.length > 0) {\n      params.key = inputParams.key;\n      delete inputParams.key;\n    }\n    _.merge(params.resource, inputParams);\n    urlshortener.url.insert(params, function(err, response) {\n      if (err) {\n        if (!err.code) {\n          return exits.errro(err);\n        }\n        switch(err.code) {\n          case 400:\n            return exits.invalidParameter(err);\n            break;\n          case 403:\n            return exits.dailyLimitExceededUnreg(err);\n            break;\n          default:\n              return exits.error(err);\n            break;\n        }\n      }\n      return exits.success(response);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisurlshortener/url-insert",
        "docsUrl": "http://node-machine.org/machinepack-googleapisurlshortener/url-insert",
        "defaultExit": null,
        "machinepack": 123,
        "id": 547,
        "createdAt": "2015-05-29T18:49:48.000Z",
        "updatedAt": "2015-05-31T04:39:42.000Z"
      },
      {
        "identity": "url-list",
        "variableName": "urlList",
        "friendlyName": "URL list",
        "cacheable": true,
        "sync": false,
        "description": "REQUIRED AUTH ! The url.list method retrieves a list of URLs shortened by the authenticated user.",
        "inputs": {
          "key": {
            "example": "AIzaSyAYVDlaoVs_GZw9JNvSclRWH_PEMKII6tc",
            "description": "Your API key",
            "required": true,
            "type": "string"
          },
          "projection": {
            "example": "ANALYTICS_CLICKS",
            "description": "Additional information to return. Supporting only (ANALYTICS_CLICKS | FULL)",
            "type": "string"
          },
          "start-token": {
            "example": "nextPageToken",
            "description": "The index into the paginated list (using the start-token query parameter). To request successive pages of results, set the start-token parameter to the current result's nextPageToken value.",
            "type": "string"
          }
        },
        "exits": {
          "unauthorized": {
            "description": "Authorization error. Login required."
          },
          "invalidParameter": {
            "description": "Invalid field parameter passed"
          },
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var params = {};\n    // Mergind given objects\n    _.merge(params, inputs);\n    // Make API call\n    urlshortener.url.list(params, function(err, response) {\n      if (err) {\n        console.log(err);\n        if (!err.code) {\n          return exits.error(err);\n        }\n        switch (err.code) {\n          case 401:\n            return exits.unauthorized(err);\n            break;\n          case 400:\n            return exits.invalidParameter(err);\n            break;\n          default:\n            return exits.error(err);\n            break;\n        }\n      }\n      return exits.success(response);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisurlshortener/url-list",
        "docsUrl": "http://node-machine.org/machinepack-googleapisurlshortener/url-list",
        "defaultExit": null,
        "machinepack": 123,
        "id": 548,
        "createdAt": "2015-05-29T20:19:57.000Z",
        "updatedAt": "2015-05-31T04:39:42.000Z"
      }
    ],
    "identity": "machinepack-googleapisurlshortener",
    "version": "0.1.4",
    "latestVersionPublishedAt": "2015-05-31T00:00:00.000Z",
    "variableName": "GoogleAPIsURLShortener",
    "friendlyName": "Google APIs URL Shortener",
    "description": "API will have several methods to work with Google URL Shortener",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-googleapisurlshortener",
    "docsUrl": "http://node-machine.org/machinepack-googleapisurlshortener",
    "npmUrl": "http://npmjs.org/package/machinepack-googleapisurlshortener",
    "npmPackageName": "machinepack-googleapisurlshortener",
    "githubUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisurlshortener/",
    "sourceUrl": "http://github.com/konstantinzolotarev/machinepack-googleapisurlshortener/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "googleapis",
        "semverRange": "^2.0.4"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "kos",
        "email": "konstantin.zolotarev@gmail.com"
      }
    ],
    "id": 123,
    "createdAt": "2015-05-29T18:49:48.000Z",
    "updatedAt": "2015-05-31T04:39:42.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-image-url",
        "variableName": "getImageUrl",
        "friendlyName": "Get image URL",
        "cacheable": null,
        "sync": true,
        "description": "Build the URL of a gravatar image for a particular email address.",
        "inputs": {
          "emailAddress": {
            "example": "john@doe-enterprises.com",
            "description": "The email address of the gravatar.",
            "required": true,
            "type": "string"
          },
          "gravatarSize": {
            "example": 400,
            "description": "The height/width of the gravatar in pixels (between 1 and 2048)",
            "type": "number"
          },
          "defaultImage": {
            "example": "http://example.com/images/avatar.jpg",
            "description": "The image to use if a Gravatar image cannot be found.",
            "extendedDescription": "Useful since it won't be clear whether a Gravatar cannot be found until after the image URL is requested.  Don't forget to include the \"http://\" or \"https://\".",
            "type": "string"
          },
          "rating": {
            "example": "g",
            "description": "The rating level that's acceptable for the gravatar image (\"G\", \"PG\", \"R\", etc.)",
            "type": "string"
          },
          "useHttps": {
            "example": true,
            "description": "Whether to build a secure URL (\"https://\".) Otherwise, \"http://\" will be used.",
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "encodingFailed": {
            "description": "Could not encode/stringify query parameters for the Gravatar URL."
          },
          "success": {
            "description": "OK.",
            "example": "http://www.gravatar.com/avatar/f23423d234038345345sf84f7023421",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    // Depedencies\n    var Crypto = require('crypto');\n    var qs = require('querystring');\n    var _ = require('lodash');\n\n    // Strip out any keys which don't have a truthy value so as not to confuse `qs.stringify`.\n    var qsParams = _.pick({\n\n      // \"s\" stands for gravatar \"size\"\n      // (cast to string if exists)\n      s: inputs.gravatarSize ? inputs.gravatarSize+'' : undefined,\n\n      // \"d\" stands for \"default image\".\n      // If defaultImage src was provided, encode it for use in a URI\n      d: inputs.defaultImage ? inputs.defaultImage : undefined,\n\n      // Removed support for \"forceDefaultImage\"\n      // if this is important for some reason, it can be brought back.\n      // However it seems more confusing than anything else.\n      //\n      // \"f\" stands for \"force default image\".\n      // Set up the \"y\" that Gravatar expects to indicate we're \"forcing\" the default image.\n      // f: inputs.forceDefaultImage ? 'y' : undefined,\n\n      // \"rating\" refers to \"G\", \"PG\", \"R\", \"X\", etc.\n      rating: inputs.rating || undefined\n    }, function _isTruthy(val) { return !!val; });\n\n\n    // Stringify the querystring parameters that will be sent to gravatar\n    var stringifiedQsParams;\n    try {\n      stringifiedQsParams = qs.stringify(qsParams);\n    }\n    catch (e){\n      return exits.encodingFailed(e);\n    }\n\n    // Build the gravatar hash from the provided email address and compute the base url\n    var gravatarHash = Crypto.createHash('md5').update(inputs.emailAddress.replace(/\\s/,'').toLowerCase().trim()).digest('hex');\n    var gravatarBaseUrl = 'www.gravatar.com/avatar/' + gravatarHash + '?' + stringifiedQsParams;\n\n    if (inputs.useHttps) {\n      return exits.success('https://'+gravatarBaseUrl);\n    }\n    // Otherwise just use `http://`\n    return exits.success('http://'+gravatarBaseUrl);\n\n  ",
        "environment": [],
        "extendedDescription": "This encrypts the provided email address and returns a properly formatted URL which points to an image on Gravatar.  This can then be used as the `src` in an `<img>` tag, etc.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-gravatar/get-image-url",
        "docsUrl": "http://node-machine.org/machinepack-gravatar/get-image-url",
        "defaultExit": "success",
        "machinepack": 10,
        "id": 43,
        "createdAt": "2015-02-16T23:51:12.000Z",
        "updatedAt": "2015-06-30T17:19:41.000Z"
      }
    ],
    "identity": "machinepack-gravatar",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Gravatar",
    "friendlyName": "Gravatar",
    "description": "Communicate with the Gravatar api to get a gravatar image.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-gravatar",
    "docsUrl": "http://node-machine.org/machinepack-gravatar",
    "npmUrl": "http://npmjs.org/package/machinepack-gravatar",
    "npmPackageName": "machinepack-gravatar",
    "githubUrl": "http://github.com/balderdashy/machinepack-gravatar/",
    "sourceUrl": "http://github.com/balderdashy/machinepack-gravatar/",
    "testsUrl": "https://travis-ci.org/balderdashy/machinepack-gravatar",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 10,
    "createdAt": "2015-02-16T23:51:12.000Z",
    "updatedAt": "2015-06-30T17:19:41.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "download-song-by-name-and-artist",
        "variableName": "downloadSongByNameAndArtist",
        "friendlyName": "Download song by name and artist",
        "cacheable": null,
        "sync": null,
        "description": "Download a song, and save it into a folder, by name and artist",
        "inputs": {
          "name": {
            "example": "Bohemian Rhapsody",
            "description": "Song name, not case sensitive",
            "required": true,
            "type": "string"
          },
          "artist": {
            "example": "Queen",
            "description": "Artist name, not case sensitive",
            "required": true,
            "type": "string"
          },
          "path": {
            "example": "/www/music/userId/coolFolder",
            "description": "ABSOLUTE Path to the folder where the song will be saved, if the folder doesn't exist it will be created",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Song not found, try with another name/artist"
          },
          "downloadLimitExceded": {
            "description": "It looks like we are banned by Grooveshark, please try again in a few hours"
          },
          "success": {
            "description": "OK.",
            "example": "/www/music/userId/coolFolder/Bohemian Rhapsody.mp3",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var GS = require('grooveshark-downloader');\n    var async = require('async');\n    var fs = require('fs');\n    var request = require('request');\n\n    GS.Tinysong.getSongInfo(inputs.name, inputs.artist, function(err, info) {\n      if(err) return exits.error(err);\n\n      if(!info) return exits.notFound();\n\n      GS.Grooveshark.getStreamingUrl(info.SongID, function(err, streamUrl) {\n        if(err){\n          if(err === 'banned') return exits.downloadLimitExceded();\n          return exits.error(err);\n        }\n\n        if(!fs.existsSync(inputs.path)){\n          var mkdirp = require('mkdirp');\n          mkdirp.sync(inputs.path);\n        }\n\n        var songPath = inputs.path + '/' + info.SongName + '.mp3';\n\n        request\n          .get(streamUrl)\n           .on('error', function(err){\n             return exits.error(err);\n           })\n           .on('end', function(){\n             return exits.success(songPath);\n           })\n           .pipe(fs.createWriteStream(songPath));\n      });\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-grooveshark/download-song-by-name-and-artist",
        "docsUrl": "http://node-machine.org/machinepack-grooveshark/download-song-by-name-and-artist",
        "defaultExit": "success",
        "machinepack": 48,
        "id": 196,
        "createdAt": "2015-03-09T15:49:42.000Z",
        "updatedAt": "2015-03-09T18:59:25.000Z"
      },
      {
        "identity": "download-playlist",
        "variableName": "downloadPlaylist",
        "friendlyName": "Download songs by playlist id",
        "cacheable": null,
        "sync": null,
        "description": "Download all the song, and save it into a folder, by playlist ID",
        "inputs": {
          "id": {
            "example": "104314395",
            "description": "E.g: http://grooveshark.com/#!/playlist/Powerexplosive/104314395 the last number, 104314395, is the ID",
            "required": true,
            "type": "string"
          },
          "path": {
            "example": "/www/music/userId/coolFolder",
            "description": " ABSOLUTE Path to the folder where the songs will be saved, if the folder doesn't exist it will be created",
            "required": true,
            "type": "string"
          },
          "overwrite": {
            "example": false,
            "description": "Defaults false, if this is true if a song name is repeated it will overwrite the old song",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Playlist not found please check if the id is correct"
          },
          "downloadLimitExceded": {
            "description": "It looks like we are banned by Grooveshark, please try again in a few hours"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var GS = require('grooveshark-downloader');\n\n    if(!inputs.overwrite) inputs.overwrite = false;\n\n    GS.Grooveshark.getPlaylistSongsList(inputs.id, function(err, res, body){\n      if(err) return exits.error(err);\n\n      var parsedBody = {};\n      try{\n        parsedBody = JSON.parse(body);\n      }catch(e){\n        return exits.error('Error parsing body: ', e);\n      }\n\n      if(parsedBody.result.PlaylistID === 0) return exits.notFound();\n\n      var async = require('async');\n      var fs = require('fs');\n\n      if(!fs.existsSync(inputs.path)){\n        var mkdirp = require('mkdirp');\n        mkdirp.sync(inputs.path);\n      }\n\n      async.mapSeries(parsedBody.result.Songs,\n        function downloadSong(song, next) {\n\n          var request = require('request');\n\n          var fileUrl = inputs.path + '/' + song.Name + '.mp3';\n\n          if(fs.existsSync(fileUrl) && !inputs.overwrite) return next();\n\n          GS.Grooveshark.getStreamingUrl(song.SongID, function(err, streamUrl) {\n            if(err){\n              if(err === 'banned') return exits.downloadLimitExceded();\n              return next(err);\n            }\n\n            request\n              .get(streamUrl)\n              .on('end', function downloadCompleted() {\n                next();\n              })\n              .on('error', function errorDownloading(err) {\n                next(err);\n              }).pipe(fs.createWriteStream(fileUrl));\n\n           });\n\n        }, function playlistDownloaded (err) {\n          if(err) return exits.error(err);\n          return exits.success();\n        }\n      );\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "DANGER: This method goes really fast downloading songs, but you can be banned by Grooveshark for few hours, for a safer, but slower download method, please use downloadPlaylistSafe. More or less with this method you can download 40 songs before beeing banned, not bad!",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-grooveshark/download-playlist",
        "docsUrl": "http://node-machine.org/machinepack-grooveshark/download-playlist",
        "defaultExit": "success",
        "machinepack": 48,
        "id": 197,
        "createdAt": "2015-03-09T17:09:35.000Z",
        "updatedAt": "2015-03-09T18:59:25.000Z"
      },
      {
        "identity": "download-playlist-save",
        "variableName": "downloadPlaylistSave",
        "friendlyName": "Download songs by playlist id avoiding temporal Grooveshark blacklist",
        "cacheable": null,
        "sync": null,
        "description": "Download all the song, and save it into a folder, by playlist ID",
        "inputs": {
          "id": {
            "example": "104314395",
            "description": "E.g: http://grooveshark.com/#!/playlist/Powerexplosive/104314395 the last number, 104314395, is the ID",
            "required": true,
            "type": "string"
          },
          "path": {
            "example": "/www/music/userId/coolFolder",
            "description": " ABSOLUTE Path to the folder where the songs will be saved, if the folder doesn't exist it will be created",
            "required": true,
            "type": "string"
          },
          "overwrite": {
            "example": false,
            "description": "Defaults false, if this is true if a song name is repeated it will overwrite the old song",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Playlist not found please check if the id is correct"
          },
          "downloadLimitExceded": {
            "description": "It looks like we are banned by Grooveshark, please try again in a few hours"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var GS = require('grooveshark-downloader');\n\n    if(!inputs.overwrite) inputs.overwrite = false;\n\n    GS.Grooveshark.getPlaylistSongsList(inputs.id, function(err, res, body){\n      if(err) return exits.error(err);\n\n      var parsedBody = {};\n      try{\n        parsedBody = JSON.parse(body);\n      }catch(e){\n        return exits.error('Error parsing body: ', e);\n      }\n\n      if(parsedBody.result.PlaylistID === 0) return exits.notFound();\n\n      var async = require('async');\n      var fs = require('fs');\n\n      if(!fs.existsSync(inputs.path)){\n        var mkdirp = require('mkdirp');\n        mkdirp.sync(inputs.path);\n      }\n\n      async.mapSeries(parsedBody.result.Songs,\n        function downloadSong(song, next) {\n\n          var request = require('request');\n\n          var fileUrl = inputs.path + '/' + song.Name + '.mp3';\n\n          if(fs.existsSync(fileUrl) && !inputs.overwrite) return next();\n\n          GS.Grooveshark.getStreamingUrl(song.SongID, function(err, streamUrl) {\n            if(err){\n              if(err === 'banned') return exits.downloadLimitExceded();\n              return next(err);\n            }\n\n            request\n              .get(streamUrl)\n              .on('error', function errorDownloading(err) {\n                next(err);\n              }).pipe(fs.createWriteStream(fileUrl));\n\n              // Wait to simulate that you are listening the song :) AVOID BANNED!\n              var wait = 3 * 60 * 1000;\n              var estimateDuration = parseInt(song.EstimateDuration) * 1000;\n              if(!isNaN(estimateDuration)) wait = estimateDuration;\n              setTimeout(next, wait);\n\n           });\n\n        }, function playlistDownloaded (err) {\n          if(err) return exits.error(err);\n          return exits.success();\n        }\n      );\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This method is MUCH slower than .downloadPlaylist() method because it waits just downloaded song duration to go for the next one. Why? Just to dont be banned from Grooveshark for some few hours!",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-grooveshark/download-playlist-save",
        "docsUrl": "http://node-machine.org/machinepack-grooveshark/download-playlist-save",
        "defaultExit": "success",
        "machinepack": 48,
        "id": 198,
        "createdAt": "2015-03-09T17:19:25.000Z",
        "updatedAt": "2015-03-09T18:59:25.000Z"
      }
    ],
    "identity": "machinepack-grooveshark",
    "version": "0.2.0",
    "latestVersionPublishedAt": "2015-03-09T00:00:00.000Z",
    "variableName": "Grooveshark",
    "friendlyName": "Grooveshark",
    "description": "Download songs from playlists or by name from Grooveshark. NOT OFFICIAL API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-grooveshark",
    "docsUrl": "http://node-machine.org/machinepack-grooveshark",
    "npmUrl": "http://npmjs.org/package/machinepack-grooveshark",
    "npmPackageName": "machinepack-grooveshark",
    "githubUrl": "http://github.com/Josebaseba/machinepack-grooveshark/",
    "sourceUrl": "http://github.com/Josebaseba/machinepack-grooveshark/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "grooveshark-downloader",
        "semverRange": "^0.1.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "mkdirp",
        "semverRange": "^0.5.0"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      }
    ],
    "contributors": [
      {
        "name": "josebaseba",
        "email": "josebalega@gmail.com"
      }
    ],
    "id": 48,
    "createdAt": "2015-03-09T14:49:40.000Z",
    "updatedAt": "2015-03-09T18:59:25.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "submit",
        "variableName": "submit",
        "friendlyName": "Submit",
        "cacheable": null,
        "sync": null,
        "description": "Submit the source code for compilation",
        "inputs": {
          "apiKey": {
            "example": "AAAAAAAAAAAAAA",
            "description": "Your HackerRank API Key",
            "required": true,
            "type": "string"
          },
          "source": {
            "example": "using System;class MyClass{static void Main(string[] args) {System.Console.WriteLine(\"Hello World!\\n\");}}",
            "description": "source code, which needs to be compiled and run against the provided test cases.",
            "required": true,
            "type": "string"
          },
          "language": {
            "example": 9,
            "description": "The language key for the language, the submission is made in.Get lang key from http://api.hackerrank.com/checker/languages.json",
            "required": true,
            "type": "number"
          },
          "testcases": {
            "example": [],
            "description": "A valid JSON, which on parse should result in a list of strings.",
            "required": true,
            "type": "array"
          },
          "wait": {
            "example": true,
            "description": "if true , response will be sent after compilation and run.",
            "required": false,
            "type": "boolean"
          },
          "callbackUrl": {
            "example": "http://example.com/callback",
            "description": "A callback url, on which the submission response will be posted as a JSON string under `data` parameter.",
            "required": false,
            "type": "string"
          },
          "format": {
            "example": "json",
            "description": "must be either json or xml.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var querystring = require('querystring');\n    var http = require('http');\n\n    var data = querystring.stringify({\n      api_key: inputs.apiKey,\n      source: inputs.source,\n      lang: inputs.language,\n      testcases: JSON.stringify(inputs.testcases),\n      wait: inputs.wait,\n      callback_url: inputs.callbackUrl,\n      format: inputs.format\n    });\n\n    var options = {\n      hostname: 'api.hackerrank.com',\n      port: 80,\n      path: '/checker/submission.json',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Content-Length': data.length\n      }\n    };\n    var response = '';\n    var req = http.request(options, function (res) {\n      res.on('data', function (chunk) {\n        response += chunk.toString();\n      });\n      res.on('end', function () {\n        return exits.success(response.toString());\n      });\n      res.on('error', function (err) {\n        return exits.error(err);\n      });\n    });\n    req.on('error', function (err) {\n      return exists.error(err);\n    })\n    req.write(data);\n    req.end();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-hackerrank/submit",
        "docsUrl": "http://node-machine.org/machinepack-hackerrank/submit",
        "defaultExit": "success",
        "machinepack": 99,
        "id": 373,
        "createdAt": "2015-04-25T18:59:35.000Z",
        "updatedAt": "2015-06-24T19:39:41.000Z"
      },
      {
        "identity": "submit-file",
        "variableName": "submitFile",
        "friendlyName": "Submit file",
        "cacheable": null,
        "sync": null,
        "description": "Submit a source code file for compilation",
        "inputs": {
          "apiKey": {
            "example": "AAAAAAAAAAAAAA",
            "description": "Your HackerRank API Key",
            "required": true,
            "type": "string"
          },
          "filePath": {
            "example": "E:\\Source.cs",
            "description": "File path for the source code file",
            "required": true,
            "type": "string"
          },
          "language": {
            "example": 9,
            "description": "The language key for the language, the submission is made in.Get lang key from http://api.hackerrank.com/checker/languages.json",
            "required": true,
            "type": "number"
          },
          "testcases": {
            "example": [],
            "description": "A valid JSON, which on parse should result in a list of strings.",
            "required": true,
            "type": "array"
          },
          "wait": {
            "example": true,
            "description": "if true , response will be sent after compilation and run.",
            "required": false,
            "type": "boolean"
          },
          "callbackUrl": {
            "example": "http://example.com/callback",
            "description": "A callback url, on which the submission response will be posted as a JSON string under `data` parameter.",
            "required": false,
            "type": "string"
          },
          "format": {
            "example": "json",
            "description": "must be either json or xml.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var fs = require('fs');\n\n    fs.readFile(inputs.filePath , { encoding : 'utf8'} , function(err , data ){\n      if(err)\n        return exits.error(err);\n      else \n      {\n        var submit = require(\"machine\").build(require('./submit'));\n        submit({\n          apiKey : inputs.apiKey ,\n          source : data ,\n          language : inputs.language ,\n          testcases : inputs.testcases , \n          wait : inputs.wait ,\n          callbackUrl : inputs.callbackUrl ,\n          format : inputs.format\n        }).exec({\n          error : function(err){\n            return exits.error(err);\n          } ,\n          success : function(result){\n            return exits.success(result);\n          }\n        })\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-hackerrank/submit-file",
        "docsUrl": "http://node-machine.org/machinepack-hackerrank/submit-file",
        "defaultExit": "success",
        "machinepack": 99,
        "id": 374,
        "createdAt": "2015-04-25T18:59:35.000Z",
        "updatedAt": "2015-06-24T19:39:41.000Z"
      }
    ],
    "identity": "machinepack-hackerrank",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2015-06-24T00:00:00.000Z",
    "variableName": "HackerRank",
    "friendlyName": "HackerRank",
    "description": "Communicate with HackerRank API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-hackerrank",
    "docsUrl": "http://node-machine.org/machinepack-hackerrank",
    "npmUrl": "http://npmjs.org/package/machinepack-hackerrank",
    "npmPackageName": "machinepack-hackerrank",
    "githubUrl": "http://github.com/scriptnull/machinepack-hackerrank/",
    "sourceUrl": "http://github.com/scriptnull/machinepack-hackerrank/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Vishnu Bharathi",
        "email": "vishnubharathi04@gmail.com"
      },
      {
        "name": "scriptnull",
        "email": "vishnubharathi04@gmail.com"
      }
    ],
    "id": 99,
    "createdAt": "2015-04-25T18:59:35.000Z",
    "updatedAt": "2015-06-24T19:39:41.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-request-header",
        "variableName": "getRequestHeader",
        "friendlyName": "Get request header",
        "cacheable": true,
        "sync": true,
        "description": "Get the value of the specified header from the current incoming request.",
        "inputs": {
          "header": {
            "description": "The name of the request header.",
            "example": "accept",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "text/javascript",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    return exits.success(env.req.get(inputs.header));\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": "Note that header names are case-insensitive, and that this machine treats both \"referrer\" and \"referer\" as synonyms, because they are interchangeable in some HTTP implementations.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-headers/get-request-header",
        "docsUrl": "http://node-machine.org/machinepack-headers/get-request-header",
        "defaultExit": "success",
        "machinepack": 60,
        "id": 236,
        "createdAt": "2015-03-17T05:59:40.000Z",
        "updatedAt": "2015-06-30T15:49:51.000Z"
      },
      {
        "identity": "set-response-header",
        "variableName": "setResponseHeader",
        "friendlyName": "Set response header",
        "cacheable": null,
        "sync": true,
        "description": "Set an eventual value for the specified header when the current outgoing response is sent.",
        "inputs": {
          "header": {
            "description": "The name of the response header.",
            "example": "content-type",
            "required": true,
            "type": "string"
          },
          "value": {
            "description": "The string value for the response header.",
            "example": "application/json",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    env.res.set(inputs.header, inputs.value);\n    return exits.success();\n  ",
        "environment": [
          "res"
        ],
        "extendedDescription": "Note that header names are case-insensitive.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-headers/set-response-header",
        "docsUrl": "http://node-machine.org/machinepack-headers/set-response-header",
        "defaultExit": "success",
        "machinepack": 60,
        "id": 237,
        "createdAt": "2015-03-17T05:59:40.000Z",
        "updatedAt": "2015-06-30T15:49:51.000Z"
      }
    ],
    "identity": "machinepack-headers",
    "version": "0.3.2",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Headers",
    "friendlyName": "Headers",
    "description": "Work with HTTP /vHTTP request and response headers.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-headers",
    "docsUrl": "http://node-machine.org/machinepack-headers",
    "npmUrl": "http://npmjs.org/package/machinepack-headers",
    "npmPackageName": "machinepack-headers",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 60,
    "createdAt": "2015-03-17T05:59:40.000Z",
    "updatedAt": "2015-06-30T15:49:51.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "say-hello",
        "variableName": "sayHello",
        "friendlyName": "Say hello",
        "cacheable": null,
        "sync": null,
        "description": "Log a hello message with a generated secret code and other information",
        "inputs": {
          "name": {
            "example": "John",
            "description": "The name of the person that will be sent the hello message.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "numLettersInName": 4,
              "secretCode": "e9ec627220bc9e8ca66f916b7fba92f3"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n\n    // ...\n\n\n    // Generate a secret code.\n    var secretCode = ''+(Math.random());\n\n    // Get the number of characters in the provided `name`.\n    var myLength = inputs.name.length;\n\n    // Log the provided name and the secret code.\n    console.log(\"Hello %s, your secret code is %s\", inputs.name, secretCode);\n\n    // Return an object containing myLength and the secretCode\n    return exits.success({\n      numLettersInName: myLength,\n      secretCode: secretCode\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-helloworld/say-hello",
        "docsUrl": "http://node-machine.org/machinepack-helloworld/say-hello",
        "defaultExit": "success",
        "machinepack": 173,
        "id": 795,
        "createdAt": "2016-04-27T12:59:45.000Z",
        "updatedAt": "2016-04-27T12:59:45.000Z"
      }
    ],
    "identity": "machinepack-helloworld",
    "version": "2.0.0",
    "latestVersionPublishedAt": "2016-04-27T00:00:00.000Z",
    "variableName": "Helloworld",
    "friendlyName": "Helloworld",
    "description": "Sample machine pack project",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-helloworld",
    "docsUrl": "http://node-machine.org/machinepack-helloworld",
    "npmUrl": "http://npmjs.org/package/machinepack-helloworld",
    "npmPackageName": "machinepack-helloworld",
    "githubUrl": "http://github.com/gokul-toobler/machinepack-helloworld/",
    "sourceUrl": "http://github.com/gokul-toobler/machinepack-helloworld/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "gokult",
        "email": "gokultmail@gmail.com"
      }
    ],
    "id": 173,
    "createdAt": "2016-04-27T12:59:45.000Z",
    "updatedAt": "2016-04-27T12:59:45.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "add-app-setup",
        "variableName": "addAppSetup",
        "friendlyName": "Add app setup",
        "cacheable": null,
        "sync": null,
        "description": "Add an app setup for an account.",
        "inputs": {
          "apiToken": {
            "example": "abc12421-1234-abdc-5343-ae4adf123fea4",
            "description": "Your Heroku API token",
            "whereToGet": {
              "url": "https://devcenter.heroku.com/articles/authentication#authenticating-with-the-api-token",
              "description": "Copy the API key from your Heroku dashboard on the \"Manage Account\" page."
            },
            "required": true,
            "type": "string"
          },
          "sourceUrl": {
            "example": "https://example.com/source.tgz?token=xyz",
            "description": "URL of gzipped tarball of source code containing app.json manifest file",
            "required": true,
            "type": "string"
          },
          "environment": {
            "typeclass": "dictionary",
            "description": "Environment variable overrides to use in setting up the app.",
            "type": "dictionary"
          },
          "name": {
            "example": "My awesome app",
            "description": "Unique name for the app.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Require the Http pack so we can make requests\n    var Http = require('machinepack-http');\n\n    // Set the URL to get the source tarball from\n    var params = {\n      source_blob: {\n        url: inputs.sourceUrl\n      }\n    };\n\n    // Set the app name if provided\n    if (inputs.name) {\n      params.app = {\n        name: inputs.name\n      };\n    }\n\n    // Set the env overrides if provided\n    if (inputs.environment) {\n      params.overrides = {\n        env: inputs.environment\n      };\n    }\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      url: 'app-setups',\n      baseUrl: 'https://api.heroku.com/',\n      method: 'post',\n      params: params,\n      headers: {\n        Accept: 'application/vnd.heroku+json; version=3',\n        Authorization: 'Bearer ' + inputs.apiToken\n      },\n    }).exec({\n      success: function(result) {\n        return exits.success(result);\n      },\n      // An unexpected error occurred.\n      error: exits.error,\n      // 404 status code returned from server\n      notFound: exits.error,\n      // 400 status code returned from server\n      badRequest: exits.error,\n      // 403 status code returned from server\n      forbidden: exits.error,\n      // 401 status code returned from server\n      unauthorized: exits.error,\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: exits.error,\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: exits.error\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-heroku/add-app-setup",
        "docsUrl": "http://node-machine.org/machinepack-heroku/add-app-setup",
        "defaultExit": "success",
        "machinepack": 38,
        "id": 160,
        "createdAt": "2015-02-26T16:39:25.000Z",
        "updatedAt": "2015-07-01T18:00:18.000Z"
      },
      {
        "identity": "list-apps",
        "variableName": "listApps",
        "friendlyName": "List apps",
        "cacheable": null,
        "sync": null,
        "description": "List all apps for an account.",
        "inputs": {
          "apiToken": {
            "example": "abc12421-1234-abdc-5343-ae4adf123fea4",
            "description": "Your Heroku API token",
            "whereToGet": {
              "url": "https://devcenter.heroku.com/articles/authentication#authenticating-with-the-api-token",
              "description": "Copy the API key from your Heroku dashboard on the \"Manage Account\" page."
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Require the Http pack so we can make requests\n    var Http = require('machinepack-http');\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      url: 'apps',\n      baseUrl: 'https://api.heroku.com/',\n      method: 'get',\n      params: {},\n      headers: {\n        Accept: 'application/vnd.heroku+json; version=3',\n        Authorization: 'Bearer ' + inputs.apiToken\n      },\n    }).exec({\n      success: function(result) {\n        return exits.success(result);\n      },\n      // An unexpected error occurred.\n      error: exits.error,\n      // 404 status code returned from server\n      notFound: exits.error,\n      // 400 status code returned from server\n      badRequest: exits.error,\n      // 403 status code returned from server\n      forbidden: exits.error,\n      // 401 status code returned from server\n      unauthorized: exits.error,\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: exits.error,\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: exits.error\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-heroku/list-apps",
        "docsUrl": "http://node-machine.org/machinepack-heroku/list-apps",
        "defaultExit": "success",
        "machinepack": 38,
        "id": 161,
        "createdAt": "2015-02-26T16:39:25.000Z",
        "updatedAt": "2015-07-01T18:00:18.000Z"
      },
      {
        "identity": "add-dyno",
        "variableName": "addDyno",
        "friendlyName": "Add dyno",
        "cacheable": null,
        "sync": null,
        "description": "Add a dyno to an existing app.",
        "inputs": {
          "apiToken": {
            "example": "abc12421-1234-abdc-5343-ae4adf123fea4",
            "description": "Your Heroku API token",
            "whereToGet": {
              "url": "https://devcenter.heroku.com/articles/authentication#authenticating-with-the-api-token",
              "description": "Copy the API key from your Heroku dashboard on the \"Manage Account\" page."
            },
            "required": true,
            "type": "string"
          },
          "app": {
            "example": "app-123",
            "description": "Unique ID or name of your Heroku app.",
            "required": true,
            "type": "string"
          },
          "command": {
            "example": "bash",
            "description": "Command used to start this process",
            "type": "string"
          },
          "environment": {
            "typeclass": "dictionary",
            "description": "Environment variable overrides to use in setting up the app.",
            "type": "dictionary"
          },
          "size": {
            "example": "1X",
            "description": "Number of dynos to spin up.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    // Require the Http pack so we can make requests\n    var Http = require('machinepack-http');\n\n    // Set the dyno command and size if provided,\n    // or use reasonable defaults.\n    var params = {\n      command: inputs.command || 'bash',\n      size: inputs.size || '1X'\n    };\n\n    // Set the env overrides if provided\n    if (inputs.environment) {\n      params.overrides = {\n        env: inputs.environment\n      };\n    }\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      url: 'apps/' + inputs.app + '/dynos',\n      baseUrl: 'https://api.heroku.com/',\n      method: 'post',\n      params: params,\n      headers: {\n        Accept: 'application/vnd.heroku+json; version=3',\n        Authorization: 'Bearer ' + inputs.apiToken\n      },\n    }).exec({\n      success: function(result) {\n        return exits.success(result);\n      },\n      // An unexpected error occurred.\n      error: exits.error,\n      // 404 status code returned from server\n      notFound: exits.error,\n      // 400 status code returned from server\n      badRequest: exits.error,\n      // 403 status code returned from server\n      forbidden: exits.error,\n      // 401 status code returned from server\n      unauthorized: exits.error,\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: exits.error,\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: exits.error\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-heroku/add-dyno",
        "docsUrl": "http://node-machine.org/machinepack-heroku/add-dyno",
        "defaultExit": "success",
        "machinepack": 38,
        "id": 162,
        "createdAt": "2015-02-26T16:39:25.000Z",
        "updatedAt": "2015-07-01T18:00:18.000Z"
      }
    ],
    "identity": "machinepack-heroku",
    "version": "0.2.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Heroku",
    "friendlyName": "Heroku",
    "description": "Work with the Heroku API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-heroku",
    "docsUrl": "http://node-machine.org/machinepack-heroku",
    "npmUrl": "http://npmjs.org/package/machinepack-heroku",
    "npmPackageName": "machinepack-heroku",
    "githubUrl": "http://github.com/sgress454/machinepack-heroku/",
    "sourceUrl": "http://github.com/sgress454/machinepack-heroku/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 38,
    "createdAt": "2015-02-26T16:39:25.000Z",
    "updatedAt": "2015-07-01T18:00:18.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "fetch-webpage-html",
        "variableName": "fetchWebpageHtml",
        "friendlyName": "Fetch webpage HTML",
        "cacheable": null,
        "sync": null,
        "description": "Fetch the HTML from a web page.",
        "inputs": {
          "url": {
            "friendlyName": "URL",
            "example": "http://www.example.com",
            "description": "The URL of the web page to fetched",
            "extendedDescription": "This should include the hostname and a protocol like \"http://\"",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "<html><body><h1>Hello world</h1></body></html>",
            "variableName": "html",
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "notFound": {
            "description": "404 status code returned from server",
            "example": {
              "status": 404,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "badRequest": {
            "description": "400 status code returned from server",
            "example": {
              "status": 400,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "forbidden": {
            "description": "403 status code returned from server",
            "example": {
              "status": 403,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "unauthorized": {
            "description": "401 status code returned from server",
            "example": {
              "status": 401,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "serverError": {
            "description": "5xx status code returned from server (this usually means something went wrong on the other end)",
            "example": {
              "status": 503,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "requestFailed": {
            "description": "Unexpected connection error: could not send or receive HTTP request.",
            "extendedDescription": "Could not send HTTP request; perhaps network connection was lost?"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Machine = require('machine');\n\n    var Urls = require('machinepack-urls');\n\n    // Make sure this is a fully-qualified URL, and coerce it if necessary.\n    var url = Urls.resolve({url: inputs.url}).execSync();\n\n    Machine.build(require('./send-http-request')).configure({\n      method: 'get',\n      url: url\n    }).exec({\n      error: exits.error,\n      requestFailed: exits.requestFailed,\n      badRequest: exits.badRequest,\n      unauthorized: exits.unauthorized,\n      forbidden: exits.forbidden,\n      notFound: exits.notFound,\n      serverError: exits.serverError,\n      success: function (response){\n        var html = response.body;\n        return exits.success(html);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-http/fetch-webpage-html",
        "docsUrl": "http://node-machine.org/machinepack-http/fetch-webpage-html",
        "defaultExit": "success",
        "machinepack": 11,
        "id": 44,
        "createdAt": "2015-02-16T23:51:14.000Z",
        "updatedAt": "2016-02-23T14:59:31.000Z"
      },
      {
        "identity": "send-http-request",
        "variableName": "sendHttpRequest",
        "friendlyName": "Send HTTP request",
        "cacheable": null,
        "sync": null,
        "description": "Send an HTTP request and receive the response.",
        "inputs": {
          "url": {
            "description": "The URL where the request should be sent.",
            "extendedDescription": "If `baseUrl` is specified, then `url` should be the \"path\" part of the URL-- e.g. everything after and including the leading slash (\"/users/7/friends/search\")",
            "example": "/pets/18",
            "required": true,
            "type": "string"
          },
          "baseUrl": {
            "description": "The base URL, including the hostname and a protocol like \"http://\"",
            "example": "http://google.com",
            "type": "string"
          },
          "method": {
            "description": "The HTTP method or \"verb\"",
            "example": "get",
            "type": "string"
          },
          "params": {
            "description": "Parameters to include in the request (e.g. {\"email\": \"fooberbash.foo\"})",
            "extendedDescription": "These values will be either encoded in the querystring or included as JSON in the body of the request based on the request method (GET/POST/etc.)",
            "example": {},
            "type": "object"
          },
          "body": {
            "description": "Body of the request (for PUT and POST)",
            "extendedDescription": "This will override the value of the \"params\" input, if any",
            "example": "*",
            "type": "string"
          },
          "formData": {
            "description": "A boolean value indicating if the params should be sent as url encoded form data. If false JSON will be used.",
            "example": false,
            "type": "boolean"
          },
          "headers": {
            "description": "Headers to include in the request (e.g. {\"Content-Type\": \"application/json\"})",
            "example": {},
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 201,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isDefault": true,
            "type": "object"
          },
          "notFound": {
            "description": "404 status code returned from server",
            "example": {
              "status": 404,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "badRequest": {
            "description": "400 status code returned from server",
            "example": {
              "status": 400,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "forbidden": {
            "description": "403 status code returned from server",
            "example": {
              "status": 403,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "unauthorized": {
            "description": "401 status code returned from server",
            "example": {
              "status": 401,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "serverError": {
            "description": "5xx status code returned from server (this usually means something went wrong on the other end)",
            "example": {
              "status": 503,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "type": "object"
          },
          "requestFailed": {
            "description": "Unexpected connection error: could not send or receive HTTP request.",
            "extendedDescription": "Could not send HTTP request; perhaps network connection was lost?"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Module dependencies\n    var util = require('util');\n    var request = require('request');\n    var _ = require('lodash');\n    var Urls = require('machinepack-urls');\n\n\n    // Default to a GET request\n    inputs.method = (inputs.method||'get').toLowerCase();\n\n    if (inputs.baseUrl) {\n      // Strip trailing slash(es)\n      inputs.baseUrl = inputs.baseUrl.replace(/\\/*$/, '');\n\n      // and ensure this is a fully qualified URL w/ the \"http://\" part\n      // (if not, attempt to coerce)\n      inputs.baseUrl = Urls.resolve({url:inputs.baseUrl}).execSync();\n\n      // If a `baseUrl` was provided then `url` should just be the path part\n      // of the URL, so it should start w/ a leading slash\n      // (if not, attempt to coerce)\n      inputs.url = inputs.url.replace(/^([^\\/])/,'/$1');\n    }\n    // If no baseUrl was specified:\n    else {\n      // Coerce it to an empty string\n      inputs.baseUrl = '';\n\n      // Then ensure `url` is fully qualified (w/ the \"http://\" and hostname part)\n      inputs.url = Urls.resolve({url:inputs.url}).execSync();\n    }\n\n\n    // Send request\n    request((function build_options_for_mikeal_request(){\n\n      if (inputs.method === 'get') {\n        return {\n          method: 'GET',\n          url: inputs.baseUrl + inputs.url,\n          qs: inputs.params,\n          json: true,\n          headers: inputs.headers\n        };\n      }\n\n      var options = {\n        method: inputs.method.toUpperCase(),\n        url: inputs.baseUrl + inputs.url,\n        headers: inputs.headers||{}\n      };\n\n      if(inputs.formData) {\n        options.form = inputs.params || {};\n      } else {\n        options.json = inputs.body || inputs.params;\n      }\n\n      return options;\n    })(), function gotResponse(err, response, httpBody) {\n\n      // Wat (disconnected from internet maybe?)\n      if (err) {\n        return exits.requestFailed(err);\n      }\n\n      // Non 2xx status code\n      if (response.statusCode >= 300 || response.statusCode < 200) {\n\n        var exitToCall;\n        switch (response.statusCode) {\n          case 400: exitToCall = exits.badRequest; break;\n          case 401: exitToCall = exits.unauthorized; break;\n          case 403: exitToCall = exits.forbidden; break;\n          case 404: exitToCall = exits.notFound; break;\n          default:\n            if (response.statusCode > 499 && response.statusCode < 600) {\n              exitToCall = exits.serverError;\n            }\n            else exitToCall = exits.error;\n        }\n        return exitToCall({\n          status: response.statusCode,\n          headers: stringifySafe(response.headers),\n          body: stringifySafe(httpBody)\n        });\n      }\n\n      // Success, send back the body\n      return exits.success({\n        status: response.statusCode,\n        headers: stringifySafe(response.headers),\n        body: stringifySafe(httpBody)\n      });\n    });\n\n\n    // Helper functions\n    function parseObject(objAsJsonStr) {\n      try {\n        return JSON.parse(objAsJsonStr);\n      }\n      catch (e) {\n        return {};\n      }\n    }\n\n    function stringifySafe(serializableThing) {\n      try {\n        return JSON.stringify(serializableThing);\n      }\n      catch (e) {\n        return '';\n      }\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-http/send-http-request",
        "docsUrl": "http://node-machine.org/machinepack-http/send-http-request",
        "defaultExit": "success",
        "machinepack": 11,
        "id": 45,
        "createdAt": "2015-02-16T23:51:14.000Z",
        "updatedAt": "2016-02-23T14:59:31.000Z"
      },
      {
        "identity": "negotiate-http-status",
        "variableName": "negotiateHttpStatus",
        "friendlyName": "Negotiate HTTP status code",
        "cacheable": null,
        "sync": true,
        "description": "Trigger a specific exit based on the provided HTTP status code.",
        "inputs": {
          "statusCode": {
            "description": "The status code to negotiate.",
            "example": 403,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "redirect": {
            "description": "A 3xx status code was returned."
          },
          "badRequest": {
            "description": "400 status code was returned."
          },
          "unauthorized": {
            "description": "401 status code was returned."
          },
          "forbidden": {
            "description": "403 status code was returned."
          },
          "notFound": {
            "description": "404 status code was returned."
          },
          "otherClientError": {
            "description": "A 4xx status code other than 400, 401, 403 or 404 was returned."
          },
          "serverError": {
            "description": "5xx status code was returned."
          },
          "other": {
            "description": "An unusual / unsupported status code was returned."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    if (inputs.statusCode < 200 || inputs.statusCode > 599) {\n      return exits.other();\n    }\n\n    if (inputs.statusCode >= 200 && inputs.statusCode < 300) {\n      return exits.success();\n    }\n\n    if (inputs.statusCode >= 300 && inputs.statusCode < 400) {\n      return exits.redirect();\n    }\n\n    if (inputs.statusCode >= 400 && inputs.statusCode < 500) {\n      if (inputs.statusCode === 400) {\n        return exits.badRequest();\n      }\n      if (inputs.statusCode === 401) {\n        return exits.unauthorized();\n      }\n      if (inputs.statusCode === 403) {\n        return exits.forbidden();\n      }\n      if (inputs.statusCode === 404) {\n        return exits.notFound();\n      }\n      return exits.otherClientError();\n    }\n\n    if (inputs.statusCode >= 500 && inputs.statusCode < 600) {\n      return exits.serverError();\n    }\n\n    return exits.other();\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-http/negotiate-http-status",
        "docsUrl": "http://node-machine.org/machinepack-http/negotiate-http-status",
        "defaultExit": null,
        "machinepack": 11,
        "id": 847,
        "createdAt": "2016-11-16T21:29:47.000Z",
        "updatedAt": "2016-11-16T21:29:47.000Z"
      }
    ],
    "identity": "machinepack-http",
    "version": "3.0.0",
    "latestVersionPublishedAt": "2016-11-16T00:00:00.000Z",
    "variableName": "HTTP",
    "friendlyName": "HTTP",
    "description": "Send an HTTP request.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-http",
    "docsUrl": "http://node-machine.org/machinepack-http",
    "npmUrl": "http://npmjs.org/package/machinepack-http",
    "npmPackageName": "machinepack-http",
    "githubUrl": "http://github.com/mikermcneil/machinepack-http/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-http/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-http",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-10"
      },
      {
        "name": "machinepack-urls",
        "semverRange": "^6.0.0-2"
      },
      {
        "name": "request",
        "semverRange": "2.74.0"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 11,
    "createdAt": "2015-02-16T23:51:13.000Z",
    "updatedAt": "2016-11-16T21:29:47.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "connect",
        "variableName": "connect",
        "friendlyName": "Connect",
        "cacheable": false,
        "sync": false,
        "description": "Connect to an Interaction CenterÂ® server",
        "inputs": {
          "protocol": {
            "example": "https",
            "description": "The protocol (http, https) to use to connect to the Interaction Center server",
            "required": false,
            "type": "string"
          },
          "server": {
            "example": "cic.acme.com",
            "description": "The Interaction Center server to connect to",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 8019,
            "description": "The Interaction Center port to connect to",
            "required": false,
            "type": "number"
          },
          "applicationName": {
            "example": "My Client Application",
            "description": "Associate the given Application to a Session",
            "required": true,
            "type": "string"
          },
          "userID": {
            "example": "operator",
            "description": "The Interaction Center user ID to log in with",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "1234",
            "description": "The Interaction Center password for the supplied user ID",
            "required": true,
            "type": "string"
          },
          "marketPlaceApplicationLicenseName": {
            "example": "ACME",
            "description": "The Interactive Intelligence application's license name",
            "required": false,
            "type": "string"
          },
          "marketPlaceApplicationCode": {
            "example": "{{UUID}}",
            "description": "The Interactive Intelligence application code",
            "required": false,
            "type": "string"
          },
          "language": {
            "example": "en-US",
            "description": "The language to use with the Interaction Center server",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": {
              "url": "url to use",
              "icserver": "the connected Interaction Center server",
              "id": "{{A session identifier}}",
              "token": "{{A complex blob string}}",
              "cookie": "{{A web cookie}}",
              "alternateHosts": [
                "server1",
                "server2"
              ],
              "user": {
                "id": "userid",
                "display": "display name"
              },
              "language": "en-US"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "missingProperty": {
            "example": {
              "name": "property_name",
              "message": "Human readable error text"
            },
            "type": "object"
          },
          "invalidProperty": {
            "example": {
              "name": "property_name",
              "message": "Human readable error text"
            },
            "type": "object"
          },
          "deprecatedResource": {
            "example": {
              "name": "resource_name",
              "message": "Human readable error text"
            },
            "type": "object"
          },
          "notAcceptingConnections": {
            "example": {
              "alternateHosts": [
                "server1",
                "server2"
              ],
              "message": "Human readable error text"
            },
            "type": "object"
          },
          "serverUnavailable": {
            "example": {
              "alternateHosts": [
                "server1",
                "server2"
              ],
              "message": "Human readable error text"
            },
            "type": "object"
          },
          "icws_error": {
            "__type": "urn:inin.com:errorType",
            "errorId": "error.unknown",
            "errorCode": 0,
            "message": "Human readable error text"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "// {{{2\n    var request = require('request');\n\n    // validate inputs and set defaults\n    inputs.protocol = (inputs.protocol || 'https').toLowerCase();\n    if (inputs.protocol !== 'http' && inputs.protocol !== 'https')\n    {\n      return exits.invalidProperty({name: 'protocol', message: 'protocol is invalid. Valid values are: http, https' });\n    }\n    inputs.port     = inputs.port || (inputs.protocol === 'http' ? 8018 : 8019);\n    inputs.language = inputs.language || 'en-US'; // TODO: if language is null => system language?!?\n\n    //if (inputs.marketPlaceApplicationLicenseName.length > 0)\n\n    console.log('Connecting to ' + inputs.server + ' as ' + inputs.userID);\n\n    request.post(\n      {\n        url:     inputs.protocol + '://' + inputs.server + ':' + inputs.port + '/icws/connection',\n        headers: {\n          'Accept-Language': inputs.language,\n        },\n        json: {\n          __type:          'urn:inin.com:connection:icAuthConnectionRequestSettings',\n          applicationName: inputs.applicationName,\n          userID:          inputs.userID,\n          password:        inputs.password,\n          marketPlaceApplicationLicenseName: inputs.market_license,\n          marketPlaceApplicationCode:        inputs.market_code,\n        },\n      },\n      function onResponseReceived(error, response, body) {\n        if (error)\n        {\n          return exits.error(error);\n        }\n        console.log('Status: ' + response.statusCode);\n        if (response.statusCode >= 300 || response.StatusCode < 200)\n        {\n          var error_info = {\n            __type:    'urn:inin.com:common:unknownError',\n            errorId:   'error.request.unknownError',\n            errorCode: -1,\n            message:   'Unknown error'\n          };\n\n          if (body.length > 0) // TODO: Also check the content-type\n          {\n            try\n            {\n              error_info = JSON.parse(body);\n            }\n            catch(e)\n            {\n              console.log(\"Body was not a JSON object.\\n\" + e);\n              error_info.message = body;\n            }\n          }\n          switch(response.statusCode)\n          {\n            case 400: // Bad Request\n              console.log(\"Error 400: Bad Request\\nOriginal error: \" + body);\n              if (error_info.__type === 'urn:inin.com:common:missingPropertyError')\n              {\n                return exits.missingProperty({ name: error_info.propertyName, message: error_info.message });\n              }\n              else if (error_info.errorId === 'error.request.invalidRepresentation.invalidProperty')\n              {\n                return exits.invalidProperty({ message: error_info.message });\n              }\n              else\n              {\n                return exits.icws_error(error_info);\n              }\n              break;\n            case 410: // Gone\n              console.log(\"Error 410: Gone\\nOriginal error: \" + body);\n              return exits.deprecatedResource({ name: 'disconnect', message: error_info.message });\n              break;\n            case 500: // Internal Server Error\n              console.log(\"Error 500: Internal Server Error\\nOriginal error: \" + body);\n              return exits.icws_error(error_info);\n              break;\n            case 503: // Service Unavailable\n              console.log(\"Error 503: Service Unavailable\\nOriginal error: \" + JSON.stringify(body));\n              if (error_info.errorId === 'error.server.notAcceptingConnections')\n              {\n                console.log('server ' + inputs.server + ' is not accepting connections. Alternates: [' + error_info.alternateHostList.join() + ']');\n                return exits.notAcceptingConnections({ alternateHosts: error_info.alternateHostList, message: error_info.message });\n              }\n              else if (error_info.errorId === 'error.server.unavailable')\n              {\n                console.log('server ' + inputs.server + ' is not available. Alternates: [' + error_info.alternateHostList.join() + ']');\n                return exits.serverUnavailable({ alternateHosts: error_info.alternateHostList, message: error_info.message });\n              }\n              else\n              {\n                console.log('Unknown error ' + response.statusCode + ' when connecting to server ' + server);\n                return exits.icws_error(error_info);\n              }\n              break;\n            default: // Other errors\n              console.log(\"Error \" + response.statusCode + \"\\nOriginal error: \" + JSON.stringify(body));\n              return exits.error(error_info);\n          }\n        }\n        console.log('Connected to ' + inputs.server + ' as ' + body.userID);\n        for (i=0; i < response.headers['set-cookie'].length; i++)\n        {\n          var cookie = response.headers['set-cookie'][i];\n\n          if (cookie.search(/^icws_/) > -1)\n          {\n          console.log('>> ' + JSON.stringify(body));\n            return exits.success({\n              url:            inputs.protocol + '://' + inputs.server + ':' + inputs.port + '/icws',\n              icserver:       body.icServer,\n              id:             body.sessionId,\n              token:          body.csrfToken,\n              cookie:         cookie,\n              alternateHosts: body.alternateHostList,\n              user:           { id: body.userID, display: body.userDisplayName },\n              language:       inputs.language,\n            });\n          }\n        }\n        return exits.error({ message: 'Missing ICWS Cookie in response' });\n      }\n    );\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ic/connect",
        "docsUrl": "http://node-machine.org/machinepack-ic/connect",
        "defaultExit": null,
        "machinepack": 146,
        "id": 662,
        "createdAt": "2015-08-11T02:59:35.000Z",
        "updatedAt": "2015-08-11T02:59:35.000Z"
      }
    ],
    "identity": "machinepack-ic",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-08-11T00:00:00.000Z",
    "variableName": "IC",
    "friendlyName": "IC",
    "description": "Communicate with Interaction CenterÂ® servers via the ICWS API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-ic",
    "docsUrl": "http://node-machine.org/machinepack-ic",
    "npmUrl": "http://npmjs.org/package/machinepack-ic",
    "npmPackageName": "machinepack-ic",
    "githubUrl": "http://github.com/gildas/machinepack-ic/",
    "sourceUrl": "http://github.com/gildas/machinepack-ic/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "request",
        "semverRange": "^2.60.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Gildas Cherruel",
        "email": ""
      },
      {
        "name": "gildas",
        "email": "gildas@breizh.org"
      }
    ],
    "id": 146,
    "createdAt": "2015-08-11T02:59:35.000Z",
    "updatedAt": "2015-08-11T02:59:35.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-auth-token",
        "variableName": "getAuthToken",
        "friendlyName": "Get auth token",
        "cacheable": null,
        "sync": null,
        "description": "Retrieve access_token from using ID.me",
        "inputs": {
          "code": {
            "description": "the exact code that you received during the authorization request.",
            "required": true,
            "example": "",
            "type": "string"
          },
          "client_id": {
            "description": "your client id",
            "required": true,
            "example": "",
            "type": "string"
          },
          "client_secret": {
            "description": "your client secret",
            "required": true,
            "example": "",
            "type": "string"
          },
          "redirect_uri": {
            "description": "your redirect URI",
            "required": true,
            "example": "",
            "type": "string"
          },
          "grant_type": {
            "description": "The only supported value is currently `authorization_code`",
            "required": false,
            "example": "",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "access_token": "3b57cc74ec7f1cf3e32527b1fa47e842a00755d643695a3dcbd0ee85885adb5c",
              "token_type": "bearer",
              "expires_in": 300,
              "refresh_token": "edab2746ff2dd6863d84e5b7c88840a26f5727c8a0900a11f73fb6e508dc1bcc",
              "scope": "military"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n\r\n    var Http = require('machinepack-http');\r\n\r\n    Http.sendHttpRequest({\r\n\r\n      baseUrl:'https://api.id.me',\r\n      url: '/oauth/token',\r\n      method:'post',\r\n      params:{\r\n        code : inputs.code,\r\n        client_id : inputs.client_id,\r\n        client_secret : inputs.client_secret,\r\n        redirect_uri : inputs.redirect_uri,\r\n        grant_type : inputs.grant_type || 'authorization_code'\r\n\r\n      },\r\n      headers: {\r\n        'Accept':'application/json'\r\n      }\r\n\r\n    }).exec({\r\n      error: function (err){\r\n        return exits.error(err);\r\n      },\r\n      // 404 status code returned from server\r\n      notFound: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // 400 status code returned from server\r\n      badRequest: function (result){\r\n        return exits.error(JSON.parse(result.body).error_description);\r\n      },\r\n      // 403 status code returned from server\r\n      forbidden: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // 401 status code returned from server\r\n      unauthorized: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\r\n      serverError: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // Unexpected connection error: could not send or receive HTTP request.\r\n      requestFailed: function (){\r\n        return exits.error('Unexpected connection error: could not send or receive HTTP request.');\r\n      },\r\n      success: function(result){\r\n        return exits.success(JSON.parse(result.body));\r\n      }\r\n    });\r\n\r\n\r\n    \r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-idme/get-auth-token",
        "docsUrl": "http://node-machine.org/machinepack-idme/get-auth-token",
        "defaultExit": "success",
        "machinepack": 88,
        "id": 328,
        "createdAt": "2015-04-10T21:39:54.000Z",
        "updatedAt": "2015-04-13T18:22:31.000Z"
      },
      {
        "identity": "get-profile",
        "variableName": "getProfile",
        "friendlyName": "Get Profile",
        "cacheable": null,
        "sync": null,
        "description": "Return profile information for a specified end-point",
        "inputs": {
          "access_token": {
            "description": "Access code requested from and OAuth response. See Get-Auth-Token",
            "example": "3b57cc74ec7f1cf3e32527b1fa47e842a00755d643695a3dcbd0ee85885adb5c",
            "required": true,
            "type": "string"
          },
          "end_point": {
            "description": "The specified group affiliation",
            "example": "military,student,responder,teacher,government",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "c34a81aa25e2a3d0402806",
              "verified": true,
              "affiliation": "Veteran",
              "email": "partner+military_veteran_1@id.me",
              "fname": "Franc",
              "lname": "Footer",
              "phone": "555-555-5555"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\r\n\r\n    Http.sendHttpRequest({\r\n\r\n      baseUrl:'https://api.id.me',\r\n      url: '/api/public/v2/'+inputs.end_point+'.json',\r\n      method:'get',\r\n      params:{\r\n        access_token : inputs.access_token\r\n      },\r\n      headers: {\r\n        'Accept':'application/json'\r\n      }\r\n\r\n    }).exec({\r\n\r\n      error: function (err){\r\n        return exits.error(err);\r\n      },\r\n      // 404 status code returned from server\r\n      notFound: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // 400 status code returned from server\r\n      badRequest: function (result){\r\n        return exits.error(JSON.parse(result.body).error_description);\r\n      },\r\n      // 403 status code returned from server\r\n      forbidden: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // 401 status code returned from server\r\n      unauthorized: function (result){\r\n        return exits.error(JSON.parse(result.body).message);\r\n      },\r\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\r\n      serverError: function (result){\r\n        return exits.error(result);\r\n      },\r\n      // Unexpected connection error: could not send or receive HTTP request.\r\n      requestFailed: function (){\r\n        return exits.error('Unexpected connection error: could not send or receive HTTP request.');\r\n      },\r\n      success: function(result){\r\n        return exits.success(JSON.parse(result.body));\r\n      }\r\n    });\r\n\r\n  ",
        "environment": [],
        "extendedDescription": "Clients access protected data by making API calls with the access token for a given user. Please see the OAuth Implementation page for instructions on how to retrieve an access token. The ID.me server will validate the access token to ensure it has not expired and that its scope covers the requested resource.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-idme/get-profile",
        "docsUrl": "http://node-machine.org/machinepack-idme/get-profile",
        "defaultExit": "success",
        "machinepack": 88,
        "id": 329,
        "createdAt": "2015-04-10T21:39:54.000Z",
        "updatedAt": "2015-04-13T18:22:31.000Z"
      }
    ],
    "identity": "machinepack-idme",
    "version": "1.0.5",
    "latestVersionPublishedAt": "2015-04-13T00:00:00.000Z",
    "variableName": "Idme",
    "friendlyName": "Idme",
    "description": "Communicate with ID.me to authorize and receive tokens and user information",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://www.id.me/favicon-32.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-idme",
    "docsUrl": "http://node-machine.org/machinepack-idme",
    "npmUrl": "http://npmjs.org/package/machinepack-idme",
    "npmPackageName": "machinepack-idme",
    "githubUrl": "http://github.com/PlakeSide/machinepack-idme/",
    "sourceUrl": "http://github.com/PlakeSide/machinepack-idme/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "Randall Meeker",
        "email": ""
      },
      {
        "name": "randallmeeker",
        "email": "randallmeeker@gmail.com"
      }
    ],
    "id": 88,
    "createdAt": "2015-04-10T21:39:54.000Z",
    "updatedAt": "2015-04-13T18:22:31.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "if-defined",
        "variableName": "ifDefined",
        "friendlyName": "If defined",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether the value is defined.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The value to check.",
            "extendedDescription": "A value of any type may be provided.  If it evaluates to 'undefined', the 'otherwise' exit will be triggered.  Otherwise the 'then' exit will be triggered.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "like": "value",
            "isDefault": true
          },
          "otherwise": {
            "friendlyName": "else",
            "description": "The value is not defined."
          }
        },
        "fn": "    if (typeof(inputs.value) === 'undefined') {\n      return exits.otherwise();\n    }\n    return exits.success(inputs.value);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-defined",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-defined",
        "defaultExit": "success",
        "machinepack": 58,
        "id": 231,
        "createdAt": "2015-03-17T05:19:30.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      },
      {
        "identity": "if-less-than",
        "variableName": "ifLessThan",
        "friendlyName": "If less than (<)",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether the first value is less than the second.",
        "inputs": {
          "a": {
            "friendlyName": "Lesser value",
            "description": "The first value to check (expected to be less than the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Other value",
            "description": "The second value to check (expected to be greater than the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "isInclusive": {
            "friendlyName": "Inclusive? (<=)",
            "description": "Whether to trigger the \"then\" exit if both values are equal.",
            "defaultsTo": false,
            "example": true,
            "extendedDescription": "If set, this machine will use the <= operator for comparison.",
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "otherwise": {
            "friendlyName": "else",
            "description": "The first value is NOT less than the second."
          }
        },
        "fn": "    if (inputs.isInclusive){\n      if (inputs.a <= inputs.b) {\n        return exits.success();\n      }\n      return exits.otherwise();\n    }\n    if (inputs.a < inputs.b) {\n      return exits.success();\n    }\n    return exits.otherwise();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-less-than",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-less-than",
        "defaultExit": "success",
        "machinepack": 58,
        "id": 232,
        "createdAt": "2015-03-17T05:19:30.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      },
      {
        "identity": "if-greater-than",
        "variableName": "ifGreaterThan",
        "friendlyName": "If greater than (>)",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether the first value is greater than the second.",
        "inputs": {
          "a": {
            "friendlyName": "Greater value",
            "description": "The first value to check (expected to be greater than the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Other value",
            "description": "The second value to check (expected to be less than the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "isInclusive": {
            "friendlyName": "Inclusive? (>=)",
            "description": "Whether to trigger the \"then\" exit if both values are equal.",
            "defaultsTo": false,
            "example": true,
            "extendedDescription": "If set, this machine will use the >= operator for comparison.",
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "otherwise": {
            "friendlyName": "else",
            "description": "The first value is NOT greater than the second."
          }
        },
        "fn": "    if (inputs.isInclusive){\n      if (inputs.a >= inputs.b) {\n        return exits.success();\n      }\n      return exits.otherwise();\n    }\n    if (inputs.a > inputs.b) {\n      return exits.success();\n    }\n    return exits.otherwise();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-greater-than",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-greater-than",
        "defaultExit": "success",
        "machinepack": 58,
        "id": 233,
        "createdAt": "2015-03-17T05:19:30.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      },
      {
        "identity": "if-equal",
        "variableName": "ifEqual",
        "friendlyName": "If equal (===)",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether the first value is equivalent to the second.",
        "inputs": {
          "a": {
            "friendlyName": "First value",
            "description": "The first value to check (expected to be equal to the second).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Second value",
            "description": "The second value to check (expected to be equal to the first).",
            "extendedDescription": "A value of any type may be provided.",
            "example": "===",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "otherwise": {
            "friendlyName": "else",
            "description": "The first value is NOT equal to the second."
          }
        },
        "fn": "    var _ = require('lodash');\n\n    if (_.isEqual(inputs.a, inputs.b)) {\n      return exits.success();\n    }\n    return exits.otherwise();\n  ",
        "environment": [],
        "extendedDescription": "Note that this machine performs a deep equality check by value.  That is, it doesn't care about memory addresses or things like that-- it's only interested in the actual semantic value of the data.  Basically, this is like what you would get if you stringified two JSON values and compared the resulting strings.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-equal",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-equal",
        "defaultExit": "success",
        "machinepack": 58,
        "id": 234,
        "createdAt": "2015-03-17T05:19:30.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      },
      {
        "identity": "if-between",
        "variableName": "ifBetween",
        "friendlyName": "If between",
        "cacheable": true,
        "sync": true,
        "description": "Check that a value is within the specified range (inclusive).",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The number to check.",
            "example": 3,
            "required": true,
            "type": "number"
          },
          "min": {
            "friendlyName": "At least (>=)",
            "example": 1,
            "description": "The minimum acceptable number",
            "required": true,
            "type": "number"
          },
          "max": {
            "friendlyName": "No greater than (<=)",
            "example": 4,
            "description": "The maximum acceptable number",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "otherwise": {
            "friendlyName": "else",
            "description": "The value is NOT within the specified range."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    // if inputs are inconsistent with expectations, bail out w/ `error`\n    if (inputs.min > inputs.max) {\n      return exits.error(new Error('The configured value of the `min` input must be <= that of `max`.'));\n    }\n\n    // because lodash's `inRange` is only inclusive on the bottom side,\n    // we'll make it inclusive here by adding an additional check:\n    if (_.inRange(inputs.value, inputs.min, inputs.max) || (inputs.max === inputs.value)){\n      return exits.success();\n    }\n    return exits.otherwise();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-between",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-between",
        "defaultExit": null,
        "machinepack": 58,
        "id": 432,
        "createdAt": "2015-05-04T23:19:24.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      },
      {
        "identity": "if-then-finally",
        "variableName": "ifThenFinally",
        "friendlyName": "If..Then..Finally",
        "cacheable": null,
        "sync": null,
        "description": "If the provided value is true, then run the \"then\" circuit.  Otherwise run the \"else\" circuit.  Either way, exit \"success\".",
        "inputs": {
          "bool": {
            "description": "The true/false value to check.",
            "example": true,
            "type": "boolean"
          },
          "then": {
            "example": "->",
            "contract": {
              "inputs": {},
              "exits": {
                "success": {
                  "like": "expectedOutput"
                }
              }
            },
            "required": true,
            "type": "string"
          },
          "orElse": {
            "example": "->",
            "contract": {
              "inputs": {},
              "exits": {
                "success": {
                  "like": "expectedOutput"
                }
              }
            },
            "type": "string"
          },
          "expectedOutput": {
            "description": "An example of the expected output value.",
            "example": "*",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "getExample": "        var _ = env._;\n        if (_.isUndefined(inputs.expectedOutput)) {\n          return;\n        }\n        return inputs.expectedOutput;\n      ",
            "description": "OK.",
            "isDefault": true,
            "hasDynamicOutputType": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    if (inputs.bool) {\n      inputs.then().exec({\n        error: exits.error,\n        success: function (result){\n          return exits.success(result);\n        }\n      });\n    }\n    else {\n      inputs.orElse().exec({\n        error: exits.error,\n        success: function (result){\n          return exits.success(result);\n        }\n      });\n    }\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-then-finally",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-then-finally",
        "defaultExit": null,
        "machinepack": 58,
        "id": 574,
        "createdAt": "2015-06-17T19:59:37.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      },
      {
        "identity": "if-then-finally-sync",
        "variableName": "ifThenFinallySync",
        "friendlyName": "If..Then..Finally (sync)",
        "cacheable": null,
        "sync": true,
        "description": "If the provided value is true, then run the \"then\" circuit.  Otherwise run the \"else\" circuit.  Either way, exit \"success\".",
        "inputs": {
          "bool": {
            "description": "The true/false value to check.",
            "example": true,
            "type": "boolean"
          },
          "then": {
            "example": "->",
            "contract": {
              "sync": true,
              "inputs": {},
              "exits": {
                "success": {
                  "like": "expectedOutput"
                }
              }
            },
            "required": true,
            "type": "string"
          },
          "orElse": {
            "example": "->",
            "contract": {
              "sync": true,
              "inputs": {},
              "exits": {
                "success": {
                  "like": "expectedOutput"
                }
              }
            },
            "type": "string"
          },
          "expectedOutput": {
            "description": "An example of the expected output value.",
            "example": "*",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "getExample": "        var _ = env._;\n        if (_.isUndefined(inputs.expectedOutput)) {\n          return;\n        }\n        return inputs.expectedOutput;\n      ",
            "description": "OK.",
            "isDefault": true,
            "hasDynamicOutputType": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var result;\n\n    if (inputs.bool) {\n      result = inputs.then().execSync();\n    }\n    else {\n      result = inputs.orElse().execSync();\n    }\n\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen/if-then-finally-sync",
        "docsUrl": "http://node-machine.org/machinepack-ifthen/if-then-finally-sync",
        "defaultExit": null,
        "machinepack": 58,
        "id": 575,
        "createdAt": "2015-06-17T19:59:37.000Z",
        "updatedAt": "2015-10-16T20:29:44.000Z"
      }
    ],
    "identity": "machinepack-ifthen",
    "version": "1.3.0",
    "latestVersionPublishedAt": "2015-10-16T00:00:00.000Z",
    "variableName": "IfThen",
    "friendlyName": "If...Then",
    "description": "Machines for branching based on comparisons, validations, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-ifthen",
    "docsUrl": "http://node-machine.org/machinepack-ifthen",
    "npmUrl": "http://npmjs.org/package/machinepack-ifthen",
    "npmPackageName": "machinepack-ifthen",
    "githubUrl": "http://github.com/treelinehq/machinepack-ifthen/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-ifthen/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "^1.0.2"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.2"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "rachaelshaw",
        "email": "rachaelshaw@treeline.io"
      }
    ],
    "id": 58,
    "createdAt": "2015-03-17T05:19:30.000Z",
    "updatedAt": "2015-10-16T20:29:44.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "get-host",
        "variableName": "getHost",
        "friendlyName": "Get Host",
        "cacheable": null,
        "sync": null,
        "description": "Make calls to Infoblox API",
        "inputs": {
          "host": {
            "example": "infoblox-host.customer.com",
            "description": "The host address of the Infoblox appliance",
            "required": true,
            "type": "string"
          },
          "username": {
            "example": "api-user",
            "description": "The username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "SomePassword",
            "description": "The password",
            "required": true,
            "type": "string"
          },
          "api": {
            "example": "1.6",
            "description": "The API version",
            "required": true,
            "type": "string"
          },
          "call": {
            "example": "foo",
            "description": "The search string",
            "required": true,
            "type": "string"
          },
          "strictSearch": {
            "example": true,
            "description": "Perform exact search. Defaults to false.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUserPassword": {
            "description": "Invalid or unprovided Username/Password. All calls must have Username/Password."
          },
          "success": {
            "example": [
              {
                "name": "box-port.localdomain",
                "ipv4": "10.216.2.1",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-00.localdomain",
                "ipv4": "10.216.3.0",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-c1.localdomain",
                "ipv4": "10.216.2.39",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-c1-crypt1",
                "ipv4": "10.41.62.77",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-c1-crypt2",
                "ipv4": "10.41.61.2",
                "dhcpEnabled": false
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n        var URL = require('url');\n        var QS = require('querystring');\n        var _ = require('underscore');\n        var Http = require('machinepack-http');\n        var operator;\n\n        if (inputs.strictSearch) {\n            operator = '=';\n        } else {\n            operator = '~=';\n        }\n\n        process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"0\";\n\n\n        Http.sendHttpRequest({\n            baseUrl: 'https://' + inputs.host + '/wapi/v' + inputs.api + '/record:host?name' + operator + inputs.call,\n            url: '',\n            method: 'get',\n            headers: {\n                \"Authorization\": \"Basic \" + new Buffer(inputs.username + \":\" + inputs.password).toString(\"base64\"),\n            }\n        }).exec({\n            // Returns an array\n            success: function(result) {\n\n                try {\n                    var responseBody = JSON.parse(result.body);\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the body.');\n                }\n                var listResult = [];\n                var ipv4,\n                    dhcpConfigured;\n                var parsed = _.each(responseBody, function(box) {\n                    _.each(box.ipv4addrs, function(addr) {\n                        ipv4 = addr.ipv4addr;\n                        dhcpConfigured = addr.configure_for_dhcp;\n                    });\n                    var boxObj = {\n                        name: box.name,\n                        ipv4: ipv4,\n                        dhcpEnabled: dhcpConfigured\n                    };\n\n                    listResult.push(boxObj);\n                });\n                return exits.success(listResult);\n\n            },\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 403) {\n                        return exits.wrongOrNoKey(\"Invalid or unprovided Username/Password. All calls must have Username/Password.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-infoblox/get-host",
        "docsUrl": "http://node-machine.org/machinepack-infoblox/get-host",
        "defaultExit": "success",
        "machinepack": 68,
        "id": 256,
        "createdAt": "2015-03-19T13:39:38.000Z",
        "updatedAt": "2015-05-14T00:29:50.000Z"
      },
      {
        "identity": "get-subnet",
        "variableName": "getSubnet",
        "friendlyName": "Get Subnet",
        "cacheable": null,
        "sync": null,
        "description": "Get subnet by extensible attribute.",
        "inputs": {
          "host": {
            "example": "infoblox-host.customer.com",
            "description": "The host address of the Infoblox appliance",
            "required": true,
            "type": "string"
          },
          "username": {
            "example": "api-user",
            "description": "The username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "SomePassword",
            "description": "The password",
            "required": true,
            "type": "string"
          },
          "api": {
            "example": "1.6",
            "description": "The API version. eg. \"1.6\"",
            "required": true,
            "type": "string"
          },
          "exattr": {
            "example": "Building",
            "description": "The extensible attribute to search by. (Case sensitive)",
            "required": true,
            "type": "string"
          },
          "call": {
            "example": "foo",
            "description": "The search string",
            "required": true,
            "type": "string"
          },
          "strictSearch": {
            "example": true,
            "description": "Perform exact call. Defaults to false.",
            "required": false,
            "type": "boolean"
          },
          "optional": {
            "example": "VLAN:=60",
            "description": "Optional params.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUserPassword": {
            "description": "Invalid or unprovided Username/Password. All calls must have Username/Password."
          },
          "success": {
            "description": "OK.",
            "example": [],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n        var URL = require('url');\n        var QS = require('querystring');\n        var _ = require('underscore');\n        var Http = require('machinepack-http');\n        var operator;\n\n        if (inputs.strictSearch) {\n            operator = '=';\n        } else {\n            operator = '~=';\n        }\n        if (inputs.optional) {\n            inputs.optional = '&*' + inputs.optional;\n        } else {\n            inputs.optional = '';\n        }\n        console.log(inputs.optional);\n        var formattedurl = 'https://' + inputs.host + '/wapi/v' + inputs.api + '/network?*' + inputs.exattr + ':' + operator + inputs.call + inputs.optional + '&_return_fields%2B=extattrs';\n\n        formattedurl = formattedurl.replace('\\u0020', \"%20\");\n        process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"0\";\n\n\n\n        Http.sendHttpRequest({\n            baseUrl: formattedurl,\n            url: '',\n            method: 'get',\n            headers: {\n                \"Authorization\": \"Basic \" + new Buffer(inputs.username + \":\" + inputs.password).toString(\"base64\"),\n            }\n        }).exec({\n            success: function(result) {\n                var obj = {};\n\n                try {\n                    var data = JSON.parse(result.body);\n\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the reponse from Infoblox.');\n                }\n\n                return exits.success(data);\n                //Returns an object.\n\n            },\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 403) {\n                        return exits.wrongOrNoKey(\"Invalid or unprovided Username/Password. All calls must have Username/Password.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "Returns an object",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-infoblox/get-subnet",
        "docsUrl": "http://node-machine.org/machinepack-infoblox/get-subnet",
        "defaultExit": "success",
        "machinepack": 68,
        "id": 257,
        "createdAt": "2015-03-19T13:39:38.000Z",
        "updatedAt": "2015-05-14T00:29:50.000Z"
      },
      {
        "identity": "get-next-available-ip",
        "variableName": "getNextAvailableIp",
        "friendlyName": "Get next available IP",
        "cacheable": null,
        "sync": null,
        "description": "Get the next available IP-address(es) from a subnet",
        "inputs": {
          "host": {
            "example": "infoblox-host.customer.com",
            "description": "The host address of the Infoblox appliance",
            "required": true,
            "type": "string"
          },
          "username": {
            "example": "api-user",
            "description": "The username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "SomePassword",
            "description": "The password",
            "required": true,
            "type": "string"
          },
          "api": {
            "example": "1.6",
            "description": "The API version. eg. \"1.6\"",
            "required": true,
            "type": "string"
          },
          "ref": {
            "example": "ZG5zLm5ldHdRcmskMTAuMjEwLjAuMC8yNC8w",
            "description": "The ref of the subnet wich the next available IP will be picked from",
            "required": true,
            "type": "string"
          },
          "num": {
            "example": 3,
            "description": "How many IPs do you need?",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUserPassword": {
            "description": "Invalid or unprovided Username/Password. All calls must have Username/Password."
          },
          "success": {
            "example": {
              "ips": [
                "10.210.0.3",
                "10.210.0.4",
                "10.210.0.5",
                "10.210.0.6",
                "10.210.0.7"
              ]
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n        var URL = require('url');\n        var QS = require('querystring');\n        var _ = require('underscore');\n        var Http = require('machinepack-http');\n        var getNextNetwork = 'https://' + inputs.host + '/wapi/v' + inputs.api + '/network/' + inputs.ref + '?_function=next_available_ip';\n\n        console.log('url: ' + getNextNetwork);\n        process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"0\";\n\n\n        Http.sendHttpRequest({\n            baseUrl: getNextNetwork,\n            url: '',\n            method: 'post',\n            headers: {\n                \"Authorization\": \"Basic \" + new Buffer(inputs.username + \":\" + inputs.password).toString(\"base64\"),\n                \"Content-Type\": \"application/json\"\n            },\n            params: {\n                \"num\": inputs.num\n            }\n        }).exec({\n            success: function(result) {\n                var obj = {};\n\n                try {\n                    var data = JSON.parse(result.body);\n                    obj.ips = data.ips;\n\n\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the reponse from Infoblox.');\n                }\n\n                return exits.success(obj);\n                //Returns an object.\n\n            },\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 403) {\n                        return exits.wrongOrNoKey(\"Invalid or unprovided Username/Password. All calls must have Username/Password.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-infoblox/get-next-available-ip",
        "docsUrl": "http://node-machine.org/machinepack-infoblox/get-next-available-ip",
        "defaultExit": "success",
        "machinepack": 68,
        "id": 282,
        "createdAt": "2015-03-26T11:29:32.000Z",
        "updatedAt": "2015-05-14T00:29:50.000Z"
      },
      {
        "identity": "get-network-ref",
        "variableName": "getNetworkRef",
        "friendlyName": "Get network ref",
        "cacheable": null,
        "sync": null,
        "description": "Get the 'ref-ID' for a given subnet",
        "inputs": {
          "host": {
            "example": "infoblox-host.customer.com",
            "description": "The host address of the Infoblox appliance",
            "required": true,
            "type": "string"
          },
          "username": {
            "example": "api-user",
            "description": "The username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "SomePassword",
            "description": "The password",
            "required": true,
            "type": "string"
          },
          "api": {
            "example": "1.6",
            "description": "The API version. eg. \"1.6\"",
            "required": true,
            "type": "string"
          },
          "subnet": {
            "example": "10.10.10.0/24",
            "description": "The subnet wich the next available IP will be picked from. (CIDR notation)",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUserPassword": {
            "description": "Invalid or unprovided Username/Password. All calls must have Username/Password."
          },
          "success": {
            "example": {
              "reference": "ZG5zLm5ldHdvcmskMTAuMjEwLjAuMC8yNC9w"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n        var URL = require('url');\n        var QS = require('querystring');\n        var _ = require('underscore');\n        var Http = require('machinepack-http');\n\n        var getNetworkRef = 'https://' + inputs.host + '/wapi/v' + inputs.api + '/network?network=' + inputs.subnet;\n        process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"0\";\n\n\n        Http.sendHttpRequest({\n            baseUrl: getNetworkRef,\n            url: '',\n            method: 'get',\n            headers: {\n                \"Authorization\": \"Basic \" + new Buffer(inputs.username + \":\" + inputs.password).toString(\"base64\"),\n            }\n        }).exec({\n            success: function(result) {\n                var obj = {};\n\n                try {\n                    var data = JSON.parse(result.body);\n\n                    for (var i = 0; i < data.length; i++) {\n                        var ref = data[i]._ref;\n                    };\n                    obj.reference = /network\\/(.*?):/.exec(ref)[1];\n\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the reponse from Infoblox.');\n                }\n                return exits.success(obj);\n                //Returns an object.\n\n            },\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 403) {\n                        return exits.wrongOrNoKey(\"Invalid or unprovided Username/Password. All calls must have Username/Password.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-infoblox/get-network-ref",
        "docsUrl": "http://node-machine.org/machinepack-infoblox/get-network-ref",
        "defaultExit": "success",
        "machinepack": 68,
        "id": 283,
        "createdAt": "2015-03-26T11:29:32.000Z",
        "updatedAt": "2015-05-14T00:29:50.000Z"
      },
      {
        "identity": "get-record",
        "variableName": "getRecord",
        "friendlyName": "Get Host",
        "cacheable": null,
        "sync": null,
        "description": "Make calls to Infoblox API",
        "inputs": {
          "host": {
            "example": "infoblox-host.customer.com",
            "description": "The host address of the Infoblox appliance",
            "required": true,
            "type": "string"
          },
          "username": {
            "example": "api-user",
            "description": "The username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "SomePassword",
            "description": "The password",
            "required": true,
            "type": "string"
          },
          "api": {
            "example": "1.6",
            "description": "The API version",
            "required": true,
            "type": "string"
          },
          "call": {
            "example": "foo",
            "description": "The search string",
            "required": true,
            "type": "string"
          },
          "strictSearch": {
            "example": true,
            "description": "Perform exact search. Defaults to false.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUserPassword": {
            "description": "Invalid or unprovided Username/Password. All calls must have Username/Password."
          },
          "success": {
            "example": [
              {
                "name": "box-port.localdomain",
                "ipv4": "10.216.2.1",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-00.localdomain",
                "ipv4": "10.216.3.0",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-c1.localdomain",
                "ipv4": "10.216.2.39",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-c1-crypt1",
                "ipv4": "10.41.62.77",
                "dhcpEnabled": false
              },
              {
                "name": "box.op-c1-crypt2",
                "ipv4": "10.41.61.2",
                "dhcpEnabled": false
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n        var URL = require('url');\n        var QS = require('querystring');\n        var _ = require('underscore');\n        var Http = require('machinepack-http');\n        var operator;\n\n        if (inputs.strictSearch) {\n            operator = '=';\n        } else {\n            operator = '~=';\n        }\n\n        process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"0\";\n\n\n        Http.sendHttpRequest({\n            baseUrl: 'https://' + inputs.host + '/wapi/v' + inputs.api + '/record:a?name' + operator + inputs.call,\n            url: '',\n            method: 'get',\n            headers: {\n                \"Authorization\": \"Basic \" + new Buffer(inputs.username + \":\" + inputs.password).toString(\"base64\"),\n            }\n        }).exec({\n            // Returns an array\n            success: function(result) {\n\n                try {\n                    var responseBody = JSON.parse(result.body);\n                } catch (e) {\n                    return exits.error('An error occurred while parsing the body.');\n                }\n                var listResult = [];\n                var ipv4,\n                    dhcpConfigured;\n                var parsed = _.each(responseBody, function(box) {\n                    _.each(box.ipv4addrs, function(addr) {\n                        ipv4 = addr.ipv4addr;\n                        dhcpConfigured = addr.configure_for_dhcp;\n                    });\n                    var boxObj = {\n                        name: box.name,\n                        ipv4: ipv4,\n                        dhcpEnabled: dhcpConfigured\n                    };\n\n                    listResult.push(boxObj);\n                });\n                return exits.success(listResult);\n\n            },\n            notOk: function(result) {\n\n                try {\n                    if (result.status === 403) {\n                        return exits.wrongOrNoKey(\"Invalid or unprovided Username/Password. All calls must have Username/Password.\");\n                    }\n                } catch (e) {\n                    return exits.error(e);\n                }\n\n            },\n            // An unexpected error occurred.\n            error: function(err) {\n\n                exits.error(err);\n            },\n        });\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-infoblox/get-record",
        "docsUrl": "http://node-machine.org/machinepack-infoblox/get-record",
        "defaultExit": "success",
        "machinepack": 68,
        "id": 489,
        "createdAt": "2015-05-14T00:29:50.000Z",
        "updatedAt": "2015-05-14T00:29:50.000Z"
      }
    ],
    "identity": "machinepack-infoblox",
    "version": "1.3.0",
    "latestVersionPublishedAt": "2015-05-14T00:00:00.000Z",
    "variableName": "Infoblox",
    "friendlyName": "Infoblox",
    "description": "Make rest calls for the Infoblox WAPI",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-infoblox",
    "docsUrl": "http://node-machine.org/machinepack-infoblox",
    "npmUrl": "http://npmjs.org/package/machinepack-infoblox",
    "npmPackageName": "machinepack-infoblox",
    "githubUrl": "http://github.com/cappern/machinepack-infoblox/",
    "sourceUrl": "http://github.com/cappern/machinepack-infoblox/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.5.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      },
      {
        "name": "underscore",
        "semverRange": "^1.8.2"
      }
    ],
    "contributors": [
      {
        "name": "cappern",
        "email": ""
      }
    ],
    "id": 68,
    "createdAt": "2015-03-19T13:39:37.000Z",
    "updatedAt": "2015-05-14T00:29:50.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "send-html-email",
        "variableName": "sendHtmlEmail",
        "friendlyName": "Send HTML Email",
        "cacheable": null,
        "sync": null,
        "description": "Send an html email.",
        "inputs": {
          "username": {
            "example": "",
            "description": "Your JangoSMTP username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "",
            "description": "Your JangoSMTP password",
            "required": true,
            "type": "string"
          },
          "toEmail": {
            "example": "jane@example.com",
            "description": "Email address of the primary recipient.",
            "required": true,
            "type": "string"
          },
          "subject": {
            "required": true,
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "type": "string"
          },
          "textMessage": {
            "description": "The plaintext body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "htmlMessage": {
            "required": true,
            "description": "The html body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "required": true,
            "description": "Email address of the sender.",
            "example": "harold@example.enterprise",
            "type": "string"
          },
          "fromName": {
            "required": true,
            "description": "Full name of the sender.",
            "example": "Harold Greaseworthy",
            "type": "string"
          },
          "options": {
            "description": "Options string to set additional options.",
            "extendedDescription": "Must be comma separated string of option=value pairs with these options: TransactionalGroupID, ReplyTo, CC, BCC, CharacterSet, Encoding, Priority, UseSystemMAILFROM, Receipt, Wrapping, ClickTrack, OpenTrack, NoClickTrackText, Attachment1, Attachment2, Attachment3, Attachment4, Attachment5, SkipUnsubCheck. For example, an acceptable value for this parameter would be \"OpenTrack=True,ClickTrack=True,ReplyTo=john@hotmail.com\". TransactionalGroupID, if specified, must be the ID number assigned to a Transactional Group that has been created under My Options of the JangoMail account. UseSystemMAILFROM can be \"True\" or \"False\". ReplyTo must be a valid e-mail address. CC must be a valid e-mail address. BCC must be a valid e-mail address. Encoding must be \"7 bit\", \"Base 64\", or \"Quoted Printable\". CharacterSet must be one of the official JangoMail character sets. Receipt must be \"True\" or \"False\". Priority must be \"Low\", \"Medium\", or \"High\". Wrapping must be an integer >= 0. ClickTrack must be \"True\" or \"False\". OpenTrack must be \"True\" or \"False\". NoClickTrackText must be \"True\" or \"False\". Attachment1 through 5 must be valid file names that have already been uploaded to your account. SkipUnsubCheck, which defaults to \"False\", can be set to \"True\" to avoid checking recipients against your unsubscribe list.",
            "example": "OpenTrack=True,ClickTrack=True,ReplyTo=john@hotmail.com",
            "whereToGet": {
              "url": "http://api.jangomail.com/help/html/655d20ca-2164-c483-fb21-d3d0ee049155.htm"
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUsernamePassword": {
            "description": "Missing or incorrect username/password."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var util = require('util');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: 'https://api.jangomail.com/api.asmx/SendTransactionalEmail',\n      method: 'get',\n      params: {\n        Username: inputs.username,\n        Password: inputs.password,\n        FromEmail: inputs.fromEmail,\n        FromName: inputs.fromName,\n        ToEmailAddress: inputs.toEmail,\n        Subject: inputs.subject,\n        MessagePlain: inputs.textMessage || '',\n        MessageHTML: inputs.htmlMessage || '',\n        Options: inputs.options || ''\n      }/*,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }*/\n    }).exec({\n      // OK.\n      success: function(result) {\n\n        // Unfortunately, Jango only returns XML and it difficult to parse\n        var xml = result.body;\n\n        if (xml.indexOf('\"<?xml') != 0) {\n          return exits.error('There was an error parsing the XML response.');\n        }\n\n        // remove the backslashes around the quotes\n        xml = xml.replace(/\\\"/g, '\"');\n\n        // remove the header\n        xml = xml.replace('<?xml version=\"1.0\" encoding=\"utf-8\"?>', '');\n\n        //remove CRLFs\n        var pattern = new RegExp(\"\\\\\\\\r\\\\\\\\n\", \"g\");\n        xml = xml.replace(pattern, '');\n\n        // remove the <string>\n        xml = xml.replace(\"<string xmlns=\"http://api.jangomail.com/\">\", '');\n        // remove the </string>\n        xml = xml.replace(\"</string>\", \"\");\n\n        // remove remaining double quote characters\n        xml = xml.replace(/\"/g, '');\n\n        // The remaining text is what we want.  Split it on the new line characters\n        var parts = xml.split(\"\\\\n\");\n        if (util.isArray(parts) && parts.length === 3) {\n          var resultObj = {\n            code: parts[0],\n            result: parts[1],\n            transactionId: parts[2]\n          };\n          return exits.success(resultObj);\n        }\n        return exits.error('There was a problem parsing the XML response.');\n      },\n      error: function(err) {\n        if (err) return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        if (err) return exits.error(err);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        return exits.error('Something was wrong with your HTTP request (' + result.status + ').');\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        return exits.wrongOrNoUsernamePassword('Invalid or unprovided username/password (403).');\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        return exits.wrongOrNoUsernamePassword('Invalid or unprovided username/password (401).');\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        result.machineMessage = 'Something went wrong on the other end (' + result.status + ').';\n        return exits.error(result);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Could not send or receive the HTTP request.');\n      }\n    });\n\n    /*mailgun.messages().sendMime(dataToSend, function (err, body) {\n     if (err) return exits.error(err);\n     return exits.success();\n     });*/\n  ",
        "environment": [],
        "extendedDescription": "Send an email using JangoSMTP's service.  You can test the Jango API method here: http://api.jangomail.com/api.asmx?op=SendTransactionalEmail",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jangosmtp/send-html-email",
        "docsUrl": "http://node-machine.org/machinepack-jangosmtp/send-html-email",
        "defaultExit": "success",
        "machinepack": 55,
        "id": 222,
        "createdAt": "2015-03-16T14:49:39.000Z",
        "updatedAt": "2015-04-24T17:59:22.000Z"
      },
      {
        "identity": "send-plaintext-email",
        "variableName": "sendPlaintextEmail",
        "friendlyName": "Send Plaintext Email",
        "cacheable": null,
        "sync": null,
        "description": "Send a simple plaintext email.",
        "inputs": {
          "username": {
            "example": "",
            "description": "Your JangoSMTP username",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "",
            "description": "Your JangoSMTP password",
            "required": true,
            "type": "string"
          },
          "toEmail": {
            "example": "jane@example.com",
            "description": "Email address of the primary recipient.",
            "required": true,
            "type": "string"
          },
          "subject": {
            "required": true,
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "type": "string"
          },
          "textMessage": {
            "required": true,
            "description": "The plaintext body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "required": true,
            "description": "Email address of the sender.",
            "example": "harold@example.enterprise",
            "type": "string"
          },
          "fromName": {
            "required": true,
            "description": "Full name of the sender.",
            "example": "Harold Greaseworthy",
            "type": "string"
          },
          "options": {
            "description": "Options string to set additional options.",
            "extendedDescription": "Must be comma separated string of option=value pairs with these options: TransactionalGroupID, ReplyTo, CC, BCC, CharacterSet, Encoding, Priority, UseSystemMAILFROM, Receipt, Wrapping, ClickTrack, OpenTrack, NoClickTrackText, Attachment1, Attachment2, Attachment3, Attachment4, Attachment5, SkipUnsubCheck. For example, an acceptable value for this parameter would be \"OpenTrack=True,ClickTrack=True,ReplyTo=john@hotmail.com\". TransactionalGroupID, if specified, must be the ID number assigned to a Transactional Group that has been created under My Options of the JangoMail account. UseSystemMAILFROM can be \"True\" or \"False\". ReplyTo must be a valid e-mail address. CC must be a valid e-mail address. BCC must be a valid e-mail address. Encoding must be \"7 bit\", \"Base 64\", or \"Quoted Printable\". CharacterSet must be one of the official JangoMail character sets. Receipt must be \"True\" or \"False\". Priority must be \"Low\", \"Medium\", or \"High\". Wrapping must be an integer >= 0. ClickTrack must be \"True\" or \"False\". OpenTrack must be \"True\" or \"False\". NoClickTrackText must be \"True\" or \"False\". Attachment1 through 5 must be valid file names that have already been uploaded to your account. SkipUnsubCheck, which defaults to \"False\", can be set to \"True\" to avoid checking recipients against your unsubscribe list.",
            "example": "OpenTrack=True,ClickTrack=True,ReplyTo=john@hotmail.com",
            "whereToGet": {
              "url": "http://api.jangomail.com/help/html/655d20ca-2164-c483-fb21-d3d0ee049155.htm"
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoUsernamePassword": {
            "description": "Missing or incorrect username/password."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var util = require('util');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: 'https://api.jangomail.com/api.asmx/SendTransactionalEmail',\n      method: 'get',\n      params: {\n        Username: inputs.username,\n        Password: inputs.password,\n        FromEmail: inputs.fromEmail,\n        FromName: inputs.fromName,\n        ToEmailAddress: inputs.toEmail,\n        Subject: inputs.subject,\n        MessagePlain: inputs.textMessage || '',\n        MessageHTML: '',\n        Options: inputs.options || ''\n      }/*,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }*/\n    }).exec({\n      // OK.\n      success: function(result) {\n\n        // Unfortunately, Jango only returns XML and it difficult to parse\n        var xml = result.body;\n\n        if (xml.indexOf('\"<?xml') != 0) {\n          return exits.error('There was an error parsing the XML response.');\n        }\n\n        // remove the backslashes around the quotes\n        xml = xml.replace(/\\\"/g, '\"');\n\n        // remove the header\n        xml = xml.replace('<?xml version=\"1.0\" encoding=\"utf-8\"?>', '');\n\n        //remove CRLFs\n        var pattern = new RegExp(\"\\\\\\\\r\\\\\\\\n\", \"g\");\n        xml = xml.replace(pattern, '');\n\n        // remove the <string>\n        xml = xml.replace(\"<string xmlns=\"http://api.jangomail.com/\">\", '');\n        // remove the </string>\n        xml = xml.replace(\"</string>\", \"\");\n\n        // remove remaining double quote characters\n        xml = xml.replace(/\"/g, '');\n\n        // The remaining text is what we want.  Split it on the new line characters\n        var parts = xml.split(\"\\\\n\");\n        if (util.isArray(parts) && parts.length === 3) {\n          var resultObj = {\n            code: parts[0],\n            result: parts[1],\n            transactionId: parts[2]\n          };\n          return exits.success(resultObj);\n        }\n        return exits.error('There was a problem parsing the XML response.');\n      },\n      error: function(err) {\n        if (err) return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        if (err) return exits.error(err);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        return exits.error('Something was wrong with your HTTP request (' + result.status + ').');\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        return exits.wrongOrNoUsernamePassword('Invalid or unprovided username/password (403).');\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        return exits.wrongOrNoUsernamePassword('Invalid or unprovided username/password (401).');\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        result.machineMessage = 'Something went wrong on the other end (' + result.status + ').';\n        return exits.error(result);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Could not send or receive the HTTP request.');\n      }\n    })\n\n    /*mailgun.messages().sendMime(dataToSend, function (err, body) {\n     if (err) return exits.error(err);\n     return exits.success();\n     });*/\n  ",
        "environment": [],
        "extendedDescription": "Send an email using JangoSMTP's service.  You can test the Jango API method here: http://api.jangomail.com/api.asmx?op=SendTransactionalEmail",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jangosmtp/send-plaintext-email",
        "docsUrl": "http://node-machine.org/machinepack-jangosmtp/send-plaintext-email",
        "defaultExit": "success",
        "machinepack": 55,
        "id": 223,
        "createdAt": "2015-03-16T14:49:39.000Z",
        "updatedAt": "2015-04-24T17:59:22.000Z"
      }
    ],
    "identity": "machinepack-jangosmtp",
    "version": "1.0.3",
    "latestVersionPublishedAt": "2015-04-24T00:00:00.000Z",
    "variableName": "JangoSMTP",
    "friendlyName": "JangoSMTP",
    "description": "Send transactional emails through JangoSMTP.com service",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-jangosmtp",
    "docsUrl": "http://node-machine.org/machinepack-jangosmtp",
    "npmUrl": "http://npmjs.org/package/machinepack-jangosmtp",
    "npmPackageName": "machinepack-jangosmtp",
    "githubUrl": "https://bitbucket.org/mstralka/machinepack-jangosmtp/",
    "sourceUrl": "https://bitbucket.org/mstralka/machinepack-jangosmtp/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      },
      {
        "name": "util",
        "semverRange": "^0.10.3"
      }
    ],
    "contributors": [
      {
        "name": "mstralka",
        "email": "mstralka@vorenusventures.com"
      }
    ],
    "id": 55,
    "createdAt": "2015-03-16T14:49:39.000Z",
    "updatedAt": "2015-04-24T17:59:22.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "validate-varname",
        "variableName": "validateVarname",
        "friendlyName": "Valid variable name?",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether the provided would be valid as the name of a ECMAScript 5.1 variable.",
        "inputs": {
          "string": {
            "description": "The string to inspect.",
            "example": "foo$barz",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "invalid": {
            "description": "The specified string cannot be coerced into a valid ECMAScript 5.1-compatible variable name.  It might have inappropriate characters or collide with a JavaScript reserved word (e.g. `if` or `for`)."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var X_VALID_ECMA51_VARNAME = /^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[$A-Z\\_a-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc][$A-Z\\_a-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc0-9\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19b0-\\u19c0\\u19c8\\u19c9\\u19d0-\\u19d9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2-\\u1cf4\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua900-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f]*$/;\n    var isValid = inputs.string.match(X_VALID_ECMA51_VARNAME);\n    if (!isValid) {\n      return exits.invalid();\n    }\n    else return exits.success();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-javascript/validate-varname",
        "docsUrl": "http://node-machine.org/machinepack-javascript/validate-varname",
        "defaultExit": null,
        "machinepack": 7,
        "id": 495,
        "createdAt": "2015-05-15T21:19:42.000Z",
        "updatedAt": "2016-08-14T18:49:49.000Z"
      },
      {
        "identity": "minify",
        "variableName": "minify",
        "friendlyName": "Minify",
        "cacheable": null,
        "sync": true,
        "description": "Minify a string of JavaScript code.",
        "inputs": {
          "javascript": {
            "description": "The Javascript code string to minify.",
            "example": "var z = 123;\\nfunction abcz(a, b, c){\\nalert(a, b, c, z);}\\n",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "function abcz(a,c,n){alert(a,c,n,z)}var z=123;",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var UglifyJS = require('uglify-js');\n    return exits.success(UglifyJS.minify(inputs.javascript, {fromString: true}).code);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-javascript/minify",
        "docsUrl": "http://node-machine.org/machinepack-javascript/minify",
        "defaultExit": "success",
        "machinepack": 7,
        "id": 496,
        "createdAt": "2015-05-15T21:19:42.000Z",
        "updatedAt": "2016-08-14T18:49:49.000Z"
      },
      {
        "identity": "coerce-varname",
        "variableName": "coerceVarname",
        "friendlyName": "Coerce variable name",
        "cacheable": true,
        "sync": true,
        "description": "Given a string, return a similar version of the string, but which is camel-cased and otherwise stripped of special characters, whitespace, etc. so that it is usable as an ECMAScript variable.",
        "inputs": {
          "string": {
            "description": "The string to convert.",
            "example": "foo-bar-baz",
            "required": true,
            "type": "string"
          },
          "force": {
            "description": "Return a best guess varname even if the conversion fails?",
            "extendedDescription": "If `force` is enabled, a variable name is guaranteed, even if it is just \"x\".",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "collidesWithReservedWord": {
            "description": "The specified string cannot be coerced into a valid ECMAScript 5.1-compatible variable name because it would collide with a JavaScript reserved word, or is otherwise invalid."
          },
          "success": {
            "example": "fooBarBaz",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var convertToEcmascriptCompatibleVarname = require('convert-to-ecmascript-compatible-varname');\n\n    var result;\n    try {\n      result = convertToEcmascriptCompatibleVarname(inputs.string);\n    }\n    catch (e) {\n\n      // If `force` is not enabled, then handle this error.\n      if (!inputs.force) {\n        if (e.code === 'RESERVED') {\n          return exits.collidesWithReservedWord(e);\n        }\n        return exits.error(e);\n      }\n\n      // Otherwise `force` is enabled so we need to keep trucking.\n      //\n      // We'll try a rougher guess, converting the provided string to\n      // be alphanumeric.  In the absolute worst-case, use `x`.\n      try {\n        result = inputs.string.replace(/^[^a-zA-Z\\$\\_]/, '').replace(/^.[^a-zA-Z0-9]*/, '');\n        result = result || 'x';\n\n        // Now run `convertToEcmascriptCompatibleVarname` one more time in case\n        // there is still a collision with a reserved word.\n        try {\n          result = convertToEcmascriptCompatibleVarname(result);\n          return exits.success(result);\n        }\n        // If this doesn't work, just use `x`.\n        catch (e2) {\n          return exits.success('x');\n        }\n      }\n      catch (e1) {\n        return exits.error(e);\n      }\n    }\n\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-javascript/coerce-varname",
        "docsUrl": "http://node-machine.org/machinepack-javascript/coerce-varname",
        "defaultExit": null,
        "machinepack": 7,
        "id": 497,
        "createdAt": "2015-05-15T21:19:42.000Z",
        "updatedAt": "2016-08-14T18:49:49.000Z"
      },
      {
        "identity": "beautify",
        "variableName": "beautify",
        "friendlyName": "Beautify",
        "cacheable": true,
        "sync": true,
        "description": "Beautify a JavaScript code string.",
        "inputs": {
          "code": {
            "description": "The JavaScript code to beautify.",
            "example": "alert(\n\"hi it's me\" + \n' and i sure am messy\")\nvar x   =1+1;\n",
            "required": true,
            "type": "string"
          },
          "useTabs": {
            "friendlyName": "Use tabs?",
            "description": "Whether to use tabs instead of spaces (defaults to 2 spaces)",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "numSpaces": {
            "friendlyName": "# of spaces",
            "description": "The number of spaces that should represent an indentation.",
            "extendedDescription": "This input is ignored if the `useTabs` input is enabled.",
            "example": 2,
            "defaultsTo": 2,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "variableName": "beautifiedCode",
            "example": "alert(\"hi it's me\" + \n\" and i sure am messy\");\nvar x = 1+1;\n",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var beautify = require('js-beautify').js;\n    return exits.success(beautify(inputs.code, {\n      indent_size: inputs.numSpaces,\n      indent_char: ' ',\n      indent_with_tabs: inputs.useTabs\n    }));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-javascript/beautify",
        "docsUrl": "http://node-machine.org/machinepack-javascript/beautify",
        "defaultExit": null,
        "machinepack": 7,
        "id": 527,
        "createdAt": "2015-05-20T13:59:43.000Z",
        "updatedAt": "2016-08-14T18:49:49.000Z"
      }
    ],
    "identity": "machinepack-javascript",
    "version": "3.0.1",
    "latestVersionPublishedAt": "2016-08-14T00:00:00.000Z",
    "variableName": "JavaScript",
    "friendlyName": "JavaScript",
    "description": "Machines for working with javascript code strings.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-javascript",
    "docsUrl": "http://node-machine.org/machinepack-javascript",
    "npmUrl": "http://npmjs.org/package/machinepack-javascript",
    "npmPackageName": "machinepack-javascript",
    "githubUrl": "http://github.com/mikermcneil/machinepack-javascript/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-javascript/",
    "testsUrl": "",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "^1.0.3"
      },
      {
        "name": "convert-to-ecmascript-compatible-varname",
        "semverRange": "0.1.4"
      },
      {
        "name": "js-beautify",
        "semverRange": "1.5.10"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-0"
      },
      {
        "name": "uglify-js",
        "semverRange": "2.6.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 7,
    "createdAt": "2015-02-16T23:51:05.000Z",
    "updatedAt": "2016-08-14T18:49:49.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "parse",
        "variableName": "parse",
        "friendlyName": "Parse JSON string",
        "cacheable": true,
        "sync": true,
        "description": "Parse data from a JSON-encoded string.",
        "inputs": {
          "json": {
            "friendlyName": "JSON string",
            "description": "The JSON string to parse",
            "example": "...{\"some json\": \"like this\"}...",
            "required": true,
            "type": "string"
          },
          "schema": {
            "friendlyName": "Expected schema",
            "description": "A representative example (RTTC exemplar) of what the resulting data should look like.",
            "moreInfoUrl": "http://github.com/node-machine/rttc",
            "example": "*",
            "constant": true,
            "isExemplar": true,
            "type": "string"
          }
        },
        "exits": {
          "couldNotParse": {
            "friendlyName": "could not parse",
            "description": "Could not parse provided string- must be a valid JSON string.",
            "extendedDescription": "Oftentimes this error is a result of not using double-quotes.  Refer to the official JSON specification at http://www.json.org/ for more information."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "like": "schema",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var parsedJson;\n    try {\n      parsedJson = JSON.parse(inputs.json);\n    }\n    catch (e){\n      return exits.couldNotParse(e);\n    }\n    return exits.success(parsedJson);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-json/parse",
        "docsUrl": "http://node-machine.org/machinepack-json/parse",
        "defaultExit": "success",
        "machinepack": 104,
        "id": 406,
        "createdAt": "2015-04-29T19:09:45.000Z",
        "updatedAt": "2016-03-15T17:10:09.000Z"
      },
      {
        "identity": "stringify",
        "variableName": "stringify",
        "friendlyName": "Stringify as JSON",
        "cacheable": true,
        "sync": true,
        "description": "Encode the specified value into a JSON string.",
        "inputs": {
          "value": {
            "friendlyName": "Data",
            "description": "The data to encode as a JSON string",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "couldNotStringify": {
            "friendlyName": "could not stringify",
            "description": "Could not stringify provided value into a JSON string.",
            "extendedDescription": "Oftentimes this error results from attempting to stringify a circular object (i.e. has a key or array item which points back to the parent object).  Refer to the official JSON specification at http://www.json.org/ for more information."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "...{\"some stringified json\": \"like this\"}...",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var jsonString;\n    try {\n      jsonString = JSON.stringify(inputs.value);\n    }\n    catch (e){\n      return exits.couldNotStringify(e);\n    }\n    return exits.success(jsonString);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-json/stringify",
        "docsUrl": "http://node-machine.org/machinepack-json/stringify",
        "defaultExit": "success",
        "machinepack": 104,
        "id": 407,
        "createdAt": "2015-04-29T19:09:45.000Z",
        "updatedAt": "2016-03-15T17:10:09.000Z"
      },
      {
        "identity": "stringify-safe",
        "variableName": "stringifySafe",
        "friendlyName": "Stringify (safe)",
        "cacheable": true,
        "sync": true,
        "description": "Encode the specified value into a JSON string, but tolerate recursive objects and preserve functions, errors, and regexps.",
        "inputs": {
          "value": {
            "friendlyName": "Data",
            "description": "The data to encode as a JSON string",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "...{\"some stringified json\": \"like this\"}...",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Backwards compat for Node v0.10 (which doesn't have `util.is*()` qualifiers)\n    var isFunction = require('lodash.isfunction');\n    var isRegExp = require('lodash.isregexp');\n    var isError = require('lodash.iserror');\n\n\n    /**\n     * This was modified by @mikermcneil from @isaacs' json-stringify-safe\n     * (see https://github.com/isaacs/json-stringify-safe/commit/02cfafd45f06d076ac4bf0dd28be6738a07a72f9#diff-c3fcfbed30e93682746088e2ce1a4a24)\n     * @param  {*} val           [description]\n     * @return {String}               [description]\n     */\n    function serializer(replacer, cycleReplacer) {\n      var stack = [];\n      var keys = [];\n\n      if (!cycleReplacer) {\n        cycleReplacer = function(key, value) {\n          if (stack[0] === value) return '[Circular ~]';\n          return '[Circular ~.' + keys.slice(0, stack.indexOf(value)).join('.') + ']';\n        };\n      }\n\n      return function(key, value) {\n        if (stack.length > 0) {\n          var thisPos = stack.indexOf(this);\n          ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n          ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n          if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value);\n        }\n        else stack.push(value);\n\n        // Do some advanced serialization\n        if (isError(value)){\n          value = value.stack;\n        }\n        else if (isRegExp(value)){\n          value = value.toString();\n        }\n        else if (isFunction(value)){\n          value = value.toString();\n        }\n\n        if (!replacer) {\n          return value;\n        }\n        return replacer.call(this, key, value);\n      };\n    }\n\n    var jsonString = JSON.stringify(inputs.value, serializer());\n    return exits.success(jsonString);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-json/stringify-safe",
        "docsUrl": "http://node-machine.org/machinepack-json/stringify-safe",
        "defaultExit": null,
        "machinepack": 104,
        "id": 510,
        "createdAt": "2015-05-19T13:49:39.000Z",
        "updatedAt": "2016-03-15T17:10:09.000Z"
      }
    ],
    "identity": "machinepack-json",
    "version": "2.0.1",
    "latestVersionPublishedAt": "2016-03-15T00:00:00.000Z",
    "variableName": "JSON",
    "friendlyName": "JSON",
    "description": "Encode and decode data to and from JSON.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-json",
    "docsUrl": "http://node-machine.org/machinepack-json",
    "npmUrl": "http://npmjs.org/package/machinepack-json",
    "npmPackageName": "machinepack-json",
    "githubUrl": "http://github.com/treelinehq/machinepack-json/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-json/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash.iserror",
        "semverRange": "3.1.1"
      },
      {
        "name": "lodash.isfunction",
        "semverRange": "3.0.8"
      },
      {
        "name": "lodash.isregexp",
        "semverRange": "3.0.5"
      },
      {
        "name": "machine",
        "semverRange": "~12.1.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 104,
    "createdAt": "2015-04-29T18:59:43.000Z",
    "updatedAt": "2016-03-15T17:10:09.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "validate",
        "variableName": "validate",
        "friendlyName": "Validate",
        "cacheable": null,
        "sync": null,
        "description": "Validate some json data against a schema.",
        "inputs": {
          "data": {
            "typeclass": "*",
            "description": "The data to validate (i.e. the \"JSON instance\")",
            "required": true,
            "type": "*"
          },
          "schema": {
            "typeclass": "dictionary",
            "description": "The JSON-schema to validate against",
            "required": true,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalid": {
            "description": "Provided data and schema are not compatible.",
            "example": [
              {
                "property": "instance",
                "schema": {
                  "type": "string"
                },
                "stack": "instance is not of a type(s) string"
              }
            ],
            "type": "array"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var BaseValidator = require('jsonschema').Validator;\n    var validator = new BaseValidator();\n\n    var result = validator.validate(inputs.data, inputs.schema);\n    // => {\n    //   instance: 55,\n    //   schema: {\n    //     type: 'number'\n    //   },\n    //   propertyPath: 'instance',\n    //   errors: [],\n    //   throwError: undefined\n    // }\n\n    if (result.errors.length > 0) {\n      return exits.invalid(result.errors);\n    }\n\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": "https://www.npmjs.com/package/jsonschema",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jsonschema/validate",
        "docsUrl": "http://node-machine.org/machinepack-jsonschema/validate",
        "defaultExit": "success",
        "machinepack": 14,
        "id": 67,
        "createdAt": "2015-02-16T23:51:21.000Z",
        "updatedAt": "2015-07-01T22:29:55.000Z"
      }
    ],
    "identity": "machinepack-jsonschema",
    "version": "0.3.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "JsonSchema",
    "friendlyName": "Json Schema",
    "description": "Node.js utility for working with the JSON-schema spec.",
    "extendedDescription": "",
    "moreInfoUrl": "http://spacetelescope.github.io/understanding-json-schema/UnderstandingJSONSchema.pdf",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-jsonschema",
    "docsUrl": "http://node-machine.org/machinepack-jsonschema",
    "npmUrl": "http://npmjs.org/package/machinepack-jsonschema",
    "npmPackageName": "machinepack-jsonschema",
    "githubUrl": "http://github.com/mikermcneil/machinepack-jsonschema/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-jsonschema/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-jsonschema",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "jsonschema",
        "semverRange": "^1.0.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 14,
    "createdAt": "2015-02-16T23:51:20.000Z",
    "updatedAt": "2015-07-01T22:29:55.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "encode",
        "variableName": "encode",
        "friendlyName": "encode",
        "cacheable": null,
        "sync": null,
        "description": "Encode a JWT.",
        "inputs": {
          "secret": {
            "friendlyName": "Secret",
            "example": "abc123jdhs3h4js",
            "description": "The secret used to encode the JWT.",
            "required": true,
            "type": "string"
          },
          "payload": {
            "friendlyName": "JWT Payload",
            "typeclass": "*",
            "description": "The contents of the JWT.",
            "required": true,
            "type": "*"
          },
          "algorithm": {
            "friendlyName": "Algorithm",
            "example": "HS256",
            "description": "The type of algorithm that is used to encode the JWT. Options: HS256, HS384, HS512 and RS256.",
            "type": "string"
          },
          "expires": {
            "friendlyName": "Expires",
            "example": 43200,
            "description": "Number of minutes until the token expires.",
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ",
            "hasDynamicOutputType": true,
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var jwt = require('jsonwebtoken');\n    if(inputs.expires || inputs.algorithm){ //Options exist\n      var options = {};\n      if(inputs.algorithm){\n        options.algorithm = inputs.algorithm;\n      }\n      if(inputs.expires){\n        options.expires = inputs.expires;\n      }\n      return exits.success(jwt.sign(inputs.payload, inputs.secret, options));\n    }\n    else {\n      return exits.success(jwt.sign(inputs.payload, inputs.secret));\n    }\n  ",
        "environment": [],
        "extendedDescription": "Encode a JSON web token with a provided secret. You may choose what algorithm you want to use to encode the JWT, but make sure to use the same algorithm when you are decoding the JWT.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jwt/encode",
        "docsUrl": "http://node-machine.org/machinepack-jwt/encode",
        "defaultExit": "success",
        "machinepack": 107,
        "id": 430,
        "createdAt": "2015-05-02T01:09:34.000Z",
        "updatedAt": "2015-05-21T18:49:36.000Z"
      },
      {
        "identity": "decode",
        "variableName": "decode",
        "friendlyName": "decode",
        "cacheable": null,
        "sync": null,
        "description": "Decode a JWT.",
        "inputs": {
          "secret": {
            "friendlyName": "Secret",
            "example": "abc123jdhs3h4js",
            "description": "Secret used to decode the JSON web token.",
            "required": true,
            "type": "string"
          },
          "token": {
            "friendlyName": "Token",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ",
            "description": "JSON web token to decode.",
            "required": true,
            "type": "string"
          },
          "schema": {
            "friendlyName": "Schema",
            "typeclass": "*",
            "description": "Example of expected token object to make available in output. Can be example object or a list/array of parameter names.",
            "type": "*"
          },
          "algorithm": {
            "friendlyName": "Algorithm",
            "example": "HS256",
            "description": "The type of algorithm that is used to decode the JWT. Options: HS256, HS384, HS512 and RS256. Make sure to use the same algorithm that you used to encode the JWT.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "hasDynamicOutputType": true,
            "getExample": "        // Example schema\n        var defaultObj = {id:\"abc123\", email:\"example@example.com\", role:\"user\", sessionId:\"abc123\"};\n        if(!inputs.schema) return defaultObj;\n        // Handle a array of parameters\n        if(_.isArray(inputs.schema)){\n          return arrayToExample(inputs.schema);\n        }\n        // Handle a list of parameters\n        if(_.isString(inputs.schema)){\n          var paramsArray = inputs.schema.split(\",\");\n          return arrayToExample(paramsArray);\n        }\n        // schema is an object\n        return inputs.schema;\n      ",
            "isDefault": true
          }
        },
        "fn": "    return exitWithToken(inputs, exits);\n  ",
        "environment": [],
        "extendedDescription": "Decode a JSON web token with a provided secret. You may choose what algorithm you want to use to decode the JWT, but make sure to use the same algorithm that you used to encode the JWT.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jwt/decode",
        "docsUrl": "http://node-machine.org/machinepack-jwt/decode",
        "defaultExit": "success",
        "machinepack": 107,
        "id": 431,
        "createdAt": "2015-05-02T01:19:19.000Z",
        "updatedAt": "2015-05-21T18:49:36.000Z"
      }
    ],
    "identity": "machinepack-jwt",
    "version": "0.1.14",
    "latestVersionPublishedAt": "2015-05-21T00:00:00.000Z",
    "variableName": "JWT",
    "friendlyName": "JWT",
    "description": "Work with JSON Web Tokens.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-jwt",
    "docsUrl": "http://node-machine.org/machinepack-jwt",
    "npmUrl": "http://npmjs.org/package/machinepack-jwt",
    "npmPackageName": "machinepack-jwt",
    "githubUrl": "http://github.com/prescottprue/machinepack-jwt/",
    "sourceUrl": "http://github.com/prescottprue/machinepack-jwt/",
    "testsUrl": "https://travis-ci.org/prescottprue/machinepack-jwt",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "jsonwebtoken",
        "semverRange": "^5.0.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "underscore",
        "semverRange": "^1.8.3"
      }
    ],
    "contributors": [
      {
        "name": "Prescott Prue",
        "email": ""
      },
      {
        "name": "prescottprue",
        "email": "sprue.dev@gmail.com"
      }
    ],
    "id": 107,
    "createdAt": "2015-05-02T01:09:34.000Z",
    "updatedAt": "2015-05-21T18:49:36.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "verify-from-header",
        "variableName": "verifyFromHeader",
        "friendlyName": "Verify From Header",
        "cacheable": null,
        "sync": null,
        "description": "Verify a token that is provided in a request header.",
        "inputs": {
          "header": {
            "friendlyName": "Header Name",
            "example": "Authorization",
            "description": "The name/key of the header from which to get the token string.",
            "required": true,
            "type": "string"
          },
          "secret": {
            "friendlyName": "Secret",
            "example": "abc123jdhs3h4js",
            "description": "Secret used to decode the JSON web token.",
            "required": true,
            "type": "string"
          },
          "schema": {
            "friendlyName": "Schema",
            "typeclass": "*",
            "description": "Example of expected token object to make available in output. Can be example object or a list/array of parameter names.",
            "type": "*"
          },
          "headerPrefix": {
            "friendlyName": "Prefix",
            "example": "Bearer ",
            "description": "Prefix attached to token within header value. This is only nessesary if you have set a prefix within the request.",
            "type": "string"
          },
          "algorithm": {
            "friendlyName": "Algorithm",
            "example": "HS256",
            "description": "The type of algorithm that is used to decode the JWT. Options: HS256, HS384, HS512 and RS256. Make sure to use the same algorithm that you used to encode the JWT.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "nullHeader": {
            "description": "No header with that name present within the request."
          },
          "success": {
            "description": "OK.",
            "hasDynamicOutputType": true,
            "getExample": "        // Example schema\n        var defaultObj = {id:\"abc123\", email:\"example@example.com\", role:\"user\", sessionId:\"abc123\"};\n        if(!inputs.schema) return defaultObj;\n        // Handle a array of parameters\n        if(_.isArray(inputs.schema)){\n          return arrayToExample(inputs.schema);\n        }\n        // Handle a list of parameters\n        if(_.isString(inputs.schema)){\n          var paramsArray = inputs.schema.split(\",\");\n          return arrayToExample(paramsArray);\n        }\n        // schema is an object\n        return inputs.schema;\n      ",
            "isDefault": true
          }
        },
        "fn": "    var jwtMachine = require('machinepack-jwt');\n\n    var headerVal = env.req.get(inputs.header);\n    var decodeParams = {secret:inputs.secret};\n\n    if(headerVal){ //Check that value exists for header\n      if(inputs.algorithm){ //Add algorithm if it exists\n        decodeParams.algorithm = inputs.algorithm;\n      }\n      if(inputs.headerPrefix){ //Remove prefix from header if headerPrefix exists\n        headerVal.replace(inputs.headerPrefix, \"\"); //Remove prefix to leave token string\n      }\n      \n      decodeParams.token = headerVal;\n\n      try{\n        return exits.success(jwtMachine.decode(decodeParams));\n      } catch(err){\n        return exits.error(err);\n      }\n    }\n    return exits.nullHeader(); //Header does not exist\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": "Use a provided secret to decode a JSON web token coming from a request header. You may choose what algorithm you want to use to decode the JWT, but make sure to use the same algorithm that you used to encode the JWT.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jwtauth/verify-from-header",
        "docsUrl": "http://node-machine.org/machinepack-jwtauth/verify-from-header",
        "defaultExit": "success",
        "machinepack": 112,
        "id": 480,
        "createdAt": "2015-05-11T13:39:27.000Z",
        "updatedAt": "2015-05-21T19:39:21.000Z"
      }
    ],
    "identity": "machinepack-jwtauth",
    "version": "0.1.8",
    "latestVersionPublishedAt": "2015-05-21T00:00:00.000Z",
    "variableName": "JWTAuth",
    "friendlyName": "JWT Auth",
    "description": "Handle JSON Web Token authentication requests.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-jwtauth",
    "docsUrl": "http://node-machine.org/machinepack-jwtauth",
    "npmUrl": "http://npmjs.org/package/machinepack-jwtauth",
    "npmPackageName": "machinepack-jwtauth",
    "githubUrl": "http://github.com/prescottprue/machinepack-jwtauth/",
    "sourceUrl": "http://github.com/prescottprue/machinepack-jwtauth/",
    "testsUrl": "https://travis-ci.org/prescottprue/machinepack-jwtauth",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-jwt",
        "semverRange": "^0.1.14"
      }
    ],
    "contributors": [
      {
        "name": "Prescott Prue",
        "email": ""
      },
      {
        "name": "prescottprue",
        "email": "sprue.dev@gmail.com"
      }
    ],
    "id": 112,
    "createdAt": "2015-05-11T06:59:29.000Z",
    "updatedAt": "2015-05-21T19:39:21.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "start-server",
        "variableName": "startServer",
        "friendlyName": "Start server",
        "cacheable": false,
        "sync": false,
        "description": "Machine used to start an instance of a jxm server",
        "inputs": {
          "serviceName": {
            "example": "Hello World",
            "description": "The name of our service",
            "required": true,
            "type": "string"
          },
          "baseUrlPath": {
            "example": "/helloworld",
            "description": "The base url path of our service. If none is provided, inferred from serviceName",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "Server Started",
            "description": "OK.",
            "example": "ok!",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n\n      var server = require('jxm');\n      var _ = require('lodash');\n      var baseUrlPath = null;\n\n      if (_.isUndefined(inputs.baseUrlPath)){\n          baseUrlPath = '/'.concat(inputs.serviceName);\n      } else {\n          baseUrlPath = inputs.baseUrlPath;\n      }\n\n\n      server.setApplication(inputs.serviceName, baseUrlPath, \"NUBISA-STANDARD-KEY-CHANGE-THIS\");\n\n      server.addJSMethod(\"serverMethod\", function (env, params) {\n          console.log('received :'.concat(params));\n         server.sendCallBack(env, 'Simon Says : '.concat(params));\n      });\n      server.start();\n\n    return exits.success('server started!');\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jxm/start-server",
        "docsUrl": "http://node-machine.org/machinepack-jxm/start-server",
        "defaultExit": null,
        "machinepack": 161,
        "id": 704,
        "createdAt": "2016-03-02T19:59:18.000Z",
        "updatedAt": "2016-03-02T20:59:35.000Z"
      },
      {
        "identity": "start-client",
        "variableName": "startClient",
        "friendlyName": "Start client",
        "cacheable": false,
        "sync": false,
        "description": "Machine used to start an instance of a jxm client",
        "inputs": {
          "ipServer": {
            "example": "0.0.0.0",
            "description": "The IP address of our server",
            "required": true,
            "type": "string"
          },
          "serviceName": {
            "example": "Hello World",
            "description": "The name of our service",
            "required": true,
            "type": "string"
          },
          "message": {
            "example": "Clap your hands",
            "description": "The message to send to the server",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "serverCallFailed": {
            "description": "Error while calling server's method"
          },
          "success": {
            "friendlyName": "Client Started",
            "description": "OK.",
            "example": "ok!",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "function (inputs, exits\n        /**/\n    ) {\n        var server = require('jxm');\n\n\n\n        var client = server.createClient(null, inputs.serviceName,\n        \"NUBISA-STANDARD-KEY-CHANGE-THIS\", inputs.ipServer, 8000);\n\n        client.on('connect', function(client) {\n            client.Call(\"serverMethod\", inputs.message, function(param, err) {\n                if (err) {\n                    client.Close();\n                    return exits.serverCallFailed(\"Error while calling server's method. Code: \", err);\n\n                } else {\n                    client.Close();\n                    return exits.success(param);\n                }\n            });\n        });\n\n        client.on('close', function(client) {\n            console.log(\"Client disconnected\");\n        });\n\n        client.on('error', function(client, err) {\n            return exits.error(\"Error 1 : \"+err);\n        });\n\n        client.Connect();\n\n\n    }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-jxm/start-client",
        "docsUrl": "http://node-machine.org/machinepack-jxm/start-client",
        "defaultExit": null,
        "machinepack": 161,
        "id": 705,
        "createdAt": "2016-03-02T19:59:18.000Z",
        "updatedAt": "2016-03-02T20:59:35.000Z"
      }
    ],
    "identity": "machinepack-jxm",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2016-03-02T00:00:00.000Z",
    "variableName": "Jxm",
    "friendlyName": "Jxm",
    "description": "Work with jxm",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-jxm",
    "docsUrl": "http://node-machine.org/machinepack-jxm",
    "npmUrl": "http://npmjs.org/package/machinepack-jxm",
    "npmPackageName": "machinepack-jxm",
    "githubUrl": "http://github.com/GuillaumeLiard/machinepack-jxm/",
    "sourceUrl": "http://github.com/GuillaumeLiard/machinepack-jxm/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "jxm",
        "semverRange": "^0.4.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Guillaume Liard",
        "email": ""
      },
      {
        "name": "guillaumeliard",
        "email": "liardg@gmail.com"
      }
    ],
    "id": 161,
    "createdAt": "2016-03-02T19:59:18.000Z",
    "updatedAt": "2016-03-02T20:59:35.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-new-cards",
        "variableName": "getNewCards",
        "friendlyName": "Get new Cards",
        "cacheable": null,
        "sync": null,
        "description": "Gets the newly created cards",
        "inputs": {
          "domain": {
            "example": "yourcompany",
            "description": "The name of the domain of your company on KanbanTool.",
            "required": true,
            "type": "string"
          },
          "apiToken": {
            "example": "11A1AA1AAA1A",
            "description": "The KanbanTool API key (https://DOMAIN.kanbantool.com/profile/api_token).",
            "required": true,
            "type": "string"
          },
          "boardId": {
            "example": 12345,
            "description": "The board ID for which to check for new cards.",
            "required": true,
            "type": "number"
          },
          "fromDate": {
            "example": 12345,
            "description": "The timestamp from which to start checking.",
            "required": true,
            "type": "number"
          },
          "toDate": {
            "example": 12345,
            "description": "The timestamp of where to end checking.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "cards": []
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\tvar format = require(\"string-format\");\n\tvar Client = require(\"node-rest-client\").Client;\n\tvar restClient = new Client();\n\t\n\tvar fromDate = new Date(inputs.fromDate).toISOString().replace(/\\..+/, '');\n\tvar toDate = new Date(inputs.toDate).toISOString().replace(/\\..+/, '');\n\n\tvar apiURLTemplate = \"https://{domain}.kanbantool.com/api/v1/boards/{board_id}/changelog.json?api_token={api_token}&from={from_date}&to={to_date}\"; // &user_id=user_id&offset=offset&limit=results_limit\n\tvar apiURL = format(apiURLTemplate, {domain: inputs.domain, api_token: inputs.apiToken, board_id: inputs.boardId, from_date: fromDate, to_date: toDate});\n\t//console.log(apiURL);\n\t\n\trestClient.get(apiURL, function(responseText, response){\nif(response.statusCode != 200) {\n\treturn response.error({description: \"Received error code: \" + response.statusCode + \" \" + response.statusMessage});\n}\n\nvar results = [];\n\nvar data = JSON.parse(responseText);\nfor(var i = 0; i < data.length; i++) {\n\tvar item = data[i];\n\tvar changelog = item.changelog;\n\tif(changelog.changed_object_type == \"Task\" && changelog.what == \"created\") {\n\t\tresults.push(changelog.data);\n\t}\n}\n\nreturn exits.success({\n  cards: results\n});\n\t});\n  ",
        "environment": [],
        "extendedDescription": "Queries the board for the cards that where added recently.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-kanbantool/get-new-cards",
        "docsUrl": "http://node-machine.org/machinepack-kanbantool/get-new-cards",
        "defaultExit": "success",
        "machinepack": 54,
        "id": 221,
        "createdAt": "2015-03-16T14:29:32.000Z",
        "updatedAt": "2015-03-17T13:09:28.000Z"
      }
    ],
    "identity": "machinepack-kanbantool",
    "version": "0.5.0",
    "latestVersionPublishedAt": "2015-03-17T00:00:00.000Z",
    "variableName": "KanbanTool",
    "friendlyName": "KanbanTool",
    "description": "Interact with your KanbanTool boards and tasks (http://kanbantool.com/)",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-kanbantool",
    "docsUrl": "http://node-machine.org/machinepack-kanbantool",
    "npmUrl": "http://npmjs.org/package/machinepack-kanbantool",
    "npmPackageName": "machinepack-kanbantool",
    "githubUrl": "http://github.com/jochenderwae/machine-kanbantool/",
    "sourceUrl": "http://github.com/jochenderwae/machine-kanbantool/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "node-rest-client",
        "semverRange": "^1.4.4"
      },
      {
        "name": "string-format",
        "semverRange": "^0.5.0"
      }
    ],
    "contributors": [
      {
        "name": "Jocchen Derwae",
        "email": ""
      },
      {
        "name": "jochenderwae",
        "email": "jochen.derwae@gmail.com"
      }
    ],
    "id": 54,
    "createdAt": "2015-03-16T11:29:39.000Z",
    "updatedAt": "2015-03-17T13:09:28.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "place-order",
        "variableName": "placeOrder",
        "friendlyName": null,
        "cacheable": false,
        "sync": false,
        "description": null,
        "inputs": {
          "eid": {
            "id": "3eed72c0-9309-4b9d-b324-cc8251e04923",
            "friendlyName": "EID",
            "description": "",
            "example": "123a",
            "requiredManually": true,
            "addedManually": true,
            "required": true,
            "type": "string"
          },
          "secret": {
            "friendlyName": "secret",
            "description": "",
            "example": "ART238ureXkz561",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          },
          "live": {
            "id": "7653be11-255b-4432-ba11-bc858853b38d",
            "friendlyName": "Live",
            "description": "Live transactions",
            "example": true,
            "requiredManually": true,
            "addedManually": true,
            "required": true,
            "type": "boolean"
          },
          "cart": {
            "friendlyName": "Cart",
            "description": "",
            "example": {
              "items": [
                {
                  "name": "Tin of spam",
                  "reference": "1234",
                  "quantity": 2,
                  "unit_price": 3400,
                  "tax_rate": 2500
                }
              ]
            },
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "object"
          },
          "country": {
            "id": "8c9499fc-703f-4fec-a615-808a3f6a2384",
            "friendlyName": "Country",
            "description": "Klarna Country\nSupported languages: https://developers.klarna.com/en/se+php/kco-v2/checkout-api#supported-locales",
            "example": "NO",
            "addedManually": true,
            "type": "string"
          },
          "currency": {
            "id": "76e18aa4-7486-46a0-b7c5-d2d4c728d2da",
            "friendlyName": "Currency",
            "description": "Klarna currency\nSupported languages: https://developers.klarna.com/en/se+php/kco-v2/checkout-api#supported-locales",
            "example": "NOK",
            "addedManually": true,
            "type": "string"
          },
          "locale": {
            "id": "48ad9307-35f6-474c-9c49-1acf8681fdb1",
            "friendlyName": "locale",
            "description": "Klarna locale\nSupported languages: https://developers.klarna.com/en/se+php/kco-v2/checkout-api#supported-locales",
            "example": "nb-no",
            "addedManually": true,
            "type": "string"
          },
          "confirmationURL": {
            "friendlyName": "Confirmation URL",
            "description": "",
            "example": "http://localhost:1337/confirmation?klarna_order_id={checkout.order.id}",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "id": "success",
            "friendlyName": "then",
            "description": "OK.",
            "example": "<html> \"html code\" </html>",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var klarna = require(\"klarna-checkout\");\n\n    klarna.init({\n      eid: inputs.eid,\n      secret: inputs.secret,\n      live: false\n    });\n\n    klarna.config({\n      purchase_country: inputs.country,\n      purchase_currency: inputs.currency,\n      locale: inputs.locale,\n      terms_uri: 'http://www.example.com',\n      cancellation_terms_uri: 'http://www.example.com',\n      checkout_uri: 'http://www.example.com',\n      confirmation_uri: inputs.confirmationURL,\n      push_uri: 'http://www.example.com'\n    });\n\n    return klarna.place(inputs.cart).then(function(id) {\n      console.log(\"Klarna ID :\", id);\n      return klarna.fetch(id);\n    }, function(error) {\n      console.log(\"error:\");\n      return exits.error(error);\n    }).then(function(order) {\n      console.log(\"Snippet received\");\n      return exits.success(order.gui.snippet);\n    }, function(error) {\n      return exits.error(error);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-klarnacheckout/place-order",
        "docsUrl": "http://node-machine.org/machinepack-klarnacheckout/place-order",
        "defaultExit": "success",
        "machinepack": 156,
        "id": 693,
        "createdAt": "2016-01-29T21:49:38.000Z",
        "updatedAt": "2016-01-29T21:49:38.000Z"
      },
      {
        "identity": "fetchorder",
        "variableName": "fetchorder",
        "friendlyName": null,
        "cacheable": false,
        "sync": false,
        "description": null,
        "inputs": {
          "eid": {
            "friendlyName": "EID",
            "description": "",
            "example": "12345c",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          },
          "secret": {
            "friendlyName": "Secret",
            "description": "",
            "example": "somesecret",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          },
          "live": {
            "friendlyName": "Live",
            "description": "",
            "example": false,
            "addedManually": true,
            "type": "boolean"
          },
          "country": {
            "friendlyName": "Country",
            "description": "",
            "example": "NO",
            "addedManually": true,
            "type": "string"
          },
          "currency": {
            "friendlyName": "Currency",
            "description": "",
            "example": "NOK",
            "addedManually": true,
            "type": "string"
          },
          "locale": {
            "friendlyName": "Locale",
            "description": "",
            "example": "nb-no",
            "addedManually": true,
            "type": "string"
          },
          "id": {
            "friendlyName": "id",
            "description": "Order id",
            "example": "somerorderid23",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "id": "success",
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "id": "FZKNGFQAO4JN2731K8ALWU8CH0P",
              "purchase_country": "se",
              "purchase_currency": "sek",
              "locale": "sv-se",
              "status": "checkout_complete",
              "reference": "FZKNGFQAO4JN2731K8ALWU8CH0P",
              "reservation": "1220307000",
              "started_at": "2016-01-23T15:17:35+01:00",
              "completed_at": "2016-01-23T15:18:02+01:00",
              "last_modified_at": "2016-01-23T15:18:02+01:00",
              "expires_at": "2016-02-06T15:18:02+01:00",
              "cart": {
                "items": [
                  {
                    "discount_rate": 0,
                    "name": "test",
                    "quantity": 10,
                    "reference": "1234",
                    "tax_rate": 2500,
                    "total_price_excluding_tax": 80000,
                    "total_price_including_tax": 100000,
                    "total_tax_amount": 20000,
                    "type": "physical",
                    "unit_price": 10000
                  }
                ],
                "total_price_excluding_tax": 80000,
                "total_tax_amount": 20000,
                "total_price_including_tax": 100000
              },
              "customer": {
                "type": "person",
                "date_of_birth": "1941-03-21",
                "gender": "female"
              },
              "shipping_address": {
                "given_name": "Testperson-se",
                "family_name": "Approved",
                "street_address": "StÃ¥rgatan 1",
                "postal_code": "12345",
                "city": "Ankeborg",
                "country": "se",
                "email": "checkout-se@testdrive.klarna.com",
                "phone": "070 111 11 11"
              },
              "billing_address": {
                "given_name": "Testperson-se",
                "family_name": "Approved",
                "street_address": "StÃ¥rgatan 1",
                "postal_code": "12345",
                "city": "Ankeborg",
                "country": "se",
                "email": "checkout-se@testdrive.klarna.com",
                "phone": "070 111 11 11"
              },
              "gui": {
                "layout": "desktop",
                "snippet": "<html snippet>"
              },
              "merchant": {
                "id": "1000",
                "terms_uri": "http://www.example.com",
                "checkout_uri": "http://www.example.com",
                "confirmation_uri": "http://localhost:1337/confirmation?klarna_order_id=FZKNGFQAO4JN2731K8ALWU8CH0P",
                "push_uri": "http://www.example.com",
                "cancellation_terms_uri": "http://www.example.com"
              },
              "cart_update_allowed": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var klarna = require(\"klarna-checkout\");\n\n    klarna.init({\n      eid: inputs.eid,\n      secret: inputs.secret,\n      live: inputs.live\n    });\n\n    klarna.config({\n      purchase_country: inputs.country,\n      purchase_currency: inputs.currency,\n      locale: inputs.locale,\n      terms_uri: 'http://www.example.com',\n      cancellation_terms_uri: 'http://www.example.com',\n      checkout_uri: 'http://www.example.com',\n      confirmation_uri: 'http://localhost:3000/confirmation?klarna_order_id={checkout.order.id}',\n      push_uri: 'http://www.example.com'\n    });\n\n    return klarna.fetch(inputs.id).then(function(order) {\n      return exits.success(order);\n    }, function(error) {\n      return exits.success(error);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-klarnacheckout/fetchorder",
        "docsUrl": "http://node-machine.org/machinepack-klarnacheckout/fetchorder",
        "defaultExit": "success",
        "machinepack": 156,
        "id": 694,
        "createdAt": "2016-01-29T21:49:38.000Z",
        "updatedAt": "2016-01-29T21:49:38.000Z"
      },
      {
        "identity": "confirm-order",
        "variableName": "confirmOrder",
        "friendlyName": null,
        "cacheable": false,
        "sync": false,
        "description": null,
        "inputs": {
          "eid": {
            "friendlyName": "EID",
            "description": "",
            "example": 1234,
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "number"
          },
          "secret": {
            "friendlyName": "Secret",
            "description": "",
            "example": "dsfsdgfdnghgesr435t5",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          },
          "live": {
            "friendlyName": "Live",
            "description": "",
            "example": false,
            "addedManually": true,
            "type": "boolean"
          },
          "country": {
            "friendlyName": "Country",
            "description": "",
            "example": "SE",
            "addedManually": true,
            "type": "string"
          },
          "currency": {
            "friendlyName": "Currency",
            "description": "",
            "example": "NOK",
            "addedManually": true,
            "type": "string"
          },
          "locale": {
            "friendlyName": "Locale",
            "description": "",
            "example": "nb-no",
            "addedManually": true,
            "type": "string"
          },
          "id": {
            "friendlyName": "id",
            "description": "Order ID",
            "example": "sjdasd76a8d68asiu",
            "addedManually": true,
            "requiredManually": true,
            "required": true,
            "type": "string"
          },
          "order_ref": {
            "friendlyName": "Order reference",
            "description": "Order id",
            "example": "order2016-45",
            "addedManually": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "id": "success",
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "id": "FZKNGFQAO4JN2731K8ALWU8CH0P",
              "merchant_reference": {
                "orderid1": "order666FTW"
              },
              "purchase_country": "se",
              "purchase_currency": "sek",
              "locale": "sv-se",
              "status": "created",
              "reference": "FZKNGFQAO4JN2731K8ALWU8CH0P",
              "reservation": "1220307000",
              "started_at": "2016-01-23T15:17:35+01:00",
              "completed_at": "2016-01-23T15:18:02+01:00",
              "created_at": "2016-01-23T23:16:23+01:00",
              "last_modified_at": "2016-01-23T23:16:23+01:00",
              "expires_at": "2016-02-06T15:18:02+01:00",
              "cart": {
                "items": [
                  {
                    "discount_rate": 0,
                    "name": "test",
                    "quantity": 10,
                    "reference": "1234",
                    "tax_rate": 2500,
                    "total_price_excluding_tax": 80000,
                    "total_price_including_tax": 100000,
                    "total_tax_amount": 20000,
                    "type": "physical",
                    "unit_price": 10000
                  }
                ],
                "total_price_excluding_tax": 80000,
                "total_tax_amount": 20000,
                "total_price_including_tax": 100000
              },
              "customer": {
                "type": "person",
                "date_of_birth": "1941-03-21",
                "gender": "female"
              },
              "shipping_address": {
                "given_name": "Testperson-se",
                "family_name": "Approved",
                "street_address": "StÃ¥rgatan 1",
                "postal_code": "12345",
                "city": "Ankeborg",
                "country": "se",
                "email": "checkout-se@testdrive.klarna.com",
                "phone": "070 111 11 11"
              },
              "billing_address": {
                "given_name": "Testperson-se",
                "family_name": "Approved",
                "street_address": "StÃ¥rgatan 1",
                "postal_code": "12345",
                "city": "Ankeborg",
                "country": "se",
                "email": "checkout-se@testdrive.klarna.com",
                "phone": "070 111 11 11"
              },
              "gui": {
                "layout": "desktop",
                "snippet": ">html snippet>"
              },
              "merchant": {
                "id": "1045",
                "terms_uri": "http://www.example.com",
                "checkout_uri": "http://www.example.com",
                "confirmation_uri": "http://localhost:1337/confirmation?klarna_order_id=FZKNGFQAO4JN2731K8ALWU8CH0P",
                "push_uri": "http://www.example.com",
                "cancellation_terms_uri": "http://www.example.com"
              },
              "cart_update_allowed": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var klarna = require(\"klarna-checkout\");\n\n    klarna.init({\n      eid: inputs.eid,\n      secret: inputs.secret,\n      live: inputs.live\n    });\n\n    klarna.config({\n      purchase_country: inputs.country,\n      purchase_currency: inputs.currency,\n      locale: inputs.locale,\n      terms_uri: 'http://www.example.com',\n      cancellation_terms_uri: 'http://www.example.com',\n      checkout_uri: 'http://www.example.com',\n      confirmation_uri: 'http://localhost:3000/confirmation?klarna_order_id={checkout.order.id}',\n      push_uri: 'http://www.example.com'\n    });\n\n    return klarna.confirm(inputs.id, inputs.order_ref).then(function(order) {\n      console.log(\"Order confirmed\");\n      return exits.success(order);\n    }, function(error) {\n      return exits.success(error);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-klarnacheckout/confirm-order",
        "docsUrl": "http://node-machine.org/machinepack-klarnacheckout/confirm-order",
        "defaultExit": "success",
        "machinepack": 156,
        "id": 695,
        "createdAt": "2016-01-29T21:49:38.000Z",
        "updatedAt": "2016-01-29T21:49:38.000Z"
      },
      {
        "identity": "update-order",
        "variableName": "updateOrder",
        "friendlyName": "Update Order",
        "cacheable": false,
        "sync": false,
        "description": "Update an order",
        "inputs": {},
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    return exits.success();\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-klarnacheckout/update-order",
        "docsUrl": "http://node-machine.org/machinepack-klarnacheckout/update-order",
        "defaultExit": null,
        "machinepack": 156,
        "id": 696,
        "createdAt": "2016-01-29T21:49:38.000Z",
        "updatedAt": "2016-01-29T21:49:38.000Z"
      }
    ],
    "identity": "machinepack-klarnacheckout",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2016-01-29T00:00:00.000Z",
    "variableName": "KlarnaCheckOut",
    "friendlyName": "Klarna Check Out",
    "description": "Klarna Check Out",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-klarnacheckout",
    "docsUrl": "http://node-machine.org/machinepack-klarnacheckout",
    "npmUrl": "http://npmjs.org/package/machinepack-klarnacheckout",
    "npmPackageName": "machinepack-klarnacheckout",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "klarna-checkout",
        "semverRange": "*"
      }
    ],
    "contributors": [
      {
        "name": "cappern",
        "email": "christoffer@cappelen.org"
      }
    ],
    "id": 156,
    "createdAt": "2016-01-29T21:49:38.000Z",
    "updatedAt": "2016-01-29T21:49:38.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get-klout-id",
        "variableName": "getKloutId",
        "friendlyName": "Get Klout id",
        "cacheable": null,
        "sync": null,
        "description": "Get the Klout Id from a Twitter screen name.",
        "inputs": {
          "twitterScreenName": {
            "example": "tuneyards",
            "description": "The Twitter screen name of Klout Id",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "example": "ODUfdisauPUdufsoUSF",
            "description": "Your Klout API key.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoKey": {
            "description": "Invalid or unprovided API key. All calls must have a key."
          },
          "success": {
            "description": "OK.",
            "example": "234234239472379",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var URL = require('url');\n    var QS = require('querystring');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.klout.com/v2/identity.json/twitter?screenName=' + inputs.twitterScreenName + '&key=' + inputs.apiKey,\n      url: '',\n      method: 'get',\n    }).exec({\n      // OK.\n      success: function(result) {\n\n        try {\n          var responseBody = JSON.parse(result.body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n\n        return exits.success(responseBody.id);\n\n      },\n      // Non-2xx status code returned from server\n      notOk: function(result) {\n\n        try {\n          if (result.status === 403) {\n            return exits.wrongOrNoKey(\"Invalid or unprovided API key. All calls must have a key.\");\n          }\n        } catch (e) {\n          return exits.error(e);\n        }\n\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n\n        exits.error(err);\n      },\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-klout/get-klout-id",
        "docsUrl": "http://node-machine.org/machinepack-klout/get-klout-id",
        "defaultExit": "success",
        "machinepack": 12,
        "id": 46,
        "createdAt": "2015-02-16T23:51:16.000Z",
        "updatedAt": "2015-02-16T23:51:16.000Z"
      },
      {
        "identity": "get-klout-score",
        "variableName": "getKloutScore",
        "friendlyName": "Get Klout score",
        "cacheable": null,
        "sync": null,
        "description": "Get the Klout score of a Klout Id.",
        "inputs": {
          "kloutId": {
            "example": "32423423432342",
            "description": "A Klout Id.",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "example": "ODUfdisauPUdufsoUSF",
            "description": "Your Klout API key.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoKey": {
            "description": "Invalid or unprovided API key. All calls must have a key."
          },
          "success": {
            "description": "OK.",
            "example": "54.342342332",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var URL = require('url');\n    var QS = require('querystring');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.klout.com/v2/user.json/' + inputs.kloutId + '/score?key=' + inputs.apiKey,\n      url: '',\n      method: 'get',\n    }).exec({\n      // OK.\n      success: function(result) {\n\n        try {\n          var responseBody = JSON.parse(result.body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n\n        return exits.success(responseBody.score);\n\n      },\n      // Non-2xx status code returned from server\n      notOk: function(result) {\n\n        try {\n          if (result.status === 403) {\n            return exits.wrongOrNoKey(\"Invalid or unprovided API key. All calls must have a key.\");\n          }\n        } catch (e) {\n          return exits.error(e);\n        }\n\n        return exits.error(result);\n\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n\n        exits.error(err);\n      },\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-klout/get-klout-score",
        "docsUrl": "http://node-machine.org/machinepack-klout/get-klout-score",
        "defaultExit": "success",
        "machinepack": 12,
        "id": 47,
        "createdAt": "2015-02-16T23:51:16.000Z",
        "updatedAt": "2015-02-16T23:51:16.000Z"
      }
    ],
    "identity": "machinepack-klout",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-01-22T00:00:00.000Z",
    "variableName": "Klout",
    "friendlyName": "Klout",
    "description": "Communicate with the Klout API to get Ids, Klout Scores, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-klout",
    "docsUrl": "http://node-machine.org/machinepack-klout",
    "npmUrl": "http://npmjs.org/package/machinepack-klout",
    "npmPackageName": "machinepack-klout",
    "githubUrl": "http://github.com/irlnathan/machinepack-klout/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-klout/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^1.1.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^0.2.3"
      },
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      }
    ],
    "contributors": [
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 12,
    "createdAt": "2015-02-16T23:51:15.000Z",
    "updatedAt": "2015-02-16T23:51:16.000Z",
    "numMachines": 2
  },
  {
    "machines": [],
    "identity": "machinepack-knwl",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-06-24T00:00:00.000Z",
    "variableName": "Knwl",
    "friendlyName": "Knwl",
    "description": "Machinepack to parse with Knwl",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-knwl",
    "docsUrl": "http://node-machine.org/machinepack-knwl",
    "npmUrl": "http://npmjs.org/package/machinepack-knwl",
    "npmPackageName": "machinepack-knwl",
    "githubUrl": "http://github.com/rektide/machinepack-knwl/",
    "sourceUrl": "http://github.com/rektide/machinepack-knwl/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "knwl.js",
        "semverRange": "^1.0.2"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "rektide de la faye",
        "email": ""
      },
      {
        "name": "rektide",
        "email": "rektide@voodoowarez.com"
      }
    ],
    "id": 138,
    "createdAt": "2015-06-24T03:39:36.000Z",
    "updatedAt": "2015-06-24T03:39:36.000Z",
    "numMachines": 0
  },
  {
    "machines": [
      {
        "identity": "compile-stylesheet",
        "variableName": "compileStylesheet",
        "friendlyName": "Compile stylesheet",
        "cacheable": null,
        "sync": null,
        "description": "Compile a LESS stylesheet to CSS.",
        "inputs": {
          "source": {
            "description": "The path to the LESS stylesheet (i.e. the entry-point) on disk.",
            "extendedDescription": "If a relative path is used, it will be resolved relative to the current working directory.",
            "example": "/Users/mikermcneil/Desktop/my-cool-app/assets/styles/importer.less",
            "required": true,
            "type": "string"
          },
          "importPaths": {
            "description": "An array of paths to folders or specific files to make accessible to @import directives in the LESS stylesheet.",
            "extendedDescription": "If any relative paths are used, they will be resolved relative to the current working directory.",
            "example": [
              "/Users/mikermcneil/Desktop"
            ],
            "defaultsTo": [],
            "type": "array"
          },
          "minify": {
            "description": "Whether or not to minify the compiled CSS output.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "doesNotExist": {
            "description": "No file exists at the provided `source` path."
          },
          "success": {
            "description": "OK.",
            "variableName": "css",
            "example": ".button { width: 20px; }",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var LESS = require('less');\n    var _ = require('lodash');\n    var Filesystem = require('machinepack-fs');\n\n    // Resolve potentially-relative paths\n    inputs.source = path.resolve(inputs.source);\n    inputs.importPaths = _.map(inputs.importPaths, function (importPath) {\n      return path.resolve(importPath);\n    });\n\n    // Load contents of stylesheet\n    Filesystem.read({\n      source: inputs.source\n    }).exec({\n      error: exits.error,\n      doesNotExist: exits.doesNotExist,\n      success: function (lessStr) {\n\n        // Compile LESS\n        // (which takes care of @import directives, loading other stylesheets from disk as necessary)\n        try {\n          LESS.render(lessStr, {\n            filename: path.basename(inputs.source),\n            paths: inputs.importPaths,\n            compress: inputs.minify\n          }, function (err, result) {\n            if (err) {\n              return exits.error(err);\n            }\n\n            // result.imports is an array of the absolute path of every LESS stylesheet imported\n            // using @import directives from within the source stylesheet (and its imports... etc)\n\n            return exits.success(result.css);\n          });\n        }\n        catch (e) {\n          // (just in case)\n          return exits.error(e);\n        }\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that, as you might expect, this will also compile any additional LESS stylesheets referenced using '@import'.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-less/compile-stylesheet",
        "docsUrl": "http://node-machine.org/machinepack-less/compile-stylesheet",
        "defaultExit": null,
        "machinepack": 142,
        "id": 640,
        "createdAt": "2015-07-07T05:49:33.000Z",
        "updatedAt": "2015-07-07T05:49:33.000Z"
      }
    ],
    "identity": "machinepack-less",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-07-07T00:00:00.000Z",
    "variableName": "LESS",
    "friendlyName": "LESS",
    "description": "Work with LESS stylesheets.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-less",
    "docsUrl": "http://node-machine.org/machinepack-less",
    "npmUrl": "http://npmjs.org/package/machinepack-less",
    "npmPackageName": "machinepack-less",
    "githubUrl": "http://github.com/treelinehq/machinepack-less/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-less/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-less",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "less",
        "semverRange": "^2.5.1"
      },
      {
        "name": "lodash",
        "semverRange": "^3.10.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^5.1.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 142,
    "createdAt": "2015-07-07T05:49:33.000Z",
    "updatedAt": "2015-07-07T05:49:33.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get the login url for LinkedIn",
        "cacheable": false,
        "sync": false,
        "description": "Creates the login url used to gain acccess to their LinkedIn account.",
        "inputs": {
          "client_id": {
            "example": "12345678",
            "description": "API key that is given to you when you register your application.",
            "required": true,
            "type": "string"
          },
          "redirecturl": {
            "example": "https://localhost/url",
            "description": "Url used to redirect users once they finish using the link.",
            "required": true,
            "type": "string"
          },
          "scope": {
            "example": "r_fullprofile%20r_emailaddress%20w_share",
            "description": "A URL-encoded, space delimited list of member permissions your application is requesting on behalf of the user.  If you do not specify a scope in your call, we will fall back to using the default member permissions you defined in your application configuration.",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "function (inputs,exits)\n  {\n\tvar state = (Math.random() + 1).toString(36).substring(7);\n\tvar util = require('util');\n\n\tinputs.scope = inputs.scope || [];\n\n\tconsole.log(inputs.scope);\n\n\ttry\n\t{\nreturn exits.success(util.format(\n\t   'https://www.linkedin.com/uas/oauth2/authorization?response_type=code&client_id=%s&redirect_uri=%s&state=%s&scope=%s',\n\t   inputs.client_id, inputs.redirecturl, state, inputs.scope.join(',')\n\t  ));\n\t}\n\n\tcatch(e)\n\t{\nreturn exits.error(e);\n\t}\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-linkedin/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-linkedin/get-login-url",
        "defaultExit": null,
        "machinepack": 143,
        "id": 643,
        "createdAt": "2015-07-18T05:29:31.000Z",
        "updatedAt": "2015-07-21T03:09:37.000Z"
      },
      {
        "identity": "get-authentication-token",
        "variableName": "getAuthenticationToken",
        "friendlyName": "get authentication token",
        "cacheable": false,
        "sync": false,
        "description": "Obtains the authentication token after you complete the url login phase.  Make sure to do this within 20 seconds or else the code expires.",
        "inputs": {
          "code": {
            "example": "1234435",
            "description": "Code received from the get-login-url",
            "required": true,
            "type": "string"
          },
          "redirect_url": {
            "example": "https://localhost/url",
            "description": "Url used to redirect users once they finish using the link.",
            "required": true,
            "type": "string"
          },
          "client_id": {
            "example": "12345678",
            "description": "API key that is given to you when you register your application.",
            "required": true,
            "type": "string"
          },
          "client_secret": {
            "example": "234643dadfe",
            "description": "Secret code for your LinkedIN application.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "function (inputs,exits)\n  {\n\tvar http = require('machinepack-http');\n\n\thttp.sendHttpRequest({\nbaseUrl: 'https://www.linkedin.com',\nurl: '/uas/oauth2/accessToken',\nmethod: 'post',\nparams:\n{\n\t'grant_type': 'authorization_code',\n\t'code' : inputs.code,\n        'redirect_uri' : inputs.redirect_url,\n\t'client_id' : inputs.client_id,\n\t'client_secret' : inputs.client_secret\n\n},\nheaders:\n{\n\t'Content-Type' : 'application/x-www-form-urlencoded',\n}\n\n\t}).exec(\n{\n\tsuccess: function(response)\n\t{\n\t\ttry\n\t\t{\n\t\t\tvar data = JSON.parse(response.body);\n\n\t\t\treturn exits.success(data);\n\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn exits.error(e);\n\t\t}\n\n\t},\n\n\terror: function(err)\n\t{\n\t\treturn exits.error(err);\n\t}\n}\n\t);\n\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-linkedin/get-authentication-token",
        "docsUrl": "http://node-machine.org/machinepack-linkedin/get-authentication-token",
        "defaultExit": null,
        "machinepack": 143,
        "id": 644,
        "createdAt": "2015-07-18T05:29:31.000Z",
        "updatedAt": "2015-07-21T03:09:37.000Z"
      },
      {
        "identity": "get-profile",
        "variableName": "getProfile",
        "friendlyName": "Get profile",
        "cacheable": false,
        "sync": false,
        "description": "Obtains the profile from the authorized user.",
        "inputs": {
          "token": {
            "example": "asdf23fd23t44f2f3",
            "description": "OAUTH2 token.",
            "required": true,
            "type": "string"
          },
          "format": {
            "example": "json",
            "description": "Sets what format of data does this call return",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "function (inputs,exits)\n  {\n\tvar format = '';\n\n\tif(inputs.format == 'json')\n\t{\nformat = '?format=json';\n\t}\n\n\tvar http = require('machinepack-http');\n\n\thttp.sendHttpRequest({\nbaseUrl: 'https://api.linkedin.com',\nurl: '/v1/people/~'+format,\nmethod: 'get',\nparams:\n{\n\t'Authentication': 'Bearer '+inputs.token\n\t\n},\nheaders:\n{\n\t'Content-Type' : 'application/x-www-form-urlencoded',\n}\n\n\t}).exec(\n{\n\tsuccess: function(response)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn exits.success(response.body);\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn exits.error(e);\n\t\t}\n\n\t},\n\n\terror: function(err)\n\t{\n\t\treturn exits.error(err);\n\t}\n}\n\t);\n\n\n\treturn exits.success();\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-linkedin/get-profile",
        "docsUrl": "http://node-machine.org/machinepack-linkedin/get-profile",
        "defaultExit": null,
        "machinepack": 143,
        "id": 645,
        "createdAt": "2015-07-21T03:09:37.000Z",
        "updatedAt": "2015-07-21T03:09:37.000Z"
      }
    ],
    "identity": "machinepack-linkedin",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-07-21T00:00:00.000Z",
    "variableName": "Linkedin",
    "friendlyName": "Linkedin",
    "description": "Machinepack that communicates and interacts with the Linkedin api.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-linkedin",
    "docsUrl": "http://node-machine.org/machinepack-linkedin",
    "npmUrl": "http://npmjs.org/package/machinepack-linkedin",
    "npmPackageName": "machinepack-linkedin",
    "githubUrl": "http://github.com/macleod2486/machinepack-linkedin/",
    "sourceUrl": "http://github.com/macleod2486/machinepack-linkedin/",
    "testsUrl": "https://travis-ci.org/git@github.com:macleod2486/machinepack-linkedin",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.3.0"
      },
      {
        "name": "util",
        "semverRange": "^0.10.3"
      }
    ],
    "contributors": [
      {
        "name": "macleod2486",
        "email": "macleod2486@gmail.com"
      }
    ],
    "id": 143,
    "createdAt": "2015-07-18T05:29:31.000Z",
    "updatedAt": "2015-07-21T03:09:37.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "prompt-about-new-machinepack",
        "variableName": "promptAboutNewMachinepack",
        "friendlyName": "Prompt about new machinepack",
        "cacheable": null,
        "sync": null,
        "description": "Prompt command-line user for new machinepack details.",
        "inputs": {},
        "exits": {
          "success": {
            "description": "OK.",
            "example": {
              "friendlyName": "Passwords",
              "identity": "passwords",
              "sentenceCaseFriendlyName": "passwords",
              "moduleName": "machinepack-passwords",
              "description": "Work with passwords."
            },
            "isDefault": true,
            "type": "object"
          },
          "cancelled": {
            "description": "User cancelled the prompt (i.e. hit ^C)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    /**\n     * Module dependencies\n     */\n\n    var inquirer = require('inquirer');\n    var chalk = require('chalk');\n    var _ = require('lodash');\n    var Path = require('path');\n\n    // `metadata` will hold the results.\n    var metadata = {};\n\n    var log = console.log;\n\n    inquirer.prompt([\n      {\n        name: 'friendlyName',\n        type: 'input',\n        message: ''+\n        'What would you like to use as the \"friendly name\" for your machinepack?\\n'+\n        chalk.gray('(e.g. \"Passwords\" or \"Twitter\")')+'\\n'+\n        '',\n        validate: function (friendlyName){\n          if (!_.isString(friendlyName) || !friendlyName) return;\n          return true;\n        }\n      }\n    ], function (answers) {\n\n      // Save answers\n      _.extend(metadata, answers);\n\n      // Build a version of the friendlyName in sentence case.\n      var sentenceCaseFriendlyName = metadata.friendlyName.replace(/(^[A-Z]|\\s[A-Z])/g, function (match){\n        return match.toLowerCase();\n      });\n\n      // Build identity by ecmascript-izing the friendly name\n      var ecmascriptizedFriendlyName = metadata.friendlyName.replace(/[^0-9a-zA-Z]*/g,'');\n      metadata.identity = ecmascriptizedFriendlyName.toLowerCase();\n\n      // Then build the moduleName based on that\n      metadata.moduleName = metadata.moduleName || 'machinepack-'+metadata.identity;\n\n      // Expose sentenceCaseFriendlyName in result for convenience\n      metadata.sentenceCaseFriendlyName = sentenceCaseFriendlyName;\n\n      log('');\n      log('The module will be named `%s`.', metadata.moduleName);\n      log('');\n\n      // Build default description\n      var defaultDesc = 'Work with '+sentenceCaseFriendlyName+'.';\n\n      inquirer.prompt([{\n        name: 'description',\n        type: 'input',\n        message: 'Describe this machinepack in 80 characters or less.\\n'+\n        chalk.gray('(e.g. \"Communicate with the Github API to get repos, commits, etc.\")')+'\\n',\n        default: defaultDesc,\n        validate: function (description){\n          return !!description;\n        }\n      }], function (answers) {\n\n        // Save answers\n        _.extend(metadata, answers);\n\n        log('');\n\n        return exits.success(metadata);\n      });\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/prompt-about-new-machinepack",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/prompt-about-new-machinepack",
        "defaultExit": null,
        "machinepack": 135,
        "id": 578,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "prompt-about-new-machine",
        "variableName": "promptAboutNewMachine",
        "friendlyName": "Prompt about new machine",
        "cacheable": null,
        "sync": null,
        "description": "Prompt command-line user for details about a new machine being created.",
        "inputs": {
          "identity": {
            "example": "do-something",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "identity": "do-something",
              "friendlyName": "Do something",
              "description": "Do something useful given stuff; maybe return something else.",
              "extendedDescription": "...lots of words...",
              "methodName": "doSomething"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module dependencies\n     */\n\n    var inquirer = require('inquirer');\n    var chalk = require('chalk');\n    var _ = require('lodash');\n    var Path = require('path');\n    var Javascript = require('machinepack-javascript');\n\n\n\n    // `metadata` will hold the results.\n    var metadata = {};\n\n    var log = console.log;\n\n    inquirer.prompt([\n      {\n        name: 'friendlyName',\n        type: 'input',\n        message: ''+\n        'What would you like to use as the \"friendly name\" for your new machine?\\n'+\n        chalk.gray('(e.g. \"Get auth token\" or \"Delete account\")')+'\\n'+\n        '',\n        validate: function (friendlyName){\n          if (!_.isString(friendlyName) || !friendlyName) return;\n          return true;\n        }\n      }\n    ], function (answers) {\n      // Save answers\n      _.extend(metadata, answers);\n\n      // Build identity by lowercasing and dash-delimiting the friendly name.\n      metadata.identity = (inputs.identity || metadata.friendlyName).replace(/\\s+\\S/g,function (match){\n        return match.replace(/^\\s/,'-');\n      });\n      metadata.identity = metadata.identity.toLowerCase();\n\n      // Given a string of dash-delimited words, return a similar version of the string, but which is camel-cased and otherwise stripped of special characters, whitespace, etc. so that it is usable as an ECMAScript variable.\n      Javascript.coerceVarname({\n        string: metadata.identity\n      }).exec({\n\n        error: function (err){\n          return exits.error(err);\n        },\n\n        success: function (methodName){\n\n          // Save ecmascript-ized identity as `methodName`\n          metadata.methodName = methodName;\n\n          log('');\n          log('The machine\\'s identity will be `%s`', metadata.identity);\n          log('which means you\\'ll use it as:  `.%s()`', metadata.methodName);\n          log('');\n\n          // Build a version of the friendlyName in sentence case.\n          var sentenceCaseFriendlyName = metadata.friendlyName.replace(/(^[A-Z]|\\s[A-Z])/g, function (match){\n            return match.toLowerCase();\n          });\n          // Expose sentenceCaseFriendlyName in result for convenience\n          metadata.sentenceCaseFriendlyName = sentenceCaseFriendlyName;\n\n          inquirer.prompt([\n            {\n              name: 'description',\n              type: 'input',\n              message: 'Describe this machine in 80 characters or less (optional)\\n'+\n              chalk.gray('(e.g. \"List all Twitter followers for a particular account.\")')+'\\n'\n            },\n            {\n              name: 'extendedDescription',\n              type: 'input',\n              message: 'Provide a more in-depth description of the machine (optional)'\n            }\n          ], function (answers) {\n\n            // Save answers\n            _.extend(metadata, answers);\n\n            log('');\n\n            return exits.success(metadata);\n          });\n        },\n      });\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/prompt-about-new-machine",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/prompt-about-new-machine",
        "defaultExit": null,
        "machinepack": 135,
        "id": 579,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "get-machines-dir",
        "variableName": "getMachinesDir",
        "friendlyName": "Get machines directory",
        "cacheable": true,
        "sync": null,
        "description": "Get the path to this machinepack's `machines/` directory.",
        "inputs": {
          "dir": {
            "example": "/Users/mikermcneil/machinepack-foobar",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "/Users/mikermcneil/machinepack-foobar/machines",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var Path = require('path');\n\n    require('machine').build(require('./read-package-json'))\n    .configure({\n      dir: inputs.dir\n    }).exec({\n      error: exits.error,\n      notMachinepack: exits.notMachinepack,\n      success: function (machinepack){\n        return exits.success(Path.resolve(inputs.dir, machinepack.machineDir));\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/get-machines-dir",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/get-machines-dir",
        "defaultExit": "success",
        "machinepack": 135,
        "id": 580,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "remove-machine",
        "variableName": "removeMachine",
        "friendlyName": "Remove machine",
        "cacheable": null,
        "sync": null,
        "description": "Remove a machine from a local pack and update the package.json file.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          },
          "identity": {
            "description": "Identity of the machine to remove",
            "example": "some-machine",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No machine with the specified identity exists in this machinepack."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Path = require('path');\n    var _ = require('lodash');\n    var Filesystem = require('machinepack-fs');\n    var _getMachinesDir = require('machine').build(require('./get-machines-dir'));\n\n    var machinepackPath = Path.resolve(process.cwd(), inputs.dir);\n    var packageJsonPath = Path.resolve(machinepackPath, 'package.json');\n\n    _getMachinesDir({\n      dir: machinepackPath\n    }).exec({\n      error: function(err) {\n        return exits.error(err);\n      },\n      success: function(pathToMachines) {\n\n        Filesystem.readJson({\n          source: packageJsonPath,\n          schema: {}\n        }).exec({\n          error: function(err) {\n            return exits.error(err);\n          },\n          success: function(jsonData) {\n            try {\n              if (!_.contains(jsonData.machinepack.machines, inputs.identity)) {\n                return exits.notFound();\n              }\n              jsonData.machinepack.machines = _.difference(jsonData.machinepack.machines, [inputs.identity]);\n            }\n            catch (e) {\n              return exits.error(e);\n            }\n\n            // Completely remove a file or directory (like rm -rf).\n            Filesystem.rmrf({\n              dir: Path.resolve(pathToMachines, inputs.identity + '.js')\n            }).exec({\n\n              error: function(err) {\n                return exits.error(err);\n              },\n\n              success: function() {\n\n                Filesystem.writeJson({\n                  json: jsonData,\n                  destination: packageJsonPath,\n                  force: true\n                }).exec({\n                  error: function(err) {\n                    return exits.error(err);\n                  },\n                  success: function() {\n                    return exits.success();\n                  }\n                });\n              }\n            });\n          },\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/remove-machine",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/remove-machine",
        "defaultExit": null,
        "machinepack": 135,
        "id": 581,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "rename-machine",
        "variableName": "renameMachine",
        "friendlyName": "Rename machine",
        "cacheable": null,
        "sync": null,
        "description": "Rename a machine in a local pack and update the package.json file.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          },
          "originalIdentity": {
            "description": "Identity of the machine to rename",
            "example": "do-stuff",
            "required": true,
            "type": "string"
          },
          "newIdentity": {
            "description": "New identity for the machine",
            "example": "do-stuff-with-a-better-name",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No machine with the specified identity exists in this machinepack."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Path = require('path');\n    var _ = require('lodash');\n    var Filesystem = require('machinepack-fs');\n    var _getMachinesDir = require('machine').build(require('./get-machines-dir'));\n\n    var machinepackPath = Path.resolve(process.cwd(), inputs.dir);\n    var packageJsonPath = Path.resolve(machinepackPath, 'package.json');\n\n\n    _getMachinesDir({\n      dir: machinepackPath\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      success: function (pathToMachines){\n\n        Filesystem.mv({\n          source: Path.resolve(pathToMachines, inputs.originalIdentity+'.js'),\n          destination: Path.resolve(pathToMachines, inputs.newIdentity+'.js')\n        }).exec({\n\n          error: function (err){\n            return exits.error(err);\n          },\n\n          success: function (){\n\n            Filesystem.readJson({\n              source: packageJsonPath,\n              schema: {}\n            }).exec({\n              error: function (err){\n                return exits.error(err);\n              },\n              success: function (jsonData){\n                try {\n                  jsonData.machinepack.machines = _.difference(jsonData.machinepack.machines, [inputs.originalIdentity]);\n                  jsonData.machinepack.machines = _.union(jsonData.machinepack.machines, [inputs.newIdentity]);\n                }\n                catch (e) {\n                  return exits.error(e);\n                }\n                Filesystem.writeJson({\n                  json: jsonData,\n                  destination: packageJsonPath,\n                  force: true\n                }).exec({\n                  error: function (err){\n                    return exits.error(err);\n                  },\n                  success: function (){\n                    // Done.\n                    return exits.success();\n                  }\n                });\n              }\n            });\n          },\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/rename-machine",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/rename-machine",
        "defaultExit": null,
        "machinepack": 135,
        "id": 582,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "copy-machine",
        "variableName": "copyMachine",
        "friendlyName": "Copy machine",
        "cacheable": null,
        "sync": null,
        "description": "Copy a machine in a local pack and update the package.json file.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          },
          "originalIdentity": {
            "description": "Identity of the machine to copy",
            "example": "do-stuff",
            "required": true,
            "type": "string"
          },
          "newIdentity": {
            "description": "Identity of the new machine",
            "example": "copy-of-do-stuff",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No machine with the specified identity exists in this machinepack."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Path = require('path');\n    var _ = require('lodash');\n    var Filesystem = require('machinepack-fs');\n    var _getMachinesDir = require('machine').build(require('./get-machines-dir'));\n\n    var machinepackPath = Path.resolve(process.cwd(), inputs.dir);\n    var packageJsonPath = Path.resolve(machinepackPath, 'package.json');\n\n    _getMachinesDir({\n      dir: machinepackPath\n    }).exec({\n      error: function (err){\n        console.error('Unexpected error occurred:\\n',err);\n      },\n      success: function (pathToMachines){\n\n        Filesystem.cp({\n          source: Path.resolve(pathToMachines, inputs.originalIdentity+'.js'),\n          destination: Path.resolve(pathToMachines, inputs.newIdentity+'.js')\n        }).exec({\n\n          error: function (err){\n            console.error('Unexpected error occurred:\\n',err);\n          },\n\n          success: function (){\n\n            Filesystem.readJson({\n              source: packageJsonPath,\n              schema: {}\n            }).exec({\n              error: function (err){\n                console.error('Unexpected error occurred:\\n',err);\n              },\n              success: function (jsonData){\n                try {\n                  jsonData.machinepack.machines = _.union(jsonData.machinepack.machines, [inputs.newIdentity]);\n                }\n                catch (e) {\n                  console.error('Unexpected error occurred:\\n',err);\n                  return;\n                }\n                Filesystem.writeJson({\n                  json: jsonData,\n                  destination: packageJsonPath,\n                  force: true\n                }).exec({\n                  error: function (err){\n                    console.error('Unexpected error occurred:\\n',err);\n                  },\n                  success: function (){\n                    // Done.\n                    console.log('Copied: `%s` to new machine: `%s`', inputs.originalIdentity, inputs.newIdentity);\n                  }\n                });\n              }\n            });\n          },\n        });\n      }\n    });\n\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/copy-machine",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/copy-machine",
        "defaultExit": null,
        "machinepack": 135,
        "id": 583,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "list-machines",
        "variableName": "listMachines",
        "friendlyName": "List machines",
        "cacheable": true,
        "sync": null,
        "description": "List the machines in a local pack.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notMachinepack": {
            "description": "The specified path is not the root directory of a machinepack"
          },
          "success": {
            "description": "OK.",
            "example": [
              "do-a-thing",
              "do-something-else"
            ],
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    require('machine').build(require('./read-package-json'))\n    .configure({\n      dir: inputs.dir\n    }).exec({\n      error: exits.error,\n      notMachinepack: exits.notMachinepack,\n      success: function (machinepack){\n        // Return list of machines, sorted alphabetically for easier reading\n        var machineIdentities = machinepack.machines.sort();\n        return exits.success(machineIdentities);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/list-machines",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/list-machines",
        "defaultExit": null,
        "machinepack": 135,
        "id": 584,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "run-machine",
        "variableName": "runMachine",
        "friendlyName": "Run local machine",
        "cacheable": null,
        "sync": null,
        "description": "Run a machine in the specified local pack using the provided input values.",
        "inputs": {
          "machinepackPath": {
            "example": "/Users/mikermcneil/machinepack-foo/",
            "description": "The path to the machinepack this machine is a part of (if path is not absolute, will be resolved from the current working directory)",
            "required": true,
            "type": "string"
          },
          "identity": {
            "example": "foo-bar",
            "description": "The identity of the machine to run.",
            "required": true,
            "type": "string"
          },
          "inputValues": {
            "description": "A set of input name/value pairs.",
            "example": [
              {
                "name": "someInput",
                "value": "==="
              }
            ],
            "protect": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No machine with that identity exists in this machinepack."
          },
          "unknownInput": {
            "description": "A configured input value does not correspond with a real input in this machine."
          },
          "invalidMachine": {
            "description": "Invalid machine definition"
          },
          "cantStringifyOutput": {
            "description": "The return value could not be stringified into JSON - perhaps it contains circular references?",
            "example": {
              "outcome": "success",
              "output": "===",
              "inspectedOutput": "{ stuff: \"things\" }",
              "duration": 2948
            },
            "type": "object"
          },
          "success": {
            "variableName": "whatHappened",
            "description": "OK.",
            "example": {
              "outcome": "success",
              "output": "===",
              "jsonStringifiedOutput": "{\"stuff\": \"things\"}",
              "inspectedOutput": "{ stuff: \"things\" }",
              "duration": 2948
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var _ = require('lodash');\n    var Machines = require('machinepack-machines');\n\n\n    // Require the machinepack\n    var mp;\n    try {\n      mp = require(inputs.machinepackPath);\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n\n    // Look up the appropriate machine instance\n    var machineInstance;\n    _.each(mp, function (_machine, methodName) {\n      if (_machine.identity === inputs.identity) {\n        machineInstance = _machine;\n      }\n    });\n    if (!machineInstance) {\n      return exits.notFound();\n    }\n\n    // Now run the instantiated machine using the provided input values.\n    Machines.runInstantiatedMachine({\n      machineInstance: machineInstance,\n      inputValues: inputs.inputValues\n    }).exec({\n      error: exits.error,\n      cantStringifyOutput: exits.cantStringifyOutput,\n      unknownInput: exits.unknownInput,\n      success: exits.success\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/run-machine",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/run-machine",
        "defaultExit": null,
        "machinepack": 135,
        "id": 585,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "read-machine-file",
        "variableName": "readMachineFile",
        "friendlyName": "Read machine file",
        "cacheable": null,
        "sync": null,
        "description": "Read machine file located at the specified path into a JSON string w/ stringified functions.",
        "inputs": {
          "source": {
            "example": "/Users/mikermcneil/machinepack-foo/machines/bar.js",
            "description": "The path to the machine file (if path is not absolute, will be resolved from the current working directory)",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No file exists at the specified path"
          },
          "couldNotStringify": {
            "description": "Could not stringify machine definition into JSON."
          },
          "success": {
            "description": "OK.",
            "example": "{friendlyName: \"Do something\", ... }",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var Path = require('path');\n    var _ = require('lodash');\n    var machinePath = Path.resolve(process.cwd(), inputs.source);\n\n    // console.log(' â¢-> Reading machine file located @', machinePath);\n\n    // Clear the machine out of the require cache, in case it's been modified.\n    delete require.cache[machinePath];\n\n    // TODO:\n    // psuedo-\"sandbox\" the require of this machine\n    // (not a real sandbox, just enough to reasonably catch weird stuff during development)\n    var machineDef;\n    try {\n      machineDef = _.cloneDeep(require(machinePath));\n\n      // TODO:\n      // validate that no code exists outside module.exports\n    }\n    catch(e){\n      // Look for MODULE_NOT_FOUND error from Node core- but make sure it's a require error\n      // from the actual module itself, and not one of its dependencies! To accomplish that-\n      // check that the error message string ends in `/package.json'` (note the trailing apostrophe)\n      if (e.code === 'MODULE_NOT_FOUND' && typeof e.message==='string' && e.message.match(new RegExp(machinePath))) {\n        return exits.notFound(e);\n      }\n      return exits.error(e);\n    }\n\n    machineDef = require('rttc').dehydrate(machineDef, {allowNull: true});\n\n    // (TODO: clean up function signature first.)\n\n    // Encode as json\n    var jsonMachineDefinition;\n    try {\n      jsonMachineDefinition = JSON.stringify(machineDef);\n    }\n    catch (e) {\n      return exits.couldNotStringify(e);\n    }\n\n    return exits.success(jsonMachineDefinition);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/read-machine-file",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/read-machine-file",
        "defaultExit": null,
        "machinepack": 135,
        "id": 586,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "write-machine-file",
        "variableName": "writeMachineFile",
        "friendlyName": "Write machine file",
        "cacheable": null,
        "sync": null,
        "description": "Write a new machine file to disk at the specified path.",
        "inputs": {
          "destination": {
            "description": "The output path where the machine should be written",
            "example": "/Users/mikermcneil/machinepack-foobar/machines/some-machine.js",
            "required": true,
            "type": "string"
          },
          "friendlyName": {
            "description": "The human-readable label for this machine.  Should be short (<5 words, <50 characters) and written in the imperative mood.",
            "extendedDescription": "\"Imperative mood\" means that the description should be written as a command, not a remark.  In other words, a machine that charges a credit card should have a description that begins: \"Charge the specified...\", not: \"Charges the specified...\"",
            "example": "Do something",
            "type": "string"
          },
          "description": {
            "description": "A clear, 1-sentence description (< 80 characters) of what this machine does.",
            "extendedDescription": "\"Imperative mood\" means that the description should be written as a command, not a remark.  In other words, a machine that charges a credit card should have a description that begins: \"Charge the specified...\", not: \"Charges the specified...\"",
            "example": "Do something useful given stuff; maybe return something else.",
            "type": "string"
          },
          "moreInfoUrl": {
            "description": "A URL with supplemental information about this machine",
            "extendedDescription": "This optional URL points to somewhere (other than http://node-machine.org) where additional information about the underlying functionality in this machine can be found. Particularly helpful for machines that communicate with 3rd-party APIs like Twitter or Stripe. Be sure and use a fully qualified URL like http://foo.com/bar/baz.",
            "example": "http://api.stuff.org/foo/bar?v=3.1",
            "type": "string"
          },
          "extendedDescription": {
            "description": "A markdown string providing additional details about this machine.",
            "extendedDescription": "Provides supplemental info on top of description. Full markdown syntax with complete sentences (including punctuation). Should be less than 2000 characters.  Use cases generally include technical notes, details on how the machine works, or considerations/caveats like rate-limiting.",
            "example": "...lots of words...",
            "type": "string"
          },
          "sync": {
            "description": "A flag indicating that this machine is immediate (i.e. executes synchronously / blocks)",
            "extendedDescription": "If `sync` is set to true, **every exit** of this machine should be execute synchronously (i.e. <1 tick of the event loop).  If `sync` is enabled, in addition to standard usage (i.e. `.exec()`) users will be able to call `.execSync()` on instances of this machine.",
            "example": true,
            "type": "boolean"
          },
          "cacheable": {
            "description": "A flag indicating whether or not this machine is cacheable",
            "extendedDescription": "Should only be enabled if this machine has no \"side effects\". This is sometimes called \"referential transparency\" or \"nullipotence\".  For instance, fetching a list of tweets which contain a particular hashtag _is_ cacheable, whereas posting a tweet or updating a Twitter user account _is not_.  Another example is a SELECT query in a SQL database; it returns useful data, but does not change the data structure queried.  If `cacheable` is enabled, users will be able to call `.cache()` on instances of this machine.",
            "example": true,
            "type": "boolean"
          },
          "idempotent": {
            "description": "A flag indicating whether or not this machine is idempotent",
            "example": true,
            "type": "boolean"
          },
          "inputs": {
            "description": "A dictionary specifying the inputs that the machine accepts at runtime.",
            "example": {},
            "type": "object"
          },
          "exits": {
            "description": "A dictionary specifying the exit scenarios played out by the machine at runtime.",
            "example": {},
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "alreadyExists": {
            "description": "Something already exists at destination path (probably another machine with the same identity)"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    /**\n     * Module dependencies\n     */\n\n    var Path = require('path');\n    var _ = require('lodash');\n    var Filesystem = require('machinepack-fs');\n    var Machine = require('machine');\n    var _buildMachineCode = Machine.build(require('./build-machine-code'));\n\n\n    // Build the code string that will be written to disk\n    _buildMachineCode({\n      friendlyName: inputs.friendlyName,\n      description: inputs.description,\n      extendedDescription: inputs.extendedDescription,\n      moreInfoUrl: inputs.moreInfoUrl,\n      inputs: inputs.inputs,\n      exits: inputs.exits,\n      cacheable: inputs.cacheable,\n      sync: inputs.sync,\n      idempotent: inputs.idempotent\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      success: function (codeStr){\n\n        // Generate a file on the local filesystem using the specified utf8 string as its contents.\n        Filesystem.write({\n          string: codeStr,\n          destination: inputs.destination,\n          force: false\n        }).exec({\n\n          error: function (err){\n            return exits.error(err);\n          },\n\n          // Something already exists at the specified path (overwrite by enabling the `force` input)\n          alreadyExists: function (){\n            return exits.alreadyExists(new Error('Something already exists at '+inputs.destination));\n          },\n\n          success: function (){\n            return exits.success();\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/write-machine-file",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/write-machine-file",
        "defaultExit": null,
        "machinepack": 135,
        "id": 587,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "build-machine-code",
        "variableName": "buildMachineCode",
        "friendlyName": "Build machine code",
        "cacheable": true,
        "sync": true,
        "description": "Build a JavaScript code string which represents the provided machine metadata.",
        "inputs": {
          "friendlyName": {
            "example": "Do something",
            "required": true,
            "type": "string"
          },
          "description": {
            "example": "Do something useful given stuff; maybe return something else.",
            "defaultsTo": "",
            "type": "string"
          },
          "extendedDescription": {
            "description": "The optional `extendedDescription` property for the generated machine definition.",
            "example": "...lots of words...",
            "type": "string"
          },
          "moreInfoUrl": {
            "description": "The optional `moreInfoUrl` property for the generated machine definition.",
            "example": "http://www.cis.upenn.edu/~treebank/tokenization.html",
            "type": "string"
          },
          "fn": {
            "description": "The stringified contents of the machine function (`fn`).",
            "example": "  return exits.success();",
            "type": "string"
          },
          "cacheable": {
            "description": "Whether or not this machine should be marked as `cacheable`.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "sync": {
            "description": "Whether or not this machine can be run synchronously (with `.execSync()`).",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "idempotent": {
            "description": "Whether or not running this machine multiple times achieves different results (ceteris paribus.)",
            "example": false,
            "type": "boolean"
          },
          "environment": {
            "description": "An optional array of environment objects. If specified, the machine will depend on these objects in order to work.",
            "extendedDescription": "Environments are an experimental feature of the machine spec. For more on environments, see https://groups.google.com/forum/#!searchin/node-machine/environment/node-machine/yipvJSiIj_Q/Wqm1RCOn070J",
            "example": [
              "req"
            ],
            "type": "array"
          },
          "inputs": {
            "description": "The `inputs` definition object for this machine.",
            "example": {},
            "type": "object"
          },
          "exits": {
            "description": "The `exits` definition object for this machine.",
            "example": {},
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotParseFnInsideInput": {},
          "couldNotParseFnInsideExit": {},
          "couldNotParseFn": {
            "description": "The provided `fn` could not be parsed as a function."
          },
          "success": {
            "description": "OK.",
            "example": "module.exports = { friendlyName: \"Do something\", inputs: {}, exits: { error: {}, success: {} }, fn: function (inputs, exits){} };",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n    var rttc = require('rttc');\n    var _ = require('lodash');\n    var Javascript = require('machinepack-javascript');\n\n    // Wrap any `getExample` function strings in a function wrapper, and convert\n    // to a real js function.\n    try {\n      inputs.exits = _.mapValues(inputs.exits, function (exitDef, exitId){\n        if (_.isString(exitDef.getExample)) {\n          exitDef.getExample = new Function('inputs','env', exitDef.getExample);\n        }\n        // Never include an `example` (or a substitute like `itemOf`) if this is the `error` exit\n        // and also make sure it's never `void`.\n        // (that's because it smashes the error instance and therefore the stack trace!)\n        if (exitId === 'error') {\n          delete exitDef.void;\n          delete exitDef.example;\n          delete exitDef.like;\n          delete exitDef.itemOf;\n          delete exitDef.getExample;\n        }\n        return exitDef;\n      });\n    }\n    catch (e){\n      return exits.couldNotParseFnInsideExit(e);\n    }\n\n    // Wrap any `validate` or `defaultsTo` function strings in a function wrapper,\n    // and convert to a real js function.\n    try {\n      inputs.inputs = _.mapValues(inputs.inputs, function (inputDef, inputId){\n        if (_.isString(inputDef.validate)) {\n            inputDef.validate = new Function('inputs','env', inputDef.validate);\n        }\n\n        // Hydrate any functions in the `defaultsTo`:\n        if (inputDef.defaultsTo) {\n          inputDef.defaultsTo = rttc.hydrate(inputDef.defaultsTo, rttc.infer(inputDef.example));\n        }\n\n        return inputDef;\n      });\n    }\n    catch (e){\n      return exits.couldNotParseFnInsideInput(e);\n    }\n\n    // Parse encoded `fn` to a real JavaScript function, then `toString` it again.\n    var fn;\n    if (inputs.fn) {\n      try {\n        fn = new Function('inputs', 'exits', 'env', inputs.fn);\n        fn = fn.toString().replace(/anonymous/, '').replace(/\\n/g,'\\n  ');\n      }\n      catch (e){\n        return exits.couldNotParseFn(e);\n      }\n    }\n    else {\n      fn = new Function('inputs', 'exits', util.format('  return exits.%s();', 'success'));\n      fn = fn.toString().replace(/anonymous/, '').replace(/\\n/g,'\\n  ');\n    }\n    // console.log('*********** BUILDING MACHINE CODE ************',util.inspect(inputs,{depth:null}));\n\n    var code = 'module.exports = {\\n\\n\\n';\n    code += util.format('  friendlyName: %s,\\n\\n\\n', util.inspect(inputs.friendlyName));\n    code += util.format('  description: %s,\\n\\n\\n', util.inspect(inputs.description));\n    if (!_.isUndefined(inputs.extendedDescription)) {\n      code += util.format('  extendedDescription: %s,\\n\\n\\n', util.inspect(inputs.extendedDescription||''));\n    }\n    if (!_.isUndefined(inputs.moreInfoUrl)) {\n      code += util.format('  moreInfoUrl: %s,\\n\\n\\n', util.inspect(inputs.moreInfoUrl||''));\n    }\n    if (!_.isUndefined(inputs.cacheable)) {\n      code += util.format('  cacheable: %s,\\n\\n\\n', util.inspect(inputs.cacheable));\n    }\n    if (!_.isUndefined(inputs.sync)) {\n      code += util.format('  sync: %s,\\n\\n\\n', util.inspect(inputs.sync));\n    }\n    if (!_.isUndefined(inputs.idempotent)) {\n      code += util.format('  idempotent: %s,\\n\\n\\n', util.inspect(inputs.idempotent));\n    }\n    if (!_.isUndefined(inputs.environment)) {\n      code += util.format('  environment: %s,\\n\\n\\n', util.inspect(inputs.environment));\n    }\n    code += util.format('  inputs: {%s\\n\\n  },\\n\\n\\n', _.reduce(inputs.inputs||{}, function (memo, def, name){\n      memo += util.format('\\n\\n    %s: {%s\\n    },', name, _.reduce(def, function (submemo, value, key){\n        submemo += util.format('\\n      %s: %s,', key, rttc.compile(value));\n        return submemo;\n      },''));\n      return memo;\n    }, '')); //util.inspect(inputs.inputs||{}, false, null).replace(/\\n/g,'\\n\\n  '));\n    code += util.format('  exits: {%s\\n\\n  },\\n\\n\\n', _.reduce(inputs.exits||{}, function (memo, def, name){\n      memo += util.format('\\n\\n    %s: {%s\\n    },', name, _.reduce(def, function (submemo, value, key){\n        if (key == 'getExample') {\n          submemo += util.format('\\n      getExample: %s,', value.toString());\n        } else {\n          submemo += util.format('\\n      %s: %s,', key, rttc.compile(value));\n        }\n        return submemo;\n      },''));\n      return memo;\n    }, ''));\n    // code += util.format('  exits: %s,\\n\\n\\n', util.inspect(inputs.exits||{success: {}, error: {}}, false, null).replace(/\\n/g,'\\n\\n  '));\n    code += util.format('  fn: %s,\\n\\n\\n', fn);\n    code += '\\n};\\n';\n\n    code = Javascript.beautify({code: code}).execSync();\n\n    return exits.success(code);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/build-machine-code",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/build-machine-code",
        "defaultExit": null,
        "machinepack": 135,
        "id": 588,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "prompt-for-input-vals",
        "variableName": "promptForInputVals",
        "friendlyName": "Prompt for input values",
        "cacheable": null,
        "sync": null,
        "description": "Prompt command-line user for the specified machine input values.",
        "inputs": {
          "prompts": {
            "description": "An array of prompt objects this machine will use to properly prompt for and validate user-defined values for runtime inputs.",
            "extendedDescription": "`expectType` may be \"string\" or \"password\".  If it is \"password\", the relevant prompt will not display typed characters.",
            "example": [
              {
                "name": "foobar",
                "example": "here is what a foobar should look like",
                "description": "The foobar that will be used to foo the bar (i.e. input description)",
                "expectType": "json"
              }
            ],
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "name": "foobar",
                "value": "stuff and things"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    /**\n     * Module dependencies\n     */\n\n    var inquirer = require('inquirer');\n    var chalk = require('chalk');\n    var _ = require('lodash');\n    var Path = require('path');\n    var util = require('util');\n\n\n    // Build array of prompt objects for inquirer\n    var promptArray;\n    try {\n      promptArray = _.reduce(inputs.prompts, function (memo, promptDef){\n        var inquirerPromptDef = {\n          name: promptDef.name,\n          message: (\n            ( promptDef.description ? chalk.reset('Please enter '+promptDef.description[0].toLowerCase()+promptDef.description.slice(1))\n              : chalk.reset('Please enter a value for ')+chalk.bold(promptDef.name)\n            ) +'\\n'+\n            chalk.bold(promptDef.name)+': '\n          ),\n            // chalk.reset(chalk.gray(promptDef.description?'  '+(promptDef.description[0].toLowerCase()+promptDef.description.slice(1))+'':''))+'\\n'+chalk.bold(promptDef.name)+': ',\n          // message: util.format(chalk.reset('Please enter a value for ')+'%s', chalk.bold(promptDef.name) + chalk.reset(chalk.gray(promptDef.description?'  '+(promptDef.description[0].toLowerCase()+promptDef.description.slice(1))+'':''))+'\\n'+chalk.bold(promptDef.name)+': '),\n          // message: util.format('%s', promptDef.name, chalk.reset(chalk.gray(promptDef.description?', '+(promptDef.description[0].toLowerCase()+promptDef.description.slice(1))+'':'')), (promptDef.example?('\\n(e.g. '+promptDef.example+')'):''),'\\n?'),\n          // message: util.format('Please enter a value for \"%s\"', promptDef.name, chalk.reset(chalk.gray(promptDef.description?', '+(promptDef.description[0].toLowerCase()+promptDef.description.slice(1))+'':'')), '\\n?'),\n          type: (function (){\n            if (promptDef.expectType === 'string') {\n              return 'input';\n            }\n            if (promptDef.expectType === 'password') {\n              return 'password';\n            }\n            if (promptDef.expectType === 'json') {\n              return 'input';\n            }\n            throw new Error('Unexpected `expectType` for prompt: '+promptDef.expectType);\n          })(),\n          validate: function _isTruthy(value){\n            var parsedValue;\n            // Value is truthy\n            if (value) {\n              if (promptDef.expectType === 'json'){\n                try {\n                  // TODO: use `rttc.parseHuman()` here\n                  parsedValue = JSON.parse(value);\n                  // Don't allow null\n                  if (_.isNull(parsedValue)) {\n                    return '`null` is not allowed, sorry';\n                  }\n                  // Allow booleans, strings, numbers, objects, arrays\n                  return true;\n                }\n                catch (e){}\n                return 'enter valid JSON (don\\'t forget double quotes!)';\n              }\n              return true;\n            }\n\n            // Value is falsy\n            else {\n              if (promptDef.example) {\n                return 'e.g. '+promptDef.example;\n              }\n              return false;\n            }\n          }\n        };\n        // if (promptDef.example){\n        //   inquirerPromptDef.default = promptDef.example;\n        // }\n        memo.push(inquirerPromptDef);\n        return memo;\n      }, []);\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n\n\n    inquirer.prompt(promptArray, function (answers) {\n      var resultArray = [];\n      try {\n        _.each(answers, function (answer, key){\n          resultArray.push({\n            name: key,\n            value: answer\n          });\n        });\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n      return exits.success(resultArray);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/prompt-for-input-vals",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/prompt-for-input-vals",
        "defaultExit": null,
        "machinepack": 135,
        "id": 589,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "add-machine",
        "variableName": "addMachine",
        "friendlyName": "Add new machine",
        "cacheable": null,
        "sync": null,
        "description": "Add a new machine to a machinepack on your local filesystem.",
        "inputs": {
          "machinepackRootPath": {
            "description": "The path to the machinepack of interest",
            "example": "/Users/mikermcneil/machinepack-foobar",
            "required": true,
            "type": "string"
          },
          "identity": {
            "description": "The identity to use in the generated machine file",
            "example": "do-something",
            "required": true,
            "type": "string"
          },
          "friendlyName": {
            "example": "Do something",
            "type": "string"
          },
          "description": {
            "example": "Do something useful given stuff; maybe return something else.",
            "type": "string"
          },
          "extendedDescription": {
            "example": "...lots of words...",
            "type": "string"
          },
          "moreInfoUrl": {
            "example": "http://api.stuff.org/foo/bar?v=3.1",
            "type": "string"
          },
          "cacheable": {
            "example": true,
            "type": "boolean"
          },
          "sync": {
            "example": true,
            "type": "boolean"
          },
          "idempotent": {
            "example": true,
            "type": "boolean"
          },
          "inputs": {
            "example": {},
            "type": "object"
          },
          "exits": {
            "example": {},
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "alreadyExists": {
            "description": "Something already exists at destination path- another machine probably already exists with that identity."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    /**\n     * Module dependencies\n     */\n\n    var Path = require('path');\n    var _ = require('lodash');\n    var Filesystem = require('machinepack-fs');\n    var Machine = require('machine');\n\n\n    // Determine the appropriate location for the new machine\n    Machine.build(require('./get-machines-dir'))({\n      dir: inputs.machinepackRootPath\n    }).exec({\n      error: function (err) {\n        return exits.error(err);\n      },\n      success: function (machinesDirpath){\n\n        var outputPath = Path.resolve(machinesDirpath, inputs.identity+'.js');\n\n        Machine.build(require('./write-machine-file'))({\n          destination: outputPath,\n          friendlyName: inputs.friendlyName,\n          description: inputs.description,\n          extendedDescription: inputs.extendedDescription,\n          moreInfoUrl: inputs.moreInfoUrl,\n          cacheable: inputs.cacheable,\n          sync: inputs.sync,\n          idempotent: inputs.idempotent,\n          inputs: inputs.inputs,\n          exits: inputs.exits,\n        }).exec({\n\n          error: function (err){\n            return exits.error(err);\n          },\n\n          // Something already exists at the specified path (overwrite by enabling the `force` input)\n          alreadyExists: function (){\n            return exits.alreadyExists(new Error('Something already exists at '+outputPath));\n          },\n\n          success: function (){\n\n            // Determine path to package.json file.\n            var packageJsonPath = Path.resolve(inputs.machinepackRootPath, 'package.json');\n\n            // Read contents of package.json file\n            Filesystem.readJson({\n              source: packageJsonPath,\n              schema: {}\n            }).exec({\n              error: function (err){\n                return exits.error(err);\n              },\n              success: function (jsonData){\n\n                // Modify package.json, adding the new machine we're generating.\n                try {\n                  jsonData.machinepack.machines = _.union(jsonData.machinepack.machines, [inputs.identity]);\n                }\n                catch (e) {\n                  return exits.error(e);\n                }\n\n                // Rewrite contents of package.json file\n                Filesystem.writeJson({\n                  json: jsonData,\n                  destination: packageJsonPath,\n                  force: true\n                }).exec({\n                  error: function (err){\n                    return exits.error(err);\n                  },\n                  success: function (){\n                    return exits.success();\n                  }\n                });\n              }\n            });\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/add-machine",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/add-machine",
        "defaultExit": null,
        "machinepack": 135,
        "id": 590,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "run-machine-interactive",
        "variableName": "runMachineInteractive",
        "friendlyName": "Run local machine (interactive)",
        "cacheable": null,
        "sync": null,
        "description": "Run a machine in the specified local pack, prompting for required input values.",
        "inputs": {
          "machinepackPath": {
            "example": "/Users/mikermcneil/machinepack-foo/machines/bar.js",
            "description": "The path to the machinepack this machine is a part of (if path is not absolute, will be resolved from the current working directory)",
            "required": true,
            "type": "string"
          },
          "identity": {
            "example": "foo-bar",
            "description": "The identity of the machine to run.",
            "required": true,
            "type": "string"
          },
          "inputValues": {
            "description": "A set of input values (interactive prompt will be skipped for required inputs provided this way)",
            "example": [
              {
                "name": "someInput",
                "value": "some configured string value for the input",
                "protect": false
              }
            ],
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No file exists at the specified path"
          },
          "invalidMachine": {
            "description": "Invalid machine definition"
          },
          "success": {
            "description": "OK.",
            "example": {
              "withInputs": [
                {
                  "name": "foobar",
                  "protect": false,
                  "value": "fiddle diddle"
                }
              ],
              "exited": {
                "outcome": "success",
                "output": "===",
                "jsonStringifiedOutput": "{\"stuff\": \"things\"}",
                "inspectedOutput": "{ stuff: \"things\" }",
                "duration": 2582
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var _ = require('lodash');\n    var async = require('async');\n    var Machine = require('machine');\n    var chalk = require('chalk');\n    var rttc = require('rttc');\n\n\n    // `inputValues` defaults to an empty array\n    inputs.inputValues = inputs.inputValues||[];\n\n    // Require the machinepack\n    var mp;\n    try {\n      mp = require(inputs.machinepackPath);\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n\n    // Look up the appropriate machine instance\n    var machineInstance;\n    _.each(mp, function (_machine, methodName) {\n      if (_machine.identity === inputs.identity) {\n        machineInstance = _machine;\n      }\n    });\n    if (!machineInstance) {\n      return exits.notFound();\n    }\n\n    // Now we need to acquire configured input values from the user\n    // (for all required inputs at *minimum*)\n\n    // Build an array of all the required inputs, formatted for use\n    // w/ `prompt-for-input-vals`.\n    var requiredInputPrompts = [];\n    _.each(machineInstance.inputs, function (inputDef, inputName) {\n      if (inputDef.required) {\n\n        var promptDef = {};\n        promptDef.name = inputName;\n        promptDef.description = inputDef.description||'';\n        promptDef.example = (function (){\n          if (_.isArray(inputDef.example) || _.isObject(inputDef.example)){\n            var stringifiedExample;\n            try {\n              stringifiedExample = JSON.stringify(inputDef.example);\n            }\n            catch (e) { stringifiedExample = _.isArray(inputDef.example)?'[]':'{}'; }\n            return stringifiedExample;\n          }\n          return inputDef.example||'';\n        })();\n        promptDef.typeclass = inputDef.typeclass || '';\n\n        // Determine input type to expect\n        if (inputDef.typeclass === '*' || inputDef.typeclass === 'dictionary' || inputDef.typeclass === 'array' || _.isArray(inputDef.example) || _.isObject(inputDef.example) || inputDef.example === '===' || inputDef.example === '*') {\n          promptDef.expectType = 'json';\n        }\n        else if (inputDef.protect){\n          promptDef.expectType = 'password';\n        }\n        else {\n          promptDef.expectType = 'string';\n        }\n\n        requiredInputPrompts.push(promptDef);\n      }\n    });\n\n    // Remove required inputs that are already defined in inputValues\n    _.remove(requiredInputPrompts, function (requirement) {\n      return !!_.find(inputs.inputValues, {name: requirement.name});\n    });\n\n    // Prompt for required inputs\n    Machine.build(require('./prompt-for-input-vals'))({\n      prompts: requiredInputPrompts\n    }).exec({\n      error: function (err) {\n        return exits.error(err);\n      },\n      success: function (promptAnswers){\n\n        // Now add the explicitly declared `inputValues` from above into our prompt answers.\n        _.each(inputs.inputValues, function (inputValue){\n          promptAnswers.unshift({name: inputValue.name, value: inputValue.value});\n        });\n\n        // Save a copy of original input values for use in generating `--` CLI opts\n        var originalInputVals = _.cloneDeep(promptAnswers);\n\n        // Now we'll decode each input value (since they're all strings at the moment)\n        promptAnswers = _.reduce(promptAnswers, function (memo, inputValue){\n\n          // Ignore values specified for unknown inputs\n          var inputDef = machineInstance.inputs[inputValue.name];\n          if (!inputDef) {\n            return memo;\n          }\n\n          // Determine the type schema for the provided input value based\n          // on the input definition's expectations\n          // (i.e. if example or typeclass is an array or dictionary)\n          var typeSchema;\n          try {\n            // Special handling for typeclasses\n            // TODO: remove this when typeclass is officially deprecated\n            if (inputDef.typeclass === 'dictionary') {\n              typeSchema = {};\n            }\n            else if (inputDef.typeclass === 'array') {\n              typeSchema = [];\n            }\n            else if (inputDef.typeclass) { // typeclass: *, etc\n              typeSchema = 'ref';\n            }\n            // Normal case type inference (from example):\n            else {\n              typeSchema = rttc.infer(inputDef.example);\n            }\n          }\n          catch (e) {\n            // could not infer type\n            // (machine runner will catch this as an error in a moment, but no need to worry right now)\n          }\n\n          // Now parse the human-entered input string, but use the type schema to improve our guess.\n          var parsedValue;\n          try {\n            parsedValue = rttc.parseHuman(inputValue.value, typeSchema, true);\n          }\n          catch (e) {\n            // could not parse value-\n            // this should never happen, because it should be checked when accepting\n            // prompt values.\n            console.warn('Consistency violation in run-machine-interactive: could not parse machine input value ('+inputValue.name+').\\nError details:\\n',e);\n          }\n\n          memo.push({name: inputValue.name, value: parsedValue});\n          return memo;\n        }, []);\n\n        Machine.build(require('./run-machine'))({\n          machinepackPath: inputs.machinepackPath,\n          identity: inputs.identity,\n          inputValues: promptAnswers\n        }).exec({\n          error: exits.error,\n          notFound: exits.notFound,\n          invalidMachine: exits.invalidMachine,\n          success: function (result){\n\n            // Now loop through the original prompt answers one more time and strip out sensitive\n            // input data that was flagged with `expectType: \"password\"` in the original\n            // `requiredInputPrompts`.\n            _.each(originalInputVals, function (answer){\n              var isProtected = !!_.find(requiredInputPrompts, {\n                name: answer.name,\n                expectType: 'password'\n              });\n              if (isProtected) {\n                answer.value = '[**protected**]';\n                answer.protect = true;\n              }\n            });\n\n            return exits.success({\n              withInputs: originalInputVals,\n              exited: result\n            });\n          }\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/run-machine-interactive",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/run-machine-interactive",
        "defaultExit": null,
        "machinepack": 135,
        "id": 591,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "parse-machinepack-metadata",
        "variableName": "parseMachinepackMetadata",
        "friendlyName": "Parse pack metadata",
        "cacheable": true,
        "sync": true,
        "description": "Parse machinepack data from the provided JSON string.",
        "inputs": {
          "json": {
            "example": "{...package.json string...}",
            "description": "The package.json object for the NPM package.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notMachinepack": {
            "description": "The provided package.json data is valid, but not a machinepack.",
            "extendedDescription": "i.e. there is missing or invalid data in its `package.json`"
          },
          "success": {
            "description": "OK.",
            "example": {
              "npmPackageName": "machinepack-facebook",
              "identity": "machinepack-facebook",
              "friendlyName": "Facebook",
              "variableName": "Facebook",
              "description": "asg",
              "extendedDescription": "blah blah",
              "moreInfoUrl": "http://machinepack-facebook.org",
              "iconSrc": "http://machinepack-facebook.org/icon.png",
              "version": "0.1.1",
              "keywords": [
                "machine"
              ],
              "latestVersionPublishedAt": "2015-01-19T22:26:54.588Z",
              "author": "Marty McFly <marty@mcfly.com>",
              "nodeMachineUrl": "http://node-machine.org/machinepack-foo",
              "docsUrl": "http://node-machine.org/machinepack-foo",
              "npmUrl": "http://npmjs.org/package/machinepack-foo",
              "sourceUrl": "https://github.com/baz/machinepack-foo",
              "githubUrl": "https://github.com/baz/machinepack-foo",
              "testsUrl": "https://travis-ci.org/baz/machinepack-foo",
              "machineDir": "machines/",
              "machines": [
                "do-a-thing"
              ],
              "contributors": [
                {
                  "name": "Doc Brown",
                  "email": "doc@brown.com"
                }
              ],
              "dependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^2.4.1"
                }
              ],
              "machineDependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^2.4.1"
                }
              ],
              "license": "MIT"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n\n    var Npm = require('machinepack-npm');\n\n\n    // Reuse NPM machinepack's parsing logic to grab the basic stuff from\n    // the package.json file.\n    var _npmMetadata;\n    try {\n      _npmMetadata = Npm.parsePackageJson({json: inputs.json}).execSync();\n    }\n    catch (e){\n      return exits.error(e);\n    }\n\n    var machinepack = {};\n\n    // Include basic metadata from NPM\n    machinepack.npmPackageName = _npmMetadata.name;\n    machinepack.version = _npmMetadata.version;\n    machinepack.description = _npmMetadata.description;\n    machinepack.keywords = _npmMetadata.keywords;\n    machinepack.latestVersionPublishedAt = _npmMetadata.latestVersionPublishedAt;\n    machinepack.author = _npmMetadata.author;\n    machinepack.license = _npmMetadata.license;\n    machinepack.sourceUrl = _npmMetadata.sourceUrl;\n    machinepack.githubUrl = _npmMetadata.sourceUrl;\n    machinepack.npmUrl = _npmMetadata.npmUrl;\n    machinepack.contributors = _npmMetadata.contributors;\n    machinepack.dependencies = _npmMetadata.dependencies;\n\n    // Then parse the raw json to extract the `machinepack` property.\n    var _data;\n    try {\n      _data = JSON.parse(inputs.json);\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n\n    // Build up machinepack-specific properties\n    try {\n      machinepack.identity = machinepack.npmPackageName;\n\n      // Determine where to find metadata about this module's latest version\n      // (that's where the `machinepack` key lives- it's not at the top-level if the provided\n      //  JSON string came from pulling down a package.json file from NPM)\n      var latestVersion = _data.versions ? _data.versions[machinepack.version] : _data;\n\n      // Ensure the `machinepack` key exists\n      if (!latestVersion.machinepack) {\n        return exits.notMachinepack();\n      }\n\n      // Determine machinepack friendly name\n      machinepack.friendlyName = (function determineSuitableFriendlyName (){\n        var friendlyName = (latestVersion.machinepack&&latestVersion.machinepack.friendlyName) || machinepack.identity;\n        // If friendlyname still has \"machinepack-\" prefix in it, wipe it out\n        friendlyName = friendlyName.replace(/^machinepack-/, '');\n\n        // Then capitalize whatever's left\n        return friendlyName[0].toUpperCase() + friendlyName.slice(1);\n      })();\n\n      // Determine path to machine directory\n      machinepack.machineDir = latestVersion.machinepack.machineDir;\n      if (typeof machinepack.machineDir !== 'string') {\n        var err = new Error('Invalid or missing `machineDir` in `machinepack` key of package.json!');\n        err.exit = err.code = 'notMachinepack';\n        throw err;\n      }\n\n\n      // Parse machine identities\n      machinepack.machines = (function listMachineIdentities(){\n        try {\n          return _.reduce(latestVersion.machinepack.machines, function (memo, machineIdentity){\n            memo.push(machineIdentity);\n            return memo;\n          }, []);\n        }\n        catch (e){ return []; }\n      })();\n\n      // Build docs url.\n      machinepack.nodeMachineUrl = util.format('http://node-machine.org/%s', machinepack.identity);\n      machinepack.docsUrl = machinepack.nodeMachineUrl;\n\n      // Extract more metadata from the `machinepack` property in the package.json data.\n      machinepack.extendedDescription = latestVersion.machinepack.extendedDescription;\n      machinepack.moreInfoUrl = latestVersion.machinepack.moreInfoUrl;\n      machinepack.iconSrc = latestVersion.machinepack.iconSrc;\n      machinepack.testsUrl = latestVersion.machinepack.testsUrl;\n\n      // Default variableName to friendlyName, then mutate it a bit:\n      machinepack.variableName = (function (){\n        var _variableName = machinepack.friendlyName;\n        // strip stuff wrapped in parentheses\n        _variableName = _variableName.replace(/\\([^\\(\\)]*\\)/g, '');\n        // strip any weird characters\n        _variableName = require('machinepack-javascript').coerceVarname({\n          string: _variableName\n        }).execSync();\n        // capitalize the first letter\n        _variableName = _variableName[0].toUpperCase() + _variableName.slice(1);\n        return _variableName;\n      })();\n\n      machinepack.machineDependencies = latestVersion.machinepack.npmDependencies;\n\n    }\n    catch (e) {\n      return exits(e);\n    }\n\n    // Ensure minimum required machinepack metadata is present.\n    // (i.e. no empty strings allowed)\n    if (!machinepack.identity || !machinepack.machineDir) {\n      return exits.notMachinepack();\n    }\n\n    return exits.success(machinepack);\n  ",
        "environment": [],
        "extendedDescription": "The provided JSON string will likely come from a package.json entry; whether it comes from the local filesystem, NPM, or elsewhere.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/parse-machinepack-metadata",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/parse-machinepack-metadata",
        "defaultExit": null,
        "machinepack": 135,
        "id": 592,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "initialize-machinepack",
        "variableName": "initializeMachinepack",
        "friendlyName": "Initialize machinepack",
        "cacheable": null,
        "sync": null,
        "description": "Initilize or rename a local pack by modifying its package.json file.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Path = require('path');\n    var _promptAboutNewMachinepack = require('machine').build(require('./prompt-about-new-machinepack'));\n    var Filesystem = require('machinepack-fs');\n\n    var machinepackPath = Path.resolve(process.cwd(), inputs.dir);\n    var packageJsonPath = Path.resolve(machinepackPath, 'package.json');\n\n\n    _promptAboutNewMachinepack().exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      then: function (metadata){\n        Filesystem.readJson({\n          source: packageJsonPath,\n          schema: {}\n        }).exec({\n          error: function (err){\n            return exits.error(err);\n          },\n          success: function (jsonData){\n            jsonData.machinepack = jsonData.machinepack || {};\n            jsonData.machinepack.friendlyName = metadata.friendlyName || jsonData.machinepack.friendlyName;\n            jsonData.machinepack.machines = jsonData.machinepack.machines || [];\n            jsonData.description = metadata.description || jsonData.description;\n            jsonData.machinepack.machineDir = jsonData.machinepack.machineDir || 'machines/';\n\n            (function (done){\n              Filesystem.mkdir({\n                destination: jsonData.machinepack.machineDir\n              }).exec({\n                error: function (err){\n                  return done(err);\n                },\n                // If something already exists at the machine directory path, no problem,\n                // just ignore it and continue -- we definitely won't try to overwrite it.\n                alreadyExists: function (){\n                  return done();\n                },\n                success: function (){\n                  return done();\n                }\n              });\n            })(function (err) {\n              if (err){\n                return exits.error(err);\n              }\n\n              Filesystem.writeJson({\n                json: jsonData,\n                destination: packageJsonPath,\n                force: true\n              }).exec({\n                error: function (err){\n                  return exits.error(err);\n                },\n                success: function (){\n                  // Done.\n                  return exits.success();\n                }\n              });\n            });\n          }\n        });\n      }\n    });\n\n\n  ",
        "environment": [],
        "extendedDescription": "Modifies the package's package.json file.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/initialize-machinepack",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/initialize-machinepack",
        "defaultExit": null,
        "machinepack": 135,
        "id": 593,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "read-package-json",
        "variableName": "readPackageJson",
        "friendlyName": "Read machinepack metadata (package.json)",
        "cacheable": true,
        "sync": null,
        "description": "Read and parse the package.json file of a local pack in the specified directory.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notMachinepack": {
            "description": "The specified path is not the root directory of a machinepack"
          },
          "success": {
            "description": "OK.",
            "example": {
              "npmPackageName": "machinepack-facebook",
              "identity": "machinepack-facebook",
              "friendlyName": "Facebook",
              "variableName": "Facebook",
              "description": "asg",
              "extendedDescription": "blah blah",
              "moreInfoUrl": "http://machinepack-facebook.org",
              "iconSrc": "http://machinepack-facebook.org/icon.png",
              "version": "0.1.1",
              "keywords": [
                "machine"
              ],
              "latestVersionPublishedAt": "2015-01-19T22:26:54.588Z",
              "author": "Marty McFly <marty@mcfly.com>",
              "nodeMachineUrl": "http://node-machine.org/machinepack-foo",
              "docsUrl": "http://node-machine.org/machinepack-foo",
              "npmUrl": "http://npmjs.org/package/machinepack-foo",
              "sourceUrl": "https://github.com/baz/machinepack-foo",
              "githubUrl": "https://github.com/baz/machinepack-foo",
              "testsUrl": "https://travis-ci.org/baz/machinepack-foo",
              "machineDir": "machines/",
              "machines": [
                "do-a-thing"
              ],
              "contributors": [
                {
                  "name": "Doc Brown",
                  "email": "doc@brown.com"
                }
              ],
              "dependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^2.4.1"
                }
              ],
              "machineDependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^2.4.1"
                }
              ],
              "license": "MIT"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Path = require('path');\n    var Machine = require('machine');\n    var Filesystem = require('machinepack-fs');\n\n    var machinepackPath = Path.resolve(process.cwd(), inputs.dir);\n    var packageJsonPath = Path.resolve(machinepackPath, 'package.json');\n\n    Filesystem.read({\n      source: packageJsonPath\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      doesNotExist: function (){\n        return exits.notMachinepack();\n      },\n      success: function (jsonString){\n\n        // Parse machinepack metadata from its package.json string.\n        try {\n          var machinepackMetadata = Machine.build(require('./parse-machinepack-metadata')).configure({\n            json: jsonString,\n          }).execSync();\n\n          return exits.success(machinepackMetadata);\n        }\n        catch (e) {\n          return exits(e);\n        }\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/read-package-json",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/read-package-json",
        "defaultExit": null,
        "machinepack": 135,
        "id": 594,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "interpret-machine-module",
        "variableName": "interpretMachineModule",
        "friendlyName": "Interpret machine module",
        "cacheable": null,
        "sync": null,
        "description": "Interpret a machine from a Node.js module string into a JSON string.",
        "inputs": {
          "module": {
            "description": "The machine definition as a Node.js module (a string of JavaScript code).",
            "example": "module.exports = {inputs: {atest: {example: \"whatever\"    }  },  exits: {    error: {}, success: {example: {stuff: [{andMore: \"stuff\"        }]      }    }  },  fn: function(inputs, exits) {    return exits.success();  }};",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "noExits": {
            "description": "Machine definition is semantically invalid: No exits were provided"
          },
          "tookTooLong": {
            "description": "Timed out attempting to interpret machine module."
          },
          "success": {
            "description": "OK.",
            "variableName": "jsonString",
            "example": "((machine definition as a json string))",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var spawn = require('child_process').spawn;\n    var path = require('path');\n    var util = require('util');\n    var debug = require('debug')('machine:interpret-machine-module');\n    var _ = require('lodash');\n\n    // Path to the parser\n    var scriptPath = path.resolve(__dirname, \"../helpers/parse-machine-spec.js\");\n\n    // Start the parser with proxies enabled\n    var child = spawn(\"node\", [\"--harmony-proxies\", scriptPath]);\n\n    // Read in chunks of the result\n    var result = '';\n    child.stdout.on('readable', function() {\n      var chunk = child.stdout.read();\n      if (chunk !== null) {\n        result += chunk;\n      }\n    });\n\n    // When the child is finished, handle the exit status\n    child.on('exit', finish);\n\n    // Write to the parser stdin\n    child.stdin.write(inputs.module);\n    child.stdin.end();\n\n    // Set a timeout to kill the parser after 2 seconds\n    var timeout = setTimeout(function() {\n      child.removeListener('exit', finish);\n      child.kill();\n      return exits.tookTooLong();\n    }, 2000);\n\n    function finish(code) {\n\n      // Clear the timeout since the child is already done\n      clearTimeout(timeout);\n\n      // If we were unsuccessful, return the result as the error\n      if (code !== 0) {\n        return exits.error(result);\n      }\n\n      // Otherwise we were successful\n      var machineMetadata;\n      try {\n        machineMetadata = JSON.parse(result);\n\n        // If no exits exist at all in the def\n        // (or they're invalid)\n        if (!_.isObject(machineMetadata.exits)) {\n          // If we're forcing it, just add an empty exits hash\n          debug(\"Adding empty exits object to module with no exits defined.\");\n          machineMetadata.exits = {};\n        }\n\n        // If we're forcing it, make sure there are inputs in the machine def\n        if (!machineMetadata.inputs) {\n          debug(\"Adding empty inputs object to module with no inputs defined.\");\n          machineMetadata.inputs = {};\n        }\n\n        // Ensure `error` exit exists\n        if (!machineMetadata.exits.error) {\n          debug(\"Adding error exit to module with no error exit defined.\");\n          machineMetadata.exits.error = {\n            description: \"An unexpected error occurred.\"\n          };\n        }\n\n        // Ensure success exit exists\n        if (!machineMetadata.exits.success) {\n          debug(\"Adding success exit to module with no success/default exit defined.\");\n          machineMetadata.exits.success = {\n            description: \"OK.\"\n          };\n        }\n\n        // Remove the `id` property if one exists, because it is the primary key.\n        // (this is mainly for backwards compatibility with machines that specify the `id` property.\n        //  i.e. it should never be a big deal anymore)\n        delete machineMetadata.id;\n\n        // Loop through each exit and ensure that `error` and `sucess` have\n        // at least a default description and a flag labeling them as the error\n        // and/or default exit for convenience.\n        machineMetadata.exits.error.description = 'An unexpected error occurred.';\n        machineMetadata.exits.error.isCatchall = true;\n        machineMetadata.exits.success.description = 'OK.';\n        machineMetadata.exits.success.isDefault = true;\n\n\n        // Loop through the machine metadata and determine the \"type\"\n        // for each input and exit, saving it back onto the object.\n        // This is just for display purposes (could be moved elsewhere-\n        // but storing it in the db makes API usage and front-end code simpler.\n        // Best thing to do is probably have the API mix these in at request-time.)\n        _.each(machineMetadata.inputs, function(inputDef) {\n          if (!_.isUndefined(inputDef.example)) {\n            inputDef.type = _guessType(inputDef.example);\n          } else if (!_.isUndefined(inputDef.typeclass)) {\n            inputDef.type = inputDef.typeclass;\n          }\n        });\n        _.each(machineMetadata.exits, function(exitDef) {\n          if (!_.isUndefined(exitDef.example)) {\n            exitDef.type = _guessType(exitDef.example);\n          }\n          // If exit has `getExample`, then the return value depends\n          // on the configured inputs at runtime.  For now, we'll leave\n          // the \"type\" unflagged in this case, but in the future, perhaps\n          // registry browsers should have the ability to specify some input\n          // configurations, which would make it possible to run getExample\n          // and preview what type of data would come back.\n          //\n          // In an even simpler scenario, during import, we could try configuring\n          // all inputs with their `example` (or a random piece of data of the expected typeclass)\n          // and then running `getExample` based on that fake data.  In any case, for now,\n          // we flag exits with a getExample function as `hasDynamicOutputType: true` so we can display\n          // this in the UI one way or another.\n          else if (!_.isUndefined(exitDef.getExample)) {\n            exitDef.hasDynamicOutputType = true;\n          } else if (exitDef.isCatchall) {\n            exitDef.type = 'error';\n          }\n        });\n\n      } catch (e) {\n        return exits.error(e);\n      }\n\n\n      // If everything worked, return metadata wherein\n      // the inputs/exits now have inferred types.\n      // (but first, convert this to a JSON string)\n      var jsonStr;\n      try {\n        jsonStr = JSON.stringify(machineMetadata);\n      } catch (e) {\n        return exits.error(e);\n      }\n\n      return exits.success(jsonStr);\n\n    }\n\n    function _guessType(value) {\n      if (_.isArray(value)) {\n        return 'array';\n      }\n      if (_.isObject(value)) {\n        return 'object';\n      }\n      if (_.isNumber(value)) {\n        return 'number';\n      }\n      if (_.isBoolean(value)) {\n        return 'boolean';\n      }\n      if (_.isString(value)) {\n        return 'string';\n      }\n      return '';\n    }\n\n\n  ",
        "environment": [],
        "extendedDescription": "Functions will be escaped as strings.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/interpret-machine-module",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/interpret-machine-module",
        "defaultExit": null,
        "machinepack": 135,
        "id": 595,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "scaffold-tests",
        "variableName": "scaffoldTests",
        "friendlyName": "Scaffold tests",
        "cacheable": null,
        "sync": null,
        "description": "Generate JSON test files for any machines in this local machinepack which don't already have them.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notMachinepack": {
            "description": "The specified path is not the root directory of a machinepack"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var path = require('path');\n    var async = require('async');\n    var Filesystem = require('machinepack-fs');\n    var Machine = require('machine');\n\n    Machine.build(require('./read-package-json'))\n    .configure({\n      dir: inputs.dir\n    }).exec({\n      error: exits.error,\n      notMachinepack: exits.notMachinepack,\n      success: function (machinepack){\n\n        async.each(machinepack.machines, function (identity, next){\n\n          // Determine the path where the test suite should live\n          var pathToTestSuiteJsonFile = path.resolve(inputs.dir, path.join('tests', identity+'.json'));\n\n          // Generate a boilerplate test suite\n          var suite = {\n            machine: identity,\n            expectations: [\n            // {\n            //   todo: true,\n            //   using: {},\n            //   outcome: 'success'\n            // }\n            ]\n          };\n          // TODO: At some point, come back here and generate a more custom test suite for each machine.\n          // (note that we'd have to import the machine definition though)\n          // e.g.\n          // Generate a test suite for this machine\n          // var testSuite = {\n          //   machine: identity,\n          //   expectations: (function (){\n          //     return _.reduce();\n          //   })()\n          // };\n\n          // And write it to disk as a new JSON file\n          // (unless a test already exists w/ the same filename- in that case,\n          //  leave it alone and keep moving)\n          Filesystem.writeJson({\n            json: suite,\n            destination: pathToTestSuiteJsonFile\n          }).exec({\n            // An unexpected error occurred.\n            error: function(err) {\n              return next(err);\n            },\n            // OK.\n            success: function() {\n              return next();\n            },\n            // A file or folder already exists at the specified `destination`\n            alreadyExists: function() {\n              return next();\n            },\n          });\n\n        }, function (err) {\n          if (err) return exits.error(err);\n          return exits.success();\n        });\n\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/scaffold-tests",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/scaffold-tests",
        "defaultExit": null,
        "machinepack": 135,
        "id": 596,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "add-test",
        "variableName": "addTest",
        "friendlyName": "Add test",
        "cacheable": null,
        "sync": null,
        "description": "Add a test for a machine in a machinepack on the local disk.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          },
          "identity": {
            "description": "The identity of the machine for whom a test will be generated.",
            "example": "do-stuff-and-things",
            "required": true,
            "type": "string"
          },
          "using": {
            "description": "An input configuration for this machine.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "outcome": {
            "description": "Expected outcome (exit triggered) from the provided input configuration.",
            "example": "foobar",
            "required": true,
            "type": "string"
          },
          "returns": {
            "description": "Expected return value from the provided input configuration.",
            "example": "*",
            "type": "string"
          },
          "before": {
            "description": "A stringified function that will be used as the \"before\" for Mocha.",
            "example": "function before (done) {\n done(); \n}",
            "type": "string"
          },
          "after": {
            "description": "A stringified function that will be used as the \"after\" for Mocha.",
            "example": "function after (done) {\n done(); \n}",
            "type": "string"
          }
        },
        "exits": {
          "corrupted": {
            "description": "A test suite file exists, but it is corrupted.  Please fix or delete it manually.",
            "example": "/foo/bar/machinepack-baz/tests/do-stuff-and-things.json",
            "type": "string"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var path = require('path');\n    var _ = require('lodash');\n    var Util = require('machinepack-util');\n    var Filesystem = require('machinepack-fs');\n\n    var pathToTests = path.resolve(inputs.dir, './tests');\n    var pathToTestSuite = path.resolve(pathToTests, inputs.identity+'.json');\n\n    // Build up new test data\n    var newExpectation = {\n      using: inputs.using,\n      outcome: inputs.outcome\n    };\n    if (!_.isUndefined(inputs.returns)) {\n      newExpectation.returns = inputs.returns;\n    }\n    // Add before and/or after stringified fns if relevant\n    if (inputs.before) {\n      newExpectation.before = inputs.before;\n    }\n    if (inputs.after) {\n      newExpectation.after = inputs.after;\n    }\n\n    // Generate unique string from the provided config (`using`).\n    var newExpectationConfigHash = Util.hash({\n      value: inputs.using,\n    }).execSync();\n\n    // console.log('reading test suite from %s',pathToTestSuite);\n\n    // Load test suite from disk, or write a JSON file for it\n    // if one doesn't already exist\n    Filesystem.ensureJson({\n      path: pathToTestSuite,\n      schema: {\n        machine: inputs.identity,\n        expectations: []\n      }\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      couldNotParse: function (){\n        return exits.corrupted(pathToTestSuite);\n      },\n      success: function (suite){\n\n        // check each test against the provided config\n        var matchingExpectation = _.find(suite.expectations, function (expectation){\n          var hash = Util.hash({\n            value: expectation.using,\n          }).execSync();\n          return newExpectationConfigHash === hash;\n        });\n\n        // if configs DON'T match, add a new test\n        if (!matchingExpectation) {\n          delete newExpectation.todo;\n          suite.expectations.push(newExpectation);\n        }\n        // if configs match, update the test expectations\n        else {\n          delete matchingExpectation.todo;\n          matchingExpectation.outcome = newExpectation.outcome;\n          if (_.isUndefined(newExpectation.returns)) {\n            delete matchingExpectation.returns;\n          }\n          else {\n            matchingExpectation.returns = newExpectation.returns;\n          }\n          // Add before and/or after stringified fns if relevant\n          if (inputs.before) {\n            matchingExpectation.before = inputs.before;\n          }\n          if (inputs.after) {\n            matchingExpectation.after = inputs.after;\n          }\n\n          // Don't write fns if they don't exist\n          if (!matchingExpectation.before) {\n            delete matchingExpectation.before;\n          }\n          if (!matchingExpectation.after) {\n            delete matchingExpectation.after;\n          }\n        }\n\n        // Clean out `todo` test stubs\n        suite.expectations = _.reject(suite.expectations, function (expectation){\n          return !!expectation.todo;\n        });\n\n        // Finally, write test suite back to disk\n        Filesystem.writeJson({\n          json: suite,\n          destination: pathToTestSuite,\n          force: true\n        }).exec({\n          error: exits.error,\n          success: function (){\n            return exits.success();\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/add-test",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/add-test",
        "defaultExit": null,
        "machinepack": 135,
        "id": 597,
        "createdAt": "2015-06-20T23:59:46.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "browse-to-pack-url",
        "variableName": "browseToPackUrl",
        "friendlyName": "Browse to pack URL(s)",
        "cacheable": null,
        "sync": true,
        "description": "",
        "inputs": {
          "dir": {
            "example": "/Users/mikermcneil/machinepack-foo/",
            "type": "string"
          },
          "toWhat": {
            "example": "npm",
            "defaultsTo": "docs",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notMachinepack": {},
          "noNpmUrl": {},
          "noSourceUrl": {},
          "noGithubUrl": {},
          "noDocsUrl": {},
          "noTestsUrl": {},
          "success": {
            "example": "http://node-machine.org/machinepack-facebook",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var thisPack = require('../');\n    var util = require('util');\n    var browseToUrl = require('open');\n\n    thisPack.readPackageJson({\n      dir: process.cwd()\n    }).exec({\n      error: exits.error,\n      notMachinepack: exits.notMachinepack,\n      success: function (machinepack){\n        try {\n\n          // TODO: perhaps add other convenient things? See synonyms in the case statement below.\n          // Some of that could be broken up or added to.\n          var ACCEPTABLE_BROWSE_TO_WHATS = ['docs', 'npm', 'source', 'tests'];\n          inputs.toWhat = inputs.toWhat || 'docs';\n\n          // TODO:\n          // ideally, we'd ping the various urls w/ a HEAD request and check\n          // for a 200 response before opening the browser for a better developer experience\n\n          var url;\n\n          switch(inputs.toWhat.toLowerCase()) {\n\n            case 'docs':\n            case 'doc':\n            case 'documentation':\n            case 'manpages':\n            case 'manpage':\n            case 'man':\n            case 'wiki':\n            case 'help':\n              if (!machinepack.docsUrl) {\n                return exits.noDocsUrl(new Error('This machinepack is not associated with a docs URL (e.g. the URL of a public machinepack on the public machine registry at http://node-machine.org.)'));\n              }\n              url = machinepack.docsUrl;\n              break;\n\n            case 'npm':\n            case 'package':\n            case 'release':\n            case 'version':\n            case 'module':\n              if (!machinepack.npmUrl) {\n                return exits.noNpmUrl(new Error('This machinepack is not associated with a Github repo, or any kind of source code repository at all.'));\n              }\n              url = machinepack.npmUrl;\n              break;\n\n            case 'source':\n            case 'lib':\n            case 'library':\n            case 'history':\n            case 'changes':\n            case 'issues':\n            case 'commits':\n            case 'sourcecode':\n            case 'repo':\n            case 'repository':\n            case 'implementation':\n            case 'code':\n            case 'remote':\n              if (!machinepack.sourceUrl) {\n                return exits.noSourceUrl(new Error('This machinepack is not associated with a version control (e.g. source code)'));\n              }\n              url = machinepack.sourceUrl;\n              break;\n\n            case 'github':\n            case 'hub':\n            case 'git':\n              if (!machinepack.githubUrl){\n                if (!machinepack.githubUrl && machinepack.sourceUrl){\n                  return exits.noGithubUrl(new Error('This machinepack is not associated with a Github repo- but maybe try '+machinepack.sourceUrl));\n                }\n                return exits.noSourceUrl(new Error('This machinepack is not associated with a Github repo, or any other kind of version-control/source repository at all.'));\n              }\n              url = machinepack.githubUrl;\n              break;\n\n            case 'travis':\n            case 'tests':\n            case 'ci':\n            case 'test':\n            case 'status':\n              if (!machinepack.testsUrl) {\n                return exits.noTestsUrl(new Error('This machinepack does not have a `testsUrl`- make sure you run `mp scrub`, or manually add the url of your testing/continuous-integration thing to the `machinepack` object in your package.json file.'));\n              }\n              url = machinepack.testsUrl;\n              break;\n\n            default:\n              return exits.error(buildError({\n                format: ['`mp browse` works w/ no arguments, but if an argument IS provided, it must be one of the following:', ACCEPTABLE_BROWSE_TO_WHATS]\n              }));\n          }\n\n          browseToUrl(url);\n          return exits.success(url);\n        }\n        catch (e) {\n          return exits(e);\n        }\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/browse-to-pack-url",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/browse-to-pack-url",
        "defaultExit": null,
        "machinepack": 135,
        "id": 598,
        "createdAt": "2015-06-21T00:09:35.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "get-signature",
        "variableName": "getSignature",
        "friendlyName": "Get signature",
        "cacheable": true,
        "sync": null,
        "description": "Lookup top-level metadata, dehydrate the machine definitions, and compute a hash for the public API of this machinepack.",
        "inputs": {
          "dir": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "example": {
              "pack": {},
              "machines": [
                {}
              ],
              "packHash": "a8319azj39$29130nfan3",
              "machineHashes": [
                {
                  "machine": "some-machine-identity",
                  "hash": "1390ba9z9140$1-3a914n4"
                }
              ],
              "npmDependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^3.9.0"
                }
              ]
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var path = require('path');\n    var Arrays = require('machinepack-arrays');\n    var JSON = require('machinepack-json');\n    var Util = require('machinepack-util');\n    var _ = require('lodash');\n    var thisPack = require('../');\n\n    // Resolve absolute path\n    inputs.dir = path.resolve(process.cwd(), inputs.dir);\n\n    // Read local pack\n    thisPack.readPackageJson({\n      dir: inputs.dir\n    }).exec({\n      error: exits.error,\n      success: function(packMetadata) {\n\n        // Run some logic (the \"iteratee\") once for each item of an array.\n        Arrays.map({\n          array: packMetadata.machines,\n          itemExample: {},\n          iteratee: function(_inputs, _exits) {\n\n            var machineIdentity = _inputs.item;\n\n            // Read machine file located at the specified path into a JSON string w/ stringified functions.\n            thisPack.readMachineFile({\n              source: path.resolve(inputs.dir, packMetadata.machineDir, machineIdentity + '.js')\n            }).exec({\n              error: function (err) {\n                // If an expected machine module is corrupted (i.e. it was referenced by\n                // `machinepacks.machines` in the package.json file, but the file is all\n                // jacked up), then ignore it, but also log a warning.\n                console.warn('Ignoring local machine ('+machineIdentity+') b/c it seems to be corrupted. Details:\\n',err);\n                return _exits.exclude();\n              },\n              notFound: function (){\n                // If an expected machine module is missing (i.e. it was referenced by\n                // `machinepacks.machines` in the package.json file), then just ignore it.\n                return _exits.exclude();\n              },\n              success: function (jsonStr){\n                // Parse machine data from the JSON-encoded string.\n                JSON.parse({\n                  json: jsonStr,\n                  schema: {},\n                }).exec({\n                  error: _exits.error,\n                  success: function  (machineDef) {\n                    // Make sure machineDef has an identity:\n                    machineDef.identity = machineDef.identity || machineIdentity;\n\n                    return _exits.success(machineDef);\n                  }\n                });\n              }\n            });\n          }\n        }).exec({\n          error: exits.error,\n          success: function(machineDefs) {\n\n            Arrays.map({\n              array: machineDefs,\n              itemExample: {\n                machine: 'some-machine-identity',\n                hash: 'a193fha9319vazm31$139a0'\n              },\n              iteratee: function(_inputs, _exits) {\n                var hash = Util.hash({ value: _inputs.item }).execSync();\n                return _exits.success({\n                  hash: hash,\n                  machine: _inputs.item.identity\n                });\n              }\n            }).exec({\n              error: exits.error,\n              success: function (machineHashes){\n                var hashObj = {\n                  \"identity\": packMetadata.npmPackageName,\n                  \"friendlyName\": packMetadata.friendlyName,\n                  \"description\": packMetadata.description,\n                  \"author\": packMetadata.author,\n                  \"license\": packMetadata.license,\n                  \"dependencies\": packMetadata.machineDependencies,\n                  \"machines\": _.pluck(machineHashes, 'hash')\n                };\n                // Generate unique hash for each machine, and for the top-level pack metadata.\n                Util.hash({\n                  value: hashObj,\n                }).exec({\n                  error: exits.error,\n                  success: function(packHash){\n                    // The pack-specific dependencies may be stored in the machinepack.dependencies\n                    // key of the package.json.  Having them stored in a place separate from the\n                    // package.json dependencies dictionary allows us to operate on them with changelogs\n                    // without affecting other required dependencies that are not part of the pack\n                    // (e.g. sails and its dependencies, for Treeline apps)\n                    var npmDependencies = packMetadata.machineDependencies || [];\n                    return exits.success({\n                      pack: packMetadata,\n                      machines: machineDefs,\n                      machineHashes: machineHashes,\n                      packHash: packHash,\n                      npmDependencies: npmDependencies\n                    });\n                  }\n                });\n              }\n            });\n\n          }\n        });\n\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/get-signature",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/get-signature",
        "defaultExit": null,
        "machinepack": 135,
        "id": 619,
        "createdAt": "2015-06-29T14:20:08.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      },
      {
        "identity": "write-pack",
        "variableName": "writePack",
        "friendlyName": "Write machinepack",
        "cacheable": null,
        "sync": null,
        "description": "Write a machinepack to disk at the specified path using the given metadata.",
        "inputs": {
          "destination": {
            "description": "The path to the machinepack (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/machinepack-foo/",
            "required": true,
            "type": "string"
          },
          "packData": {
            "description": "The metadata and code for the machinepack and its machines.",
            "example": {},
            "required": true,
            "type": "object"
          },
          "force": {
            "description": "Whether to force/overwrite files that already exist at the destination",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          },
          "ensureMachineDep": {
            "description": "Whether or not to add a dependency on `machine` to the generated pack if it doesn't have one.  Enabled by default.",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          },
          "mergeDependencies": {
            "description": "Whether the dependencies in the pack data should merge on top of existing dependencies (if any) instead of overwriting them",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "alreadyExists": {
            "description": "A file or folder already exists at the destination path.",
            "example": "/Users/mikermcneil/code/foo",
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var path = require('path');\n    var async = require('async');\n    var _ = require('lodash');\n    var rttc = require('rttc');\n    var Filesystem = require('machinepack-fs');\n    var NPM = require('machinepack-npm');\n    var Javascript = require('machinepack-javascript');\n    var thisPack = require('../');\n\n\n    // `packData` contains basic metadata about the machinepack as well as\n    // complete metadata about each machine-- including the `fn` (implementation code)\n    var packData = inputs.packData;\n\n    // Ensure packData is valid using an example schema.\n    packData = rttc.coerce(rttc.infer({\n      friendlyName: 'Foo',\n      description: 'Node.js utilities for working with foos.',\n      author: 'Marty McFly <marty@mcfly.com>',\n      license: 'MIT',\n      version: '0.5.17',\n      id: 'marty/machinepack-do-stuff',\n      npmPackageName: '@treelinehq/marty/machinepack-do-stuff',\n      dependencies: [ { name: 'lodash', semverRange: '^2.4.1' } ],\n      postInstallScript: 'node ./postinstall.js',\n      indexJsCode: 'module.exports = require(\\'machinepack-util\\');',\n      machines: [{\n        unchanged: false,\n        identity: 'do-stuff',\n        friendlyName: 'Do stuff',\n        description: 'Do stuff given other stuff.',\n        extendedDescription: 'Do stuff to the stuff given the other stuff.  If the stuff doesn\\'t get done the first time, try it again up to 50 times using an exponential backoff strategy.',\n        moreInfoUrl: 'http://place-with-more-info.com',\n        cacheable: false,\n        sync: false,\n        idempotent: false,\n        environment: ['sails'],\n        inputs: {}, //=> { foo: { friendlyName: 'Foo', example: 'bar' } }\n        exits: {}, //=>{ error: { friendlyName: 'error', example: null } }\n        fn: '/*the stringified machine fn contents, without the function signature*/',\n      }]\n    }), rttc.dehydrate(packData, true));\n    // ^Note that we dehydrate before coercing in order to ensure functions are stringified.\n\n    // Just in case...\n    // (i) Lowercase the machine identities\n    packData.machines = _.map(packData.machines, function (machineDef){\n      machineDef.identity = machineDef.identity.toLowerCase();\n      return machineDef;\n    });\n    // (ii) Also ensure none of the machines now have duplicate identities\n    //      (if so, then remove them)\n    packData.machines = _.uniq(packData.machines, 'identity');\n\n    // (iii) Use the `id` as the npm package name if no package name is provided:\n    packData.npmPackageName = packData.npmPackageName || packData.id;\n\n    // TODO: enforce all 4 things (^^) in the API when `npmPackageName`s\n    // are initially set or modified (including if/when they are inferred)\n\n    // Names with > 1 level of path separators are not permitted, so transform\n    // them with dashes\n    var npmPackageNamePieces = packData.npmPackageName.split('/');\n    if (npmPackageNamePieces.length > 1) {\n      packData.npmPackageName = npmPackageNamePieces.shift() + '/' + npmPackageNamePieces.join('--');\n    }\n\n    // Names with > 0 level of path separators need an @ symbol at the top\n    if (packData.npmPackageName.split('/').length > 1 && packData.npmPackageName[0] !== '@') {\n      packData.npmPackageName = '@' + packData.npmPackageName;\n    }\n\n    // Determine the dictionary that will become the package.json file.\n    var pkgMetadata = {\n      name: packData.npmPackageName,\n      private: true,\n      version: packData.version || '0.1.0',\n      description: packData.description || '',\n      keywords: [\n        packData.friendlyName,\n        'machines',\n        'machinepack'\n      ],\n      author: packData.author,\n      license: packData.license,\n      dependencies: NPM.unarrayifyDependencies({\n        dependencies: packData.dependencies\n      }).execSync(),\n      devDependencies: {},\n      scripts: {},\n      machinepack: {\n        id: packData.id,\n        friendlyName: packData.friendlyName,\n        machineDir: 'machines/',\n        machines: _.pluck(packData.machines, 'identity')\n      }\n    };\n\n\n    // If `postInstallScript` is provided and not an empty string,\n    // then compile a postinstall script directly in the package.json file.\n    if (inputs.packData.postInstallScript) {\n      pkgMetadata.scripts.postinstall = inputs.packData.postInstallScript;\n    }\n\n    var packageJsonPath = path.resolve(inputs.destination,'package.json');\n\n    // If we're being asked to merge the dependencies sent with the changelog into the existing\n    // package.json dependencies dict, do so here (this is why we keep a separate dict under\n    // the \"machinepack\" key).  This way we don't lose things like Sails project dependencies.\n    if (inputs.mergeDependencies) {\n      try {\n        delete require.cache[packageJsonPath];\n        pkgMetadata.dependencies = _.extend({}, require(packageJsonPath).dependencies, pkgMetadata.dependencies);\n      }\n      catch(e) {}\n    }\n\n    // (iv) Ensure `machine` is included as an NPM dependency, unless this check\n    //      is explicitly disabled.\n    if (inputs.ensureMachineDep) {\n      if (!pkgMetadata.dependencies.machine) {\n        pkgMetadata.dependencies.machine = '^11';\n      }\n    }\n\n    // Write the package.json file (and the empty folder)\n    Filesystem.writeJson({\n      destination: packageJsonPath,\n      json: pkgMetadata,\n      force: inputs.force\n    }).exec({\n      error: exits.error,\n      alreadyExists: function (){\n        return exits.alreadyExists(packageJsonPath);\n      },\n      success: function (){\n\n        // Now write an `index.js` file.\n        var indexJsPath = path.resolve(inputs.destination,'index.js');\n\n        // If custom `indexJsCode` was provided and is not an empty string (\"\"),\n        // write _it_ instead of the default (this is useful for things like aliasing\n        // other packs, exporting packs w/ browserify support, etc.)\n        packData.indexJsCode = packData.indexJsCode || '// This is a boilerplate file which should not need to be changed.\\nmodule.exports = require(\\'machine\\').pack({\\n  pkg: require(\\'./package.json\\'),\\n  dir: __dirname\\n});\\n';\n\n        Filesystem.write({\n          destination: indexJsPath,\n          string: packData.indexJsCode,\n          force: inputs.force\n        }).exec({\n          error: exits.error,\n          alreadyExists: function (){\n            return exits.alreadyExists(indexJsPath);\n          },\n          success: function() {\n\n            // Loop over each machine in the pack\n            async.each(packData.machines, function (thisMachine, next){\n\n              // If this machine has been marked as already existing in the location,\n              // we can skip it.\n              if (thisMachine.unchanged) {\n                return next();\n              }\n\n              try {\n                // Determine the path where the new module will be written\n                var machineModulePath = path.resolve(inputs.destination, 'machines', thisMachine.identity+'.js');\n\n                // and the code that it will consist of:\n                // (build a JavaScript code string which represents the provided machine metadata)\n                var machineModuleCode = thisPack.buildMachineCode({\n                  friendlyName: thisMachine.friendlyName || thisMachine.identity,\n                  description: thisMachine.description,\n                  extendedDescription: thisMachine.extendedDescription,\n                  moreInfoUrl: thisMachine.moreInfoUrl,\n                  cacheable: thisMachine.cacheable,\n                  environment: thisMachine.environment,\n                  sync: thisMachine.sync,\n                  inputs: thisMachine.inputs,\n                  exits: thisMachine.exits,\n                  fn: thisMachine.fn\n                }).execSync();\n\n                // Write the machine file\n                Filesystem.write({\n                  destination: machineModulePath,\n                  string: machineModuleCode,\n                  force: inputs.force\n                }).exec({\n                  error: function (err) {\n                    return next(err);\n                  },\n                  success: function (){\n                    return next();\n                  }\n                });//</Filesystem.write>\n              }\n              catch (e) {\n                return next(e);\n              }\n            }, function afterwards(err) {\n              if (err) {\n                return exits.error(err);\n              }\n              return exits.success();\n            });//</async.each>\n          }\n        }); // </write index.js file>\n\n      }\n    });//</Filesystem.writeJson>\n\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks/write-pack",
        "docsUrl": "http://node-machine.org/machinepack-localmachinepacks/write-pack",
        "defaultExit": null,
        "machinepack": 135,
        "id": 630,
        "createdAt": "2015-07-04T23:49:48.000Z",
        "updatedAt": "2015-08-18T20:29:36.000Z"
      }
    ],
    "identity": "machinepack-localmachinepacks",
    "version": "1.8.9",
    "latestVersionPublishedAt": "2015-08-18T00:00:00.000Z",
    "variableName": "LocalMachinepacks",
    "friendlyName": "Local Machinepacks",
    "description": "Work with local machinepacks.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-localmachinepacks",
    "docsUrl": "http://node-machine.org/machinepack-localmachinepacks",
    "npmUrl": "http://npmjs.org/package/machinepack-localmachinepacks",
    "npmPackageName": "machinepack-localmachinepacks",
    "githubUrl": "http://github.com/node-machine/machinepack-localmachinepacks/",
    "sourceUrl": "http://github.com/node-machine/machinepack-localmachinepacks/",
    "testsUrl": "https://travis-ci.org/node-machine/machinepack-localmachinepacks",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^1.2.1"
      },
      {
        "name": "chalk",
        "semverRange": "^0.5.1"
      },
      {
        "name": "debug",
        "semverRange": "^2.1.2"
      },
      {
        "name": "inquirer",
        "semverRange": "^0.8.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^11.0.1"
      },
      {
        "name": "machinepack-arrays",
        "semverRange": "^4.2.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^2.3.0"
      },
      {
        "name": "machinepack-javascript",
        "semverRange": "^2.2.0"
      },
      {
        "name": "machinepack-json",
        "semverRange": "^1.1.3"
      },
      {
        "name": "machinepack-machines",
        "semverRange": "^6.0.0"
      },
      {
        "name": "machinepack-npm",
        "semverRange": "^5.1.0"
      },
      {
        "name": "machinepack-util",
        "semverRange": "^5.0.1"
      },
      {
        "name": "open",
        "semverRange": "0.0.5"
      },
      {
        "name": "rttc",
        "semverRange": "^8.1.5"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "rachaelshaw",
        "email": "rachael@balderdash.co"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 135,
    "createdAt": "2015-06-20T23:59:46.000Z",
    "updatedAt": "2015-08-18T20:29:36.000Z",
    "numMachines": 23
  },
  {
    "machines": [
      {
        "identity": "deduce-controllers",
        "variableName": "deduceControllers",
        "friendlyName": "Deduce controllers",
        "cacheable": false,
        "sync": true,
        "description": "Determine the conventional controller+action to use for the given set of routes.",
        "inputs": {
          "routes": {
            "friendlyName": "Routes",
            "description": "An array of route definitions (HTTP method + URL path)",
            "example": [
              {
                "method": "GET",
                "path": "/:user/ducks",
                "responses": {},
                "files": [
                  "avatar"
                ],
                "machine": {}
              }
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "void": true,
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": [
              {
                "controller": "Slug$Controller",
                "actions": [
                  {
                    "controller": "Slug$Controller",
                    "action": "find_ducks",
                    "method": "GET",
                    "path": "/:user/ducks",
                    "responses": {},
                    "files": [
                      "avatar"
                    ],
                    "machine": {}
                  }
                ]
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var Strings = require('machinepack-strings');\n\n    var targets = _.reduce(inputs.routes, function(memo, route) {\n\n      // Lowercase method\n      route.method = route.method.toLowerCase();\n\n      // Get pieces of path string\n      var pathParts = route.path.split('/');\n\n      // Determine 'identity' for our controller by examining the path\n      // (home route is handled by a special `Home$Controller`)\n      var identity = pathParts[1] || 'home$';\n\n      // If identity is actually a route param, use a special `Slug$Controller`\n      if (identity[0] === ':') identity = 'slug$';\n\n      // Determine `action`, starting with the HTTP method\n      var action = '';\n      if (pathParts.length == 2) {\n        switch (route.method) {\n          case 'get':\n            action += 'find';\n            break;\n          case 'post':\n            action += 'create';\n            break;\n          case 'put':\n            action += 'update';\n            break;\n          case 'delete':\n            action += 'destroy';\n            break;\n          default:\n            action += '_' + route.method;\n        }\n      } else {\n        action = pathParts.slice(2).join('_').replace(':', '$').replace(/[^a-zA-Z0-9_$]/g, '');\n      }\n\n      // If another route shares this path, prefix the action name with the method\n      if (_.where(inputs.routes, {\n          path: route.path\n        }).length > 1) {\n        action = route.method + '_' + action;\n      }\n\n      // Ensure there are never any conflicts for action names\n      // (this will add a number to the end if a conflict occurs)\n      action = Strings.ensureUniq({\n        string: action,\n        existingStrings: _.pluck(memo, 'action')\n      }).execSync();\n\n      memo.push({\n        method: route.method,\n        path: route.path,\n\n        // Capitalize identity and add `Controller` to the end to get the controllerName\n        controller: _.capitalize(identity) + 'Controller',\n\n        action: action,\n\n        responses: route.responses,\n        files: route.files,\n        machine: route.machine\n\n      });\n      return memo;\n    }, []);\n\n    // Group the actions by controller\n    var controllers = _.groupBy(targets, 'controller');\n\n    // Turn the single grouped object (indexed by controller name) into an array\n    // with one item per controller\n    controllers = _.map(controllers, function(controller, controllerName) {\n      return {\n        controller: controllerName,\n        actions: controller\n      };\n    });\n\n    return exits.success(controllers);\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-sails-apps/deduce-controllers",
        "docsUrl": "http://node-machine.org/machinepack-local-sails-apps/deduce-controllers",
        "defaultExit": null,
        "machinepack": 145,
        "id": 657,
        "createdAt": "2015-08-04T23:09:28.000Z",
        "updatedAt": "2015-08-13T17:29:45.000Z"
      },
      {
        "identity": "get-signature",
        "variableName": "getSignature",
        "friendlyName": "Get signature",
        "cacheable": true,
        "sync": null,
        "description": "Lookup top-level metadata, dehydrate the machine definitions, and compute a hash for the public API of this app.",
        "inputs": {
          "dir": {
            "description": "The path to the app (if path is not absolute, will be resolved from the current working directory)",
            "example": "/Users/mikermcneil/foo/",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "example": {
              "pack": {},
              "machines": [
                {}
              ],
              "packHash": "a8319azj39$29130nfan3",
              "machineHashes": [
                {
                  "machine": "some-machine-identity",
                  "hash": "1390ba9z9140$1-3a914n4"
                }
              ],
              "npmDependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^3.9.0"
                }
              ]
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var path = require('path');\n    var Arrays = require('machinepack-arrays');\n    var JSON = require('machinepack-json');\n    var Util = require('machinepack-util');\n    var thisPack = require('../');\n    var LocalMachinepacks = require('machinepack-localmachinepacks');\n\n    // Resolve absolute path\n    inputs.dir = path.resolve(process.cwd(), inputs.dir);\n\n    LocalMachinepacks.getSignature({\n      dir: inputs.dir\n    }).exec(exits);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-sails-apps/get-signature",
        "docsUrl": "http://node-machine.org/machinepack-local-sails-apps/get-signature",
        "defaultExit": null,
        "machinepack": 145,
        "id": 658,
        "createdAt": "2015-08-04T23:09:28.000Z",
        "updatedAt": "2015-08-13T17:29:45.000Z"
      },
      {
        "identity": "build-routes-config",
        "variableName": "buildRoutesConfig",
        "friendlyName": "Build routes config",
        "cacheable": false,
        "sync": true,
        "description": "Generate a JavaScript code string for the `config/routes.js` file (i.e. in a Sails.js app.)",
        "inputs": {
          "targets": {
            "friendlyName": "Targets",
            "description": "An array of configured route targets (i.e. including controller and action)",
            "example": [
              {
                "controller": "Slug$Controller",
                "action": "find_ducks",
                "method": "GET",
                "path": "/:user/ducks"
              }
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "void": true,
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "module.exports = {\\n Â \"GET /:user/ducks\": \"Slug$Controller.find_ducks\"\\n};\\n",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var Javascript = require('machinepack-javascript');\n    var pathToRegexp = require('path-to-regexp');\n\n    // Sort the targets with the most dynamic ones at the bottom\n    inputs.targets.sort(function(routeA, routeB) {\n      var routeParamsA = [];\n      var regexpA = pathToRegexp(routeA.path, routeParamsA);\n      var routeParamsB = [];\n      var regexpB = pathToRegexp(routeB.path, routeParamsB);\n\n      // If routeA has more dynamic route params than routeB, make it go last.\n      if (routeParamsA.length > routeParamsB.length) {\n        return 1;\n      }\n      else return -1;\n    });\n\n    var CRLF = '\\n';\n\n    var code = 'module.exports.routes = {' + CRLF;\n    code += _.reduce(inputs.targets, function(js, target) {\n      js += '\\'' + target.method + ' ' + target.path + '\\':' +\n        ' \\'' + target.controller + '.' + target.action +\n        '\\',';\n      js += CRLF;\n      return js;\n    }, '');\n    code += CRLF + '};';\n\n    return exits.success(Javascript.beautify({code: code}).execSync());\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-sails-apps/build-routes-config",
        "docsUrl": "http://node-machine.org/machinepack-local-sails-apps/build-routes-config",
        "defaultExit": null,
        "machinepack": 145,
        "id": 659,
        "createdAt": "2015-08-04T23:09:28.000Z",
        "updatedAt": "2015-08-13T17:29:45.000Z"
      },
      {
        "identity": "build-controller",
        "variableName": "buildController",
        "friendlyName": "Build controller",
        "cacheable": false,
        "sync": false,
        "description": "Build a JavaScript code string for a Sails.js controller using the provided metadata.",
        "inputs": {
          "actionTargets": {
            "friendlyName": "Action/machine defs",
            "description": "An array of action target definitions (action + machine identity + responses)",
            "example": [
              {
                "action": "find_ducks",
                "responses": {},
                "files": [
                  "avatar"
                ],
                "machine": {}
              }
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "void": true,
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "module.exports = {\\n Â \"find_ducks\": function(req,res) { ... }\\n};\\n",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n\n    var _ = require('lodash');\n    var Javascript = require('machinepack-javascript');\n    var Machine = require('machine');\n\n    /**\n     * Helper function for stringifying objects in compiled code-- could probably be extrapolated\n     * and combined with other similar functions to be more DRY or whatever.\n     *\n     * @param  {[type]} obj [description]\n     * @return {[type]}     [description]\n     */\n    function compileObj(obj) {\n\n      var util = require('util');\n      var _ = require('lodash');\n\n      if (!_.isObject(obj)) {\n        throw new Error('Expecting object, but got:', util.inspect(obj));\n      }\n\n      var str;\n      if (_.isArray(obj)) {\n        str = '[\\n';\n        str += _.reduce(obj, function(memo, val) {\n          var str = '';\n          if (typeof val == 'object' && val !== null) {\n            str += compileObj(val);\n          } else {\n            str += JSON.stringify(val);\n          }\n          memo.push(str);\n          return memo;\n        }, []).join(',\\n');\n        str += ']';\n      } else {\n        str = '{\\n';\n        str += _.reduce(obj, function(memo, val, key) {\n          var str;\n          if (val.__varName__) {\n            str = '\\'' + val.__varName__ + '\\': ';\n            delete val.__varName__;\n          } else {\n            str = '\\'' + key + '\\': ';\n          }\n          if (typeof val == 'object') {\n            str += compileObj(val);\n          } else if (['getExample', 'validate', 'fn'].indexOf(key) > -1) {\n            str += val;\n          } else {\n            str += JSON.stringify(val);\n          }\n          memo.push(str);\n          return memo;\n        }, []).join(',\\n');\n        str += '}\\n';\n      }\n      return str;\n    }\n\n    var code = 'var Machine = require(\\'machine\\');\\n';\n    code += 'var asAction = require(\\'machine-as-action\\');\\n';\n    code += 'var thisApp = require(\\'../../index\\');\\n';\n    code += 'module.exports = {\\n';\n    code += _.reduce(inputs.actionTargets, function(memo, actionTarget) {\n      var actionCode = '';\n      actionCode += '\\'' + actionTarget.action + '\\': asAction({';\n\n      // Build `machine` option\n      actionCode += 'machine: thisApp.' + Machine.getMethodName(actionTarget.machine.identity);\n\n      // Build `files` option, if relevant\n      if (actionTarget.files.length > 0) {\n        actionCode += ',files: ' + compileObj(actionTarget.files);\n      }\n\n      // Build `responses` option, if relevant\n      if (_.compact(_.values(actionTarget.responses)).length > 0) {\n        actionCode += ',responses: ' + compileObj(actionTarget.responses);\n      }\n      actionCode += '})'; // </asAction()>\n\n      // Push code for this action onto the array being built up\n      memo.push(actionCode);\n      return memo;\n    }, []).join(',');\n    code += '};';\n\n    return exits.success(Javascript.beautify({code: code}).execSync());\n\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-sails-apps/build-controller",
        "docsUrl": "http://node-machine.org/machinepack-local-sails-apps/build-controller",
        "defaultExit": null,
        "machinepack": 145,
        "id": 660,
        "createdAt": "2015-08-04T23:09:28.000Z",
        "updatedAt": "2015-08-13T17:29:45.000Z"
      },
      {
        "identity": "build-model",
        "variableName": "buildModel",
        "friendlyName": "Build model",
        "cacheable": false,
        "sync": false,
        "description": "Build a JavaScript code string for a Sails.js model using the provided metadata.",
        "inputs": {
          "modelDef": {
            "friendlyName": "Model definition",
            "description": "A definition of a model built in Treeline",
            "example": {
              "description": "a foo",
              "friendlyName": "Foo",
              "globalId": "Foo",
              "identity": "foo",
              "primaryKey": {
                "type": "string",
                "example": "*"
              },
              "attributes": [
                {
                  "defaultsTo": "foobar",
                  "example": "*",
                  "name": "testtype",
                  "required": false,
                  "type": "string",
                  "unique": false
                }
              ]
            },
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "void": true,
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "{friendlyName: \"foo\", identity: \"foo\" ... }",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var Javascript = require('machinepack-javascript');\n    var Machine = require('machine');\n\n    // Only a little transformation is needed -- we need to create a dictionary\n    // out of the attributes array.\n\n    var code = _.cloneDeep(inputs.modelDef);\n    code.attributes = _.reduce(code.attributes, function(memo, attr) {\n      memo[attr.name] = _.cloneDeep(attr);\n      delete memo[attr.name].name;\n      delete memo[attr.name].description;\n      return memo;\n    }, {});\n    delete code.primaryKey;\n    return exits.success(Javascript.beautify({code: JSON.stringify(code)}).execSync());\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-sails-apps/build-model",
        "docsUrl": "http://node-machine.org/machinepack-local-sails-apps/build-model",
        "defaultExit": null,
        "machinepack": 145,
        "id": 661,
        "createdAt": "2015-08-04T23:09:28.000Z",
        "updatedAt": "2015-08-13T17:29:45.000Z"
      }
    ],
    "identity": "machinepack-local-sails-apps",
    "version": "1.0.1",
    "latestVersionPublishedAt": "2015-08-13T00:00:00.000Z",
    "variableName": "LocalSailsApps",
    "friendlyName": "Local Sails Apps",
    "description": "Work with a local Sails.js app.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-local-sails-apps",
    "docsUrl": "http://node-machine.org/machinepack-local-sails-apps",
    "npmUrl": "http://npmjs.org/package/machinepack-local-sails-apps",
    "npmPackageName": "machinepack-local-sails-apps",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "*"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-arrays",
        "semverRange": "^5.1.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^5.2.0"
      },
      {
        "name": "machinepack-ifthen",
        "semverRange": "^1.2.0"
      },
      {
        "name": "machinepack-javascript",
        "semverRange": "^2.2.1"
      },
      {
        "name": "machinepack-json",
        "semverRange": "^1.2.1"
      },
      {
        "name": "machinepack-localmachinepacks",
        "semverRange": "^1.8.4"
      },
      {
        "name": "machinepack-npm",
        "semverRange": "^5.1.0"
      },
      {
        "name": "machinepack-strings",
        "semverRange": "^4.2.0"
      },
      {
        "name": "machinepack-util",
        "semverRange": "^5.1.1"
      },
      {
        "name": "path-to-regexp",
        "semverRange": "^1.2.0"
      },
      {
        "name": "sails-generate-new",
        "semverRange": "^0.10.21"
      }
    ],
    "contributors": [
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      }
    ],
    "id": 145,
    "createdAt": "2015-08-04T23:09:28.000Z",
    "updatedAt": "2015-08-13T17:29:45.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "read-keychain",
        "variableName": "readKeychain",
        "friendlyName": "Read keychain",
        "cacheable": null,
        "sync": null,
        "description": "Read data from the Treeline identity/config file.",
        "inputs": {
          "keychainPath": {
            "description": "Path to the keychain file on this computer. Defaults to `.treeline.secret.json` in the home directory.",
            "extendedDescription": "If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "doesNotExist": {
            "description": "Keychain file does not exist."
          },
          "couldNotParse": {
            "description": "Keychain file is corrupted (cannot be parsed as JSON)."
          },
          "success": {
            "description": "OK.",
            "example": {
              "username": "mikermcneil",
              "secret": "29f559ae-3bec-4d0a-8458-1f4e32a72407"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var path = require('path');\n    var Paths = require('machinepack-paths');\n    var Filesystem = require('machinepack-fs');\n\n    // If specified, ensure keychainPath is an absolute path. If not specified,\n    // assume the default (`~/.treeline.secret.json`)\n    inputs.keychainPath = inputs.keychainPath ? path.resolve(inputs.keychainPath) : path.resolve(Paths.home().execSync(), '.treeline.secret.json');\n\n    // Read and parse JSON file located at source path on disk into usable data.\n    Filesystem.readJson({\n      source: inputs.keychainPath,\n      schema: {\n        username: 'mikermcneil',\n        secret: '29f559ae-3bec-4d0a-8458-1f4e32a72407'\n      }\n    }).exec(exits);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/read-keychain",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/read-keychain",
        "defaultExit": null,
        "machinepack": 141,
        "id": 634,
        "createdAt": "2015-07-06T06:19:26.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "write-keychain",
        "variableName": "writeKeychain",
        "friendlyName": "Write keychain",
        "cacheable": null,
        "sync": null,
        "description": "Write or overwrite the Treeline keychain/identity/config file.",
        "inputs": {
          "username": {
            "description": "The username to write to the keychain file.",
            "example": "mikermcneil",
            "required": true,
            "type": "string"
          },
          "secret": {
            "description": "The secret to write to the keychain file",
            "example": "29f559ae-3bec-4d0a-8458-1f4e32a72407",
            "required": true,
            "type": "string"
          },
          "keychainPath": {
            "description": "Path to the keychain file on this computer. Defaults to `.treeline.secret.json` in the home directory.",
            "extendedDescription": "If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('machinepack-fs');\n    var Paths = require('machinepack-paths');\n\n    // If specified, ensure keychainPath is an absolute path. If not specified,\n    // assume the default (`~/.treeline.secret.json`)\n    inputs.keychainPath = inputs.keychainPath ? path.resolve(inputs.keychainPath) : path.resolve(Paths.home().execSync(), '.treeline.secret.json');\n\n    // Read and parse JSON file located at source path on disk into usable data.\n    Filesystem.writeJson({\n      // Allow the destination to be overridden by an environment var\n      destination: inputs.keychainPath,\n      force: true,\n      json: {\n        username: inputs.username,\n        secret: inputs.secret\n      }\n    }).exec(exits);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/write-keychain",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/write-keychain",
        "defaultExit": null,
        "machinepack": 141,
        "id": 635,
        "createdAt": "2015-07-06T06:19:26.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "read-linkfile",
        "variableName": "readLinkfile",
        "friendlyName": "Read linkfile",
        "cacheable": null,
        "sync": null,
        "description": "Read data from the linkfile in the current directory.",
        "inputs": {
          "dir": {
            "description": "Path to the local project.",
            "extendedDescription": "If unspecified, defaults to the current working directory.  If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "doesNotExist": {
            "description": "Linkfile does not exist."
          },
          "couldNotParse": {
            "description": "Linkfile is corrupted (cannot be parsed as JSON)."
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "432",
              "identity": "my-cool-app",
              "displayName": "My Cool App",
              "type": "app",
              "owner": "mikermcneil",
              "hashes": {}
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('machinepack-fs');\n\n    // Ensure we have an absolute destination path.\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    // Read and parse JSON file located at source path on disk into usable data.\n    Filesystem.readJson({\n      source: path.join(inputs.dir, 'treeline.json'),\n      schema: {\n        id: '123',\n        identity: 'my-cool-app',\n        displayName: 'My Cool App',\n        type: 'app',\n        owner: 'mikermcneil',\n        hashes: {}\n      }\n    }).exec(exits);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/read-linkfile",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/read-linkfile",
        "defaultExit": null,
        "machinepack": 141,
        "id": 636,
        "createdAt": "2015-07-06T06:19:26.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "write-linkfile",
        "variableName": "writeLinkfile",
        "friendlyName": "Write linkfile",
        "cacheable": null,
        "sync": null,
        "description": "Write or overwrite the linkfile in the current directory.",
        "inputs": {
          "dir": {
            "description": "Path to the local project.",
            "extendedDescription": "If unspecified, defaults to the current working directory.  If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          },
          "id": {
            "description": "The id of the app",
            "example": "432",
            "required": true,
            "type": "string"
          },
          "identity": {
            "description": "The identity (i.e. slug) of the linked machinepack or app",
            "example": "my-cool-app",
            "required": true,
            "type": "string"
          },
          "displayName": {
            "description": "The display name of the app to use as a label throughout the CLI",
            "example": "My Cool App",
            "required": true,
            "type": "string"
          },
          "type": {
            "description": "The type of linked Treeline project this is (i.e. \"app\", \"machinepack\", etc.)",
            "example": "app",
            "required": true,
            "type": "string"
          },
          "owner": {
            "description": "The username of the account which owns this Treeline project",
            "example": "mikermcneil",
            "required": true,
            "type": "string"
          },
          "hashes": {
            "description": "Hash values for installed machinepacks",
            "example": {},
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('machinepack-fs');\n\n    // Ensure we have an absolute destination path.\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    // Write the new JSON file.\n    Filesystem.writeJson({\n      destination: path.join(inputs.dir, 'treeline.json'),\n      force: true,\n      json: {\n        id: inputs.id,\n        identity: inputs.identity,\n        displayName: inputs.displayName,\n        type: inputs.type,\n        owner: inputs.owner,\n        hashes: inputs.hashes || {}\n      }\n    }).exec(exits);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/write-linkfile",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/write-linkfile",
        "defaultExit": null,
        "machinepack": 141,
        "id": 637,
        "createdAt": "2015-07-06T06:19:26.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "install-treeline-deps",
        "variableName": "installTreelineDeps",
        "friendlyName": "Install Treeline dependencies",
        "cacheable": null,
        "sync": null,
        "description": "Install Treeline pack dependencies for the specified pack.",
        "inputs": {
          "dir": {
            "description": "Path to the local machinepack where the dependencies should be installed.",
            "extendedDescription": "If unspecified, defaults to the current working directory.  If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          },
          "keychainPath": {
            "description": "Path to the keychain file on this computer. Defaults to `.treeline.secret.json` in the home directory.",
            "extendedDescription": "If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          },
          "treelineApiUrl": {
            "description": "The base URL for the Treeline API (useful if you're in a country that can't use SSL, etc.)",
            "example": "http://api.treeline.io",
            "defaultsTo": "https://api.treeline.io",
            "type": "string"
          },
          "useCachedHashes": {
            "description": "Flag indicating that the hashes in the link file should be sent to the server, instead of being recalculted from disk.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var path = require('path');\n    var debug = require('debug')('local-treeline-projects');\n    var async = require('async');\n    var _ = require('lodash');\n    var LocalMachinepacks = require('machinepack-localmachinepacks');\n    var Http = require('machinepack-http');\n    var Filesystem = require('machinepack-fs');\n    var NPM = require('machinepack-npm');\n    var IfThen = require('machinepack-ifthen');\n    var thisPack = require('../');\n\n    // Ensure we have an absolute destination path.\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    debug('running `install-treeline-deps`');\n\n    // Look up user credentials from a keychain file\n    thisPack.readKeychain({\n      keychainPath: inputs.keychainPath\n    }).exec({\n      error: exits.error,\n      doesNotExist: function () {\n        return exits.error('Cannot install dependencies because the keychain file cannot be found.  Please run `treeline login` on the command-line to authenticate this computer with your Treeline account.');\n      },\n      success: function (keychain) {\n\n        // Look up this pack or app's id from its linkfile.\n        thisPack.readLinkfile({\n          dir: inputs.dir\n        }).exec({\n          error: exits.error,\n          doesNotExist: function () {\n            return exits.error('Cannot install dependencies because a linkfile (i.e. `treeline.json`) does not exist in this directory.  Please associate this directory with a Treeline project by running `treeline link` on the command-line.');\n          },\n          success: function (projectInfo){\n            debug('Using project info:',projectInfo);\n\n            IfThen.ifThenFinally({\n              expectedOutput: {},\n              bool: inputs.useCachedHashes,\n              orElse: function(__, exits) {\n                Filesystem.ls({\n                  dir: path.join(inputs.dir,'node_modules','@treelinehq'),\n                  includeFiles: false,\n                  includeHidden: false,\n                  includeSymlinks: false\n                }).exec({\n                  doesNotExist: exits.success,\n                  error: exits.error,\n                  success: function(subdirs) {\n                    async.reduce(subdirs, {}, function(memo, subdir, cb) {\n                      Filesystem.ls({\n                        dir: subdir,\n                        includeFiles: false,\n                        includeHidden: false,\n                        includeSymlinks: false\n                      }).exec({\n                        error: cb,\n                        success: function(depFolders) {\n                          async.each(depFolders, function(depFolder, cb) {\n                            var slug = depFolder.split(path.sep).slice(-3).join('/');\n                            if (slug.indexOf('_') == -1) {return cb();}\n                            LocalMachinepacks.getSignature({\n                              dir: depFolder\n                            }).exec({\n                              error: cb,\n                              success: function(signature) {\n                                memo[slug] = {\n                                  hash: signature.packHash,\n                                  machines: _.reduce(signature.machineHashes, function(memo, machineHash) {\n                                    memo[machineHash.machine] = machineHash.hash;\n                                    return memo;\n                                  }, {})\n                                };\n                                return cb();\n                              }\n                            });\n                          }, function(err) {\n                            return cb(err, memo);\n                          });\n                        }\n                      });\n                    }, function done(err, deps) {\n                      return exits.success(deps);\n                    });\n                  }\n                });\n\n              },\n              then: function(__, exits) {\n                return exits.success(_.omit(projectInfo.hashes, 'self'));\n              }\n            }).exec({\n              error: exits.error,\n              success: function(hashes) {\n\n                // Gather the current hash information from the link file.\n                // We'll send this along with the sync request so that the server knows which\n                // dependencies need to be updated.\n                var hashArray = _.map(hashes, function(machinepack, slug) {\n                  return {\n                    machinepack: slug,\n                    hash: machinepack.hash,\n                    machines: machinepack.machines\n                  };\n                });\n\n                // Hit Treeline.io to fetch and export the deep dependencies for this project.\n                // Because the packs are flattened, this includes nested dependencies as well\n                // as top-level dependencies of this project.\n\n                projectInfo.id = projectInfo.id.replace(/^_project_/, '');\n                var packId = (projectInfo.type == 'app' ? '_project_' : '') + projectInfo.id;\n\n                // Request updated dependencies from the server, sending along a list of hashes\n                // of the dependencies we currently have.  Only dependencies that need to be\n                // updated will be returned from the server.\n                var url = '/api/v1/machinepacks/'+packId+'/dependencies';\n                debug('Communicating w/ '+inputs.treelineApiUrl+url);\n                Http.sendHttpRequest({\n                  method: 'post',\n                  baseUrl: inputs.treelineApiUrl,\n                  params: {\n                    hashes: hashArray\n                  },\n                  url: url,\n                  headers: { 'x-auth': keychain.secret },\n                }).exec({\n                  error: exits.error,\n                  success: function (response){\n                    var changelog;\n                    try {\n                      changelog = JSON.parse(response.body);\n                    }\n                    catch (e) {\n                      return exits.error(e);\n                    }\n\n                    // Get the packs to remove (the ones with the \"del\" verb in the changelog)\n                    var packsToRemove = _.where(changelog, {verb: 'del'});\n                    async.each(packsToRemove, function(packChangeset, next) {\n                      // Create a modified \"npmPackageName\" which includes the version string\n                      // as a suffix (e.g. `rachaelshaw/machinepack-foobar_1.5.39`)\n                      var versionSpecificPkgName = packChangeset.npmPackageName + '_' + packChangeset.version;\n                      // Remove the folder.  Note that any \"alias\" folders (without the version attached)\n                      // will not be removed by this process.  The alias may point to a different version.\n                      // TODO--cleanup alias folders when it is determined they are no longer needed.\n                      delete projectInfo.hashes[versionSpecificPkgName];\n                      console.log(\"Removing\", versionSpecificPkgName);\n                      Filesystem.rmrf({\n                        dir: path.join(inputs.dir,'node_modules',versionSpecificPkgName)\n                      }).exec(next);\n                    }, function done(err) {\n\n                      // Get the packs to write (the ones with the \"set\" verb in the changelog)\n                      var packsToSet = _.where(changelog, {verb: 'set'});\n\n                      debug('Got exported dependency packs:', util.inspect(packsToSet, {depth: null}));\n                      var numPacks = packsToSet.length;\n                      var packsProcessed = 0;\n                      // Now loop over each of the dependency packs that was returned from the\n                      // server and write it to disk.\n                      async.eachSeries(packsToSet, function(packChangeset, next) {\n\n                        var packNum = ++packsProcessed;\n\n                        // Create a modified \"npmPackageName\" which includes the version string\n                        // as a suffix (e.g. `rachaelshaw/machinepack-foobar_1.5.39`)\n                        var versionSpecificPkgName = packChangeset.npmPackageName + '_' + packChangeset.version;\n\n                        console.log('Syncing ' + packChangeset.npmPackageName + '(' + packNum + '/' + numPacks + ')');\n\n                        // Since we don't send information about the treeline dependencies' npm dependencies\n                        // up to the server, we'll be getting the full list back every time.  To account for\n                        // this, we'll insert an instruction to the changeset indicating that the current\n                        // npm dependencies for the machinepack should be wiped out.\n                        packChangeset.npmDependencies = packChangeset.npmDependencies || [];\n                        packChangeset.npmDependencies.push({verb: 'del', name: '*'});\n\n                        // If this is a direct, \"shallow\" (version-agnostic) dependency,\n                        // also write a stub pack for it as an alias to the proper version\n                        // (by simply requiring it).  This is to allow analog machines to work.\n                        thisPack.writeAliasDependency({\n                          dir: path.join(inputs.dir,'node_modules',packChangeset.npmPackageName),\n                          packData: packChangeset,\n                          requireStr: versionSpecificPkgName\n                        }).exec({\n                          error: function (err) { return next(err); },\n                          success: function () {\n                            thisPack.applyPackChangelog({\n                              changelog: [packChangeset],\n                              dir: path.join(inputs.dir,'node_modules',versionSpecificPkgName),\n                              isDependency: true\n                            }).exec({\n                              error: function (err){\n                                return next(err);\n                              },\n                              success: function (){\n\n                                projectInfo.hashes[versionSpecificPkgName] = projectInfo.hashes[versionSpecificPkgName] || {};\n                                projectInfo.hashes[versionSpecificPkgName].hash = packChangeset.hash || null,\n                                projectInfo.hashes[versionSpecificPkgName].machines = _.extend((hashes[versionSpecificPkgName] && hashes[versionSpecificPkgName].machines) || {}, _.reduce(packChangeset.machines, function(memo, machine) {\n                                    memo[machine.identity] = machine.hash || null;\n                                    return memo;\n                                  }, {}));\n\n                                async.parallel([\n                                  // Install NPM dependencies for this treeline pack dependency\n                                  function (doneInstallingNPMDeps){\n                                    debug('- start npm install for ' + packChangeset.npmPackageName + '(' + packNum + '/' + numPacks + ')');\n                                    NPM.installDependencies({\n                                      dir: path.join(inputs.dir,'node_modules',versionSpecificPkgName)\n                                    })\n                                    .exec({\n                                      error: function (err){ return doneInstallingNPMDeps(err); },\n                                      success: function (){\n                                        debug('- finished npm install for ' + packChangeset.npmPackageName + '(' + packNum + '/' + numPacks + ')');\n                                        return doneInstallingNPMDeps();\n                                      }\n                                    });\n                                  },\n                                  // For ALL of this dependency's stated top-level treeline dependencies,\n                                  // write stub packs to disk that simply require the appropriate version\n                                  // from the top-level pack.\n                                  function (doneInstallingTreelineDeps){\n                                    async.each(packChangeset.treelineDependencies, function (depOfDepMapping, next) {\n                                      // Look up additional information about this dependency from the flat\n                                      // list of top-level dependencies we've been using above\n                                      var deepDepPack = _.find(packsToSet, {\n                                        slug: depOfDepMapping.slug,\n                                        version: depOfDepMapping.version\n                                      });\n\n                                      IfThen.ifThenFinally({\n                                        expectedOutput: {},\n                                        bool: !!deepDepPack,\n                                        then: function(__, exits) {\n                                          return exits.success(deepDepPack);\n                                        },\n                                        orElse: function(__, exits) {\n                                          var slugParts = depOfDepMapping.slug.split('/');\n                                          var owner = slugParts[0];\n                                          var identity = slugParts[1];\n                                          LocalMachinepacks.readPackageJson({\n                                            dir: path.join(inputs.dir,'node_modules','@treelinehq',owner,identity + '_' + depOfDepMapping.version)\n                                          }).exec({\n                                            error: exits.error,\n                                            success: exits.success\n                                          });\n                                        }\n                                      }).exec({\n                                        error: function(err) {\n                                          return next(new Error('Consistency violation: Unexpected dependency id/version combination (\"'+depOfDepMapping.identity+'@'+depOfDepMapping.version+'\")'));\n                                        },\n                                        success: function(deepDepPack) {\n\n                                          // Finally, write the alias pack to disk.\n                                          thisPack.writeAliasDependency({\n                                            dir: path.join(inputs.dir,'node_modules',versionSpecificPkgName,'node_modules',deepDepPack.npmPackageName),\n                                            packData: deepDepPack,\n                                            requireStr: deepDepPack.npmPackageName+'_'+deepDepPack.version\n                                          }).exec({\n                                            error: function (err) { return next(err); },\n                                            success: function () { return next(); }\n                                          });\n\n                                        }\n                                      });\n                                    }, function afterwards (err) {\n                                      if (err) { return doneInstallingTreelineDeps(err); }\n                                      return doneInstallingTreelineDeps();\n                                    }); //</async.each dependency of dependency>\n                                  }\n                                ], function afterwards (err){\n                                  if (err) {\n                                    return next(err);\n                                  }\n                                  return next();\n                                }); //</async.parallel>\n                              }\n                            });// </write treeline dependency to local disk>\n                          }\n                        });\n\n                      }, function afterwards(err){\n\n                        debug ('== Finished installing all treeline dependencies ==');\n                        if (err) {return exits.error(err);}\n\n                        Filesystem.writeJson({\n                          destination: path.resolve(inputs.dir, \"treeline.json\"),\n                          json: projectInfo,\n                          force: true\n                        }).exec(exits);\n\n                      }); //</async.each dependency>\n\n                    });\n\n\n\n                  }\n                });\n              }\n            });\n\n          }\n        });\n\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/install-treeline-deps",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/install-treeline-deps",
        "defaultExit": null,
        "machinepack": 141,
        "id": 638,
        "createdAt": "2015-07-06T06:19:26.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "normalize-type",
        "variableName": "normalizeType",
        "friendlyName": "Normalize project type",
        "cacheable": null,
        "sync": null,
        "description": "Validate+coerce the provided project type, or if unspecified, look in the package.json file and take a guess.",
        "inputs": {
          "type": {
            "friendlyName": "Type",
            "description": "The type of Treeline project (\"app\" or \"machinepack\")",
            "example": "machinepack",
            "type": "string"
          },
          "dir": {
            "description": "Path to the local project.",
            "extendedDescription": "If unspecified, defaults to the current working directory.  If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          }
        },
        "exits": {
          "unknownType": {
            "description": "Unknown project type.  I know about two types: \"app\" and \"machinepack\"."
          },
          "success": {
            "example": "machinepack",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('machinepack-fs');\n    var IfThen = require('machinepack-ifthen');\n    var thisPack = require('../');\n\n    // The path to the project is generally the current working directory\n    // Here, we ensure is is absolute, and if it was not specified, default\n    // it to process.cwd(). If it is relative, we resolve it from the current\n    // working directory.\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    // If `inputs.type` was provided, use it.\n    // Otherwise, sniff around for the package.json/treeline.json files\n    // to figure out what kind of project this is.\n    IfThen.ifThenFinally({\n\n      bool: !inputs.type,\n\n      expectedOutput: 'app or pack',\n\n      then: function (_i, _exits){\n\n        // Read and parse the linkfile\n        thisPack.readLinkfile({\n          dir: inputs.dir\n        }).exec(function (err, linkedProjectInfo){\n          if (err) {return _exits.error();}\n          return _exits.success(linkedProjectInfo.type);\n        });\n\n      },\n\n      orElse: function (__, _exits) {\n        return _exits.success(inputs.type);\n      }\n\n    }).exec({\n\n      error: exits.error,\n\n      success: function (type){\n\n        // Link either an app or a machinepack\n        switch (type.toLowerCase()) {\n          case 'machinepack':\n          case 'pack':\n          case 'p':\n            return exits.success('machinepack');\n\n          case 'a':\n          case 'ap':\n          case 'app':\n            return exits.success('app');\n\n          default:\n            return exits.unknownType();\n        }\n      }\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/normalize-type",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/normalize-type",
        "defaultExit": null,
        "machinepack": 141,
        "id": 641,
        "createdAt": "2015-07-13T12:19:32.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "sync-remote-changes",
        "variableName": "syncRemoteChanges",
        "friendlyName": "Sync remote changes",
        "cacheable": null,
        "sync": null,
        "description": "Apply a changelog of remote changes from treeline.io to the local project.",
        "inputs": {
          "type": {
            "friendlyName": "Type",
            "description": "The type of Treeline project this is (\"app\" or \"machinepack\")",
            "extendedDescription": "If left unspecified, we'll sniff around in the directory and guess what kind of thing this is based on its package.json file.",
            "example": "machinepack",
            "type": "string"
          },
          "changelog": {
            "friendlyName": "Changelog",
            "description": "A set of changes to apply to this local project.",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "smash": {
            "friendlyName": "Smash",
            "description": "Flag indicating whether these changes should replace existing files completely",
            "example": true,
            "type": "boolean"
          },
          "onSyncSuccess": {
            "description": "An optional notifier function that will be called when Treeline attempts to sync remote changes to the local project and it works.",
            "example": "->",
            "type": "string"
          },
          "onNpmInstall": {
            "description": "An optional notifier function that will be called when we start NPM installing things.",
            "example": "->",
            "type": "string"
          },
          "onNpmInstallError": {
            "description": "An optional notifier function that will be called when we start NPM installing things.",
            "example": "->",
            "type": "string"
          },
          "onNpmInstallSuccess": {
            "description": "An optional notifier function that will be called when we start NPM installing things.",
            "example": "->",
            "type": "string"
          },
          "localPort": {
            "description": "The local port to run the preview server on (either a sails app or the `scribe` utility, depending on what is being previewed).  Defaults to 1337.",
            "example": 1337,
            "defaultsTo": 1337,
            "type": "number"
          },
          "dir": {
            "description": "Path to the local machinepack where the changelog should be applied.",
            "extendedDescription": "If unspecified, defaults to the current working directory.  If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          },
          "treelineApiUrl": {
            "description": "The base URL for the Treeline API (useful if you're in a country that can't use SSL, etc.)",
            "example": "http://api.treeline.io",
            "defaultsTo": "https://api.treeline.io",
            "type": "string"
          },
          "npmInstall": {
            "description": "Whether to run a blanket NPM install, or use the target dependency installation machines",
            "extendedDescription": "By default, this machine runs \"NPM.installDependencies\" at the end, which is a wrapper for \"npm install\".  Setting this flag to false causes the machine to instead run the \"installTreelineDeps\" and \"installExternalDeps\" machines, which may or may not actually npm install anything.",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          },
          "previewServerLifted": {
            "description": "Whether a preview server is lifted",
            "extendedDescription": "If there is a preview server (or Scribe server) running, the sync machine will attempt to communicate with it.",
            "example": true,
            "type": "boolean"
          }
        },
        "exits": {
          "couldNotSync": {
            "description": "Failed to synchronize new changes from treeline.io with the local project."
          },
          "couldNotFlush": {
            "description": "Failed to flush the router of the locally-running preview app after applying changes from treeline.io."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n    var thisPack = require('../');\n    var IfThen = require('machinepack-ifthen');\n    var NPM = require('machinepack-npm');\n    var FileSystem = require('machinepack-fs');\n    var async = require('async');\n    var path = require('path');\n    var _ = require('lodash');\n\n    // Ensure we have an absolute destination path.\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    thisPack.readLinkfile({\n      dir: inputs.dir\n    }).exec({\n      error: exits.error,\n      doesNotExist: function () {\n        return exits.error('Cannot install dependencies because a linkfile (i.e. `treeline.json`) does not exist in this directory.  Please associate this directory with a Treeline project by running `treeline link` on the command-line.');\n      },\n      success: function (projectInfo){\n        async.parallel({\n          // Clear out the controllers (if this is an app)\n          clearControllers: function(next) {\n            if (inputs.type == 'app') {\n              FileSystem.rmrf({\n                dir: path.resolve(inputs.dir, 'api', 'controllers')\n              }).exec(next);\n            }\n            else {\n              return next();\n            }\n          },\n          // Clear out the models (if this is an app)\n          clearModels: function(next) {\n            if (inputs.type == 'app') {\n              FileSystem.rmrf({\n                dir: path.resolve(inputs.dir, 'api', 'models')\n              }).exec(next);\n            }\n            else {\n              return next();\n            }\n          },\n\n        }, function (err) {\n          if (err) {return exits.error(err);}\n          // If `inputs.type` was provided, use it.\n          // Otherwise, sniff around for the package.json file and figure out\n          // what kind of project this is.\n          thisPack.normalizeType({\n            type: inputs.type\n          }).exec({\n            error: exits.error,\n            success: function (type) {\n\n              IfThen.ifThenFinally({\n\n                bool: type == 'app',\n                expectedOutput: {},\n\n                // If this is an app, send it a message that it should go into maintenance mode\n                then: function (__, exits) {\n                  if (inputs.previewServerLifted) {\n                    Http.sendHttpRequest({\n                      url: '/_prepare',\n                      baseUrl: 'http://localhost:'+inputs.localPort,\n                      method: 'trace'\n                    }).exec({\n                      error: exits.error,\n                      success: function(response) {\n                        return exits.success();\n                      }\n                    });\n                  } else {\n                    return exits.success();\n                  }\n                },\n\n                // For machinepacks, just continue\n                orElse: function(__, exits) {\n                  return exits.success();\n                }\n\n              }).exec({\n                error: exits.error,\n                success: function() {\n\n                  // Apply the changelog to the pack -- this updates machines\n                  // and the package.json file, and outputs a dictionary\n                  // of information that we can use to determine what to do next,\n                  // e.g. whether we need to install any new dependencies\n                  thisPack.applyPackChangelog({\n                    changelog: inputs.changelog,\n                    onNpmInstall: inputs.onNpmInstall,\n                    onNpmInstallError: inputs.onNpmInstallError,\n                    onNpmInstallSuccess: inputs.onNpmInstallSuccess,\n                    dir: inputs.dir,\n                    treelineApiUrl: inputs.treelineApiUrl\n                  }).exec({\n                    error: function (err){\n                      return exits.couldNotSync(err);\n                    },\n                    success: function (applyPackChangelogResults){\n\n                      // After the pack changelog is applied, apply\n                      // the app changelog if the project is an app\n                      IfThen.ifThenFinally({\n                        bool: type == 'app',\n                        then: function(__, exits) {\n                          thisPack.applyAppChangelog({\n                            changelog: inputs.changelog,\n                            dir: inputs.dir,\n                            treelineApiUrl: inputs.treelineApiUrl\n                          }).exec(exits);\n                        },\n                        orElse: function(__, exits) {\n                          return exits.success();\n                        }\n                      }).exec({\n                        error: exits.couldNotSync,\n                        success: function() {\n\n                          // Trigger the `onSyncSuccess` notifier function, if one was\n                          // provided.\n                          if (inputs.onSyncSuccess) {\n                            inputs.onSyncSuccess();\n                          }\n\n\n                          // Trigger notifier function\n                          inputs.onNpmInstall();\n                          // If any of the pack's NPM dependencies changed, or if inputs.npmInstall is true,\n                          // then run a full \"npm install\" to make sure all NPM dependencies are installed,\n                          // but set an environment variable to prevent the postinstall script from installing\n                          // Treeline dependencies.  We'll run `installTreelineDeps` manually below so that\n                          // the user can see visual feedback as it goes.\n                          IfThen.ifThenFinally({\n                            bool: (inputs.npmInstall || _.where(inputs.changelog[0].npmDependencies, {verb: 'set'}).length),\n                            then: function(__, exits) {\n                              process.env.INSTALL_TREELINE_DEPS = 'no';\n                              NPM.installDependencies({\n                                dir: inputs.dir\n                              })\n                              .exec({\n                                error: function(err) {\n                                  // Trigger notifier function\n                                  inputs.onNpmInstallError(err);\n                                  return exits.error(err);\n                                },\n                                success: function() {\n                                  return exits.success();\n                                },\n                              });\n                            },\n                            // Otherwise just run the machines that the postinstall script would run.\n                            // This saves the overhead that the full \"npm install\" incurs\n                            orElse: function(__, exits) {\n                              return exits.success();\n                            }\n                          }).exec({\n                            error: exits.couldNotSync,\n                            success: function() {\n\n                              // Sync treeline dependencies\n                              thisPack.installTreelineDeps({\n                                dir: inputs.dir,\n                                treelineApiUrl: inputs.treelineApiUrl,\n                                useCachedHashes: !inputs.npmInstall\n                              }).exec({\n                                error: function(err) {\n                                  // Trigger notifier function\n                                  inputs.onNpmInstallError(err);\n                                  return exits.error(err);\n                                },\n                                success: function() {\n                                  // Trigger notifier function\n                                  inputs.onNpmInstallSuccess();\n\n                                  // Finally, flush the Scribe server (for machinepacks) or the preview\n                                  // server (for apps)\n                                  IfThen.ifThenFinally({\n                                    bool: type == 'machinepack',\n                                    expectedOutput: {},\n                                    then: function(__, exits) {\n                                      // Send a request to `scribe` telling it to flush its require cache\n                                      // and pick up the new machinepack files.\n                                      if (inputs.previewServerLifted) {\n                                        Http.sendHttpRequest({\n                                          url: '/',\n                                          baseUrl: 'http://localhost:'+inputs.localPort,\n                                          method: 'get'\n                                        }).exec({\n                                          error: exits.error,\n                                          success: function(response) {\n                                            // Otherwise it worked and we're all good.\n                                            return exits.success(applyPackChangelogResults);\n                                          }\n                                        });\n                                      } else {\n                                        return exits.success(applyPackChangelogResults);\n                                      }\n\n                                    },\n                                    orElse: function(__, exits) {\n                                      // Send a request to the preview server telling it to flush its require cache\n                                      // and pick up the new machinepack files.\n                                      if (inputs.previewServerLifted) {\n                                        Http.sendHttpRequest({\n                                          url: '/_reload',\n                                          baseUrl: 'http://localhost:'+inputs.localPort,\n                                          method: 'trace'\n                                        }).exec({\n                                          error: exits.error,\n                                          success: function(response) {\n                                            // Otherwise it worked and we're all good.\n                                            return exits.success(applyPackChangelogResults);\n                                          }\n                                        });\n                                      } else {\n                                        return exits.success(applyPackChangelogResults);\n                                      }\n                                    }\n                                  }).exec({\n                                    error: exits.couldNotFlush,\n                                    success: exits.success\n                                  });\n                                }\n                              });\n\n                            }\n                          });\n\n                        }\n\n                      });\n                    }\n                  });\n\n                  }\n                });\n\n              }\n            });\n\n          });\n\n\n        }\n      });\n\n    ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/sync-remote-changes",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/sync-remote-changes",
        "defaultExit": null,
        "machinepack": 141,
        "id": 642,
        "createdAt": "2015-07-13T12:19:32.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      },
      {
        "identity": "apply-pack-changelog",
        "variableName": "applyPackChangelog",
        "friendlyName": "Apply pack changelog",
        "cacheable": null,
        "sync": null,
        "description": "Apply a changelog of remote changes from treeline.io to the local machinepack.",
        "inputs": {
          "changelog": {
            "friendlyName": "Changelog",
            "description": "A set of changes to apply to this local machinepack.",
            "example": [
              {}
            ],
            "required": true,
            "type": "array"
          },
          "onNpmInstall": {
            "description": "An optional notifier function that will be called when we start NPM installing things.",
            "example": "->",
            "type": "string"
          },
          "onNpmInstallError": {
            "description": "An optional notifier function that will be called when we start NPM installing things.",
            "example": "->",
            "type": "string"
          },
          "onNpmInstallSuccess": {
            "description": "An optional notifier function that will be called when we start NPM installing things.",
            "example": "->",
            "type": "string"
          },
          "dir": {
            "description": "Path to the local machinepack where the changelog should be applied.",
            "extendedDescription": "If unspecified, defaults to the current working directory.  If provided as a relative path, this will be resolved from the current working directory.",
            "example": "/Users/mikermcneil/Desktop/foo",
            "type": "string"
          },
          "treelineApiUrl": {
            "description": "The base URL for the Treeline API (useful if you're in a country that can't use SSL, etc.)",
            "example": "http://api.treeline.io",
            "defaultsTo": "https://api.treeline.io",
            "type": "string"
          },
          "isDependency": {
            "description": "Whether or not this changelog represents changes to a dependency pack.",
            "extendedDescription": "If true, logic pertaining to postinstall scripts and treeline.json files will be skipped.",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "The output may provide some hints on how to proceed after applying the changelog, for instance whether or not a full npm install should be run.",
            "example": {
              "dependenciesChanged": true
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var path = require('path');\n    var _ = require('lodash');\n    var async = require('async');\n    var LocalMachinepacks = require('machinepack-localmachinepacks');\n    var Filesystem = require('machinepack-fs');\n    var NPM = require('machinepack-npm');\n    var IfThen = require('machinepack-ifthen');\n\n    // Ensure we have an absolute destination path.\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    // Note that there is NOT a nested `machines` (aka \"library\") changelog.\n    // That's because we don't have any way of knowing currently\n    // what changes need to be applied to make the local version\n    // match the remote (i.e. local version could have all sorts of\n    // changes we don't know about).\n    //\n    // Over time, we can add a more granular changelog as a separate\n    // key (i.e. not `definition`).\n\n    // For now, notice that we also include `treelineDependencies`, which consists\n    // of other Treeline-hosted machinepacks which this pack depends upon. Eventually,\n    // we can use NPM for this (when there is support for organizations)\n\n    if (inputs.changelog.length === 0) {\n      return exits.success();\n    }\n\n    var changedPack = inputs.changelog[0];\n    if (changedPack.verb !== 'set') {\n      return exits.error(new Error('Invalid changelog:Â cannot be applied.  For the time being, machinepack changelogs should only use the \"set\" verb.  We got:\\n'+util.inspect(inputs.changelog, {depth: null}) ));\n    }\n\n    IfThen.ifThenFinally({\n      bool: inputs.isDependency,\n      orElse: function(__, exits) {\n\n        // Before going any further, we'll build a postinstall script that installs\n        // Treeline dependencies, then inject it into the pack metadata.  This is so\n        // that, when this pack is used as a dependency in a production setting\n        // (i.e. without the use of the Treeline CLI tool) it will still fetch the\n        // appropriate dependencies directly from Treeline.io.  See comments above\n        // about the eventual plan to move to a \"everything on NPM\" model (the issue\n        // right now is that we can't publish private packages on behalf of users who\n        // don't have a paid NPM account, because they can't install them).\n\n        // Use a separate lighter-weight module which is just the logic for installing treeline deps:\n        changedPack.postInstallScript = 'node ./node_modules/treeline-installer/bin/treeline-installer';\n\n        // Add a `treelineApiUrl` CLI opt if the current api url is different than the default.\n        if (inputs.treelineApiUrl !== env.thisMachine().inputs.treelineApiUrl.defaultsTo) {\n          changedPack.postInstallScript += ' --treelineApiUrl=\"'+inputs.treelineApiUrl+'\"';\n        }\n\n        // Gather the new hash information for the treeline.json file\n        var treelineJson = require(path.resolve(inputs.dir, \"treeline.json\"));\n\n        treelineJson.hashes = treelineJson.hashes || {};\n        // The \"hashes.self\" key contains the hash for the machinepack being synced,\n        // and hashes for all of its machines.\n        treelineJson.hashes.self = treelineJson.hashes.self || {machines: {}};\n        treelineJson.hashes.self.hash = changedPack.hash;\n        _.each(changedPack.machines, function(machine) {\n          if (machine.verb == 'set') {treelineJson.hashes.self.machines[machine.identity] = machine.hash;}\n          if (machine.verb == 'del') {delete treelineJson.hashes.self.machines[machine.identity];}\n        });\n\n        // Update the treeline.json file with the new hash info\n        Filesystem.writeJson({\n          destination: path.resolve(inputs.dir, \"treeline.json\"),\n          json: treelineJson,\n          force: true\n        }).exec(exits);\n      },\n      then: function(__, exits) {\n        return exits.success();\n      }\n    }).exec(function(err) {\n      if (err) {return exits.error(err);}\n\n      // Read in the pack's package.json so we can apply changes\n      var packageJson;\n      try {\n        delete require.cache[path.resolve(inputs.dir, \"package.json\")];\n        packageJson = require(path.resolve(inputs.dir, \"package.json\"));\n      } catch (e) {\n        packageJson = {dependencies: {}, machinepack:{}};\n      }\n\n      // Create an array of package.json dependencies\n      var packageJsonDependencies = NPM.arrayifyDependencies({\n        dependencies: packageJson.dependencies || {}\n      }).execSync();\n\n      // Get the current machine list\n      var currentMachines = (packageJson.machinepack && packageJson.machinepack.machines) || [];\n\n      // Remove any machines with `del` verbs in the changeset\n      _.remove(currentMachines, function(machineIdentity) {\n        return !!_.find(changedPack.machines, {verb: 'del', identity: machineIdentity});\n      });\n\n      // Create an array of machine definitions to send to \"writePack\"\n      var machineDefs = [];\n\n      // Add in machines from the changeset with `set` verbs\n      _.each(_.where(changedPack.machines, {verb: 'set'}), function(changeDef) {\n        machineDefs.push(changeDef.definition);\n      });\n\n      // For the remaining (unchanged) machines, push definitions with `unchanged` flags\n      _.each(_.difference(currentMachines, _.pluck(machineDefs, 'identity')), function(machineIdentity) {\n        machineDefs.push({\n          identity: machineIdentity,\n          unchanged: true\n        });\n      });\n\n      // Pull dependencies from the machinepack.npmDependencies dictionary, if any\n      var npmDependencies = (packageJson.machinepack && packageJson.machinepack.npmDependencies) || [];\n\n      // If instructed, wipe out all of the current machinepack dependencies\n      if (_.find(changedPack.npmDependencies, {verb: 'del', name: '*'})) {\n        _.each(npmDependencies, function(npmDependency) {\n          _.remove(packageJsonDependencies, {name: npmDependency.name, semverRange: npmDependency.semverRange});\n        });\n        npmDependencies = [];\n      }\n\n      // Otherwise remove dependencies indicated by an operation with a `del` verb\n      else {\n        // Remove any dependencies with `del` verbs in the changeset from the list of machinepack dependencies\n        // and from the big dependencies list\n        _.each(_.where(changedPack.npmDependencies, {verb: 'del'}), function(dep) {\n          _.remove(packageJsonDependencies, {name: dep.name, semverRange: dep.semverRange});\n          _.remove(npmDependencies, {name: dep.name, semverRange: dep.semverRange});\n        });\n      }\n\n      // Add any dependencies with `set` verbs in the changeset\n      _.each(_.where(changedPack.npmDependencies, {verb: 'set'}), function(dep) {\n        dep = _.omit(dep, 'verb');\n        packageJsonDependencies = packageJsonDependencies.concat(dep);\n        npmDependencies = npmDependencies.concat(dep);\n      });\n\n      // Make sure dependencies are unique\n      npmDependencies = _.uniq(npmDependencies, function(n){return n.name+'/'+n.semverRange;});\n\n      // Ensure a dependency on `treeline-installer` if this is not a dependency\n      if (!inputs.isDependency) {\n        if (!_.find(packageJson.dependencies, {name: 'treeline-installer'})) {\n          packageJsonDependencies.push({ name: 'treeline-installer', semverRange: '^1.0.6' });\n        }\n      }\n\n      var packData = {\n        npmPackageName: changedPack.identity || packageJson.name,\n        version: changedPack.version || packageJson.version,\n        friendlyName: changedPack.friendlyName || packageJson.friendlyName,\n        author: changedPack.author || packageJson.author,\n        name: changedPack.identity || packageJson.name,\n        description: changedPack.description || packageJson.name,\n        machines: machineDefs,\n        dependencies: packageJsonDependencies,\n        postInstallScript: changedPack.postInstallScript\n      };\n      // Now we apply changes to the main pack metadata and its machines.\n      // This generates the pack folder and machines (as well as package.json\n      // and other files) At the moment, we do this every time, no matter what\n      // changes there were:\n      LocalMachinepacks.writePack({\n        destination: inputs.dir,\n        packData: packData,\n        force: true\n      }).exec({\n        error: exits.error,\n        success: function() {\n\n          async.parallel([\n            // Remove any machines that had `del` in the changelog\n            function removeMachines(next) {\n              async.each(_.where(changedPack.machines, {verb: 'del'}), function(changedMachine, finishedDeleting) {\n                Filesystem.rmrf({\n                  dir: path.resolve(inputs.dir, packageJson.machinepack.machineDir, changedMachine.identity + '.js')\n                }).exec(finishedDeleting);\n              }, next);\n            },\n            // Write the new dependencies dictionary under the machinepacks key\n            function writePackageJson(next) {\n              Filesystem.readJson({\n                source: path.resolve(inputs.dir, \"package.json\"),\n                schema: {}\n              }).exec({\n                error: next,\n                success: function(packageJson) {\n                  packageJson.machinepack.npmDependencies = npmDependencies;\n                  Filesystem.writeJson({\n                    destination: path.resolve(inputs.dir, \"package.json\"),\n                    json: packageJson,\n                    force: true\n                  }).exec(next);\n                }\n              });\n            }\n          ], function done(err) {\n            if (err) {return exits(err);}\n            return exits.success();\n          });\n        }\n      });\n\n    });\n\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects/apply-pack-changelog",
        "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects/apply-pack-changelog",
        "defaultExit": null,
        "machinepack": 141,
        "id": 656,
        "createdAt": "2015-08-04T23:09:24.000Z",
        "updatedAt": "2015-08-25T20:39:55.000Z"
      }
    ],
    "identity": "machinepack-local-treeline-projects",
    "version": "1.0.8",
    "latestVersionPublishedAt": "2015-08-25T00:00:00.000Z",
    "variableName": "LocalTreelineProjects",
    "friendlyName": "Local Treeline Projects",
    "description": "Work with local treeline projects.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-local-treeline-projects",
    "docsUrl": "http://node-machine.org/machinepack-local-treeline-projects",
    "npmUrl": "http://npmjs.org/package/machinepack-local-treeline-projects",
    "npmPackageName": "machinepack-local-treeline-projects",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^1.3.0"
      },
      {
        "name": "debug",
        "semverRange": "^2.2.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.10.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^5.3.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.3.0"
      },
      {
        "name": "machinepack-ifthen",
        "semverRange": "^1.1.0"
      },
      {
        "name": "machinepack-localmachinepacks",
        "semverRange": "^1.8.0"
      },
      {
        "name": "machinepack-local-sails-apps",
        "semverRange": "^1.0.0"
      },
      {
        "name": "machinepack-npm",
        "semverRange": "^5.1.0"
      },
      {
        "name": "machinepack-paths",
        "semverRange": "^1.2.0"
      },
      {
        "name": "rttc",
        "semverRange": "^7.2.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "rachaelshaw",
        "email": "rachael@balderdash.co"
      }
    ],
    "id": 141,
    "createdAt": "2015-07-06T06:19:26.000Z",
    "updatedAt": "2015-08-25T20:39:55.000Z",
    "numMachines": 8
  },
  {
    "machines": [
      {
        "identity": "map",
        "variableName": "map",
        "friendlyName": "Map",
        "cacheable": null,
        "sync": null,
        "description": "Iterate over each item of an array to build a new transformed array.",
        "inputs": {
          "array": {
            "description": "The array to loop over",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "worker": {
            "description": "The machine to run on each item in the array.",
            "extendedDescription": "Expects machine to have a single (typeclass: \"*\") input called \"value\", and two exits: \"success\" and \"error\".",
            "typeclass": "machine",
            "required": true,
            "type": "machine"
          },
          "data": {
            "description": "Optional data param for the worker",
            "extendedDescription": "Use this to pass other data and options to the worker besides the array item",
            "example": "*",
            "type": "string"
          },
          "series": {
            "description": "Whether to run worker on one item at a time (in series)",
            "extendedDescription": "By default, all items are run at the same time (in parallel)",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var _ = require('lodash');\n\n        // Look up the first item in the array\n        var firstItemInArray = inputs.array && inputs.array.length && inputs.array[0] || {};\n\n        // Build up input values to use in the worker\n        var firstWorkerInputName = _.keys(inputs.worker)[0];\n        var secondWorkerInputName = _.keys(inputs.worker)[1];\n        var workerInputTuple = (function(){\n          var vals = {};\n          vals[firstWorkerInputName] = firstItemInArray;\n          if (secondWorkerInputName && !_.isUndefined(inputs.data)) {\n              vals[secondWorkerInputName] = inputs.data;\n          }\n          return vals;\n        })();\n\n        // Get the example (using getExample() if necessary) of the success exit of the worker.\n        var defaultExit = (function() {\n          if (inputs.worker.exits.success) {return inputs.worker.exits.success;}\n          var exit = _.find(inputs.worker.exits, {__varName__: 'success'});\n          if (exit) {return exit;}\n          exit = _.find(inputs.worker.exits, {exitName: 'success'});\n          if (exit) {return exit;}\n          return _.values(inputs.worker.exits)[0];\n        })();\n        var defaultExitExample = (function (){\n          // If `getExample()` is defined, call it using the first item of the array.\n          if (_.isFunction(defaultExit.getExample)) {\n            return defaultExit.getExample(workerInputTuple, env);\n          }\n          // Tolerate missing example/getExample by returning early (`undefined` exit example is \"contagious\")\n          return defaultExit.example;\n        })();\n\n        // Return the worker's default exit's example, wrapped in an array.\n        return [defaultExitExample];\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "\n    var async = require('async');\n\n    // Get the name of the first input to the worker\n    // TODO: replace this with \"typeclass: machine\" type checking\n    if (!inputs.worker.inputs || typeof inputs.worker.inputs != 'object') {\n      return exits.error(\"Worker misconfigured: no inputs object found\");\n    }\n    var workerInputs = Object.keys(inputs.worker.inputs);\n    if (workerInputs.length === 0) {\n      return exits.error(\"Worker misconfigured: inputs object empty\");\n    }\n    var loop = inputs.series ? async.mapSeries : async.map;\n    loop(inputs.array, function(item, cb) {\n      var config = {};\n      config[workerInputs[0]] = item;\n      if (inputs.data && workerInputs.length > 1) {\n          config[workerInputs[1]] = inputs.data;\n      }\n      inputs.worker(config).setEnvironment(env).exec(function(err, output) {\n          if (err && err.exit && err.exit.indexOf('success') === 0) {return cb(null, err.output);}\n          if (err) {return cb(err);}\n          return cb(null, output);\n      });\n    }, exits);\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-loops/map",
        "docsUrl": "http://node-machine.org/machinepack-loops/map",
        "defaultExit": "success",
        "machinepack": 16,
        "id": 69,
        "createdAt": "2015-02-16T23:51:24.000Z",
        "updatedAt": "2015-07-01T00:39:45.000Z"
      },
      {
        "identity": "each",
        "variableName": "each",
        "friendlyName": "Each",
        "cacheable": null,
        "sync": null,
        "description": "Run a given machine on each item of an array.",
        "inputs": {
          "array": {
            "description": "The array to loop over",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "worker": {
            "description": "The machine to run on each item in the array.",
            "extendedDescription": "Expects machine to have a single (typeclass: \"*\") input called \"value\", and two exits: \"success\" and \"error\".",
            "typeclass": "machine",
            "required": true,
            "type": "machine"
          },
          "series": {
            "description": "Whether to run worker on one item at a time (in series)",
            "extendedDescription": "By default, all items are run at the same time (in parallel)",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var async = require('async');\n    // Get the name of the first input to the worker\n    // TODO: replace this with \"typeclass: machine\" type checking\n    if (!inputs.worker.inputs || typeof inputs.worker.inputs != 'object') {\n      return exits.error(\"Worker misconfigured: no inputs object found\");\n    }\n    var workerInputs = Object.keys(inputs.worker.inputs);\n    if (workerInputs.length === 0) {\n      return exits.error(\"Worker misconfigured: inputs object empty\");\n    }\n    var loop = inputs.series ? async.eachSeries : async.each;\n    loop(inputs.array, function(item, cb) {\n      var config = {};\n      config[workerInputs[0]] = item;\n      inputs.worker(config).exec(cb);\n    }, exits);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-loops/each",
        "docsUrl": "http://node-machine.org/machinepack-loops/each",
        "defaultExit": "success",
        "machinepack": 16,
        "id": 70,
        "createdAt": "2015-02-16T23:51:24.000Z",
        "updatedAt": "2015-07-01T00:39:45.000Z"
      }
    ],
    "identity": "machinepack-loops",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Loops",
    "friendlyName": "Loops",
    "description": "Machines that allow the use of other machines in a loop.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-loops",
    "docsUrl": "http://node-machine.org/machinepack-loops",
    "npmUrl": "http://npmjs.org/package/machinepack-loops",
    "npmPackageName": "machinepack-loops",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "lodash",
        "semverRange": "^2.4.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 16,
    "createdAt": "2015-02-16T23:51:24.000Z",
    "updatedAt": "2015-07-01T00:39:45.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "set",
        "variableName": "set",
        "friendlyName": "set a new object in the LRU cache",
        "cacheable": null,
        "sync": null,
        "description": "Put a new object in the cache associated with the specified key.",
        "inputs": {
          "key": {
            "description": "The key used to store the obejct in the cache.",
            "example": "id",
            "required": true,
            "type": "string"
          },
          "value": {
            "description": "The object associated with the key.",
            "example": "some object",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    \n    var SimpleCache = require(\"simple-lru-cache\");\n    cache = new SimpleCache({\"maxSize\":100000});\n\n    cache.set(inputs.key, inputs.value);\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "Note that if the size of the LRU cache is reached the LRU cache will discard the least recently used object in the cache",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-lrucache/set",
        "docsUrl": "http://node-machine.org/machinepack-lrucache/set",
        "defaultExit": "success",
        "machinepack": 80,
        "id": 307,
        "createdAt": "2015-04-01T15:09:19.000Z",
        "updatedAt": "2015-04-01T15:09:19.000Z"
      },
      {
        "identity": "get",
        "variableName": "get",
        "friendlyName": "get the value for a key",
        "cacheable": null,
        "sync": null,
        "description": "Get the value for a key from the LRU Cache",
        "inputs": {
          "key": {
            "description": "The key used to store the obejct in the cache.",
            "example": "id",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "friendlyName": "not found",
            "description": "No object was found in the cache with the specified key."
          },
          "success": {
            "friendlyName": "Done",
            "description": "OK.",
            "example": "some object",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    if ( typeof cache !== 'undefined' && cache) {\n          var value = cache.get(inputs.key);\n          if (value || value === ''){\n            return exits.success(value);\n          }\n    } else {\n        var SimpleCache = require(\"simple-lru-cache\");\n        cache = new SimpleCache({\"maxSize\":100000});\n    }\n\n    return exits.notFound();  \n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-lrucache/get",
        "docsUrl": "http://node-machine.org/machinepack-lrucache/get",
        "defaultExit": "success",
        "machinepack": 80,
        "id": 308,
        "createdAt": "2015-04-01T15:09:19.000Z",
        "updatedAt": "2015-04-01T15:09:19.000Z"
      },
      {
        "identity": "clear",
        "variableName": "clear",
        "friendlyName": "clear the cache",
        "cacheable": null,
        "sync": null,
        "description": "Clear all the objects from the LRUCache",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "   if ( typeof cache !== 'undefined' && cache) {\n         cache.reset();\n    } else {\n        var SimpleCache = require(\"simple-lru-cache\");\n        cache = new SimpleCache({\"maxSize\":100000});\n    }\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-lrucache/clear",
        "docsUrl": "http://node-machine.org/machinepack-lrucache/clear",
        "defaultExit": "success",
        "machinepack": 80,
        "id": 309,
        "createdAt": "2015-04-01T15:09:19.000Z",
        "updatedAt": "2015-04-01T15:09:19.000Z"
      },
      {
        "identity": "remove",
        "variableName": "remove",
        "friendlyName": "remove an object from the cache",
        "cacheable": null,
        "sync": null,
        "description": "Remove the object associated with the specified key from the cache",
        "inputs": {
          "key": {
            "description": "The key used to store the obejct in the cache.",
            "example": "id",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if ( typeof cache !== 'undefined' && cache) {\n         cache.del(inputs.key);\n    } else {\n        var SimpleCache = require(\"simple-lru-cache\");\n        cache = new SimpleCache({\"maxSize\":100000});\n    }\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-lrucache/remove",
        "docsUrl": "http://node-machine.org/machinepack-lrucache/remove",
        "defaultExit": "success",
        "machinepack": 80,
        "id": 310,
        "createdAt": "2015-04-01T15:09:19.000Z",
        "updatedAt": "2015-04-01T15:09:19.000Z"
      }
    ],
    "identity": "machinepack-lrucache",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-04-01T00:00:00.000Z",
    "variableName": "LRUCache",
    "friendlyName": "LRUCache",
    "description": "Work with lRUCache.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-lrucache",
    "docsUrl": "http://node-machine.org/machinepack-lrucache",
    "npmUrl": "http://npmjs.org/package/machinepack-lrucache",
    "npmPackageName": "machinepack-lrucache",
    "githubUrl": "http://github.com/mastermind1981/machinepack-lrucache/",
    "sourceUrl": "http://github.com/mastermind1981/machinepack-lrucache/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "simple-lru-cache",
        "semverRange": "0.0.2"
      }
    ],
    "contributors": [
      {
        "name": "mastermind1981",
        "email": "mastermind1981@hushmail.com"
      }
    ],
    "id": 80,
    "createdAt": "2015-04-01T15:09:19.000Z",
    "updatedAt": "2015-04-01T15:09:19.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "product-price-v2",
        "variableName": "productPriceV2",
        "friendlyName": "product-price-v2",
        "cacheable": null,
        "sync": null,
        "description": "Calculate final price when user does not assume any fee.",
        "inputs": {
          "type": {
            "example": "bank",
            "description": "Type of entity.",
            "required": false,
            "type": "string"
          },
          "capAmount": {
            "example": "456",
            "description": "Amount limit for choose a kind of calculation.",
            "required": false,
            "type": "string"
          },
          "originalPrice": {
            "example": 200.23,
            "description": "Price base for calculate owed price.",
            "required": true,
            "type": "number"
          },
          "stripePercent": {
            "example": 2.9,
            "description": "Percentage for calculate stripe fee.",
            "required": true,
            "type": "number"
          },
          "stripeFlat": {
            "example": 0.3,
            "description": "Amount base to calcualte stripe fee.",
            "required": true,
            "type": "number"
          },
          "paidUpFee": {
            "example": 5,
            "description": "Percentage to calculate Paid Up Fee.",
            "required": true,
            "type": "number"
          },
          "discount": {
            "example": 20,
            "description": "Percentage to discount at original price",
            "required": true,
            "type": "number"
          },
          "payProcessing": {
            "example": false,
            "description": "This parameter define if user pay stripe processing",
            "required": true,
            "type": "boolean"
          },
          "payCollecting": {
            "example": true,
            "description": "This parameter define if user pay PadUp processing",
            "required": true,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "version": "v2",
              "basePrice": 200,
              "originalPrice": 300,
              "totalFee": 12,
              "owedPrice": 343.44,
              "discount": 12,
              "feePaidUp": 8.12,
              "feeStripe": 3.23
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var calculatePriceV2 = require('../api/v2/calculate-price');\n\n    if (inputs.type && (inputs.type !== 'bank_account' && inputs.type !== 'card')) {\n      return exits.error({ description: 'type must be `bank_account` or `card`' });\n    }\n\n    if (inputs.type === 'bank_account') {\n      if (!inputs.capAmount || isNaN(parseFloat(inputs.capAmount))) {\n        return exits.error({ description: 'capAmount is require and must be a number' });\n      }\n      else {\n        return calculatePriceV2.bank(inputs, exits);\n      }\n    }\n    else {\n      return calculatePriceV2.card(inputs, exits);\n    }\n  ",
        "environment": [],
        "extendedDescription": "Calculate final price when user does not assume any fee.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-calculations/product-price-v2",
        "docsUrl": "http://node-machine.org/machinepack-calculations/product-price-v2",
        "defaultExit": "success",
        "machinepack": 176,
        "id": 809,
        "createdAt": "2016-07-21T15:10:33.000Z",
        "updatedAt": "2016-07-21T15:10:33.000Z"
      }
    ],
    "identity": "machinepack-calculations",
    "version": "0.6.2",
    "latestVersionPublishedAt": "2016-07-21T00:00:00.000Z",
    "variableName": "MachinepackCalculations",
    "friendlyName": "MachinepackCalculations",
    "description": "Calculations for PaidUp",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-calculations",
    "docsUrl": "http://node-machine.org/machinepack-calculations",
    "npmUrl": "http://npmjs.org/package/machinepack-calculations",
    "npmPackageName": "machinepack-calculations",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUpTeam",
        "email": ""
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 176,
    "createdAt": "2016-07-21T15:10:33.000Z",
    "updatedAt": "2016-07-21T15:10:33.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "list-machinepacks",
        "variableName": "listMachinepacks",
        "friendlyName": "List machinepacks",
        "cacheable": true,
        "sync": null,
        "description": "List machinepacks in the registry.",
        "inputs": {
          "registry": {
            "description": "The base URL of the machine registry to use (defaults to the public registry at http://node-machine.org)",
            "example": "http://node-machine.org",
            "defaultsTo": "http://www.node-machine.org",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "identity": "machinepack-whatever",
                "friendlyName": "Whatever (you know)",
                "variableName": "Whatever",
                "description": "Node.js utilities for working with whatever.",
                "version": "0.5.17",
                "numMachines": 8
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var Http = require('machinepack-http');\n\n    // Look up list of machinepacks\n    Http.sendHttpRequest({\n      baseUrl: inputs.registry,\n      url: '/machinepacks'\n    }).exec({\n      error: exits.error,\n      success: function (resp){\n\n        var machinepacks;\n        try {\n          machinepacks = JSON.parse(resp.body);\n        }\n        catch (e){\n          return exits.error(e);\n        }\n\n        return exits.success(machinepacks);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-registry/list-machinepacks",
        "docsUrl": "http://node-machine.org/machinepack-registry/list-machinepacks",
        "defaultExit": "success",
        "machinepack": 24,
        "id": 94,
        "createdAt": "2015-02-16T23:51:39.000Z",
        "updatedAt": "2015-06-30T17:29:57.000Z"
      },
      {
        "identity": "get-machinepack-info",
        "variableName": "getMachinepackInfo",
        "friendlyName": "Get machinepack info",
        "cacheable": true,
        "sync": null,
        "description": "Get metadata for the specified machinepack, including a list of its machines.",
        "inputs": {
          "machinepack": {
            "description": "The identity of the machinepack to look up.",
            "example": "machinepack-whatever",
            "required": true,
            "type": "string"
          },
          "registry": {
            "description": "The base URL of the machine registry to use (defaults to the public registry at http://node-machine.org)",
            "example": "http://node-machine.org",
            "defaultsTo": "http://www.node-machine.org",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No machinepack with specified identity found in registry."
          },
          "success": {
            "description": "OK.",
            "example": {
              "npmPackageName": "machinepack-facebook",
              "identity": "machinepack-facebook",
              "friendlyName": "Facebook",
              "variableName": "Facebook",
              "description": "asg",
              "extendedDescription": "blah blah",
              "moreInfoUrl": "http://foobar.com",
              "iconSrc": "http://foobar.com/icon.png",
              "version": "0.1.1",
              "keywords": [
                "machine"
              ],
              "latestVersionPublishedAt": "2015-01-19T22:26:54.588Z",
              "author": "Marty McFly <marty@mcfly.com>",
              "nodeMachineUrl": "http://node-machine.org/machinepack-foo",
              "docsUrl": "http://node-machine.org/machinepack-foo",
              "npmUrl": "http://npmjs.org/package/machinepack-foo",
              "sourceUrl": "https://github.com/baz/machinepack-foo",
              "githubUrl": "https://github.com/baz/machinepack-foo",
              "testsUrl": "https://travis-ci.org/baz/machinepack-foo",
              "machineDir": "machines/",
              "contributors": [
                {
                  "name": "Doc Brown",
                  "email": "doc@brown.com"
                }
              ],
              "dependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^2.4.1"
                }
              ],
              "license": "MIT",
              "machines": [
                {
                  "identity": "do-stuff",
                  "friendlyName": "Do stuff and things",
                  "variableName": "doStuff",
                  "description": "Do stuff given other stuff."
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var util = require('util');\n    var Http = require('machinepack-http');\n\n    // Look up machinepack, including list of machines\n    Http.sendHttpRequest({\n      baseUrl: inputs.registry || 'http://www.node-machine.org',\n      url: util.format('/%s', inputs.machinepack)\n    }).exec({\n      error: exits.error,\n      notFound: exits.notFound,\n      success: function (resp){\n\n        var machinepack;\n        try {\n          machinepack = JSON.parse(resp.body);\n        }\n        catch (e){\n          return exits.error(e);\n        }\n\n        return exits.success(machinepack);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-registry/get-machinepack-info",
        "docsUrl": "http://node-machine.org/machinepack-registry/get-machinepack-info",
        "defaultExit": "success",
        "machinepack": 24,
        "id": 95,
        "createdAt": "2015-02-16T23:51:39.000Z",
        "updatedAt": "2015-06-30T17:29:57.000Z"
      },
      {
        "identity": "get-machine-info",
        "variableName": "getMachineInfo",
        "friendlyName": "Get machine info",
        "cacheable": true,
        "sync": null,
        "description": "Get metadata for the specified machine within the specified machinepack.",
        "inputs": {
          "machinepack": {
            "description": "The identity of the machinepack this machine belongs to.",
            "example": "machinepack-whatever",
            "required": true,
            "type": "string"
          },
          "machine": {
            "description": "The identity of the machine to look up.",
            "example": "do-stuff",
            "required": true,
            "type": "string"
          },
          "registry": {
            "description": "The base URL of the machine registry to use (defaults to the public registry at http://node-machine.org)",
            "example": "http://node-machine.org",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "No machinepack or machine with specified identity found in registry."
          },
          "success": {
            "description": "OK.",
            "example": {
              "identity": "do-stuff",
              "friendlyName": "Do stuff and things",
              "variableName": "doStuff",
              "description": "Do stuff given other stuff.",
              "fn": "some stringified function",
              "rawJsonStr": "{\"identity\": \"do-stuff\", etc.}"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var util = require('util');\n    var Http = require('machinepack-http');\n\n    var registryBaseUrl = inputs.registry || 'http://www.node-machine.org';\n\n    // Look up machinepack, including list of machines\n    Http.sendHttpRequest({\n      baseUrl: registryBaseUrl,\n      url: util.format('/%s/%s', inputs.machinepack, inputs.machine)\n    }).exec({\n      error: exits.error,\n      notFound: exits.notFound,\n      success: function (resp){\n\n        var machine;\n        try {\n          machine = JSON.parse(resp.body);\n        }\n        catch (e){\n          return exits.error(e);\n        }\n\n        // Expose raw JSON string in case additional information needs to be parsed.\n        machine.rawJsonStr = resp.body;\n\n        return exits.success(machine);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-registry/get-machine-info",
        "docsUrl": "http://node-machine.org/machinepack-registry/get-machine-info",
        "defaultExit": "success",
        "machinepack": 24,
        "id": 96,
        "createdAt": "2015-02-16T23:51:39.000Z",
        "updatedAt": "2015-06-30T17:29:57.000Z"
      }
    ],
    "identity": "machinepack-registry",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "MachineRegistry",
    "friendlyName": "Machine Registry",
    "description": "Node.js API wrapper for the public machine registry hosted at http://node-machine.org.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-registry",
    "docsUrl": "http://node-machine.org/machinepack-registry",
    "npmUrl": "http://npmjs.org/package/machinepack-registry",
    "npmPackageName": "machinepack-registry",
    "githubUrl": "http://github.com/mikermcneil/machinepack-registry/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-registry/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "enpeem",
        "semverRange": "^1.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^1.6.2"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      },
      {
        "name": "machinepack-machines",
        "semverRange": "^3.0.6"
      },
      {
        "name": "machinepack-npm",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 24,
    "createdAt": "2015-02-16T23:51:39.000Z",
    "updatedAt": "2015-06-30T17:29:57.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "run-instantiated-machine",
        "variableName": "runInstantiatedMachine",
        "friendlyName": "Run instantiated machine",
        "cacheable": null,
        "sync": null,
        "description": "Run a machine which is already instantiated using the provided input values.",
        "inputs": {
          "machineInstance": {
            "example": "===",
            "description": "The already-instantiated machine instance.",
            "required": true,
            "type": "string"
          },
          "inputValues": {
            "description": "A set of input name/value pairs.",
            "example": [
              {
                "name": "someInput",
                "value": "==="
              }
            ],
            "protect": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "unknownInput": {
            "description": "A configured input value does not correspond with a real input in this machine."
          },
          "cantStringifyOutput": {
            "description": "The return value could not be stringified into JSON - perhaps it contains circular references?",
            "example": {
              "outcome": "success",
              "output": "===",
              "inspectedOutput": "{ stuff: \"things\" }",
              "duration": 2948
            },
            "type": "object"
          },
          "success": {
            "variableName": "whatHappened",
            "description": "OK.",
            "example": {
              "outcome": "success",
              "output": "===",
              "jsonStringifiedOutput": "{\"stuff\": \"things\"}",
              "inspectedOutput": "{ stuff: \"things\" }",
              "duration": 2948
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Dependencies\n    var util = require('util');\n    var _ = require('lodash');\n    var async = require('async');\n\n\n    // Configure machine with input values\n    var machineInstance = inputs.machineInstance((function (){\n      // Compress all the provided input values into the simple object\n      // format you would normally use when configuring a machine.\n      return _.reduce(inputs.inputValues, function (memo, configuredInput) {\n\n        var inputDef = inputs.machineInstance.inputs[configuredInput.name];\n\n        // If `inputDef` does not exist, then `configuredInput.name` is wrong.\n        if (!inputDef) {\n          var _err = new Error('Configured input `'+configuredInput.name+'` does not correspond with a real input in this machine.');\n          _err.exit = 'unknownInput';\n          throw _err;\n        }\n\n        memo[configuredInput.name] = configuredInput.value;\n\n        // console.log('for %s, got: %s, a %s',configuredInput.name, memo[configuredInput.name], typeof memo[configuredInput.name]);\n\n        return memo;\n      }, {});\n    })());\n\n    // Build an empty `exitsTraversed` array that will track which exit was traversed,\n    // and its return value (if applicable).\n    var exitsTraversed = [ /* e.g. {\n      returnValue: {some: 'stuff'}\n      exitName: 'whateverExit'\n    } */ ];\n\n    // Loop through each of the machine's declared exits and set up\n    // a handler for it so we know which exit was traversed.\n    var callbacks = {};\n    _.each(machineInstance.exits, function (exitDef, exitName){\n      callbacks[exitName] = function (result){\n        exitsTraversed.push({\n          returnValue: result,\n          exitName: exitName\n        });\n\n        if (exitsTraversed.length > 1) {\n          // This should never happen (log a warning)\n          console.warn('Invalid machine; exited multiple times:', exitsTraversed);\n        }\n      };\n    });\n\n    // Now start executing the machine\n    machineInstance.exec(callbacks);\n\n    // And set up a `whilst` loop that checks to see if the machine has\n    // halted every 50ms.\n    //\n    // (we can safely do this AFTER calling .exec() on the machine since we know there\n      //  will always be at least a setTimeout(0) before the `fn` runs-- compare with\n      //  `.execSync()`, where we wouldn't have such a guarantee)\n    async.whilst(\n      function check() {\n        return exitsTraversed.length < 1;\n      },\n      function lap(next){\n        setTimeout(function (){\n          next();\n        }, 25);\n      },\n      function afterwards(err) {\n        if (err) return exits.error(err);\n\n        // Build up result metadata obj\n        var whatHappened = {\n          outcome: exitsTraversed[0].exitName,\n          output: exitsTraversed[0].returnValue,\n          inspectedOutput: (function (){\n            var rawReturnValue = exitsTraversed[0].returnValue;\n            // Send back the `stack` property if this is an error instance\n            // (don't worry about util.inspecting it)\n            if (_.isError(rawReturnValue)) {\n              return rawReturnValue.stack;\n            }\n            return util.inspect(rawReturnValue, false, null);\n          })(),\n          duration: machineInstance._msElapsed\n        };\n\n        // Attempt to stringify return value\n        try {\n          whatHappened.jsonStringifiedOutput = JSON.stringify(exitsTraversed[0].returnValue);\n        }\n        catch (e){\n            // If it doesnt work, call the `cantStringifyOutput` exit with all of the\n            // other result metadata that we were able to put together.\n          return exits.cantStringifyOutput(whatHappened);\n        }\n\n        // Otherwise we call `success`.\n        return exits.success(whatHappened);\n      }\n    );\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-machines/run-instantiated-machine",
        "docsUrl": "http://node-machine.org/machinepack-machines/run-instantiated-machine",
        "defaultExit": null,
        "machinepack": 13,
        "id": 573,
        "createdAt": "2015-06-14T20:20:04.000Z",
        "updatedAt": "2015-07-25T20:39:28.000Z"
      },
      {
        "identity": "validate",
        "variableName": "validate",
        "friendlyName": "Validate machine def",
        "cacheable": true,
        "sync": true,
        "description": "Validate the specified machine definition.",
        "inputs": {
          "machineDef": {
            "friendlyName": "Machine definition",
            "description": "The machine to validate.",
            "example": "===",
            "readOnly": true,
            "required": true,
            "type": "string"
          },
          "ensureSuccessOutput": {
            "friendlyName": "Ensure success output?",
            "description": "If set, the machine definition will be checked to make sure it has a success exit with an inferable type schema.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "ensureCacheable": {
            "friendlyName": "Ensure cacheable?",
            "description": "If set, the machine definition will be checked to make sure it has `cacheable: true`.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "successExitId": {
            "friendlyName": "Exit id of the \"success\" exit.",
            "description": "The exit id of the `success` exit (you should generally leave this option blank)",
            "extendedDescription": "This should always be \"success\" (this option is included for historical reasons.)",
            "example": "success",
            "defaultsTo": "success",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "variableName": "errors",
            "example": [
              {}
            ],
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var rttc = require('rttc');\n\n    // These variables will be sent back in the return value below.\n    var errors = [];\n\n\n    if (inputs.ensureCacheable) {\n      // Check that the machine def sets `cacheable: true`\n      if (!inputs.machineDef.cacheable) {\n        errors.push({\n          message: 'Machine definition is not `cacheable`.',\n          problem: 'machineNotCacheable',\n          machineId: inputs.machineDef.id\n        });\n      }\n    }\n\n    // Loop over machine exits and ensure they are not malformed.\n    _.each(inputs.machineDef.exits||[], function (exitDef){\n\n      // Make sure all exits have an id.\n      if (!exitDef.id) {\n        errors.push({\n          message: 'Exit definition is missing an `id`',\n          details: 'Here is the exit definition: '+rttc.compile(exitDef),\n          problem: 'machineExitHasNoId',\n          machineId: inputs.machineDef.id,\n        });\n      }\n    });\n\n\n\n\n    // If configured to do so, ensure the success exit has output.\n    if (inputs.ensureSuccessOutput) {\n\n      var successExitDef = _.find(inputs.machineDef.exits||[], { id: inputs.successExitId });\n\n      // Make sure the machine def has a success exit\n      if (!successExitDef){\n        errors.push({\n          message: 'Machine definition has no success exit.',\n          problem: 'machineHasNoSuccessExit',\n          machineId: inputs.machineDef.id\n        });\n      }\n      // An exit def should never have BOTH an `outputExample` and a getExample().\n      else if (!(_.isUndefined(successExitDef.outputExample) || _.isNull(successExitDef.outputExample)) && _.isFunction(successExitDef.getExample)){\n        errors.push({\n          message: 'Machine\\'s success exit is ambiguous--it has both an `outputExample` and a `getExample()`.',\n          problem: 'machineExitHasBothExampleAndGetExample',\n          exitId: successExitDef.id,\n          machineId: inputs.machineDef.id,\n        });\n      }\n      // If that exit def has neither an `outputExample`, `like`, `itemOf`, nor `getExample`, report an error.\n      else if (\n        (_.isUndefined(successExitDef.outputExample) || _.isNull(successExitDef.outputExample)) &&\n        (_.isUndefined(successExitDef.like) || _.isNull(successExitDef.like)) &&\n        (_.isUndefined(successExitDef.itemOf) || _.isNull(successExitDef.itemOf)) &&\n        !_.isFunction(successExitDef.getExample)) {\n        errors.push({\n          message: 'Machine\\'s success exit def has neither an `outputExample`, `like`, `itemOf`, nor a `getExample` function.',\n          machineId: inputs.machineDef.id,\n          problem: 'machineExitHasNeitherExampleNorGetExample',\n          exitId: successExitDef.id,\n        });\n      }\n    }\n\n\n    // Loop over machine inputs and ensure they are not malformed.\n    _.each(inputs.machineDef.inputs||[], function (inputDef){\n\n      // Ensure `defaultsTo` and `required` are not both set\n      if (!_.isUndefined(inputDef.defaultsTo) && inputDef.required) {\n        errors.push({\n          message: 'Input definition in machine specifies BOTH `required` and `defaultsTo`-- but this is not allowed.',\n          problem: 'machineInputIsRequiredAndDefaultsTo',\n          inputId: inputDef.id,\n          machineId: inputs.machineDef.id,\n        });\n      }\n\n      // Make sure machine has a valid input example\n      if (rttc.isInvalidExample(inputDef.example)) {\n        errors.push({\n          message: 'Input definition in machine specifies an invalid example.',\n          problem: 'machineHasInvalidInputExample',\n          inputId: inputDef.id,\n          machineId: inputs.machineDef.id,\n        });\n      }\n\n      // Ensure that, if present, `defaultsTo` validates against the input example.\n      if (!_.isUndefined(inputDef.defaultsTo)) {\n        try {\n          rttc.validateStrict(rttc.infer(inputDef.example), inputDef.defaultsTo);\n        }\n        catch (e) {\n          if (e.code === 'E_INVALID') {\n            errors.push({\n              message: 'Input definition in machine specifies a `defaultsTo` which fails validation against its own `example`.',\n              problem: 'machineInputHasInvalidDefaultsTo',\n              inputId: inputDef.id,\n              machineId: inputs.machineDef.id,\n              validationErrors: _.map(e.errors, function (err){\n                return {\n                  actual: err.actual,\n                  expected: err.expected,\n                  keyName: err.keyName\n                };\n              }),\n            });\n          }\n          else {\n            errors.push({\n              problem: 'unexpected',\n              details: e.stack,\n              inputId: inputDef.id,\n              machineId: inputs.machineDef.id,\n            });\n          }\n        }\n      }\n    });\n\n\n    // We'll exit \"success\", but send back the set of errors as our result.\n    return exits.success(errors);\n\n  ",
        "environment": [],
        "extendedDescription": "Note that this expects the expanded version of a machine (i.e. `inputs` and `exits` are arrays, they have id properties, and exit examples are called \"outputExample\")",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-machines/validate",
        "docsUrl": "http://node-machine.org/machinepack-machines/validate",
        "defaultExit": null,
        "machinepack": 13,
        "id": 576,
        "createdAt": "2015-06-18T18:49:53.000Z",
        "updatedAt": "2015-07-25T20:39:28.000Z"
      }
    ],
    "identity": "machinepack-machines",
    "version": "6.3.0",
    "latestVersionPublishedAt": "2015-07-25T00:00:00.000Z",
    "variableName": "Machines",
    "friendlyName": "Machines (meta)",
    "description": "Work with machines and machinepacks.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-machines",
    "docsUrl": "http://node-machine.org/machinepack-machines",
    "npmUrl": "http://npmjs.org/package/machinepack-machines",
    "npmPackageName": "machinepack-machines",
    "githubUrl": "http://github.com/treelinehq/machinepack-machines/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-machines/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-machines",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.1"
      },
      {
        "name": "machine",
        "semverRange": "^11.0.1"
      },
      {
        "name": "rttc",
        "semverRange": "^8.1.5"
      },
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "^1.0.2"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": "@mikermcneil"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "rachaelshaw",
        "email": "rachaelshaw@treeline.io"
      }
    ],
    "id": 13,
    "createdAt": "2015-02-16T23:51:18.000Z",
    "updatedAt": "2015-07-25T20:39:28.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "send-plaintext-email",
        "variableName": "sendPlaintextEmail",
        "friendlyName": "Send plaintext email",
        "cacheable": null,
        "sync": null,
        "description": "Send a simple plaintext email.",
        "inputs": {
          "apiKey": {
            "description": "The API key of the Mailgun account to use.",
            "example": "key-3432afa32e9401482aba183c13f3",
            "required": true,
            "whereToGet": {
              "url": "https://mailgun.com/cp",
              "description": "Copy the \"API Key\" in your Mailgun dashboard.",
              "extendedDescription": "To retrieve your API key, you will first need to log in to your Mailgun account, or sign up for one if you have not already done so."
            },
            "type": "string"
          },
          "domain": {
            "description": "The Mailgun domain to use.",
            "example": "sandbox5f89931913a9ab31130131350101.mailgun.og",
            "required": true,
            "whereToGet": {
              "url": "https://mailgun.com/cp",
              "description": "Copy a domain from either \"Mailgun Subdomains\" or \"Custom Domains\" in your Mailgun dashboard.",
              "extendedDescription": "You will first need to log in to your Mailgun account, or sign up for one if you have not already done so."
            },
            "type": "string"
          },
          "toEmail": {
            "friendlyName": "To (email)",
            "example": "jane@example.com",
            "description": "Email address of the primary recipient.",
            "required": true,
            "type": "string"
          },
          "toName": {
            "friendlyName": "To (name)",
            "example": "Jane Doe",
            "description": "Full name of the primary recipient.",
            "extendedDescription": "If left blank, defaults to the recipient's email address.",
            "type": "string"
          },
          "subject": {
            "friendlyName": "Subject",
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "type": "string"
          },
          "message": {
            "friendlyName": "Message",
            "description": "The plaintext body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "friendlyName": "From (email)",
            "description": "Email address of the sender.",
            "example": "harold@example.enterprise",
            "type": "string"
          },
          "fromName": {
            "friendlyName": "From (name)",
            "description": "Full name of the sender.",
            "example": "Harold Greaseworthy",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var util = require('util');\n    var Mailgun = require('mailgun-js');\n\n    var mailgun = Mailgun({apiKey: inputs.apiKey, domain: inputs.domain});\n\n    // e.g. ['John Doe <john@example.com>']\n    var recipients = [\n      (function(){\n        if (!inputs.toName) {\n          return inputs.toEmail;\n        }\n        return util.format('%s <%s>',inputs.toName, inputs.toEmail);\n      })()\n    ];\n\n    // e.g. 'John Doe <john@example.com>'\n    var from = (function(){\n      if (!inputs.fromEmail){\n        return 'noreply@example.com';\n      }\n      if (!inputs.fromName) {\n        return inputs.fromEmail;\n      }\n      return util.format('%s <%s>',inputs.fromName, inputs.fromEmail);\n    })();\n\n    mailgun.messages().send({\n      from: from,\n      to: recipients,\n      subject: inputs.subject||'Hello world!',\n      text: inputs.message||' ',\n      // attachment: attch\n    }, function (err, body) {\n      if (err) return exits.error(err);\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mailgun/send-plaintext-email",
        "docsUrl": "http://node-machine.org/machinepack-mailgun/send-plaintext-email",
        "defaultExit": "success",
        "machinepack": 15,
        "id": 68,
        "createdAt": "2015-02-16T23:51:23.000Z",
        "updatedAt": "2015-10-28T13:59:54.000Z"
      },
      {
        "identity": "send-html-email",
        "variableName": "sendHtmlEmail",
        "friendlyName": "Send html email",
        "cacheable": null,
        "sync": null,
        "description": "Send an html email.",
        "inputs": {
          "apiKey": {
            "description": "The API key of the Mailgun account to use.",
            "example": "key-3432afa32e9401482aba183c13f3",
            "required": true,
            "whereToGet": {
              "url": "https://mailgun.com/cp",
              "description": "Copy the \"API Key\" in your Mailgun dashboard.",
              "extendedDescription": "To retrieve your API key, you will first need to log in to your Mailgun account, or sign up for one if you have not already done so."
            },
            "type": "string"
          },
          "domain": {
            "description": "The Mailgun domain to use.",
            "example": "sandbox5f89931913a9ab31130131350101.mailgun.og",
            "required": true,
            "whereToGet": {
              "url": "https://mailgun.com/cp",
              "description": "Copy a domain from either \"Mailgun Subdomains\" or \"Custom Domains\" in your Mailgun dashboard.",
              "extendedDescription": "You will first need to log in to your Mailgun account, or sign up for one if you have not already done so."
            },
            "type": "string"
          },
          "toEmail": {
            "example": "jane@example.com",
            "description": "Email address of the primary recipient.",
            "required": true,
            "type": "string"
          },
          "toName": {
            "example": "Jane Doe",
            "description": "Full name of the primary recipient.",
            "extendedDescription": "If left blank, defaults to the recipient's email address.",
            "type": "string"
          },
          "subject": {
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "type": "string"
          },
          "textMessage": {
            "description": "The plaintext body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "htmlMessage": {
            "description": "The html body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "description": "Email address of the sender.",
            "example": "harold@example.enterprise",
            "type": "string"
          },
          "fromName": {
            "description": "Full name of the sender.",
            "example": "Harold Greaseworthy",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var util = require('util');\n    var Mailgun = require('mailgun-js');\n    var mailcomposer = require('mailcomposer');\n\n    var mailgun = Mailgun({apiKey: inputs.apiKey, domain: inputs.domain});\n\n    // e.g. ['John Doe <john@example.com>']\n    var recipients = [\n      (function(){\n        if (!inputs.toName) {\n          return inputs.toEmail;\n        }\n        return util.format('%s <%s>',inputs.toName, inputs.toEmail);\n      })()\n    ];\n\n    // e.g. 'John Doe <john@example.com>'\n    var from = (function(){\n      if (!inputs.fromEmail){\n        return 'noreply@example.com';\n      }\n      if (!inputs.fromName) {\n        return inputs.fromEmail;\n      }\n      return util.format('%s <%s>',inputs.fromName, inputs.fromEmail);\n    })();\n\n    var to = '';\n    recipients.forEach(function(recipient) {\n      to += recipient + ',';\n    });\n\n    // Strip off last comma\n    to = to.slice(0, - 1);\n\n    var mail = mailcomposer({\n      from: from,\n      to: to,\n      subject: inputs.subject || 'Hello',\n      body: inputs.textMessage || '',\n      html: inputs.htmlMessage || ''\n    });\n\n    mail.build(function(mailBuildError, message) {\n\n      var dataToSend = {\n        to: to,\n        message: message.toString('ascii')\n      };\n\n      mailgun.messages().sendMime(dataToSend, function (err, body) {\n        if (err) return exits.error(err);\n        return exits.success();\n      });\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mailgun/send-html-email",
        "docsUrl": "http://node-machine.org/machinepack-mailgun/send-html-email",
        "defaultExit": "success",
        "machinepack": 15,
        "id": 143,
        "createdAt": "2015-02-21T02:39:36.000Z",
        "updatedAt": "2015-10-28T13:59:54.000Z"
      }
    ],
    "identity": "machinepack-mailgun",
    "version": "0.6.0",
    "latestVersionPublishedAt": "2016-08-23T00:00:00.000Z",
    "variableName": "Mailgun",
    "friendlyName": "Mailgun",
    "description": "Machines for the Mailgun API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-mailgun",
    "docsUrl": "http://node-machine.org/machinepack-mailgun",
    "npmUrl": "http://npmjs.org/package/machinepack-mailgun",
    "npmPackageName": "machinepack-mailgun",
    "githubUrl": "http://github.com/mikermcneil/machinepack-mailgun/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-mailgun/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-mailgun",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^12.3.0"
      },
      {
        "name": "mailcomposer",
        "semverRange": "^2.1.0"
      },
      {
        "name": "mailgun-js",
        "semverRange": "^0.7.2"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": "mikermcneil"
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 15,
    "createdAt": "2015-02-16T23:51:22.000Z",
    "updatedAt": "2016-08-23T07:49:49.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "send-plaintext-email",
        "variableName": "sendPlaintextEmail",
        "friendlyName": "Send email (plaintext)",
        "cacheable": false,
        "sync": null,
        "description": "Send a plaintext email to the specified recipient.",
        "inputs": {
          "apiKey": {
            "friendlyName": "Mandrill API Key",
            "example": "1dTOFDXzJdU5cXiMNd6jRq",
            "description": "A valid Mandrill API key.",
            "extendedDescription": "To look up your API key, log in to your Mandrill account and visit the settings page (https://mandrillapp.com/settings/).",
            "required": true,
            "type": "string"
          },
          "toEmail": {
            "friendlyName": "To (email)",
            "example": "jane@example.com",
            "description": "Email address of the primary recipient.",
            "required": true,
            "type": "string"
          },
          "toName": {
            "friendlyName": "To (name)",
            "example": "Jane Doe",
            "description": "Full name of the primary recipient.",
            "extendedDescription": "If left blank, defaults to the recipient's email address.",
            "type": "string"
          },
          "subject": {
            "friendlyName": "Subject",
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "type": "string"
          },
          "message": {
            "friendlyName": "Message",
            "description": "The plaintext body of the email.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "friendlyName": "From (email)",
            "description": "Email address of the sender.",
            "example": "harold@example.enterprise",
            "type": "string"
          },
          "fromName": {
            "friendlyName": "From (name)",
            "description": "Full name of the sender.",
            "example": "Harold Greaseworthy",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "void": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var request = require('request');\n\n    // Base url for API requests.\n    var BASE_URL = 'https://mandrillapp.com/api/1.0';\n\n    request.post({\n      url: BASE_URL + '/messages/send.json',\n\n      // See https://mandrillapp.com/api/docs/messages.JSON.html for complete reference\n      form: {\n        key: inputs.apiKey,\n        message: {\n          to: [{\n            email: inputs.toEmail,\n            name: inputs.toName || inputs.toEmail\n          }],\n          text: inputs.message || '',\n          html: '',\n          subject: inputs.subject,\n          from_email: inputs.fromEmail,\n          from_name: inputs.fromName,\n          auto_html: true\n        }\n      },\n      json: true\n    }, function(err, response, httpBody) {\n      if (err) {\n        return exits.error(err);\n      } else if (response.statusCode >= 300 || response.statusCode < 200) {\n        return exits.error(httpBody);\n      } else if (typeof httpBody !== 'object' || httpBody.status === 'error') {\n        return exits.error(httpBody);\n      } else {\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/send-plaintext-email",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/send-plaintext-email",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 74,
        "createdAt": "2015-02-16T23:51:28.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      },
      {
        "identity": "add-template",
        "variableName": "addTemplate",
        "friendlyName": "Add template",
        "cacheable": false,
        "sync": null,
        "description": "Add a new email template to a Mandrill account.",
        "inputs": {
          "apiKey": {
            "example": "1dTOFDXzJdU5cXiMNd6jRq",
            "description": "A valid Mandrill API key.",
            "required": true,
            "type": "string"
          },
          "name": {
            "example": "reset-your-password",
            "description": "Name for the new template (must be unique to the account).",
            "required": true,
            "type": "string"
          },
          "from_email": {
            "description": "A default sending address for emails sent using this template.",
            "example": "harold@foo.enterprise",
            "type": "string"
          },
          "from_name": {
            "description": "A default from name to be used for emails sent using this template.",
            "example": "Harold Greaseworthy",
            "type": "string"
          },
          "subject": {
            "description": "A default subject line to be used for emails sent using this template.",
            "example": "Click the link in this email to reset your password",
            "type": "string"
          },
          "code": {
            "description": "The HTML code for the template with mc:edit attributes for the editable elements.",
            "example": "<div>Click <a href=\"*|RESET_LINK|*\">here</a> to reset your password.</div>",
            "type": "string"
          },
          "text": {
            "description": "A default text part to be used when sending with this template.",
            "example": "Click on the following link to reset your password: \n *|RESET_LINK|*",
            "type": "string"
          },
          "publish": {
            "description": "Set to false to add a draft template without publishing (defaults to true).",
            "example": true,
            "type": "boolean"
          },
          "labels": {
            "description": "An optional array of up to 10 labels to use for filtering templates.",
            "example": [
              "password"
            ],
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "example": {
              "name": "machinepack-mandrill-test",
              "code": "<div>Click <a href=\"*|RESET_LINK|*\">here</a> to reset your password.</div>",
              "publish_code": null,
              "created_at": "2014-05-28 21:59:49.70010",
              "updated_at": "2014-05-28 21:59:49.70012",
              "slug": "machinepack-mandrill-test",
              "publish_name": "machinepack-mandrill-test",
              "labels": [],
              "text": "Click on the following link to reset your password: \n *|RESET_LINK|*",
              "publish_text": null,
              "subject": null,
              "publish_subject": null,
              "from_email": null,
              "publish_from_email": null,
              "from_name": null
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "example": {
              "status": "error",
              "code": 6,
              "name": "Invalid_Template",
              "message": "A template with name \"machinepack-mandrill-test\" already exists"
            },
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var request = require('request');\n\n    // Base url for API requests.\n    var BASE_URL = 'https://mandrillapp.com/api/1.0';\n\n    request.post({\n      url: BASE_URL + '/templates/add.json',\n      form: {\n        key: inputs.apiKey,\n        name: inputs.name,\n        from_email: inputs.from_email,\n        from_name: inputs.from_name,\n        subject: inputs.subject,\n        code: inputs.code || undefined,\n        text: inputs.text || undefined,\n        publish: inputs.publish,\n        labels: inputs.labels\n      },\n      json: true\n    }, function(err, response, httpBody) {\n      if (err) {\n        return exits(err);\n      } else if (response.statusCode >= 300 || response.statusCode < 200) {\n        return exits.error(httpBody);\n      } else if (typeof httpBody !== 'object' || httpBody.status === 'error') {\n        return exits.error(httpBody);\n      } else {\n        return exits.success(httpBody);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/add-template",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/add-template",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 75,
        "createdAt": "2015-02-16T23:51:28.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      },
      {
        "identity": "delete-all-templates",
        "variableName": "deleteAllTemplates",
        "friendlyName": "Delete all templates",
        "cacheable": false,
        "sync": null,
        "description": "Delete all mandrill templates from an account.",
        "inputs": {
          "apiKey": {
            "description": "A valid Mandrill API key.",
            "example": "tzTDP_JZlGoqFw3Rvy1bpw",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": {
              "message": ""
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "example": {
              "status": "error",
              "name": "Mandrill API Error",
              "code": "E_MANDRILL_API"
            },
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Machine = require('machine');\n    var async = require('async');\n\n    Machine.require('./list-templates')\n    .configure({\n      apiKey: inputs.apiKey\n    })\n    .exec({\n      error: exits.error,\n      success: function (templates) {\n        async.each(templates, function (template, next) {\n          Machine\n          .require('./delete-template')\n          .configure({\n            apiKey: inputs.apiKey,\n            name: template.name\n          })\n          .exec({\n            error: next,\n            success: function (deletedTemplate) {\n              next();\n            }\n          });\n        }, exits);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/delete-all-templates",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/delete-all-templates",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 76,
        "createdAt": "2015-02-16T23:51:28.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      },
      {
        "identity": "migrate-templates",
        "variableName": "migrateTemplates",
        "friendlyName": "Migrate templates",
        "cacheable": false,
        "sync": null,
        "description": "Get all mandrill templates from one account and add them to another.",
        "inputs": {
          "srcApiKey": {
            "description": "A valid Mandrill API key to copy templates from.",
            "example": "1dTGOXT_JZlGoqRw3Qvy1bpz",
            "required": true,
            "type": "string"
          },
          "destApiKey": {
            "description": "A valid Mandrill API key to copy templates to.",
            "example": "tzTDP_JZlGoqFw3Rvy1bpw",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": {
              "message": ""
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "example": {
              "name": "Mandrill API Error",
              "message": "Oops it didnt work",
              "code": "E_MANDRILL_API"
            },
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Machine = require('machine');\n    var async = require('async');\n\n    Machine.build(require('./list-templates'))\n    .configure({\n      apiKey: inputs.srcApiKey\n    })\n    .exec({\n      error: exits.error,\n      success: function (templates) {\n\n        async.each(templates, function (template, next) {\n\n          // Add api key\n          template.apiKey = inputs.destApiKey;\n\n          Machine\n          .build(require('./add-template'))\n          .configure(template)\n          .exec({\n            error: next,\n            success: function (newTemplate) {\n              next();\n            }\n          });\n        }, exits);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/migrate-templates",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/migrate-templates",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 77,
        "createdAt": "2015-02-16T23:51:28.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      },
      {
        "identity": "list-templates",
        "variableName": "listTemplates",
        "friendlyName": "List templates",
        "cacheable": true,
        "sync": null,
        "description": "List all templates available to a user",
        "inputs": {
          "apiKey": {
            "description": "A valid Mandrill API key.",
            "example": "1dTOFDXzJdU5cXiMNd6jRq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": [
              {
                "slug": "machinepack-mandrill-test",
                "name": "machinepack-mandrill-test",
                "code": "<div>Click <a href=\"*|RESET_LINK|*\">here</a> to reset your password.</div>",
                "publish_code": "",
                "created_at": "2014-05-28 21:59:49.7001",
                "updated_at": "2014-05-28 21:59:49.70012",
                "publish_name": "machinepack-mandrill-test",
                "labels": [],
                "text": "Click on the following link to reset your password: \n *|RESET_LINK|*",
                "publish_text": "",
                "subject": "",
                "publish_subject": "",
                "from_email": "",
                "publish_from_email": "",
                "from_name": "",
                "publish_from_name": ""
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "example": "===",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "string"
          }
        },
        "fn": "\n    var request = require('request');\n\n    // Base url for API requests.\n    var BASE_URL = 'https://mandrillapp.com/api/1.0';\n\n    request.post({\n      url: BASE_URL + '/templates/list.json',\n      form: {\n        key: inputs.apiKey\n      },\n      json: true\n    }, function(err, response, httpBody) {\n      if (err) {\n        return exits(err);\n      }\n      else if (response.statusCode >= 300||response.statusCode <200) {\n        return exits.error(httpBody);\n      }\n      else if (typeof httpBody !== 'object' || httpBody.status==='error') {\n        return exits.error(httpBody);\n      }\n      else {\n        return exits.success(httpBody);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "This machine returns _all_ templates- there is no pagination.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/list-templates",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/list-templates",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 78,
        "createdAt": "2015-02-16T23:51:28.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      },
      {
        "identity": "delete-template",
        "variableName": "deleteTemplate",
        "friendlyName": "Delete a template",
        "cacheable": false,
        "sync": null,
        "description": "Delete a mandrill template.",
        "inputs": {
          "apiKey": {
            "description": "A valid Mandrill API key.",
            "example": "1dTOFDXzJdU5cXiMNd6jRq",
            "required": true,
            "type": "string"
          },
          "name": {
            "description": "The name of an existing template to delete.",
            "example": "example-template",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": {
              "slug": "example-template",
              "name": "Example Template",
              "labels": [
                "example-label"
              ],
              "code": "<div mc:edit=\"editable\">editable content</div>",
              "subject": "example subject",
              "from_email": "from.email@example.com",
              "from_name": "Example Name",
              "text": "Example text",
              "publish_name": "Example Template",
              "publish_code": "<div mc:edit=\"editable\">different than draft content</div>",
              "publish_subject": "example publish_subject",
              "publish_from_email": "from.email.published@example.com",
              "publish_from_name": "Example Published Name",
              "publish_text": "Example published text",
              "published_at": "2013-01-01 15:30:40",
              "created_at": "2013-01-01 15:30:27",
              "updated_at": "2013-01-01 15:30:49"
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "example": {
              "name": "Mandrill API Error",
              "message": "Oops it didnt work",
              "code": "E_MANDRILL_API"
            },
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "object"
          },
          "notFound": {
            "example": {
              "status": "error",
              "code": 5,
              "name": "Unknown_Template",
              "message": "No such template \"machinepack-mandrill-test\""
            },
            "type": "object"
          }
        },
        "fn": "\n    var request = require('request');\n\n    // Base url for API requests.\n    var BASE_URL = 'https://mandrillapp.com/api/1.0';\n\n    request.post({\n      url: BASE_URL + '/templates/delete.json',\n      form: {\n        key: inputs.apiKey,\n        name: inputs.name\n      },\n      json: true\n    }, function(err, response, httpBody) {\n      if (err) {\n        return exits(err);\n      } else if (response.statusCode >= 300 || response.statusCode < 200) {\n        return exits.error(httpBody);\n      } else if (typeof httpBody !== 'object' || httpBody.status === 'error') {\n        switch (httpBody.name) {\n          case 'Unknown_Template':\n            return exits.notFound(httpBody);\n          default:\n            return exits.error(httpBody);\n        }\n      } else {\n        return exits.success(httpBody);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/delete-template",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/delete-template",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 79,
        "createdAt": "2015-02-16T23:51:28.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      },
      {
        "identity": "send-template-email",
        "variableName": "sendTemplateEmail",
        "friendlyName": "Send email (template)",
        "cacheable": false,
        "sync": null,
        "description": "Send a templated email to the specified recipient.",
        "inputs": {
          "apiKey": {
            "friendlyName": "Mandrill API Key",
            "example": "1dTOFDXzJdU5cXiMNd6jRq",
            "description": "A valid Mandrill API key.",
            "extendedDescription": "To look up your API key, log in to your Mandrill account and visit the settings page (https://mandrillapp.com/settings/).",
            "required": true,
            "type": "string"
          },
          "toEmail": {
            "friendlyName": "To (email)",
            "example": "jane@example.com",
            "description": "Email address of the primary recipient.",
            "required": true,
            "type": "string"
          },
          "toName": {
            "friendlyName": "To (name)",
            "example": "Jane Doe",
            "description": "Full name of the primary recipient.",
            "extendedDescription": "If left blank, defaults to the recipient's email address.",
            "type": "string"
          },
          "subject": {
            "friendlyName": "Subject",
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "type": "string"
          },
          "templateName": {
            "friendlyName": "Template",
            "description": "The template's name",
            "example": "myTemplate",
            "required": true,
            "type": "string"
          },
          "templateContent": {
            "friendlyName": "Data",
            "description": "An array of data you want to inject into the template.",
            "example": [
              {
                "name": "of attribute",
                "content": "of attribute"
              }
            ],
            "type": "array"
          },
          "message": {
            "friendlyName": "Message",
            "description": "Optional full text content to be sent",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "friendlyName": "From (email)",
            "description": "Email address of the sender.",
            "example": "harold@example.enterprise",
            "type": "string"
          },
          "fromName": {
            "friendlyName": "From (name)",
            "description": "Full name of the sender.",
            "example": "Harold Greaseworthy",
            "type": "string"
          },
          "mergeVars": {
            "friendlyName": "Merge Tags",
            "description": "Content to be placed within template merge tags.",
            "example": [
              {
                "name": "FNAME",
                "content": "First Name"
              }
            ],
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "void": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var request = require('request');\n\n    // Base url for API requests.\n    var BASE_URL = 'https://mandrillapp.com/api/1.0';\n\n    request.post({\n      url: BASE_URL + '/messages/send-template.json',\n\n      // See https://mandrillapp.com/api/docs/messages.JSON.html#method=send-template for complete reference\n      form: {\n        key: inputs.apiKey,\n        template_name: inputs.templateName,\n        template_content: inputs.templateContent,\n        message: {\n          to: [{\n            email: inputs.toEmail,\n            name: inputs.toName || inputs.toEmail\n          }],\n          text: inputs.message || '',\n          subject: inputs.subject,\n          from_email: inputs.fromEmail,\n          from_name: inputs.fromName,\n          merge_vars: [{\n            rcpt: inputs.toEmail,\n            vars: inputs.mergeVars\n          }],\n          auto_html: true\n        }\n      },\n      json: true\n    }, function(err, response, httpBody) {\n      if (err) {\n        return exits.error(err);\n      } else if (response.statusCode >= 300 || response.statusCode < 200) {\n        return exits.error(httpBody);\n      } else if (typeof httpBody !== 'object' || httpBody.status === 'error') {\n        return exits.error(httpBody);\n      } else {\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill/send-template-email",
        "docsUrl": "http://node-machine.org/machinepack-mandrill/send-template-email",
        "defaultExit": "success",
        "machinepack": 18,
        "id": 324,
        "createdAt": "2015-04-08T19:59:44.000Z",
        "updatedAt": "2016-01-06T19:29:38.000Z"
      }
    ],
    "identity": "machinepack-mandrill",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2016-01-06T00:00:00.000Z",
    "variableName": "Mandrill",
    "friendlyName": "Mandrill",
    "description": "Machines for talking to the Mandrill API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-mandrill",
    "docsUrl": "http://node-machine.org/machinepack-mandrill",
    "npmUrl": "http://npmjs.org/package/machinepack-mandrill",
    "npmPackageName": "machinepack-mandrill",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "~0.9.0"
      },
      {
        "name": "machine",
        "semverRange": "^11.0.0"
      },
      {
        "name": "request",
        "semverRange": "~2.36.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 18,
    "createdAt": "2015-02-16T23:51:28.000Z",
    "updatedAt": "2016-01-06T19:29:39.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "compile-to-html-file-from-md-file",
        "variableName": "compileToHtmlFileFromMdFile",
        "friendlyName": "Compile to HTML file from MD file",
        "cacheable": null,
        "sync": null,
        "description": "Load a markdown file from disk, compile to HTML, then save it back to disk.",
        "inputs": {
          "src": {
            "description": "Path (relative or absolute) to the Markdown file to convert.",
            "example": ".tmp/compile-markdown-tree/some/markdown/file.md",
            "required": true,
            "type": "string"
          },
          "dest": {
            "description": "Path (relative or absolute) to the HTML file to create.",
            "example": ".tmp/public/templates/documentation/reference",
            "required": true,
            "type": "string"
          },
          "escapeHtml": {
            "description": "If enabled, any inline HTML in the source Markdown will be escaped instead of injected literally in the HTML output.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "compileCodeBlock": {
            "description": "An optional lifecycle callback useful for adding syntax highlighting to code blocks, or to perform custom HTML-escaping on them.",
            "extendedDescription": "This callback is called once for each code block in the source Markdown, and expected to return compiled HTML.",
            "example": "->",
            "contract": {
              "sideEffects": "cacheable",
              "inputs": {
                "codeBlockContents": {
                  "description": "The raw (unescaped) contents of the code block.",
                  "example": "\nconsole.log(\"hello\");\n"
                },
                "programmingLanguage": {
                  "description": "The programming language of the code block.",
                  "extendedDescription": "Be warned that this is not normalized. In other words, if one code block in the source Markdown indicates `js`, and another indicates `javascript`, then this function will be called with `js` for the first one, and with `javascript` for the second.",
                  "example": "javascript"
                }
              },
              "exits": {
                "success": {
                  "outputDescription": "The compiled, _escaped_ HTML representing the contents of the code block.",
                  "extendedDescription": "The compiled HTML output returned here will be wrapped in `<pre>` and `<code>` tags automatically.",
                  "example": "console.<span class=\"function call\">log</span>(<span class=\"string\">'hello'</span>);"
                }
              }
            },
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Parsed metadata",
            "outputDescription": "The metadata parsed from <docmeta> tags in the source markdown.",
            "extendedDescription": "The `name` is the key (left-hand side) and the `value` is the value (right-hand side).  The values are always strings.",
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "couldNotRead": {
            "description": "Could not read source file from disk."
          },
          "couldNotWrite": {
            "description": "Could not write file back to disk."
          },
          "couldNotCompile": {
            "description": "Could not compile markdown to HTML."
          },
          "couldNotParse": {
            "description": "Could not parse \"docmeta\" tags."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var async = require('async');\n    var Filesystem = require('machinepack-fs');\n    var Markdown = require('../');\n\n\n    Filesystem.read({ source: inputs.src }).exec(function (err, mdString) {\n      if (err) { return exits.couldNotRead(err); }\n\n      async.auto({\n\n        htmlString: function (next) {\n          Markdown.compileToHtml({\n            mdString: mdString,\n            escapeHtml: inputs.escapeHtml,\n            compileCodeBlock: inputs.compileCodeBlock\n          }).exec(function (err, htmlString) {\n            if (err) { return next({ output: err, exit: 'couldNotCompile' }); }\n            else { return next(undefined, htmlString); }\n          });\n        },//</async.auto::htmlString>\n\n        metadata: function (next) {\n          Markdown.parseDocmetaTags({\n            mdString: mdString\n          }).exec(function (err, metadata) {\n            if (err) { return next({ output: err, exit: 'couldNotParse' }); }\n            else { return next(undefined, metadata); }\n          });\n        }//</async.auto::metadata>\n\n      }, function afterwards (err, asyncAutoResults) {\n        if (err && err.exit==='couldNotCompile') { return exits.couldNotCompile(err.output); }\n        else if (err && err.exit==='couldNotParse') { return exits.couldNotParse(err.output); }\n        else if (err) { return exits.error(err); }\n\n        Filesystem.write({\n          destination: inputs.dest,\n          string: asyncAutoResults.htmlString,\n          force: true\n        }).exec(function(err) {\n          if (err) { return exits.couldNotWrite(err); }\n          return exits.success(asyncAutoResults.metadata);\n        });//</Filesystem.write()>\n      });//</afterwards from async.auto()>\n    });//</Filesystem.readFile()>\n  ",
        "environment": [],
        "extendedDescription": "Expects GitHub-flavored Markdown syntax.  Uses [`marked`](https://github.com/chjj/marked). Specifically, here's how this method works:\n\n Steps:\n ======\n\n + stream bytes from disk\n\n + when all bytes are in RAM, convert the source markdown to HTML\n\n + send the bytes of the (possibly now-transformed) HTML to the path on\n   disk specified by `dest.html` as a write stream.  When the stream\n   finishes, call the async callback to signal that this markdown file\n   has been compiled to HTML and written to disk successfully.\n\n",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-markdown/compile-to-html-file-from-md-file",
        "docsUrl": "http://node-machine.org/machinepack-markdown/compile-to-html-file-from-md-file",
        "defaultExit": "success",
        "machinepack": 17,
        "id": 71,
        "createdAt": "2015-02-16T23:51:26.000Z",
        "updatedAt": "2016-04-24T20:59:54.000Z"
      },
      {
        "identity": "parse-docmeta-tags",
        "variableName": "parseDocmetaTags",
        "friendlyName": "Parse <docmeta> tags",
        "cacheable": true,
        "sync": true,
        "description": "Parse data encoded via <docmeta> tags in a Markdown string.",
        "inputs": {
          "mdString": {
            "description": "Markdown string to parse",
            "example": "# hello world\n it's me, <docmeta name=\"foo\" value=\"bar\"/> \n some string \n\n",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Parsed metadata",
            "outputDescription": "The metadata parsed from <docmeta> tags in the source markdown.",
            "extendedDescription": "The `name` is the key (left-hand side) and the `value` is the value (right-hand side).  The values are always strings.",
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var reduce = require('lodash.reduce');\n\n    var metadata = reduce(inputs.mdString.match(/<docmeta[^>]*>/igm)||[], function (memo, tag) {\n      var name = tag.match(/name=\"([^\">]+)\"/i)[1];\n      var value = tag.match(/value=\"([^\">]+)\"/i)[1];\n      memo[name] = value;\n      return memo;\n    }, {});\n\n    return exits.success(metadata);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-markdown/parse-docmeta-tags",
        "docsUrl": "http://node-machine.org/machinepack-markdown/parse-docmeta-tags",
        "defaultExit": "success",
        "machinepack": 17,
        "id": 72,
        "createdAt": "2015-02-16T23:51:26.000Z",
        "updatedAt": "2016-04-24T20:59:54.000Z"
      },
      {
        "identity": "compile-to-html",
        "variableName": "compileToHtml",
        "friendlyName": "Compile to HTML",
        "cacheable": true,
        "sync": null,
        "description": "Compile a Markdown string into an HTML string.",
        "inputs": {
          "mdString": {
            "description": "Markdown string to convert",
            "example": "# hello world\n it's me, some markdown string \n\n ```js\n//but maybe i have code snippets too...\n```",
            "required": true,
            "type": "string"
          },
          "escapeHtml": {
            "description": "If enabled, any inline HTML in the source Markdown will be escaped instead of injected literally in the HTML output.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "compileCodeBlock": {
            "description": "An optional lifecycle callback useful for adding syntax highlighting to code blocks, or to perform custom HTML-escaping on them.",
            "extendedDescription": "This callback is called once for each code block in the source Markdown, and expected to return compiled HTML.",
            "example": "->",
            "contract": {
              "sideEffects": "cacheable",
              "inputs": {
                "codeBlockContents": {
                  "description": "The raw (unescaped) contents of the code block.",
                  "example": "\nconsole.log(\"hello\");\n"
                },
                "programmingLanguage": {
                  "description": "The programming language of the code block.",
                  "extendedDescription": "Be warned that this is not normalized. In other words, if one code block in the source Markdown indicates `js`, and another indicates `javascript`, then this function will be called with `js` for the first one, and with `javascript` for the second.",
                  "example": "javascript"
                }
              },
              "exits": {
                "success": {
                  "outputDescription": "The compiled, _escaped_ HTML representing the contents of the code block.",
                  "extendedDescription": "The compiled HTML output returned here will be wrapped in `<pre>` and `<code>` tags automatically.",
                  "example": "console.<span class=\"function call\">log</span>(<span class=\"string\">'hello'</span>);"
                }
              }
            },
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "HTML",
            "example": "<h1 id=\"hello-world\">hello world</h1>\n<p> it&#39;s me, some markdown string </p>\n<pre><code class=\"lang-js\">//but maybe i have code snippets too...</code></pre>\n",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var marked = require('marked');\n\n    // For full list of options, see:\n    //  â¢Â https://github.com/chjj/marked\n    var markedOpts = {\n      sanitize: inputs.escapeHtml,\n      gfm: true,\n      tables: true,\n      breaks: false,\n      pedantic: false,\n      smartLists: true,\n      smartypants: false,\n    };\n\n    // If `compileCodeBlock` lifecycle callback was provided, attach the `highlight` option.\n    if (inputs.compileCodeBlock) {\n      /**\n       * A lifecycle callback provided by `marked` to perform syntax highlighting on code blocks.\n       *\n       * Here's where marked actually makes the call:\n       *  â¢ https://github.com/chjj/marked/blob/v0.3.5/lib/marked.js#L766\n       *\n       * @param  {String}   code [the section of code to pass to the highlighter]\n       * @param  {String}   lang [the programming language specified in the code block; e.g. 'javascript']\n       * @param  {Function} next\n       */\n      markedOpts.highlight = function (code, lang, next) {\n        inputs.compileCodeBlock({\n          codeBlockContents: code,\n          programmingLanguage: lang\n        }).exec(next);\n      };\n    }\n\n    // Now actually compile the markdown to HTML.\n    marked(inputs.mdString, markedOpts, function afterwards (err, htmlString) {\n      if (err) { return exits.error(err); }\n      return exits.success(htmlString);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Expects GitHub-flavored Markdown syntax.  Uses [`marked`](https://github.com/chjj/marked).",
        "moreInfoUrl": "https://help.github.com/articles/basic-writing-and-formatting-syntax/",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-markdown/compile-to-html",
        "docsUrl": "http://node-machine.org/machinepack-markdown/compile-to-html",
        "defaultExit": "success",
        "machinepack": 17,
        "id": 73,
        "createdAt": "2015-02-16T23:51:26.000Z",
        "updatedAt": "2016-04-24T20:59:54.000Z"
      }
    ],
    "identity": "machinepack-markdown",
    "version": "2.0.0",
    "latestVersionPublishedAt": "2016-04-24T00:00:00.000Z",
    "variableName": "Markdown",
    "friendlyName": "Markdown",
    "description": "Work with Markdown-formatted text (convert to HTML, etc.)",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-markdown",
    "docsUrl": "http://node-machine.org/machinepack-markdown",
    "npmUrl": "http://npmjs.org/package/machinepack-markdown",
    "npmPackageName": "machinepack-markdown",
    "githubUrl": "http://github.com/mikermcneil/machinepack-markdown/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-markdown/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-markdown",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "1.5.2"
      },
      {
        "name": "lodash.reduce",
        "semverRange": "4.3.0"
      },
      {
        "name": "machine",
        "semverRange": "^12.2.1"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^8.0.2"
      },
      {
        "name": "marked",
        "semverRange": "0.3.5"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 17,
    "createdAt": "2015-02-16T23:51:26.000Z",
    "updatedAt": "2016-04-24T20:59:54.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "add",
        "variableName": "add",
        "friendlyName": "Add (+)",
        "cacheable": true,
        "sync": true,
        "description": "Add two numbers together and return the sum.",
        "inputs": {
          "a": {
            "friendlyName": "Augend (first number)",
            "description": "The first number.",
            "example": 2,
            "required": true,
            "type": "number"
          },
          "b": {
            "friendlyName": "Addend (second number)",
            "description": "The second number.",
            "example": 2.2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "variableName": "sum",
            "example": 4.2,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.a + inputs.b);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/add",
        "docsUrl": "http://node-machine.org/machinepack-math/add",
        "defaultExit": null,
        "machinepack": 109,
        "id": 437,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "divide",
        "variableName": "divide",
        "friendlyName": "Divide (Ã·)",
        "cacheable": true,
        "sync": true,
        "description": "Divide one number by another and return the quotient.",
        "inputs": {
          "a": {
            "friendlyName": "Numerator (first number)",
            "description": "The number to divide (aka \"dividend\")",
            "example": 5,
            "required": true,
            "type": "number"
          },
          "b": {
            "friendlyName": "Denominator (second number)",
            "description": "The number to divide by (aka \"divisor\")",
            "example": -2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "invalidDenominator": {
            "friendlyName": "invalid denominator",
            "description": "The denominator was provided as 0, but computers haven't learned how to divide by zero (yet)."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "variableName": "quotient",
            "example": -2.5,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    if (inputs.b === 0) {\n      return exits.invalidDenominator();\n    }\n    return exits.success(inputs.a / inputs.b);\n  ",
        "environment": [],
        "extendedDescription": "Note that this is **not** integer division-- e.g. `5/2` will result in `2.5`, not `2`.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/divide",
        "docsUrl": "http://node-machine.org/machinepack-math/divide",
        "defaultExit": null,
        "machinepack": 109,
        "id": 438,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "subtract",
        "variableName": "subtract",
        "friendlyName": "Subtract (-)",
        "cacheable": true,
        "sync": true,
        "description": "Subtract one number from another and return the difference.",
        "inputs": {
          "a": {
            "friendlyName": "Minuend (first number)",
            "description": "The number to subtract from.",
            "example": -20,
            "required": true,
            "type": "number"
          },
          "b": {
            "friendlyName": "Subtrahend (second number)",
            "description": "The number to subtract.",
            "example": 2.2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "variableName": "difference",
            "example": -22.2,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.a - inputs.b);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/subtract",
        "docsUrl": "http://node-machine.org/machinepack-math/subtract",
        "defaultExit": null,
        "machinepack": 109,
        "id": 439,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "multiply",
        "variableName": "multiply",
        "friendlyName": "Multiply (â)",
        "cacheable": true,
        "sync": true,
        "description": "Multiply two numbers and return the product.",
        "inputs": {
          "a": {
            "friendlyName": "Multiplicand (first number)",
            "description": "The first number.",
            "example": 2,
            "required": true,
            "type": "number"
          },
          "b": {
            "friendlyName": "Multiplier (second number)",
            "description": "The second number.",
            "example": -10,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "variableName": "product",
            "example": -20,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.a*inputs.b);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/multiply",
        "docsUrl": "http://node-machine.org/machinepack-math/multiply",
        "defaultExit": null,
        "machinepack": 109,
        "id": 440,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "parse",
        "variableName": "parse",
        "friendlyName": "Parse number",
        "cacheable": true,
        "sync": true,
        "description": "Convert the specified string to its numeric equivalent.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "description": "The string to parse.",
            "example": "5",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notANumber": {
            "description": "The provided string cannot be converted into a number."
          },
          "success": {
            "description": "OK.",
            "example": 5,
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    if (_.isNaN(+inputs.string)) {\n      return exits.notANumber();\n    }\n    return exits.success(inputs.string);\n  ",
        "environment": [],
        "extendedDescription": "For example, \"5\" is converted to 5, \"10.5\" is converted to 10.5, and \"-100.429\" is converted to -100.429.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/parse",
        "docsUrl": "http://node-machine.org/machinepack-math/parse",
        "defaultExit": null,
        "machinepack": 109,
        "id": 441,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "random",
        "variableName": "random",
        "friendlyName": "Generate random number",
        "cacheable": null,
        "sync": true,
        "description": "Generate a random number within the specified range.",
        "inputs": {
          "min": {
            "friendlyName": "At least (>=)",
            "example": 1,
            "description": "The minimum acceptable number to generate",
            "defaultsTo": 0,
            "type": "number"
          },
          "max": {
            "friendlyName": "No greater than (<=)",
            "example": 1,
            "description": "The maximum acceptable number to generate",
            "defaultsTo": 1,
            "type": "number"
          },
          "floating": {
            "friendlyName": "Floating point?",
            "description": "Whether or not the generated number should be a floating point number (decimal).",
            "defaultsTo": false,
            "example": true,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "example": 1,
            "variableName": "randomNum",
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    // If `inputs.floating` is false, ensure that the `start` and `end`\n    // inputs are rounded down to whole numbers to avoid inadvertently\n    // enabling floating-point results. (because by default, _.random()\n    // will understand floating-point `min` or `max`, indicating a license\n    // to make the result floating-point, which we've decided to make more\n    // explicit here.)\n    if (!inputs.floating) {\n      inputs.min = Math.floor(inputs.min);\n      inputs.max = Math.floor(inputs.max);\n    }\n\n    var result = _.random(inputs.min, inputs.max, inputs.floating);\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/random",
        "docsUrl": "http://node-machine.org/machinepack-math/random",
        "defaultExit": null,
        "machinepack": 109,
        "id": 442,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "e",
        "variableName": "e",
        "friendlyName": "E",
        "cacheable": true,
        "sync": true,
        "description": "Get the value of E (the mathematical constant)",
        "inputs": {},
        "exits": {
          "success": {
            "variableName": "E",
            "example": 2.718281828459045,
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(Math.E);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/e",
        "docsUrl": "http://node-machine.org/machinepack-math/e",
        "defaultExit": null,
        "machinepack": 109,
        "id": 443,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "sqrt",
        "variableName": "sqrt",
        "friendlyName": "Square root (â)",
        "cacheable": true,
        "sync": true,
        "description": "Calculate the square root of a number.",
        "inputs": {
          "number": {
            "friendlyName": "Number",
            "description": "The number to take the square root of.",
            "example": 64,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "imaginary": {
            "friendlyName": "imaginary",
            "variableName": "imaginaryFactor",
            "example": 8,
            "description": "Returns a number which, if multiplied by â-1, would represent the â of the provided number.",
            "extendedDescription": "Cannot calculate a real result for the square root of a negative number.",
            "type": "number"
          },
          "success": {
            "example": 8,
            "variableName": "factor",
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    if (inputs.number < 0) {\n      return exits.imaginary(Math.sqrt(-1*inputs.number));\n    }\n    return exits.success(Math.sqrt(inputs.number));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/sqrt",
        "docsUrl": "http://node-machine.org/machinepack-math/sqrt",
        "defaultExit": null,
        "machinepack": 109,
        "id": 444,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "pi",
        "variableName": "pi",
        "friendlyName": "Pi (Ï)",
        "cacheable": true,
        "sync": true,
        "description": "Get the value of Ï (the mathematical constant)",
        "inputs": {},
        "exits": {
          "success": {
            "variableName": "Ï",
            "example": 3.141592653589793,
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(Math.PI);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/pi",
        "docsUrl": "http://node-machine.org/machinepack-math/pi",
        "defaultExit": null,
        "machinepack": 109,
        "id": 445,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "pow",
        "variableName": "pow",
        "friendlyName": "Exponent (^)",
        "cacheable": true,
        "sync": true,
        "description": "Raise a number to a power.",
        "inputs": {
          "number": {
            "friendlyName": "Number",
            "description": "The number to raise to a power.",
            "example": 8,
            "required": true,
            "type": "number"
          },
          "exponent": {
            "friendlyName": "Exponent",
            "description": "The exponent to raise the other number to.",
            "example": 2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "imaginary": {
            "friendlyName": "imaginary",
            "variableName": "imaginaryFactor",
            "example": 8,
            "description": "Returns a number which, if multiplied by â-1, would represent the number raised to the specified fractional power.",
            "extendedDescription": "Cannot calculate a real result for a negative number raised to a fractional exponent.",
            "type": "number"
          },
          "success": {
            "example": 64,
            "variableName": "result",
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // If the number is negative, and it's being raised to a\n    // fractional power, we'll calculate the imaginary factor instead.\n    if (inputs.number < 0 && Math.floor(inputs.exponent) !== inputs.exponent) {\n      return exits.imaginary(Math.pow(-1*inputs.number, inputs.exponent));\n    }\n    return exits.success(Math.pow(inputs.number, inputs.exponent));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/pow",
        "docsUrl": "http://node-machine.org/machinepack-math/pow",
        "defaultExit": null,
        "machinepack": 109,
        "id": 446,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "ln",
        "variableName": "ln",
        "friendlyName": "Natural logarithm (ln)",
        "cacheable": true,
        "sync": true,
        "description": "Calculate the natural logarithm of a number.",
        "inputs": {
          "number": {
            "friendlyName": "Number",
            "description": "The number to calculate the natural log of.",
            "example": 2.718281828459045,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "invalidLog": {
            "description": "Cannot calculate the logarithm of a number <=0."
          },
          "success": {
            "example": 1,
            "variableName": "logarithm",
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    if (inputs.number <= 0) {\n      return exits.invalidLog();\n    }\n    return exits.success(Math.log(inputs.number));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/ln",
        "docsUrl": "http://node-machine.org/machinepack-math/ln",
        "defaultExit": null,
        "machinepack": 109,
        "id": 447,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      },
      {
        "identity": "log",
        "variableName": "log",
        "friendlyName": "Logarithm (log)",
        "cacheable": true,
        "sync": true,
        "description": "Calculate the logarithm of a number at a particular base.",
        "inputs": {
          "number": {
            "friendlyName": "Number",
            "description": "The number to calculate the log of.",
            "example": 100,
            "required": true,
            "type": "number"
          },
          "base": {
            "friendlyName": "Base",
            "description": "The base of the logarithm",
            "example": 10,
            "defaultsTo": 10,
            "type": "number"
          }
        },
        "exits": {
          "invalidLog": {
            "description": "Cannot calculate the logarithm of a number <=0."
          },
          "invalidBase": {
            "description": "A logarithm's base must be >0 and !=1."
          },
          "success": {
            "example": 2,
            "variableName": "logarithm",
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    if (inputs.number <= 0) {\n      return exits.invalidLog();\n    }\n    if (inputs.base <= 0 || inputs.base === 1) {\n      return exits.invalidBase();\n    }\n    return exits.success(Math.log(inputs.number) / Math.log(inputs.base));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-math/log",
        "docsUrl": "http://node-machine.org/machinepack-math/log",
        "defaultExit": null,
        "machinepack": 109,
        "id": 448,
        "createdAt": "2015-05-05T13:49:35.000Z",
        "updatedAt": "2015-06-30T16:39:44.000Z"
      }
    ],
    "identity": "machinepack-math",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Math",
    "friendlyName": "Math",
    "description": "Harness the power of math.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-math",
    "docsUrl": "http://node-machine.org/machinepack-math",
    "npmUrl": "http://npmjs.org/package/machinepack-math",
    "npmPackageName": "machinepack-math",
    "githubUrl": "http://github.com/treelinehq/machinepack-math/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-math/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "^1.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.8.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "rttc",
        "semverRange": "^7.0.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 109,
    "createdAt": "2015-05-05T13:49:35.000Z",
    "updatedAt": "2015-06-30T16:39:44.000Z",
    "numMachines": 12
  },
  {
    "machines": [
      {
        "identity": "execute",
        "variableName": "execute",
        "friendlyName": "Execute Program",
        "cacheable": null,
        "sync": null,
        "description": "Execute MLang program",
        "inputs": {
          "program": {
            "example": {},
            "description": "The MLang program",
            "required": true,
            "type": "object"
          },
          "inputs": {
            "example": {},
            "description": "Inputs to the MLang program",
            "required": false,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Promise = require('bluebird');\n    var _ = require('lodash');\n    var meta = require('machine').build(require('./meta'));\n    var execute = require('machine').build(require('./execute'));\n\n    /**\n     * Module Dependencies\n     */\n\n    var program = inputs.program;\n    var data = inputs.inputs;\n\n    // Run\n    return meta({\n      program: program\n    }, function(error, results) {\n      if (error){\n        return exits.error(error);\n      }\n\n      // Build dependencies\n      var depNames = results.dependencies;\n      var deps = {};\n      _.forEach(depNames, function(depName) {\n        var lowerDepName = depName.toLowerCase();\n        if (lowerDepName === 'this') {\n          var programFn = function(inputs) {\n            return execute({\n              program: program,\n              inputs: inputs\n            });\n          };\n          //\n          programFn.inputs = execute.inputs;\n          programFn.exits = execute.exits;\n          // Cache\n          _.set(deps, 'this', programFn);\n        } else {\n          var fullDepName = 'machinepack-'+lowerDepName;\n          var dep = require(fullDepName);\n          _.set(deps, depName, dep);\n        }\n      });\n\n      /*\n      \"$Math.add\": {\n        \"a\": 2,\n        \"b\": 2\n      }\n      */\n      function getMachineMethod(program) {\n        var keys = _.keys(program);\n        if (keys.length !== 1) {\n          return null; // Not a machine method\n        }\n        var method = keys[0];\n        if (method.length > 1 && method[0] === '$') {\n          return method.substr(1);\n        }\n        return null;\n      }\n      function isMethodExit(key) {\n        if (key.length > 1 && key[0] === \"@\") {\n          return true;\n        }\n        return false;\n      }\n      function isMethodInput(key) {\n        return !isMethodExit(key);\n      }\n      function getMethodInputs(program, method) {\n        var data = _.get(program, '$'+method);\n        // TODO: Check if single value\n          // TODO: And check if only 1 required input\n        // console.log('data', data, program, method);\n        var keys = _.keys(data);\n        // console.log('input keys before', keys);\n        keys = _.filter(keys, isMethodInput);\n        // console.log('input keys after', keys);\n        return _.pick(data, keys);\n      }\n      function getMethodExits(program, method) {\n        var data = _.get(program, '$'+method);\n        var keys = _.keys(data);\n        keys = _.filter(keys, isMethodExit);\n        var exits = _.pick(data, keys);\n        // console.log('getMethodExits exits', exits);\n        return _.mapKeys(exits, function(value, key) {\n          // console.log('key', key);\n          return key.substr(1); // Remove \"$\" prefix\n        });\n      }\n      function isVariable(program) {\n        if (typeof program === 'string') {\n          if (program.length > 1 && program[0] === '$') {\n            return true;\n          }\n        }\n        return false;\n      }\n      function getMethodFn(method) {\n        return _.get(deps, method);\n      }\n      var promisifyProgram = function(program) {\n        // console.log('promisifyProgram', typeof program, program);\n        if (!_.isPlainObject(program)) {\n          // Check if variable\n          if (isVariable(program)) {\n            var varName = program.substr(1); // remove \"$\" prefix\n            // Extract variable from input data\n            return Promise.resolve(_.get(data, varName));\n          }\n          // simple value\n          return Promise.resolve(program);\n        }\n        // Check if machine call\n        var method = getMachineMethod(program);\n        var isMachineCall = method === null ? false : true;\n        // Process machine call\n        if (isMachineCall) {\n          // Inputs\n          var inputs = getMethodInputs(program, method);\n          // console.log('inputs before', inputs);\n          // Promisify inputs\n          inputs = _.mapValues(inputs, promisifyProgram);\n          // console.log('inputs after', inputs);\n          // Exits\n          var exits = getMethodExits(program, method);\n\n          // Wait for Inputs to resolve\n          return Promise.props(inputs)\n          .then(function(inputs) {\n            // Call machine method with resolved inputs\n            var methodFn = getMethodFn(method);\n            if (typeof methodFn !== 'function') {\n              return Promise.reject(new Error('Method with name '+method+' is not a function: '+methodFn));\n            }\n            return new Promise(function (resolve, reject) {\n              var defaultExits = {};\n              // Default successful exit\n              var defaultExit = methodFn.defaultExit || 'success';\n              _.set(defaultExits, defaultExit, resolve);\n              // Reject all other exits\n              var exitsDef = methodFn.exits || {};\n              _.forIn(exitsDef, function(value, key) {\n                if (key !== defaultExit) {\n                  _.set(defaultExits, key, reject);\n                }\n              });\n              // console.log('exitsDef', method, exitsDef, defaultExits, methodFn);\n              // Promisify exits\n              function promisifyExits(exit) {\n                return function() {\n                  return promisifyProgram(exit).then(resolve).catch(reject);\n                };\n              }\n              exits = _.mapValues(exits, promisifyExits);\n              var finalExits = defaultExits;\n              _.merge(finalExits, exits);\n              // console.log('exits', finalExits);\n              return methodFn(inputs).exec(finalExits);\n            });\n          });\n        } else {\n          console.warn('What is this?', program);\n          return;\n        }\n      };\n\n      // Return an object containing myLength and the secretCode\n      // return exits.success();\n      var promise = promisifyProgram(program);\n      promise.then(exits.success);\n      promise.catch(exits.error);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Execute MLang program",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mlang/execute",
        "docsUrl": "http://node-machine.org/machinepack-mlang/execute",
        "defaultExit": "success",
        "machinepack": 153,
        "id": 685,
        "createdAt": "2015-12-26T18:59:23.000Z",
        "updatedAt": "2015-12-27T07:19:19.000Z"
      },
      {
        "identity": "meta",
        "variableName": "meta",
        "friendlyName": "Extract Meta Data",
        "cacheable": null,
        "sync": null,
        "description": "Extract Meta Data from program",
        "inputs": {
          "program": {
            "example": {},
            "description": "The name of the person that will be sent the hello message.",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "dependencies": [
                "GitHub",
                "Arrays"
              ],
              "methods": [
                "Github.listRepos",
                "Arrays.length"
              ],
              "variables": {
                "username": "Glavin001"
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    /**\n     * Module Dependencies\n     */\n\n    var program = inputs.program;\n\n    var dependencies = [];\n    var methods = [];\n    var variables = {};\n\n    var methodForKey = function(key) {\n      if (key.length > 1 && key[0] === \"$\") {\n        return key.substr(1);\n      } else {\n        return null;\n      }\n    };\n    var countDependencies = function(obj) {\n      return _.forOwn(obj, function (value, key) {\n        if (typeof value === \"object\") {\n          // Count all current\n          var method = methodForKey(key);\n          if (method) {\n            methods.push(method);\n            var dep = method.split('.')[0];\n            dependencies.push(dep);\n          }\n          // Recurse\n          return countDependencies(value);\n        }\n      });\n    };\n    // Run!\n    countDependencies(program);\n    // Uniquify\n    dependencies = _.uniq(dependencies);\n    methods = _.uniq(methods);\n    // Return an object containing myLength and the secretCode\n    return exits.success({\n      dependencies: dependencies,\n      methods: methods,\n      variables: variables\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mlang/meta",
        "docsUrl": "http://node-machine.org/machinepack-mlang/meta",
        "defaultExit": "success",
        "machinepack": 153,
        "id": 686,
        "createdAt": "2015-12-26T18:59:23.000Z",
        "updatedAt": "2015-12-27T07:19:19.000Z"
      },
      {
        "identity": "dependencies",
        "variableName": "dependencies",
        "friendlyName": "Extract Dependencies",
        "cacheable": null,
        "sync": null,
        "description": "Extract dependencies from MLang program",
        "inputs": {
          "program": {
            "example": {},
            "description": "The MLang program",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              "Arrays",
              "GitHub"
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var meta = require('machine').build(require('./meta'));\n\n    /**\n     * Module Dependencies\n     */\n\n    var program = inputs.program;\n    // Run\n    return meta({\n      program: program\n    }, function(error, results) {\n      if (error){\n        return exits.error(error);\n      }\n      // Return an object containing myLength and the secretCode\n      return exits.success(results.dependencies);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Extract dependencies from MLang program.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mlang/dependencies",
        "docsUrl": "http://node-machine.org/machinepack-mlang/dependencies",
        "defaultExit": "success",
        "machinepack": 153,
        "id": 687,
        "createdAt": "2015-12-26T18:59:23.000Z",
        "updatedAt": "2015-12-27T07:19:19.000Z"
      },
      {
        "identity": "variables",
        "variableName": "variables",
        "friendlyName": "Extract Variables",
        "cacheable": null,
        "sync": null,
        "description": "Extract variables from machlang",
        "inputs": {
          "program": {
            "example": {},
            "description": "The name of the person that will be sent the hello message.",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              "username"
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var meta = require('machine').build(require('./meta'));\n\n    /**\n     * Module Dependencies\n     */\n\n    var program = inputs.program;\n    // Run\n    return meta({\n      program: program\n    }, function(error, results) {\n      if (error){\n        return exits.error(error);\n      }\n      // Return an object containing myLength and the secretCode\n      return exits.success(results.variables);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mlang/variables",
        "docsUrl": "http://node-machine.org/machinepack-mlang/variables",
        "defaultExit": "success",
        "machinepack": 153,
        "id": 688,
        "createdAt": "2015-12-26T18:59:23.000Z",
        "updatedAt": "2015-12-27T07:19:19.000Z"
      },
      {
        "identity": "methods",
        "variableName": "methods",
        "friendlyName": "Extract Methods",
        "cacheable": null,
        "sync": null,
        "description": "Extract methods from machlang",
        "inputs": {
          "program": {
            "example": {},
            "description": "The name of the person that will be sent the hello message.",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": [
              "username"
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var meta = require('machine').build(require('./meta'));\n\n    /**\n     * Module Dependencies\n     */\n\n    var program = inputs.program;\n    // Run\n    return meta({\n      program: program\n    }, function(error, results) {\n      if (error){\n        return exits.error(error);\n      }\n      // Return an object containing myLength and the secretCode\n      return exits.success(results.methods);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mlang/methods",
        "docsUrl": "http://node-machine.org/machinepack-mlang/methods",
        "defaultExit": "success",
        "machinepack": 153,
        "id": 689,
        "createdAt": "2015-12-26T18:59:23.000Z",
        "updatedAt": "2015-12-27T07:19:19.000Z"
      }
    ],
    "identity": "machinepack-mlang",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2015-12-27T00:00:00.000Z",
    "variableName": "Mlang",
    "friendlyName": "Mlang",
    "description": "Declarative programming language written in JSON and powered by Machinepacks",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-mlang",
    "docsUrl": "http://node-machine.org/machinepack-mlang",
    "npmUrl": "http://npmjs.org/package/machinepack-mlang",
    "npmPackageName": "machinepack-mlang",
    "githubUrl": "http://github.com/Glavin001/machinepack-mlang/",
    "sourceUrl": "http://github.com/Glavin001/machinepack-mlang/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "bluebird",
        "semverRange": "^3.1.1"
      },
      {
        "name": "lodash",
        "semverRange": "^3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-npm",
        "semverRange": "^5.1.0"
      }
    ],
    "contributors": [
      {
        "name": "Glavin Wiechert",
        "email": "glavin.wiechert@gmail.com"
      },
      {
        "name": "glavin001",
        "email": "glavin.wiechert@gmail.com"
      }
    ],
    "id": 153,
    "createdAt": "2015-12-26T18:59:23.000Z",
    "updatedAt": "2015-12-27T07:19:19.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "update-documents",
        "variableName": "updateDocuments",
        "friendlyName": "Update documents",
        "cacheable": null,
        "sync": null,
        "description": "Modify existing documents in a collection.",
        "inputs": {
          "connectionUrl": {
            "description": "The mongoDB connection URL",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/connection-string/",
            "defaultsTo": "mongodb://localhost:27017/machinepack-mongodb-default",
            "example": "mongodb://localhost:27017/machinepack-mongodb-default",
            "type": "string"
          },
          "collection": {
            "description": "The name of the collection.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The selection criteria for the update.",
            "extendedDescription": "Uses the same query selectors as in the find() method.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/operator/query/#query-selectors",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          },
          "update": {
            "description": "The modifications to apply.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/method/db.collection.update/#update-parameter",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          },
          "upsert": {
            "description": " If set to true, creates a new document when no document matches the query criteria.",
            "extendedDescription": "The default value is false, which does not insert a new document when no match is found.",
            "defaultsTo": false,
            "example": true,
            "type": "boolean"
          },
          "multi": {
            "description": "If set to true, updates multiple documents that meet the query criteria.",
            "extendedDescription": "If set to false, updates one document. The default value is false.",
            "defaultsTo": false,
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/method/db.collection.update/#multi-parameter",
            "example": true,
            "type": "boolean"
          },
          "writeConcern": {
            "description": " A document expressing the write concern. Omit to use the default write concern.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/method/db.collection.update/#db.collection.update",
            "typeclass": "dictionary",
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidQuery": {
            "description": "Provided query was invalid.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/operator/query/#query-selectors"
          },
          "invalidUpdate": {
            "description": "Provided `update` input was invalid.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/method/db.collection.update/#update-parameter"
          },
          "couldNotConnect": {
            "description": "Could not connect to MongoDB server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running (i.e. to run mongo locally, do `mongod`)"
          },
          "invalidCollection": {
            "description": "Provided `collection` input is not a valid name for a MongoDB collection."
          },
          "success": {
            "description": "OK.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/method/db.collection.update/#writeresults-update",
            "example": {
              "nMatched": 1,
              "nUpserted": 0,
              "nModified": 1
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // Bring in a mongo driver\n    var MongoClient = require('mongodb').MongoClient;\n\n    var validQuery = (function isQueryValid (query){\n      // TODO: validate query -- all we know is that it will be a dictionary (plain ole js object)\n      return true;\n    })(inputs.query);\n    if (!validQuery) {\n      return exits.invalidQuery();\n    }\n\n    // TODO: validate `update` input\n\n    // TODO: validate other inputs\n\n\n    // Connection URL\n    var url = inputs.connectionUrl || 'mongodb://localhost:27017/machinepack-mongodb-default';\n\n    // Use connect method to connect to the mongo server\n    // (every call brings up a new connection for now)\n    MongoClient.connect(url, function(err, db) {\n\n      // Failed to connect\n      if (err) {\n        // TODO: negotiate this error further as needed\n        return exits.couldNotConnect(err);\n      }\n\n      // Look up collection\n      var collection;\n      try {\n        collection = db.collection(inputs.collection);\n      }\n      catch (e) {\n        // If collection does not exist,\n        if (!collection) {\n          // Close the db connection\n          db.close();\n          // and call back w/ an error.\n          return exits.invalidCollection();\n        }\n      }\n\n\n      // TODO: Prepare the opts object\n      var opts = {};\n      // if (!_.isUndefined(inputs.upsert)) { opts.upsert = inputs.upsert;} ...\n      // etc.\n\n      // Hit mongo w/ the update\n      collection.update(inputs.query, inputs.update, opts, function (err, result) {\n          // if thisWriteResult.hasWriteConcernError()...\n          if (err) {\n\n            // Close the db connection\n            db.close();\n\n            // ...then negotiate it and call the appropriate exit\n            // e.g.\n            // {\n            //   \"code\" : 64,\n            //   \"errmsg\" : \"waiting for replication timed out at shard-a\"\n            // }\n            // (usually a good idea to just hit `error` to start with, then add other exits as needed)\n            return exits.error(err);\n          }\n\n          // Close the db connection\n          db.close();\n\n          // Then send back result object from mongo (see `example` in success exit)\n          return exits.success(result);\n\n      });\n\n    });\n\n\n\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": "http://docs.mongodb.org/manual/reference/method/db.collection.update/#db.collection.update",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mongodb/update-documents",
        "docsUrl": "http://node-machine.org/machinepack-mongodb/update-documents",
        "defaultExit": "success",
        "machinepack": 35,
        "id": 138,
        "createdAt": "2015-02-17T00:59:31.000Z",
        "updatedAt": "2015-06-30T23:29:56.000Z"
      },
      {
        "identity": "list-collections",
        "variableName": "listCollections",
        "friendlyName": "List collections",
        "cacheable": null,
        "sync": null,
        "description": "List the names of collections in the specified Mongo database.",
        "inputs": {
          "connectionUrl": {
            "description": "The mongoDB connection URL",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/connection-string/",
            "defaultsTo": "mongodb://localhost:27017/machinepack-mongodb-default",
            "example": "mongodb://localhost:27017/machinepack-mongodb-default",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to MongoDB server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running (i.e. to run mongo locally, do `mongod`)"
          },
          "success": {
            "description": "OK.",
            "example": [
              "direwolves"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    return exits.error('TODO');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mongodb/list-collections",
        "docsUrl": "http://node-machine.org/machinepack-mongodb/list-collections",
        "defaultExit": "success",
        "machinepack": 35,
        "id": 624,
        "createdAt": "2015-06-30T23:29:56.000Z",
        "updatedAt": "2015-06-30T23:29:56.000Z"
      },
      {
        "identity": "count-documents",
        "variableName": "countDocuments",
        "friendlyName": "Count documents",
        "cacheable": null,
        "sync": null,
        "description": "Count the documents in this collection which match the specified criteria.",
        "inputs": {
          "connectionUrl": {
            "description": "The mongoDB connection URL",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/connection-string/",
            "defaultsTo": "mongodb://localhost:27017/machinepack-mongodb-default",
            "example": "mongodb://localhost:27017/machinepack-mongodb-default",
            "type": "string"
          },
          "collection": {
            "description": "The name of the collection.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The selection criteria (like the WHERE clause)",
            "extendedDescription": "Uses the same query selectors as in the find() method.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/operator/query/#query-selectors",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to MongoDB server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running (i.e. to run mongo locally, do `mongod`)"
          },
          "invalidCollection": {
            "description": "Provided `collection` input is not a valid name for a MongoDB collection."
          },
          "success": {
            "description": "OK.",
            "example": 2385,
            "isDefault": true,
            "type": "number"
          }
        },
        "fn": "    return exits.error('TODO');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mongodb/count-documents",
        "docsUrl": "http://node-machine.org/machinepack-mongodb/count-documents",
        "defaultExit": "success",
        "machinepack": 35,
        "id": 625,
        "createdAt": "2015-06-30T23:29:56.000Z",
        "updatedAt": "2015-06-30T23:29:56.000Z"
      },
      {
        "identity": "describe-collection",
        "variableName": "describeCollection",
        "friendlyName": "Describe collection",
        "cacheable": null,
        "sync": null,
        "description": "List an approximation of the fields that are found in each document of a Mongo collection.",
        "inputs": {
          "connectionUrl": {
            "description": "The mongoDB connection URL",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/connection-string/",
            "defaultsTo": "mongodb://localhost:27017/machinepack-mongodb-default",
            "example": "mongodb://localhost:27017/machinepack-mongodb-default",
            "type": "string"
          },
          "collection": {
            "description": "The name of the collection.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to MongoDB server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running (i.e. to run mongo locally, do `mongod`)"
          },
          "invalidCollection": {
            "description": "Provided `collection` input is not a valid name for a MongoDB collection."
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "fieldName": "birthday",
                "type": "string",
                "isIndexed": true,
                "isUnique": true
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    return exits.error('TODO');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mongodb/describe-collection",
        "docsUrl": "http://node-machine.org/machinepack-mongodb/describe-collection",
        "defaultExit": "success",
        "machinepack": 35,
        "id": 626,
        "createdAt": "2015-06-30T23:29:56.000Z",
        "updatedAt": "2015-06-30T23:29:56.000Z"
      },
      {
        "identity": "list-documents",
        "variableName": "listDocuments",
        "friendlyName": "List documents",
        "cacheable": null,
        "sync": null,
        "description": "List documents in this Mongo collection which match the specified criteria.",
        "inputs": {
          "connectionUrl": {
            "description": "The mongoDB connection URL",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/connection-string/",
            "defaultsTo": "mongodb://localhost:27017/machinepack-mongodb-default",
            "example": "mongodb://localhost:27017/machinepack-mongodb-default",
            "type": "string"
          },
          "collection": {
            "description": "The name of the collection.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The selection criteria (like the WHERE clause)",
            "extendedDescription": "Standard query selectors from the Mongo find() method.",
            "moreInfoUrl": "http://docs.mongodb.org/manual/reference/operator/query/#query-selectors",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          },
          "limit": {
            "description": "If specified, limits number of documents returned in the query (useful for pagination)",
            "moreInfoUrl": "http://mongodb.github.io/node-mongodb-native/api-generated/collection.html#find",
            "example": 30,
            "type": "number"
          },
          "skip": {
            "description": "If specified, skips N documents ahead in the query (useful for pagination)",
            "moreInfoUrl": "http://mongodb.github.io/node-mongodb-native/api-generated/collection.html#find",
            "example": 30,
            "type": "number"
          },
          "sort": {
            "description": "If specified, the documents coming back from the query will be sorted according to this dictionary.",
            "typeclass": "dictionary",
            "moreInfoUrl": "http://mongodb.github.io/node-mongodb-native/api-generated/collection.html#find",
            "type": "dictionary"
          },
          "schema": {
            "description": "An example indicating what each returned document should look like.",
            "extendedDescription": "This is used to determine the `fields` (i.e. projection) passed in w/ the query.",
            "typeclass": "dictionary",
            "required": true,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to MongoDB server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running (i.e. to run mongo locally, do `mongod`)"
          },
          "invalidCollection": {
            "description": "Provided `collection` input is not a valid name for a MongoDB collection."
          },
          "success": {
            "description": "OK.",
            "getExample": "        return inputs.schema;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "\n\n    // Bring in a mongo driver\n    var MongoClient = require('mongodb').MongoClient;\n\n    var validQuery = (function isQueryValid (query){\n      // TODO: validate query -- all we know is that it will be a dictionary (plain ole js object)\n      return true;\n    })(inputs.query);\n    if (!validQuery) {\n      return exits.invalidQuery();\n    }\n\n    // TODO: validate inputs\n\n\n    // Connection URL\n    var url = inputs.connectionUrl || 'mongodb://localhost:27017/machinepack-mongodb-default';\n\n    // Use connect method to connect to the mongo server\n    // (every call brings up a new connection for now)\n    MongoClient.connect(url, function(err, db) {\n\n      // Failed to connect\n      if (err) {\n        // TODO: negotiate this error further as needed\n        return exits.couldNotConnect(err);\n      }\n\n      // Look up collection\n      var collection;\n      try {\n        collection = db.collection(inputs.collection);\n      }\n      catch (e) {\n        // If collection does not exist,\n        if (!collection) {\n          // Close the db connection\n          db.close();\n          // and call back w/ an error.\n          return exits.invalidCollection();\n        }\n      }\n\n\n      // TODO: Prepare the opts object\n      var opts = {};\n      // if (!_.isUndefined(inputs.upsert)) { opts.upsert = inputs.upsert;} ...\n      // etc.\n\n      // Hit mongo w/ the find\n      collection.find(inputs.query, /* ... todo: al the things */ opts, function (err, result) {\n          // if thisWriteResult.hasWriteConcernError()...\n          if (err) {\n\n            // Close the db connection\n            db.close();\n\n            // ...then negotiate it and call the appropriate exit\n            // e.g.\n            // {\n            //   \"code\" : 64,\n            //   \"errmsg\" : \"waiting for replication timed out at shard-a\"\n            // }\n            // (usually a good idea to just hit `error` to start with, then add other exits as needed)\n            return exits.error(err);\n          }\n\n          // Close the db connection\n          db.close();\n\n          // Then send back result object from mongo (see `example` in success exit)\n          return exits.success(result);\n\n      });\n\n    });\n\n\n\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mongodb/list-documents",
        "docsUrl": "http://node-machine.org/machinepack-mongodb/list-documents",
        "defaultExit": "success",
        "machinepack": 35,
        "id": 627,
        "createdAt": "2015-06-30T23:29:56.000Z",
        "updatedAt": "2015-06-30T23:29:56.000Z"
      }
    ],
    "identity": "machinepack-mongodb",
    "version": "0.3.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "MongoDB",
    "friendlyName": "MongoDB",
    "description": "Structured Node.js bindings for MongoDB.",
    "extendedDescription": "Uses the Node.js mongdb driver located at https://github.com/mongodb/node-mongodb-native",
    "moreInfoUrl": "https://github.com/mongodb/node-mongodb-native",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-mongodb",
    "docsUrl": "http://node-machine.org/machinepack-mongodb",
    "npmUrl": "http://npmjs.org/package/machinepack-mongodb",
    "npmPackageName": "machinepack-mongodb",
    "githubUrl": "http://github.com/mikermcneil/machinepack-mongodb/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-mongodb/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-mongodb",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "mongodb",
        "semverRange": "^1.4.31"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 35,
    "createdAt": "2015-02-17T00:59:31.000Z",
    "updatedAt": "2015-06-30T23:29:56.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "create-manager",
        "variableName": "createManager",
        "friendlyName": "Create manager",
        "cacheable": null,
        "sync": null,
        "description": "Build and initialize a connection manager instance for this database.",
        "inputs": {
          "connectionString": {
            "description": "A connection string to use to connect to a MySQL database.",
            "extendedDescription": "Be sure to include credentials.  You can also optionally provide the name of an existing database on your MySQL server.",
            "moreInfoUrl": "https://gist.github.com/mikermcneil/46d10fd816c980cd3d9f",
            "whereToGet": {
              "url": "https://gist.github.com/mikermcneil/46d10fd816c980cd3d9f"
            },
            "example": "mysql://mikermcneil:p4ssw02D@localhost:3306/some_db",
            "required": true,
            "type": "string"
          },
          "onUnexpectedFailure": {
            "description": "A function to call any time an unexpected error event is received from this manager or any of its connections.",
            "extendedDescription": "This can be used for anything you like, whether that's sending an email to devops, or something as simple as logging a warning to the console.\n\nFor example:\n```\nonUnexpectedFailure: function (err) {\n  console.warn('Unexpected failure in database manager:',err);\n}\n```",
            "example": "->",
            "type": "string"
          },
          "meta": {
            "friendlyName": "Meta (additional options)",
            "description": "Additional MySQL-specific options to use when connecting.",
            "extendedDescription": "If specified, should be a dictionary. If there is a conflict between something provided in the connection string, and something in `meta`, the connection string takes priority.",
            "moreInfoUrl": "https://gist.github.com/mikermcneil/46d10fd816c980cd3d9f",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "The new manager should be passed in to `getConnection()`.Note that _no matter what_, this manager must be capable of spawning an infinite number of connections (i.e. via `getConnection()`).  The implementation of how exactly it does this varies on a driver-by-driver basis; and it may also vary based on the configuration passed into the `meta` input.",
            "outputVariableName": "report",
            "outputDescription": "The `manager` property is a manager instance that will be passed into `getConnection()`. The `meta` property is reserved for custom driver-specific extensions.",
            "example": {
              "manager": "===",
              "meta": "==="
            },
            "isDefault": true,
            "type": "object"
          },
          "malformed": {
            "description": "The provided connection string is not valid for MySQL.",
            "outputVariableName": "report",
            "outputDescription": "The `error` property is a JavaScript Error instance explaining that (and preferably \"why\") the provided connection string is invalid.  The `meta` property is reserved for custom driver-specific extensions.",
            "example": {
              "error": "===",
              "meta": "==="
            },
            "type": "object"
          },
          "failed": {
            "description": "Could not create a connection manager for this database using the specified connection string.",
            "extendedDescription": "If this exit is called, it might mean any of the following:\n + the credentials encoded in the connection string are incorrect\n + there is no database server running at the provided host (i.e. even if it is just that the database process needs to be started)\n + there is no software \"database\" with the specified name running on the server\n + the provided connection string does not have necessary access rights for the specified software \"database\"\n + this Node.js process could not connect to the database, perhaps because of firewall/proxy settings\n + any other miscellaneous connection error\n\nNote that even if the database is unreachable, bad credentials are being used, etc, this exit will not necessarily be called-- that depends on the implementation of the driver and any special configuration passed to the `meta` input. e.g. if a pool is being used that spins up multiple connections immediately when the manager is created, then this exit will be called if any of those initial attempts fail.  On the other hand, if the manager is designed to produce adhoc connections, any errors related to bad credentials, connectivity, etc. will not be caught until `getConnection()` is called.",
            "outputVariableName": "report",
            "outputDescription": "The `error` property is a JavaScript Error instance with more information and a stack trace.  The `meta` property is reserved for custom driver-specific extensions.",
            "example": {
              "error": "===",
              "meta": "==="
            },
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var Url = require('url');\n    var felix = require('mysql');\n\n\n    // Note:\n    // Support for different types of managers is database-specific, and is not\n    // built into the Waterline driver spec-- however this type of configurability\n    // can be instrumented using `meta`.\n    //\n    // In particular, support for ad-hoc connections (i.e. no pool) and clusters/multiple\n    // pools (see \"PoolCluster\": https://github.com/felixge/node-mysql/blob/v2.10.2/Readme.md#poolcluster)\n    // could be implemented here, using properties on `meta` to determine whether or not\n    // to have this manager produce connections ad-hoc, from a pool, or from a cluster of pools.\n    //\n    // Feel free to fork this driver and customize as you see fit.  Also note that\n    // contributions to the core driver in this area are welcome and greatly appreciated!\n\n\n\n    // Build a local variable (`_mysqlClientConfig`) to house a dictionary\n    // of additional MySQL options that will be passed into `.createPool()`\n    // (Note that these could also be used with `.connect()` or `.createPoolCluster()`)\n    //\n    // This is pulled from the `connectionString` and `meta` inputs, and used for\n    // configuring stuff like `host` and `password`.\n    //\n    // For a complete list of available options, see:\n    //  â¢ https://github.com/felixge/node-mysql#connection-options\n    //\n    // However, note that supported options are explicitly whitelisted below.\n    var _mysqlClientConfig = {};\n\n\n\n\n    // Validate and parse `meta` (if specified).\n    if ( !util.isUndefined(inputs.meta) ) {\n      if ( !util.isObject(inputs.meta) ) {\n        return exits.error('If provided, `meta` must be a dictionary.');\n      }\n\n      // Use properties of `meta` directly as MySQL client config.\n      // (note that we're very careful to only stick a property on the client config\n      //  if it was not undefined, just in case that matters)\n      [\n        // MySQL Client Options:\n        // ============================================\n\n        // Basic:\n        'host', 'port', 'database', 'user', 'password',\n        'charset', 'timezone', 'ssl',\n\n        // Advanced:\n        'connectTimeout', 'stringifyObjects', 'insecureAuth', 'typeCast',\n        'queryFormat', 'supportBigNumbers', 'bigNumberStrings', 'dateStrings',\n        'debug', 'trace', 'multipleStatements', 'flags',\n\n        // Pool-specific:\n        'acquireTimeout', 'waitForConnections', 'connectionLimit', 'queueLimit',\n\n      ].forEach(function (mysqlClientConfKeyName){\n        if ( !util.isUndefined(inputs.meta[mysqlClientConfKeyName]) ) {\n          _mysqlClientConfig[mysqlClientConfKeyName] = inputs.meta[mysqlClientConfKeyName];\n        }\n      });\n\n\n      // In the future, other special properties of `meta` could be used\n      // as options for the manager-- e.g. whether or not to use pooling,\n      // or the connection strings of replicas, etc.\n\n      // // Now use other special properties of `meta` as our higher-level\n      // // logical machinepack options.\n      // [\n      //   // Machinepack Configuration:\n      //   // ============================================\n      //   '',\n      // ].forEach(function (pkgConfKeyName) {\n      //   // ...\n      // });\n    }\n\n\n    // Validate & parse connection string, pulling out MySQL client config\n    // (call `malformed` if invalid).\n    //\n    // Remember: connection string takes priority over `meta` in the event of a conflict.\n    try {\n      var parsedConnectionStr = Url.parse(inputs.connectionString);\n\n      // Validate that a protocol was found before other pieces\n      // (otherwise other parsed info will be very weird and wrong)\n      if ( !parsedConnectionStr.protocol ) {\n        throw new Error('Protocol (i.e. `mysql://`) is required in connection string.');\n      }\n\n      // Parse port & host\n      var DEFAULT_HOST = 'localhost';\n      var DEFAULT_PORT = 3306;\n      if (parsedConnectionStr.port) { _mysqlClientConfig.port = +parsedConnectionStr.port; }\n      else { _mysqlClientConfig.port = DEFAULT_PORT; }\n      if (parsedConnectionStr.hostname) { _mysqlClientConfig.host = parsedConnectionStr.hostname; }\n      else { _mysqlClientConfig.host = DEFAULT_HOST; }\n\n      // Parse user & password\n      if ( parsedConnectionStr.auth && util.isString(parsedConnectionStr.auth) ) {\n        var authPieces = parsedConnectionStr.auth.split(/:/);\n        if (authPieces[0]) {\n          _mysqlClientConfig.user = authPieces[0];\n        }\n        if (authPieces[1]) {\n          _mysqlClientConfig.password = authPieces[1];\n        }\n      }\n\n      // Parse database name\n      if (util.isString(parsedConnectionStr.pathname) ) {\n        var _databaseName = parsedConnectionStr.pathname;\n        // Trim leading and trailing slashes\n        _databaseName = _databaseName.replace(/^\\/+/, '');\n        _databaseName = _databaseName.replace(/\\/+$/, '');\n        // If anything is left, use it as the database name.\n        if ( _databaseName ) {\n          _mysqlClientConfig.database = _databaseName;\n        }\n      }\n    }\n    catch (_e) {\n      _e.message = util.format('Provided value (`%s`) is not a valid MySQL connection string.',inputs.connectionString) + ' Error details: '+ _e.message;\n      return exits.malformed({\n        error: _e\n      });\n    }\n\n    // Create a connection pool.\n    //\n    // More about using pools with node-mysql:\n    //  â¢ https://github.com/felixge/node-mysql#pooling-connections\n    var pool = felix.createPool(_mysqlClientConfig);\n\n    // Bind an \"error\" handler in order to handle errors from connections in the pool,\n    // or from the pool itself. Otherwise, without any further protection, if any MySQL\n    // connections in the pool die, then the process would crash with an error.\n    //\n    // For more background, see:\n    //  â¢ https://github.com/felixge/node-mysql/blob/v2.10.2/Readme.md#error-handling\n    pool.on('error', function (err){\n      // When/if something goes wrong in this pool, call the `onUnexpectedFailure` notifier\n      // (if one was provided)\n      if (!util.isUndefined(onUnexpectedFailure)) {\n        onUnexpectedFailure(err || new Error('One or more pooled connections to MySQL database were lost. Did the database server go offline?'));\n      }\n    });\n\n    // Finally, build and return the manager.\n    var mgr = {\n      pool: pool,\n      meta: inputs.meta,\n      connectionString: inputs.connectionString\n    };\n    return exits.success({\n      manager: mgr\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "The `manager` instance returned by this method contains any configuration that is necessary for communicating with the database and establishing connections (e.g. host, user, password) as well as any other relevant metadata.  The manager will often also contain a reference to some kind of native container (e.g. a connection pool).\n\nNote that a manager instance does not necessarily need to correspond with a pool though--it might simply be a container for storing config, or it might refer to multiple pools (e.g. a PoolCluster from felixge's `mysql` package).",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-mysql/create-manager",
        "docsUrl": "http://node-machine.org/machinepack-mysql/create-manager",
        "defaultExit": null,
        "machinepack": 40,
        "id": 706,
        "createdAt": "2016-03-08T00:29:25.000Z",
        "updatedAt": "2016-03-08T00:29:25.000Z"
      }
    ],
    "identity": "machinepack-mysql",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2016-03-08T00:00:00.000Z",
    "variableName": "MySQL",
    "friendlyName": "MySQL",
    "description": "Structured Node.js bindings for MySQL.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-mysql",
    "docsUrl": "http://node-machine.org/machinepack-mysql",
    "npmUrl": "http://npmjs.org/package/machinepack-mysql",
    "npmPackageName": "machinepack-mysql",
    "githubUrl": "http://github.com/particlebanana/machinepack-mysql/",
    "sourceUrl": "http://github.com/particlebanana/machinepack-mysql/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "~12.0.1"
      },
      {
        "name": "machinepack-sql-builder",
        "semverRange": "github:particlebanana/waterline-query-builder"
      },
      {
        "name": "mysql",
        "semverRange": "2.10.2"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      }
    ],
    "id": 40,
    "createdAt": "2015-02-28T01:59:46.000Z",
    "updatedAt": "2016-03-08T00:29:25.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "levenshtein",
        "variableName": "levenshtein",
        "friendlyName": "Get Levenshtein distance",
        "cacheable": true,
        "sync": true,
        "description": "Determine the Levenstein distance between two strings.",
        "inputs": {
          "a": {
            "friendlyName": "A string",
            "example": "kitten",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Another string",
            "example": "sittin",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "levenshteinDistance",
            "example": 2,
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var natural = require('natural');\n    var result = natural.LevenshteinDistance(inputs.a, inputs.b);\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "The Levenshtein distance is a number that helps quantify the difference between two strings.  Informally, the Levenshtein distance between two words is the minimum number of single-character edits (i.e. insertions, deletions or substitutions) required to change one word into the other.",
        "moreInfoUrl": "http://en.wikipedia.org/wiki/Levenshtein_distance",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nlp/levenshtein",
        "docsUrl": "http://node-machine.org/machinepack-nlp/levenshtein",
        "defaultExit": null,
        "machinepack": 108,
        "id": 433,
        "createdAt": "2015-05-04T23:49:32.000Z",
        "updatedAt": "2015-06-30T16:29:56.000Z"
      },
      {
        "identity": "tokenize",
        "variableName": "tokenize",
        "friendlyName": "Tokenize string",
        "cacheable": true,
        "sync": true,
        "description": "Split a string into an array of strings using the Treebank algorithm.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "Hello world!",
            "description": "The string to split.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "tokens",
            "description": "OK.",
            "example": [
              "Hello",
              "world",
              "!"
            ],
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var TreebankWordTokenizer = require('natural').TreebankWordTokenizer;\n    var result = (new TreebankWordTokenizer()).tokenize(inputs.string);\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "Like `split` from `machinepack-strings`, but instead of a regular expression, this machine uses a specialized algorithm for natural language processing.",
        "moreInfoUrl": "http://www.cis.upenn.edu/~treebank/tokenization.html",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nlp/tokenize",
        "docsUrl": "http://node-machine.org/machinepack-nlp/tokenize",
        "defaultExit": null,
        "machinepack": 108,
        "id": 434,
        "createdAt": "2015-05-04T23:59:39.000Z",
        "updatedAt": "2015-06-30T16:29:56.000Z"
      },
      {
        "identity": "pluralize",
        "variableName": "pluralize",
        "friendlyName": "Pluralize noun",
        "cacheable": true,
        "sync": true,
        "description": "Determine the plural version of a singular noun.",
        "inputs": {
          "noun": {
            "friendlyName": "Noun",
            "example": "camera",
            "description": "A singular noun.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "plural",
            "example": "cameras",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var NLP = require('natural');\n    var result = (new NLP.NounInflector()).pluralize(inputs.noun);\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nlp/pluralize",
        "docsUrl": "http://node-machine.org/machinepack-nlp/pluralize",
        "defaultExit": null,
        "machinepack": 108,
        "id": 435,
        "createdAt": "2015-05-05T12:59:39.000Z",
        "updatedAt": "2015-06-30T16:29:56.000Z"
      },
      {
        "identity": "singularize",
        "variableName": "singularize",
        "friendlyName": "Singularize noun",
        "cacheable": true,
        "sync": true,
        "description": "Determine the singular version of a plural noun.",
        "inputs": {
          "noun": {
            "friendlyName": "Noun",
            "example": "cameras",
            "description": "A plural noun.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "singular",
            "example": "camera",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var NLP = require('natural');\n    var result = (new NLP.NounInflector()).singularize(inputs.noun);\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nlp/singularize",
        "docsUrl": "http://node-machine.org/machinepack-nlp/singularize",
        "defaultExit": null,
        "machinepack": 108,
        "id": 436,
        "createdAt": "2015-05-05T12:59:39.000Z",
        "updatedAt": "2015-06-30T16:29:56.000Z"
      }
    ],
    "identity": "machinepack-nlp",
    "version": "0.5.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "NaturalLanguage",
    "friendlyName": "Natural Language",
    "description": "Natural language processing (NLP) in Node.js.",
    "extendedDescription": "This machinepack takes advantage of the excellent `natural` package on NPM by Chris Umbel, Rob Ellis, and Russell Mull.",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-nlp",
    "docsUrl": "http://node-machine.org/machinepack-nlp",
    "npmUrl": "http://npmjs.org/package/machinepack-nlp",
    "npmPackageName": "machinepack-nlp",
    "githubUrl": "http://github.com/treelinehq/machinepack-nlp/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-nlp/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "natural",
        "semverRange": "^0.2.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": ""
      }
    ],
    "id": 108,
    "createdAt": "2015-05-04T23:49:32.000Z",
    "updatedAt": "2015-06-30T16:29:56.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "convert",
        "variableName": "convert",
        "friendlyName": "Convert",
        "cacheable": null,
        "sync": null,
        "description": "Convert Natural Language to file system path",
        "inputs": {
          "string": {
            "example": "Go to Google Drive go into School go into 2015 2016 and find the Cryptography folder",
            "description": "The natural language path",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "/User/Glavin/Google Drive/School/2015-2016/CSCI 4423 - Cryptography",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n    var string = inputs.string;\n    var resolve = require('machine').build(require('./resolve'));\n    // var nlp = require('machinepack-nlp');\n    var _ = require('lodash');\n\n    // TODO: improve robustness\n    var stopwords = ['go','to','into','in','under','and','find','the','folder','directory','file'];\n    // var inputSeparator = /[\\\\., ]+/;\n    var inputSeparator = new RegExp(stopwords.join('\\\\s|'), 'gi');\n    var tokens = (string+' ').split(inputSeparator);\n    tokens = _.compact(tokens.map(function(token) {\n      return token.trim();\n    }));\n    // tokens = _.compact(tokens.map(function(value) {\n    //   if (stopwords.indexOf(value.toLowerCase()) != -1) {\n    //     return '';\n    //   }\n    //   return value.toLowerCase();\n    // }));\n    // console.log('tokens', tokens);\n    // Check if reverse order\n    if (_.contains(string.toLowerCase(), ' under ') || _.contains(string.toLowerCase(), ' in ')) {\n      tokens = tokens.reverse();\n    }\n    // console.log('tokens2', tokens);\n    // Process\n    return resolve({\n      names: tokens\n    }).exec({\n      error: exits.error,\n      notFound: exits.error,\n      success: exits.success\n    });\n\n    //  return nlp.tokenize({\n    //    string: string\n    //  }).exec({\n    //    error: exits.error,\n    //    success: function(tokens) {\n    //     //  console.log(tokens);\n    //      var absPath = \"/User/Glavin/Google Drive/School/2015-2016/CSCI 4423 - Cryptography/\";\n    //      // Return an object containing myLength and the secretCode\n    //      return exits.success(absPath);\n    //    }\n    //  });\n\n  ",
        "environment": [],
        "extendedDescription": "Convert Natural Language to file system path",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-naturalpath/convert",
        "docsUrl": "http://node-machine.org/machinepack-naturalpath/convert",
        "defaultExit": "success",
        "machinepack": 154,
        "id": 690,
        "createdAt": "2015-12-27T06:39:17.000Z",
        "updatedAt": "2015-12-27T06:39:17.000Z"
      },
      {
        "identity": "resolve",
        "variableName": "resolve",
        "friendlyName": "Resolve",
        "cacheable": null,
        "sync": null,
        "description": "Resolve list of directory names to file system path",
        "inputs": {
          "names": {
            "example": [
              "Google Drive",
              "School",
              "2015 2016",
              "Cryptography"
            ],
            "description": "List of directory names",
            "required": true,
            "type": "array"
          },
          "cwd": {
            "example": "/Users/Glavin",
            "description": "Current working directory to resolve the directory names",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Not found"
          },
          "success": {
            "example": "/Users/glavin/Google Drive/School/2015-2016/CSCI 4423 - Cryptography/",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n    var names = inputs.names;\n    var Paths = require('machinepack-paths');\n    var cwd = inputs.cwd || Paths.home({}).execSync();\n    //  console.log(cwd);\n    if (names.length === 0) {\n      return exits.success(cwd);\n    }\n    // Get top name\n    var name = names[0];\n    var async = require('async');\n    var fs = require('machinepack-fs');\n    var nlp = require('machinepack-nlp');\n    var fuzzaldrin = require('fuzzaldrin');\n    var score = fuzzaldrin.score;\n    var self = require('machine').build(require('./resolve'));\n\n    return fs.ls({\n      dir: cwd\n    }).exec({\n      error: exits.error,\n      doesNotExit: exits.error,\n      success: function(dirPaths) {\n        //  console.log(dirPaths);\n        return async.map(dirPaths, function(dirPath, cb) {\n          return Paths.parse({\n            path: dirPath\n          }).exec({\n            error: cb,\n            success: function(result) {\n              var currName = result.name;\n              // return nlp.levenshtein({\n              //   a: name.toLowerCase(),\n              //   b: currName.toLowerCase()\n              // }).exec({\n              //   error: cb,\n              //   success: function(distance) {\n              // Adjust for currName being shorter than name\n              // var bias = Math.abs(currName.length -\n              //   name.length);\n              //  distance += bias;\n              var distance2 = score(currName.toLowerCase(),\n                name.toLowerCase());\n\n              return cb(null, {\n                name: currName,\n                path: dirPath,\n                // distance: distance,\n                distance: distance2\n              });\n              //   }\n              // });\n            }\n          });\n        }, function(error, result) {\n          //  console.log(error, result);\n          if (error) {\n            return exits.error(error);\n          }\n          // var sortedAsc = result.sort(function(a, b) {\n          //   return a.distance - b.distance;\n          // });\n          var sortedDesc = result.sort(function(a, b) {\n            return b.distance - a.distance;\n          });\n          // console.log('sortedDesc', sortedDesc);\n          var next = sortedDesc[0];\n          if (next.distance === 0) {\n            return exits.notFound(name+' not found in '+cwd);\n          }\n          var nextPath = next.path;\n          // console.log('nextPath', nextPath);\n          // Remove first name\n          names.shift();\n          //  console.log('newNames', names);\n          return self({\n            cwd: nextPath,\n            names: names\n          }).exec({\n            error: exits.error,\n            success: exits.success\n          });\n          //  var absPath = \"/User/Glavin/Google Drive/School/2015-2016/CSCI 4423 - Cryptography/\";\n          //  // Return an object containing myLength and the secretCode\n          //  return exits.success(absPath);\n        });\n\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Resolve list of directory names to file system path",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-naturalpath/resolve",
        "docsUrl": "http://node-machine.org/machinepack-naturalpath/resolve",
        "defaultExit": "success",
        "machinepack": 154,
        "id": 691,
        "createdAt": "2015-12-27T06:39:17.000Z",
        "updatedAt": "2015-12-27T06:39:17.000Z"
      }
    ],
    "identity": "machinepack-naturalpath",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-12-27T00:00:00.000Z",
    "variableName": "NaturalPath",
    "friendlyName": "Natural Path",
    "description": "Convert Natural Language into a file/directory path",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-naturalpath",
    "docsUrl": "http://node-machine.org/machinepack-naturalpath",
    "npmUrl": "http://npmjs.org/package/machinepack-naturalpath",
    "npmPackageName": "machinepack-naturalpath",
    "githubUrl": "http://github.com/Glavin001/machinepack-naturalpath/",
    "sourceUrl": "http://github.com/Glavin001/machinepack-naturalpath/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^1.5.0"
      },
      {
        "name": "fuzzaldrin",
        "semverRange": "^2.1.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^7.0.0"
      },
      {
        "name": "machinepack-nlp",
        "semverRange": "^0.5.0"
      },
      {
        "name": "machinepack-paths",
        "semverRange": "^2.0.3"
      }
    ],
    "contributors": [
      {
        "name": "Glavin Wiechert",
        "email": "glavin.wiechert@gmail.com"
      },
      {
        "name": "glavin001",
        "email": "glavin.wiechert@gmail.com"
      }
    ],
    "id": 154,
    "createdAt": "2015-12-27T06:39:17.000Z",
    "updatedAt": "2015-12-27T06:39:17.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "send-text-message",
        "variableName": "sendTextMessage",
        "friendlyName": "Send text message",
        "cacheable": false,
        "sync": false,
        "description": "Send a text message using the Nexmo SMS API",
        "inputs": {
          "apiKey": {
            "example": "n3xm0rocks",
            "description": "Your NEXMO API Key.",
            "required": true,
            "type": "string"
          },
          "apiSecret": {
            "example": "12ab34cd",
            "description": "Your NEXMO API Secret.",
            "required": true,
            "type": "string"
          },
          "from": {
            "example": "18479121345",
            "description": "Sender SMS number.",
            "extendedDescription": "The number may be alphanumeric (Ex: from=MyCompany20). Restrictions may apply, depending on the destination.",
            "required": true,
            "type": "string"
          },
          "to": {
            "example": "447525856424",
            "description": "Recipient SMS number.",
            "extendedDescription": "Mobile number in international format, and one recipient per request. Ex: to=447525856424 or to=00447525856424 when sending to UK.",
            "required": true,
            "type": "string"
          },
          "text": {
            "example": "D%c3%a9j%c3%a0+vu",
            "description": "Body of the text message.",
            "extendedDescription": "Maximum length of a text message is 3200 characters, UTF-8 and URL encoded value.",
            "required": true,
            "type": "string"
          },
          "protocol": {
            "example": "http",
            "description": "Default protocol for the request is https. User can switch to http.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "requestError": {
            "description": "Fail to send the text message."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var request = require('superagent');\n\n    var protocol = inputs.protocol || 'https';\n    var baseUrl  = protocol + '://rest.nexmo.com';\n    var smsUrl   = baseUrl + '/sms/json';\n\n    request\n      .get(smsUrl)\n      .query({\n        api_key: inputs.apiKey,\n        api_secret: inputs.apiSecret,\n        from: inputs.from,\n        to: inputs.to,\n        text: inputs.text\n      })\n      .end(function(err, res) {\n        if (err) return exits.error(err);\n\n        var result = res.body.messages.reduce(function (initialValue, currentValue, index, array) {\n          if (parseInt(currentValue.status) !== 0) {\n            initialValue.numFails += 1;\n            initialValue.fails.push({\n              messageId: currentValue['message-id'],\n              statusCode: currentValue['status'],\n              errorText: currentValue['error-text']\n            });\n          }\n          return initialValue;\n        }, {\n          numFails: 0,\n          fails: []\n        });\n\n        if (result.numFails === 0) {\n          return exits.success(res.body);\n        } else {\n          return exits.requestError(result);\n        }\n      });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nexmo/send-text-message",
        "docsUrl": "http://node-machine.org/machinepack-nexmo/send-text-message",
        "defaultExit": null,
        "machinepack": 134,
        "id": 577,
        "createdAt": "2015-06-18T22:49:40.000Z",
        "updatedAt": "2015-06-18T22:49:40.000Z"
      }
    ],
    "identity": "machinepack-nexmo",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-06-18T00:00:00.000Z",
    "variableName": "Nexmo",
    "friendlyName": "Nexmo",
    "description": "Interact with the Nexmo SMS-related API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-nexmo",
    "docsUrl": "http://node-machine.org/machinepack-nexmo",
    "npmUrl": "http://npmjs.org/package/machinepack-nexmo",
    "npmPackageName": "machinepack-nexmo",
    "githubUrl": "http://github.com/ppcheng/machinepack-nexmo/",
    "sourceUrl": "http://github.com/ppcheng/machinepack-nexmo/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      },
      {
        "name": "superagent",
        "semverRange": "^1.2.0"
      }
    ],
    "contributors": [
      {
        "name": "ppcheng",
        "email": ""
      }
    ],
    "id": 134,
    "createdAt": "2015-06-18T22:49:40.000Z",
    "updatedAt": "2015-06-18T22:49:40.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "hello",
        "variableName": "hello",
        "friendlyName": "Hello",
        "cacheable": false,
        "sync": true,
        "description": "Say hello on the console.",
        "inputs": {
          "msg": {
            "friendlyName": "Message",
            "description": "The message to be logged.",
            "example": "hello world",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    console.log(inputs.msg);\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nodejsaustin/hello",
        "docsUrl": "http://node-machine.org/machinepack-nodejsaustin/hello",
        "defaultExit": null,
        "machinepack": 115,
        "id": 492,
        "createdAt": "2015-05-15T00:59:42.000Z",
        "updatedAt": "2015-05-15T00:59:42.000Z"
      }
    ],
    "identity": "machinepack-nodejsaustin",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-05-15T00:00:00.000Z",
    "variableName": "NodejsAustin",
    "friendlyName": "Nodejs Austin",
    "description": "Cool stuff for Node.js Austin.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-nodejsaustin",
    "docsUrl": "http://node-machine.org/machinepack-nodejsaustin",
    "npmUrl": "http://npmjs.org/package/machinepack-nodejsaustin",
    "npmPackageName": "machinepack-nodejsaustin",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^7.0.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 115,
    "createdAt": "2015-05-15T00:49:21.000Z",
    "updatedAt": "2015-05-15T00:59:42.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "save-to-storage",
        "variableName": "saveToStorage",
        "friendlyName": "Save to Storage",
        "cacheable": null,
        "sync": null,
        "description": "Save a key-value pair in string format to the persistent data store. This is compatible with PhoneGap/Cordova",
        "inputs": {
          "key": {
            "example": "user",
            "description": "The name of the key you wish to save to the unique session.",
            "required": true,
            "type": "string"
          },
          "value": {
            "example": "NileFrater",
            "description": "The value of the key you wish to save to the datastore. Only supports strings.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "friendlyName": "then",
              "desription": "Successfully saved data to the persistent datastore."
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // Making sure we don't wipe the local storage everytime we write to it.\n    if (typeof localStorage === \"undefined\" || localStorage === null) {\n\n      var LocalStorage = require('node-localstorage').LocalStorage;\n\n      localStorage = new LocalStorage('./scratch');\n    }\n\n    localStorage.setItem(inputs.key, inputs.value);\n\n\n    // Let the server know the data has been saved successfully and return the approproate exit.\n    return exits.success(inputs.value);\n\n  ",
        "environment": [],
        "extendedDescription": "This machinepack provides an easy-to-use key/value pair-based database using the HTML5 localStorage model. With some HTTP requests you should be able to effectively use this as a replacement for cookies on PhoneGap/Cordova-based apps.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nodestore/save-to-storage",
        "docsUrl": "http://node-machine.org/machinepack-nodestore/save-to-storage",
        "defaultExit": "success",
        "machinepack": 91,
        "id": 337,
        "createdAt": "2015-04-13T15:49:28.000Z",
        "updatedAt": "2015-04-15T11:59:30.000Z"
      },
      {
        "identity": "read-from-storage",
        "variableName": "readFromStorage",
        "friendlyName": "Read from Storage",
        "cacheable": null,
        "sync": null,
        "description": "Retrieve a key-value pair from the persistent data store. This is compatible with PhoneGap/Cordova",
        "inputs": {
          "key": {
            "example": "users",
            "description": "The name of the key you wish to retrieve.",
            "required": true,
            "type": "string"
          },
          "asJSON": {
            "example": "true",
            "description": "If true, this machine will return your value as a JSON object. Otherwise, the value will be returned as a JSON-formatted string as default.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "Returned Value",
            "isDefault": true,
            "type": "string"
          },
          "notFound": {
            "friendlyName": "Not Found",
            "description": "No value was found the provided key."
          }
        },
        "fn": "\n    // Making sure we don't wipe the local storage everytime we run this function or try to write to a non-existent location.\n    if (typeof localStorage === \"undefined\" || localStorage === null) {\n\n      var LocalStorage = require('node-localstorage').LocalStorage;\n\n      localStorage = new LocalStorage('./scratch');\n    }\n\n    // Retrieving the specific key/value pair.\n    var kvalue = localStorage.getItem(inputs.key);\n\n    // Do we want to output the value as a JSON object\n    if ( inputs.asJSON === \"true\" ) {\n\n      var kvalue = localStorage.getItem(inputs.key)\n      var kvalue = JSON.parse(kvalue)\n    }\n\n    // Checking the value is actually there...\n    if (kvalue || kvalue === '') {\n\n     // Finally, we return the value of the key/value pair. \n    return exits.success(kvalue);\n    }\n\n    return exits.notFound();\n\n  ",
        "environment": [],
        "extendedDescription": "This machinepack provides an easy-to-use key/value pair-based database using the HTML5 localStorage model. With some HTTP requests you should be able to effectively use this as a replacement for cookies on PhoneGap/Cordova-based apps.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nodestore/read-from-storage",
        "docsUrl": "http://node-machine.org/machinepack-nodestore/read-from-storage",
        "defaultExit": "success",
        "machinepack": 91,
        "id": 338,
        "createdAt": "2015-04-13T15:49:28.000Z",
        "updatedAt": "2015-04-15T11:59:30.000Z"
      },
      {
        "identity": "delete-from-storage",
        "variableName": "deleteFromStorage",
        "friendlyName": "Delete from Storage",
        "cacheable": null,
        "sync": null,
        "description": "Delete a key-value pair from the persistent data store. This is compatible with PhoneGap/Cordova",
        "inputs": {
          "key": {
            "example": "users",
            "description": "The name of the key you wish to delete.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "Returned Value",
            "isDefault": true,
            "type": "string"
          },
          "notFound": {
            "friendlyName": "Not Found",
            "description": "No value was found the provided key."
          }
        },
        "fn": "\n    // Making sure we don't wipe the local storage everytime we write to it.\n    if (typeof localStorage === \"undefined\" || localStorage === null) {\n\n      var LocalStorage = require('node-localstorage').LocalStorage;\n\n      localStorage = new LocalStorage('./scratch');\n    }\n\n    var kvalue = localStorage.getItem(inputs.key);\n\n    // Checking the value is actually there...\n    if (kvalue || kvalue === '') {\n      localStorage.removeItem(inputs.key)\n    return exits.success(kvalue);\n    }\n\n    return exits.notFound();\n\n  ",
        "environment": [],
        "extendedDescription": "This machinepack provides an easy-to-use key/value pair-based database using the HTML5 localStorage model. With some HTTP requests you should be able to effectively use this as a replacement for cookies on PhoneGap/Cordova-based apps.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nodestore/delete-from-storage",
        "docsUrl": "http://node-machine.org/machinepack-nodestore/delete-from-storage",
        "defaultExit": "success",
        "machinepack": 91,
        "id": 339,
        "createdAt": "2015-04-13T15:49:28.000Z",
        "updatedAt": "2015-04-15T11:59:30.000Z"
      },
      {
        "identity": "save-json-to-storage",
        "variableName": "saveJsonToStorage",
        "friendlyName": "Save JSON to Storage",
        "cacheable": null,
        "sync": null,
        "description": "Save a key-value pair in string format to the persistent data store. This is compatible with PhoneGap/Cordova",
        "inputs": {
          "key": {
            "example": "user",
            "description": "The name of the key you wish to save to the unique session.",
            "required": true,
            "type": "string"
          },
          "value": {
            "typeclass": "*",
            "description": "The value of the key you wish to save to the datastore. Only supports JSON-formatted strings or objects.",
            "required": true,
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "friendlyName": "then",
              "desription": "Successfully saved data to the persistent datastore."
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    // Making sure we don't wipe the local storage everytime we write to it.\n    if (typeof localStorage === \"undefined\" || localStorage === null) {\n\n      var LocalStorage = require('node-localstorage').LocalStorage;\n\n      localStorage = new LocalStorage('./scratch');\n    }\n\n    localStorage.setItem(inputs.key, JSON.stringify(inputs.value));\n\n\n    // Let the server know the data has been saved successfully and return the approproate exit.\n    return exits.success(inputs.value);\n\n  ",
        "environment": [],
        "extendedDescription": "This machinepack provides an easy-to-use key/value pair-based database using the HTML5 localStorage model. With some HTTP requests you should be able to effectively use this as a replacement for cookies on PhoneGap/Cordova-based apps.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-nodestore/save-json-to-storage",
        "docsUrl": "http://node-machine.org/machinepack-nodestore/save-json-to-storage",
        "defaultExit": "success",
        "machinepack": 91,
        "id": 340,
        "createdAt": "2015-04-13T15:49:28.000Z",
        "updatedAt": "2015-04-15T11:59:30.000Z"
      }
    ],
    "identity": "machinepack-nodestore",
    "version": "0.4.0",
    "latestVersionPublishedAt": "2015-04-15T00:00:00.000Z",
    "variableName": "NodeStore",
    "friendlyName": "NodeStore",
    "description": "This machinepack provides an easy-to-use key/value pair-based database using the HTML5 localStorage model.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-nodestore",
    "docsUrl": "http://node-machine.org/machinepack-nodestore",
    "npmUrl": "http://npmjs.org/package/machinepack-nodestore",
    "npmPackageName": "machinepack-nodestore",
    "githubUrl": "http://github.com/nilefrater/machinepack-nodestore/",
    "sourceUrl": "http://github.com/nilefrater/machinepack-nodestore/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "node-localstorage",
        "semverRange": "^0.5.0"
      }
    ],
    "contributors": [
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 91,
    "createdAt": "2015-04-13T15:49:28.000Z",
    "updatedAt": "2015-04-15T11:59:30.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "list-packages",
        "variableName": "listPackages",
        "friendlyName": "List packages",
        "cacheable": true,
        "sync": null,
        "description": "List packages in the public npm registry whose keywords match the specified search query.",
        "inputs": {
          "query": {
            "example": "sails-hook-",
            "description": "A string that will be used when querying npm.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": [
              "sails-hook-autoreload"
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n\n    // Module dependencies\n    var util = require('util');\n    var _ = require('lodash');\n\n    //\n    // See http://stackoverflow.com/a/13657540/486547\n    //\n    // The URL ends up being something like:\n    // ```\n    // https://registry.npmjs.org/-/_view/byKeyword?startkey=[%22sails%22]&endkey=[%22sails%22,{}]&group_level=3\n    // ```\n    //\n\n    require('machinepack-http').sendHttpRequest({\n      baseUrl: 'https://registry.npmjs.org',\n      method: 'GET',\n      url: '/-/_view/byKeyword',\n      params: {\n        startkey: JSON.stringify([inputs.query]),\n        endkey: JSON.stringify([inputs.query, {}]),\n        group_level: 3\n      }\n    }, function (err, response) {\n      if (err) { return exits.error(err); }\n\n      // Parse response body\n      var rows;\n      try {\n        rows = JSON.parse(response.body).rows;\n        if (!_.isArray(rows)) {\n          throw new Error(util.format('Expecting array but got %s', util.inspect(response.body, false, null)));\n        }\n      }\n      catch (e) {\n        return exits.error('Unexpected response from NPM: '+util.inspect(response.body, false, null));\n      }\n\n      var npmModuleNames;\n      try {\n        // Pluck `key` from each result in the JSON response body\n        npmModuleNames = _.map(rows, function (moduleMetadata){\n          return moduleMetadata.key[1];\n        });\n      }\n      catch(e) {return exits.error(err);}\n\n      return exits.success(npmModuleNames);\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/list-packages",
        "docsUrl": "http://node-machine.org/machinepack-npm/list-packages",
        "defaultExit": "success",
        "machinepack": 20,
        "id": 82,
        "createdAt": "2015-02-16T23:51:32.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "download-package",
        "variableName": "downloadPackage",
        "friendlyName": "Download package",
        "cacheable": true,
        "sync": null,
        "description": "Stream the tarball for the NPM package+version to disk, then extract it.",
        "inputs": {
          "name": {
            "friendlyName": "Package name",
            "description": "The name of the NPM package to fetch",
            "example": "isarray",
            "required": true,
            "type": "string"
          },
          "version": {
            "friendlyName": "Package version",
            "description": "The version of the NPM package to fetch",
            "example": "0.0.1",
            "required": true,
            "type": "string"
          },
          "registry": {
            "friendlyName": "Registry URL",
            "description": "The URL of the NPM registry to use (defaults to the public npm registry)",
            "example": "https://your-private-registry.npmjs.org",
            "defaultsTo": "https://registry.npmjs.org",
            "type": "string"
          },
          "destination": {
            "description": "The absolute path where the package should be extracted.",
            "extendedDescription": "If a relative path is specified, it will be resolved relative to cwd.\nIf left unspecified, the package will be extracted into a new subfolder within the operating system's `tmp/` directory.",
            "example": "/Users/mikermcneil/dogfood-promo-site",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "The untar'ed files will be stored in the operating system's temporary directory under a folder given by the `name` and `version` inputs.  e.g. if `name` is \"foobar\" and `version` is \"0.2.1\", then the untar'ed files might be in \"/tmp/foobar-0.2.1/package/*\".  This exit returns the absolute path to the folder of untar'ed goodies.",
            "outputFriendlyName": "Path",
            "outputDescription": "The path to the downloaded & extracted NPM package on disk.",
            "example": "/var/folders/_s/347n05_x2rgb_0w6s6y0ytr00000gn/T/machinepack-phantomjscloud-0.1.2",
            "isDefault": true,
            "type": "string"
          },
          "untarFailed": {
            "description": "Could not extract (untar) the tarball downloaded from NPM."
          },
          "unzipFailed": {
            "description": "Could not unzip the `.tar.gz` file downloaded from NPM."
          },
          "downloadFailed": {
            "description": "Could not download the package from npm- perhaps the registry URL is incorrect?"
          },
          "invalidSemVer": {
            "description": "Passed an invalid semantic version number. See https://docs.npmjs.com/misc/semver for details."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var request = require('request');\n    var os = require('os');\n    var path = require('path');\n    var zlib = require('zlib');\n    var tar = require('tar');\n    var Urls = require('machinepack-urls');\n    var semver = require('semver');\n\n    if (!semver.valid(inputs.version)) {\n      return exits.invalidSemVer();\n    }\n\n\n    // Build a sanitized version of the provided registry URL (i.e. with \"http://\")\n    // (default to public NPM registry)\n    var registryUrl = Urls.sanitize({\n      url: inputs.registry || 'https://registry.npmjs.org',\n    }).execSync();\n\n    // Build the URL where the remote package tarball lives.\n    var remoteFilename = inputs.name + '-' + inputs.version + '.tgz';\n    var uri = Urls.buildUrlFromTemplate({\n      urlTemplate: registryUrl+'/:name/-/:remoteFilename',\n      data: {\n        name: inputs.name,\n        remoteFilename: remoteFilename\n      },\n    }).execSync();\n\n    (function _requestPkgFromNPMAndExtractResAsStream(done){\n      // Set up a spinlock, just to be safe.\n      var alreadyFinished;\n\n      // Figure out the appropriate path to a directory where the package will\n      // be extracted after it is downloaded.  If no explicit `destination` path\n      // was specified, then use the path to a new subfolder within the operating\n      // system's `/tmp` directory.\n      var destinationPath = (function (){\n        if (typeof inputs.destination !== 'undefined') {\n          return path.resolve(inputs.destination);\n        }\n        else {\n          return path.resolve(os.tmpDir(), inputs.name + '-' + inputs.version);\n        }\n      })();\n\n      var gunner = zlib.createGunzip()\n      .once('error', function (err){\n        if (alreadyFinished) { return; }\n        alreadyFinished = true;\n        return done(err||new Error('gzip extraction error'));\n      });\n\n      var extractor = tar.Extract({ path: destinationPath })\n      .once('error', function (err){\n        if (alreadyFinished) { return; }\n        alreadyFinished = true;\n        return done(err||new Error('tar extraction error'));\n      })\n      .once('end', function() {\n        if (alreadyFinished) { return; }\n        alreadyFinished = true;\n        return done(null, path.join(destinationPath, 'package'));\n      });\n\n      var httpClientRequest = request.get(uri);\n      httpClientRequest.once('error', function (err){\n        if (alreadyFinished) { return; }\n        alreadyFinished = true;\n        return done(err||new Error('HTTP request stream error'));\n      });\n      httpClientRequest.pipe(gunner).pipe(extractor);\n    })(function afterwards(err, resultPath){\n      if (err) { return exits.error(err); }\n      return exits.success(resultPath);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/download-package",
        "docsUrl": "http://node-machine.org/machinepack-npm/download-package",
        "defaultExit": "success",
        "machinepack": 20,
        "id": 84,
        "createdAt": "2015-02-16T23:51:32.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "list-packages-with-details",
        "variableName": "listPackagesWithDetails",
        "friendlyName": "List packages (detailed)",
        "cacheable": true,
        "sync": null,
        "description": "List matching packages and include metadata from their package.json files.",
        "inputs": {
          "query": {
            "example": "sails",
            "description": "The search query to send to NPM.",
            "extendedDescription": "This string will be used to search within package keywords.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "An array of package detail dictionaries for each of the matching NPM packages.",
            "example": [
              {
                "name": "browserify",
                "description": "asg",
                "version": "0.1.1",
                "latestVersionPublishedAt": "2015-01-19T22:26:54.588Z",
                "npmUrl": "http://npmjs.org/package/machinepack-foo",
                "sourceUrl": "https://github.com/baz/machinepack-foo",
                "author": "Substack <substack@substack.com>",
                "main": "lib/index.js",
                "license": "MIT",
                "rawJson": "{...package.json data as a JSON string...}",
                "keywords": [
                  "machine"
                ],
                "contributors": [
                  {
                    "name": "Substack",
                    "email": "substack@substack.com"
                  }
                ],
                "dependencies": [
                  {
                    "name": "lodash",
                    "semverRange": "^2.4.1"
                  }
                ]
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var async = require('async');\n    var NPM = require('../');\n\n\n    NPM.listPackages({\n      query: inputs.query\n    }).exec(function (err, npmPackageNames) {\n      if (err) { return exits.error(err); }\n\n      // Now expand each module with full results directly\n      // from the npm registry.\n      var pkgInfos = [];\n\n      async.each(\n        npmPackageNames,\n\n        function iteratee(packageName, next) {\n\n          NPM.fetchInfo({\n            packageName: packageName\n          }).exec(function (err, pkgInfo) {\n            if (err) { return next(err); }\n\n            var metadata;\n            try {\n\n              var rawJsonStr = JSON.stringify(pkgInfo);\n\n              metadata = NPM.parsePackageJson({ json: rawJsonStr }).execSync();\n\n              // Attach raw json string\n              metadata.rawJson = rawJsonStr;\n\n            } catch (e){ return next(e); }\n\n            pkgInfos.push(metadata);\n\n            return next();\n\n          });\n        },//</iteratee>\n\n        // ~â%Â°\n        function afterwards(err) {\n          if (err) { return exits.error(err); }\n          return exits.success(pkgInfos);\n        }\n      );//</async.each>\n    });//</listPackages()>\n  ",
        "environment": [],
        "extendedDescription": "Also includes the raw package.json string as `rawJson`, in case you need to parse additional non-standard metadata.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/list-packages-with-details",
        "docsUrl": "http://node-machine.org/machinepack-npm/list-packages-with-details",
        "defaultExit": "success",
        "machinepack": 20,
        "id": 85,
        "createdAt": "2015-02-16T23:51:32.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "install-package",
        "variableName": "installPackage",
        "friendlyName": "Install package",
        "cacheable": true,
        "sync": null,
        "description": "Install a package from the NPM registry to the node_modules folder of a local project.",
        "inputs": {
          "name": {
            "friendlyName": "Package name",
            "description": "The name of the NPM package to install.",
            "extendedDescription": "Can also be a custom url to a package.",
            "example": "express",
            "required": true,
            "type": "string"
          },
          "version": {
            "friendlyName": "Version range",
            "description": "A version string (or semver range) of the NPM package to install.",
            "example": "~1.0.0",
            "defaultsTo": "*",
            "type": "string"
          },
          "dir": {
            "friendlyName": "Directory",
            "description": "The local path where the package should be installed as a dependency.",
            "extendedDescription": "This is to the local package itself-- NOT its node_modules folder! Also note that, if specified as a relative path, this will be resolved relative to the current working directory.  If unspecified, the current working directory will be used.",
            "example": "/Users/mikermcneil/dogfood-promo-site",
            "type": "string"
          },
          "save": {
            "friendlyName": "Save dependency?",
            "description": "If set, the installed package will be saved to the package.json file as a dependency.",
            "extendedDescription": "This runs `npm install` with the --save flag enabled.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "saveDev": {
            "friendlyName": "Save dev dependency?",
            "description": "If set, the installed package will be saved to the package.json file as a development-only dependency.",
            "extendedDescription": "This runs `npm install` with the --save-dev flag enabled.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "saveExact": {
            "friendlyName": "Pin version?",
            "description": "If set, the installed package will be saved to the package.json file as an exact version, rather than a semver range.",
            "extendedDescription": "This runs `npm install` with the --save-exact flag enabled.  It should always be used in combination with either `save` or `saveDev`, and never by itself!",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "prefix": {
            "friendlyName": "Prefix",
            "description": "An optional path prefix which affects the root path in which this NPM package gets installed.",
            "extendedDescription": "Note that the package will still be installed within node_modules of the destination directory. This just controls the `--prefix` command-line option passed to `npm install`.",
            "example": "./path-to-project",
            "type": "string"
          },
          "loglevel": {
            "friendlyName": "Log level",
            "description": "If set, NPM will write logs to the console at the specified log level.",
            "extendedDescription": "This controls the --loglevel flag passed to `npm install`. Available options are \"silent\", \"warn\", \"verbose\" and \"silly\".",
            "example": "warn",
            "defaultsTo": "silent",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "invalidSemVer": {
            "description": "Provided semver range is invalid. See https://docs.npmjs.com/misc/semver for more information."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var enpeem = require('enpeem');\n    var semver = require('semver');\n\n    if (inputs.saveExact && !inputs.save && !inputs.saveDev) {\n      throw new Error('Cannot use `saveExact` without also setting either `save` or `saveDev`.');\n    }\n    if (inputs.save && inputs.saveDev) {\n      throw new Error('Cannot use both `save` AND `saveDev`!');\n    }\n\n    // Resolve provided path to ensure it is absolute\n    // (and default to cwd if it was left unspecified)\n    inputs.dir = inputs.dir ? path.resolve(inputs.dir) : process.cwd();\n\n    // Validate provided semver range.\n    if (!semver.validRange(inputs.version)) {\n      return exits.invalidSemVer();\n    }\n\n    // Install the npm package\n    enpeem.install({\n      dependencies: [\n        inputs.name + '@' + inputs.version\n      ],\n      dir: inputs.dir,\n      save: inputs.save,\n      saveDev: inputs.saveDev,\n      saveExact: inputs.saveExact,\n      loglevel: inputs.loglevel,\n      prefix: inputs.prefix,\n      'cache-min': 999999999\n    }, function (err) {\n      if (err) { return exits.error(err); }\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/install-package",
        "docsUrl": "http://node-machine.org/machinepack-npm/install-package",
        "defaultExit": "success",
        "machinepack": 20,
        "id": 86,
        "createdAt": "2015-02-16T23:51:32.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "parse-package-json",
        "variableName": "parsePackageJson",
        "friendlyName": "Parse package.json",
        "cacheable": true,
        "sync": true,
        "description": "Parse metadata for the latest version of the NPM package given a package.json string.",
        "inputs": {
          "json": {
            "example": "{...packagejson contents...}",
            "description": "The package.json string for the NPM package.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "example": {
              "name": "browserify",
              "description": "asg",
              "version": "0.1.1",
              "keywords": [
                "machine"
              ],
              "latestVersionPublishedAt": "2015-01-19T22:26:54.588Z",
              "npmUrl": "http://npmjs.org/package/machinepack-foo",
              "sourceUrl": "https://github.com/baz/machinepack-foo",
              "author": "Substack <substack@substack.com>",
              "main": "lib/index.js",
              "dependencies": [
                {
                  "name": "lodash",
                  "semverRange": "^2.4.1"
                }
              ],
              "license": "MIT",
              "contributors": [
                {
                  "name": "Substack",
                  "email": "substack@substack.com"
                }
              ],
              "rawJson": "{...package.json data as a JSON string...}"
            },
            "isDefault": true,
            "type": "object"
          },
          "invalid": {
            "description": "NPM package.json string is in an invalid format."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n\n    var moduleMetadata = {};\n    var _data;\n\n    try {\n      _data = JSON.parse(inputs.json);\n    }\n    catch (e){\n      return exits.invalid(e);\n    }\n\n    try {\n      // Include basic metadata\n      moduleMetadata.name = _data._id || _data.name;\n      moduleMetadata.description = _data.description;\n      moduleMetadata.keywords = _data.keywords;\n      moduleMetadata.version = (function (){\n        if (_data['dist-tags']) {\n          return _data['dist-tags'].latest;\n        }\n        return _data.version;\n      })();\n      moduleMetadata.latestVersionPublishedAt = _data.time ? _data.time.modified : '';\n      moduleMetadata.author = _data.author;\n      moduleMetadata.license = _data.license;\n\n      // Determine where to find metadata about the latest version\n      var latestVersion = _data.versions ? _data.versions[moduleMetadata.version] : _data;\n\n      // Parse dependencies.\n      moduleMetadata.dependencies = _.reduce(latestVersion.dependencies, function (memo, semverRange, name){\n        memo.push({\n          name: name,\n          semverRange: semverRange\n        });\n        return memo;\n      }, []);\n\n      // Build an NPM url for convenience.\n      moduleMetadata.npmUrl = util.format('http://npmjs.org/package/%s', moduleMetadata.name);\n\n      // Build the source code URL, if applicable.\n      moduleMetadata.sourceUrl = (function extractRepoUrl (){\n        var repoUrl;\n\n        // First grab the repoUrl from the npm package.json data\n        if (_.isString(latestVersion.repository)) {\n          repoUrl = latestVersion.repository;\n        }\n        else if (!_.isObject(latestVersion.repository)) {\n          return undefined;\n        }\n        else {\n          try {\n            repoUrl = latestVersion.repository.url;\n          }\n          catch (e) { return undefined; }\n        }\n\n        // Then, ensure that it is an http[s] Github URL, by coercing it into one if it isn't already.\n        // (also makes sure that the URL has a trailing slash)\n        repoUrl = repoUrl.replace(/^.*github\\.com[:\\/]/, 'http://github.com/');\n        repoUrl = repoUrl.replace(/\\.git$/, '');\n        repoUrl = repoUrl.replace(/\\/*$/, '/');\n\n        // i.e.\n        // something like \"git://github.com/irlnathan/machinepack-facebook.git\" or \"git@github.com:irlnathan/machinepack-facebook.git\"\n        // becomes something like \"http://github.com/irlnathan/machinepack-facebook\"\n\n        return repoUrl;\n      })();\n\n      // Normalize contributors list from NPM maintainers, contributors, & author properties.\n      moduleMetadata.contributors = (function buildAggregatedContributorsList () {\n        var contributorsList = [];\n        if (latestVersion.author) {\n          contributorsList.push(latestVersion.author);\n        }\n        if (_.isArray(latestVersion.contributors)) {\n          contributorsList = contributorsList.concat(latestVersion.contributors);\n        }\n        if (_.isArray(latestVersion.maintainers)) {\n          contributorsList = contributorsList.concat(latestVersion.maintainers);\n        }\n\n        contributorsList = _.map(contributorsList, function (contributor) {\n          return {\n            name: _.isString(contributor) ? contributor : contributor.name,\n            email: contributor.email || undefined\n          };\n        });\n\n        // Remove duplicates\n        contributorsList = _.uniq(contributorsList, false, function (contributor) { return contributor.name; });\n\n        return contributorsList;\n      })();\n    }\n    catch (e) {\n      return exits.invalid(e);\n    }\n\n    return exits.success(moduleMetadata);\n\n  ",
        "environment": [],
        "extendedDescription": "This machine understands how to parse both a normal package.json string, as well as a rich package.json string downloaded from an NPM registry.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/parse-package-json",
        "docsUrl": "http://node-machine.org/machinepack-npm/parse-package-json",
        "defaultExit": "success",
        "machinepack": 20,
        "id": 87,
        "createdAt": "2015-02-16T23:51:32.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "publish",
        "variableName": "publish",
        "friendlyName": "Publish package",
        "cacheable": null,
        "sync": null,
        "description": "Publish a package to the public NPM registry.",
        "inputs": {
          "dir": {
            "friendlyName": "Directory",
            "description": "The path to the directory where the package is located on disk.",
            "example": "/Users/mikermcneil/dogfood-promo-site",
            "required": true,
            "type": "string"
          },
          "restrictAccess": {
            "friendlyName": "Restrict access?",
            "description": "Whether or not this package should be marked as private.",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "alreadyExists": {
            "description": "Cannot overwrite- that package has already been published at the version in the package.json file.",
            "extendedDescription": "You should avoid publishing on top of existing versions of packages.  It can break developers' production deployments.  However, if you made a terrible mistake and must do this, unpublish this version of your package and try running this machine again.  Note that you may need to wait 2-3 hours before the NPM registry will let you republish."
          },
          "noSuchDir": {
            "description": "No directory exists at the provided path."
          },
          "notADir": {
            "description": "The provided path does not point to a directory (i.e. it might be a file or shortcut)"
          },
          "invalidPackage": {
            "description": "The package does not contain a package.json file, or it cannot be parsed."
          },
          "success": {
            "description": "OK.",
            "example": {
              "name": "@mattmueller/cheerio",
              "version": "2.0.0"
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var Path = require('path');\n    var Proc = require('machinepack-process');\n    var Filesystem = require('machinepack-fs');\n\n    Filesystem.readJson({\n      source: Path.resolve(inputs.dir, 'package.json'),\n      schema: {\n        name: 'some-package',\n        version: '2.0.0'\n      }\n    }, {\n      error: exits.error,\n      doesNotExist: function (){\n        return exits.invalidPackage();\n      },\n      couldNotParse: function (){\n        return exits.invalidPackage();\n      },\n      success: function (pkgData){\n\n        // if this package will be public (`restrictAccess` disabled)\n        // then the command will include `--access=public`\n        var cmd = 'npm publish';\n        if (!inputs.restrictAccess) {\n          cmd += ' --access=public';\n        }\n\n        Proc.spawn({\n          command: cmd,\n          dir: inputs.dir\n        }).exec({\n          error: function (err){\n            try {\n              // err.stack\n              // err.killed\n              // err.signal\n              // err.code\n              if (err.message.match(/You cannot publish over the previously published version/i)){\n                return exits.alreadyExists();\n              }\n              return exits.error(err);\n            }\n            catch (_e) {\n              return exits.error(err||_e);\n            }\n          },\n          notADir: exits.notADir,\n          noSuchDir: exits.noSuchDir,\n          success: function (bufferedOutput){\n            return exits.success(pkgData);\n          }\n        });\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/publish",
        "docsUrl": "http://node-machine.org/machinepack-npm/publish",
        "defaultExit": null,
        "machinepack": 20,
        "id": 467,
        "createdAt": "2015-05-08T18:29:35.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "unpublish",
        "variableName": "unpublish",
        "friendlyName": "Unpublish package",
        "cacheable": null,
        "sync": null,
        "description": "Unpublish a package from the public NPM registry.",
        "inputs": {
          "packageName": {
            "friendlyName": "Package name",
            "description": "The name of the NPM package to unpublish.",
            "example": "cheerio",
            "required": true,
            "type": "string"
          },
          "version": {
            "friendlyName": "Package version",
            "description": "The version to unpublish (if omitted, all versions will be unpublished)",
            "example": "1.0.0",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Proc = require('machinepack-process');\n    var cmd = 'npm unpublish '+inputs.packageName+(inputs.version?('@'+inputs.version):' --force');\n    Proc.spawn({\n      command: cmd\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      success: function (bufferedOutput){\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/unpublish",
        "docsUrl": "http://node-machine.org/machinepack-npm/unpublish",
        "defaultExit": null,
        "machinepack": 20,
        "id": 468,
        "createdAt": "2015-05-08T18:29:35.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "open-source",
        "variableName": "openSource",
        "friendlyName": "Open-source access",
        "cacheable": null,
        "sync": null,
        "description": "Open up public access to a package published on NPM.",
        "inputs": {
          "packageName": {
            "friendlyName": "Package name",
            "description": "The name of the NPM package to open-source.",
            "example": "@mattmueller/cheerio",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Proc = require('machinepack-process');\n\n    Proc.spawn({\n      command: 'npm access public '+inputs.packageName\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      success: function (bufferedOutput){\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/open-source",
        "docsUrl": "http://node-machine.org/machinepack-npm/open-source",
        "defaultExit": null,
        "machinepack": 20,
        "id": 469,
        "createdAt": "2015-05-08T18:29:35.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "restrict",
        "variableName": "restrict",
        "friendlyName": "Restrict access",
        "cacheable": null,
        "sync": null,
        "description": "Restrict access to a package published on NPM.",
        "inputs": {
          "packageName": {
            "friendlyName": "Package name",
            "description": "The name of the NPM package to retrict access to.",
            "example": "@mattmueller/cheerio",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "unscopedPackage": {
            "description": "You can't change the access level of an unscoped package (e.g. \"lodash\" is unscoped, whereas \"@jdalton/lodash\" is scoped.)"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Proc = require('machinepack-process');\n\n    Proc.spawn({\n      command: 'npm access restricted '+inputs.packageName\n    }).exec({\n      error: function (err){\n        try {\n          if (err.message.match(/Sorry, you can\\'t change the access level of unscoped packages/i)) {\n            return exits.unscopedPackage();\n          }\n        }\n        catch (_e){}\n        return exits.error(err);\n      },\n      success: function (bufferedOutput){\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/restrict",
        "docsUrl": "http://node-machine.org/machinepack-npm/restrict",
        "defaultExit": null,
        "machinepack": 20,
        "id": 470,
        "createdAt": "2015-05-08T18:29:35.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "fetch-info",
        "variableName": "fetchInfo",
        "friendlyName": "Fetch info",
        "cacheable": true,
        "sync": null,
        "description": "Look up information about the latest version of the specified NPM package.",
        "inputs": {
          "packageName": {
            "description": "The unique name of the NPM package.",
            "example": "browserify",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "NPM package info",
            "outputDescription": "Information about the specified NPM package, pulled directly from its package.json info in the NPM registry.",
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "packageNotFound": {
            "description": "No package exists on the public NPM registry with the specified name."
          },
          "couldNotParse": {
            "description": "The package.json string for the specified package could not be parsed as JSON."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    if (inputs.packageName.match(/^@/)){\n      return exits.error(new Error('This machine does not currently support scoped packages (e.g. @mikermcneil/foobar)'));\n    }\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://registry.npmjs.org',\n      url: util.format('/%s', inputs.packageName)\n    }).exec({\n      error: function (err) {\n        return exits.error(err);\n      },\n      notFound: function (response) {\n        return exits.packageNotFound(response);\n      },\n      success: function (response) {\n        var parsed;\n        try { parsed = JSON.parse(response.body); }\n        catch (e) { return exits.couldNotParse(e); }\n\n        return exits.success(parsed);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "This fetches the package.json string for the specified package directly from the NPM registry.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/fetch-info",
        "docsUrl": "http://node-machine.org/machinepack-npm/fetch-info",
        "defaultExit": "success",
        "machinepack": 20,
        "id": 471,
        "createdAt": "2015-05-08T18:29:35.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "arrayify-dependencies",
        "variableName": "arrayifyDependencies",
        "friendlyName": "Arrayify dependencies",
        "cacheable": true,
        "sync": true,
        "description": "Flatten the provided depenencies dictionary into a homogeneous array of dictionaries.",
        "inputs": {
          "dependencies": {
            "example": {},
            "description": "A dependencies dictionary; i.e. from a package.json file",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "example": [
              {
                "name": "lodash",
                "semverRange": "^2.4.1"
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    // Flatten dependencies.\n    var flattenedDeps = _.reduce(inputs.dependencies, function (memo, semverRange, name){\n      memo.push({\n        name: name,\n        semverRange: semverRange\n      });\n      return memo;\n    }, []);\n\n    return exits.success(flattenedDeps);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/arrayify-dependencies",
        "docsUrl": "http://node-machine.org/machinepack-npm/arrayify-dependencies",
        "defaultExit": null,
        "machinepack": 20,
        "id": 628,
        "createdAt": "2015-07-04T19:59:37.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "unarrayify-dependencies",
        "variableName": "unarrayifyDependencies",
        "friendlyName": "Unarrayify dependencies",
        "cacheable": true,
        "sync": true,
        "description": "Un-flatten the provided array back into a traditional NPM dependencies dictionary.",
        "inputs": {
          "dependencies": {
            "description": "A homogeneous array of dictionaries representing a set of dependencies.",
            "example": [
              {
                "name": "lodash",
                "semverRange": "^2.4.1"
              }
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "example": {},
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    // Un-flatten dependencies.\n    var dependenciesDict = _.reduce(inputs.dependencies, function (memo, dependency){\n      memo[dependency.name] = dependency.semverRange;\n      return memo;\n    }, {});\n\n    return exits.success(dependenciesDict);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/unarrayify-dependencies",
        "docsUrl": "http://node-machine.org/machinepack-npm/unarrayify-dependencies",
        "defaultExit": null,
        "machinepack": 20,
        "id": 629,
        "createdAt": "2015-07-04T19:59:37.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "install-dependencies",
        "variableName": "installDependencies",
        "friendlyName": "Install NPM dependencies",
        "cacheable": null,
        "sync": null,
        "description": "Install NPM dependencies of local package at the specified path.",
        "inputs": {
          "dir": {
            "friendlyName": "Directory",
            "description": "The path to the directory where the package is located on disk.",
            "example": "/Users/mikermcneil/dogfood-promo-site",
            "extendedDescription": "This is to the local package itself-- NOT its node_modules folder! Also note that, if specified as a relative path, this will be resolved relative to the current working directory.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "noSuchDir": {
            "description": "No directory exists at the provided path."
          },
          "notADir": {
            "description": "The provided path does not point to a directory (i.e. it might be a file or shortcut)"
          },
          "invalidPackage": {
            "description": "The package does not contain a package.json file, or it cannot be parsed."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var path = require('path');\n    var Proc = require('machinepack-process');\n    var Filesystem = require('machinepack-fs');\n\n    // Ensure specified dir path is absolute by resolving it\n    // relative to the current working directory.\n    inputs.dir = path.resolve(inputs.dir);\n\n    // Ensure this is a valid package.\n    Filesystem.readJson({\n      source: path.join(inputs.dir, 'package.json'),\n      schema: {\n        name: 'some-package',\n        version: '2.0.0'\n      }\n    }).exec({\n      error: exits.error,\n      doesNotExist: function (){\n        return exits.invalidPackage();\n      },\n      couldNotParse: function (){\n        return exits.invalidPackage();\n      },\n      success: function (){\n\n        // Run `npm install`\n        Proc.spawn({\n          command: 'npm install',\n          dir: inputs.dir\n        }).exec({\n          error: function (err){\n            try {\n              // err.stack\n              // err.killed\n              // err.signal\n              // err.code\n              return exits.error(err);\n            }\n            catch (_e) {\n              return exits.error(err||_e);\n            }\n          },\n          notADir: exits.notADir,\n          noSuchDir: exits.noSuchDir,\n          success: function (bufferedOutput){\n            return exits.success();\n          }\n        });//</after spawning `npm install` as a child process>\n      }\n    });//</after ensuring this is a valid package>\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/install-dependencies",
        "docsUrl": "http://node-machine.org/machinepack-npm/install-dependencies",
        "defaultExit": null,
        "machinepack": 20,
        "id": 632,
        "createdAt": "2015-07-05T19:50:03.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "get-latest-version",
        "variableName": "getLatestVersion",
        "friendlyName": "Get latest version",
        "cacheable": true,
        "sync": null,
        "description": "Look up the version string for the latest published version of the specified NPM package.",
        "inputs": {
          "packageName": {
            "description": "The unique name of the NPM package.",
            "example": "browserify",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Latest version",
            "outputDescription": "The version string for the latest published version of the specified package on NPM.",
            "example": "1.0.0",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "packageNotFound": {
            "description": "No package exists on the public NPM registry with the specified name."
          },
          "couldNotParse": {
            "description": "The package.json string for the specified package could not be parsed as JSON."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var NPM = require('../');\n\n    if (inputs.packageName.match(/^@/)){\n      return exits.error(new Error('This machine does not currently support scoped packages (e.g. @mikermcneil/foobar)'));\n    }\n\n    NPM.fetchInfo({\n      packageName: inputs.packageName\n    }).exec({\n      error: exits.error,\n      packageNotFound: exits.packageNotFound,\n      couldNotParse: exits.couldNotParse,\n      success: function (npmPackageInfo){\n\n        var latestPublishedVersion;\n        try {\n          var distTags = npmPackageInfo['dist-tags'];\n          if (!_.isObject(distTags)) {\n            return exits.couldNotParse(new Error('Missing or invalid `dist-tags` received from NPM.'));\n          }\n          latestPublishedVersion = distTags.latest;\n        } catch (e) { return exits.couldNotParse(e); }\n\n        if (!_.isString(latestPublishedVersion)) {\n          return exits.couldNotParse(new Error('Missing or invalid `dist-tags.latest` version string received from NPM (it is claiming that `'+latestPublishedVersion+'` is the latest version)'));\n        }\n\n        return exits.success(latestPublishedVersion);\n      }//</â¢-upon success::NPM.fetchInfo>\n    });//</NPM.fetchInfo()>\n  ",
        "environment": [],
        "extendedDescription": "This fetches uses information directly from the NPM registry's Couch database.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/get-latest-version",
        "docsUrl": "http://node-machine.org/machinepack-npm/get-latest-version",
        "defaultExit": null,
        "machinepack": 20,
        "id": 812,
        "createdAt": "2016-07-28T17:10:02.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "validate-version",
        "variableName": "validateVersion",
        "friendlyName": "Validate version",
        "cacheable": true,
        "sync": true,
        "description": "Validate (and potentially coerce) the specified string, verifying that it is compatible for use as an NPM version string.",
        "inputs": {
          "string": {
            "description": "The string to validate as a NPM-compatible/semver version string.",
            "extendedDescription": "Keep in mind that this method expects a version string, **not a semver range**.  So in other words, \"1.0.0\" is valid but \"^1.0.0\" is not.",
            "example": "1.0.0",
            "required": true,
            "type": "string"
          },
          "strict": {
            "description": "If set, instead of coercing, the validation will fail as \"not strictly valid\".",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Version string",
            "outputDescription": "The validated version string (which might also have been coerced a bit).",
            "example": "1.0.0",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "isEmpty": {
            "description": "The specified string is empty (or at least it is after coercion)."
          },
          "tooLong": {
            "description": "The specified string is too long (or at least it is after coercion)."
          },
          "invalidSemanticVersion": {
            "description": "The specified string is not a valid semver (semantic version)."
          },
          "notStrictlyValid": {
            "description": "The specified string is close, but not strictly valid (only relevant if `strict` is enabled)."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var semver = require('semver');\n\n    // Coerce (/validate strict):\n    //////////////////////////////////////////////////////////////////\n\n    // TODO: coerce \"almost\" version strings, e.g. `1.0`\n\n\n    // Validate:\n    //////////////////////////////////////////////////////////////////\n\n    // Not Blank\n    //\n    // i.e. empty string ('')\n    if (inputs.string.length === 0) {\n      return exits.isEmpty();\n    }\n\n    // 20 Characters Max\n    if (inputs.string.length > 20) {\n      return exits.tooLong();\n    }\n\n    // Semantic Version\n    if (!semver.valid(inputs.string)) {\n      return exits.invalidSemanticVersion();\n    }\n\n    // If we made it here, the provided string is valid and good to go!\n    // (it also might have been coerced a bit)\n    return exits.success(inputs.string);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/validate-version",
        "docsUrl": "http://node-machine.org/machinepack-npm/validate-version",
        "defaultExit": null,
        "machinepack": 20,
        "id": 813,
        "createdAt": "2016-07-28T17:50:06.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "compare-versions",
        "variableName": "compareVersions",
        "friendlyName": "Compare versions",
        "cacheable": true,
        "sync": true,
        "description": "Compare two NPM version strings and return either 1, 0, or -1.",
        "inputs": {
          "a": {
            "friendlyName": "Version A",
            "example": "1.2.5",
            "required": true,
            "type": "string"
          },
          "b": {
            "friendlyName": "Version B",
            "example": "4.9.0",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Comparison",
            "outputDescription": "Either 1, 0, or -1; indicating which of the two versions is more recent (/greater), or if they're equivalent.",
            "example": 1,
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var semver = require('semver');\n\n    var comparison = semver.compare(inputs.a, inputs.b);\n\n    return exits.success(comparison);\n  ",
        "environment": [],
        "extendedDescription": "This returns:\n â¢ `1` if the version A is newer (greater)\n â¢ `0` if both versions are the same\n â¢ `-1` if the version A is older (less than)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/compare-versions",
        "docsUrl": "http://node-machine.org/machinepack-npm/compare-versions",
        "defaultExit": null,
        "machinepack": 20,
        "id": 814,
        "createdAt": "2016-07-28T17:50:06.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      },
      {
        "identity": "is-version-compatible",
        "variableName": "isVersionCompatible",
        "friendlyName": "Is version compatible?",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether or not a particular NPM version string is compatible within a semver range.",
        "inputs": {
          "version": {
            "description": "NPM version to check.",
            "example": "1.2.5",
            "required": true,
            "type": "string"
          },
          "semverRange": {
            "description": "Semver range to check against for compatibility.",
            "example": "^4.9.0",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Is version compatible?",
            "outputDescription": "Whether the version is compatible with (\"satisfies\") the specified semver range.",
            "example": false,
            "description": "OK.",
            "isDefault": true,
            "type": "boolean"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var semver = require('semver');\n\n    var isCompatible = semver.satisfies(inputs.version, inputs.semverRange);\n\n    // Note:\n    // Just in case this is not strictly `true` or `false`, we might consider casting it\n    // to a boolean here.  But since we know that machine/rttc take care of that for us,\n    // we can skip this extra step.\n    // isCompatible = !!isCompatible;\n\n    return exits.success(isCompatible);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npm/is-version-compatible",
        "docsUrl": "http://node-machine.org/machinepack-npm/is-version-compatible",
        "defaultExit": null,
        "machinepack": 20,
        "id": 842,
        "createdAt": "2016-09-19T15:09:58.000Z",
        "updatedAt": "2016-09-20T21:40:00.000Z"
      }
    ],
    "identity": "machinepack-npm",
    "version": "6.4.0",
    "latestVersionPublishedAt": "2016-09-20T00:00:00.000Z",
    "variableName": "NPM",
    "friendlyName": "NPM",
    "description": "Work with the public NPM repository.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-npm",
    "docsUrl": "http://node-machine.org/machinepack-npm",
    "npmUrl": "http://npmjs.org/package/machinepack-npm",
    "npmPackageName": "machinepack-npm",
    "githubUrl": "http://github.com/mikermcneil/machinepack-npm/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-npm/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-npm",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "2.0.1"
      },
      {
        "name": "enpeem",
        "semverRange": "2.2.0"
      },
      {
        "name": "lodash",
        "semverRange": "3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^2.3.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      },
      {
        "name": "machinepack-process",
        "semverRange": "^1.4.0"
      },
      {
        "name": "machinepack-urls",
        "semverRange": "^3.1.1"
      },
      {
        "name": "request",
        "semverRange": "2.74.0"
      },
      {
        "name": "semver",
        "semverRange": "4.3.6"
      },
      {
        "name": "tar",
        "semverRange": "1.0.3"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 20,
    "createdAt": "2015-02-16T23:51:32.000Z",
    "updatedAt": "2016-09-20T21:40:00.000Z",
    "numMachines": 17
  },
  {
    "machines": [
      {
        "identity": "get-stats",
        "variableName": "getStats",
        "friendlyName": "Get package stats",
        "cacheable": null,
        "sync": null,
        "description": "Fetch download stats for the specified NPM package and date range.",
        "inputs": {
          "packageName": {
            "description": "The name of the NPM package.",
            "example": "machinepack-util",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "perDay": [
                {
                  "day": "2015-04-11",
                  "downloads": 29
                }
              ],
              "total": 11712
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n    var Util = require('machinepack-util');\n\n    // TODO: validate start and end date inputs\n    // TODO: support configurable date range\n    var now = new Date();\n    var today = util.format('%s-%s-%s',\n      now.getFullYear(),\n      (now.getMonth()+1)<10?'0'+(now.getMonth()+1):(now.getMonth()+1),\n      now.getDate()<10?'0'+now.getDate():now.getDate()\n    );\n    var dateRange = '2012-01-01:'+today;\n\n    console.log('date range:\\n', dateRange);\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      method: 'get',\n      url: 'http://npm-stat.com/downloads/range/'+dateRange+'/'+inputs.packageName\n    }).exec({\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n      // OK.\n      success: function(result) {\n\n        var parsedData;\n        try {\n          parsedData = Util.parseJson({\n            json: result.body,\n            schema: {\n              downloads: [{\n                day: '2015-01-20',\n                downloads: 100\n              }]\n            }\n          }).execSync();\n        }\n        catch (e) {\n          return exits.error(e);\n        }\n\n        // Expand the result data\n        return exits.success({\n          perDay: parsedData.downloads,\n          total: _.reduce(parsedData.downloads, function (memo, day){\n            return memo + day.downloads;\n          }, 0)\n        });\n      },\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-npmstat/get-stats",
        "docsUrl": "http://node-machine.org/machinepack-npmstat/get-stats",
        "defaultExit": "success",
        "machinepack": 90,
        "id": 336,
        "createdAt": "2015-04-12T05:49:22.000Z",
        "updatedAt": "2015-04-12T05:59:21.000Z"
      }
    ],
    "identity": "machinepack-npmstat",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2015-04-12T00:00:00.000Z",
    "variableName": "NpmStat",
    "friendlyName": "NpmStat",
    "description": "Talk to npm-stat.com to get NPM statistics.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://a.disquscdn.com/uploads/forums/274/3904/favicon.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-npmstat",
    "docsUrl": "http://node-machine.org/machinepack-npmstat",
    "npmUrl": "http://npmjs.org/package/machinepack-npmstat",
    "npmPackageName": "machinepack-npmstat",
    "githubUrl": "http://github.com/treelinehq/npmstat/",
    "sourceUrl": "http://github.com/treelinehq/npmstat/",
    "testsUrl": "https://travis-ci.org/treelinehq/npmstat",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-util",
        "semverRange": "^4.4.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      },
      {
        "name": "lodash",
        "semverRange": "^3.6.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 90,
    "createdAt": "2015-04-12T05:49:22.000Z",
    "updatedAt": "2015-04-12T05:59:21.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "to-number",
        "variableName": "toNumber",
        "friendlyName": "Convert string to number",
        "cacheable": null,
        "sync": true,
        "description": "Convert the given input string to a number.",
        "inputs": {
          "string": {
            "description": "The string to convert to a number.",
            "example": "123",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Number",
            "outputDescription": "The value obtained by converting the input string to a number.",
            "outputExample": 123,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n\n    // Attempt to convert the input value to a number.\n    var converted = +inputs.string;\n\n    // If the result is NaN, Infinity or -Infinity, trigger the `error` exit.\n    if (isNaN(converted) || converted === Infinity || converted === -Infinity) {\n      return exits.error('The given string could not be converted to a number.');\n    }\n\n    // Otherwise return the converted value through the `success` exit.\n    return exits.success(converted);\n\n  ",
        "environment": [],
        "extendedDescription": "This machine specifically converts \"numeric\" strings (e.g. \"123\", \"-5\", \"4.56\" and \"1.23e+50\") to numbers.  If the string is not numeric, an error will be triggered.  If you need to convert _any_ string to a number (defaulting to zero) use the \"Construct value\" machine from the \"Util\" pack.  Note that the strings \"Infinity\" and \"-Infinity\" will also trigger an error.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-numbers/to-number",
        "docsUrl": "http://node-machine.org/machinepack-numbers/to-number",
        "defaultExit": null,
        "machinepack": 179,
        "id": 828,
        "createdAt": "2016-08-04T00:30:03.000Z",
        "updatedAt": "2016-08-04T00:30:03.000Z"
      }
    ],
    "identity": "machinepack-numbers",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2016-08-04T00:00:00.000Z",
    "variableName": "Numbers",
    "friendlyName": "Numbers",
    "description": "Work with numbers.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-numbers",
    "docsUrl": "http://node-machine.org/machinepack-numbers",
    "npmUrl": "http://npmjs.org/package/machinepack-numbers",
    "npmPackageName": "machinepack-numbers",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^12.3.0"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 179,
    "createdAt": "2016-08-04T00:30:03.000Z",
    "updatedAt": "2016-08-04T00:30:03.000Z",
    "numMachines": 1
  },
  {
    "machines": [],
    "identity": "machinepack-ocr",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2016-08-24T00:00:00.000Z",
    "variableName": "OCR",
    "friendlyName": "OCR",
    "description": "Recognize text in images using OCR (optical character recognition) techniques.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-ocr",
    "docsUrl": "http://node-machine.org/machinepack-ocr",
    "npmUrl": "http://npmjs.org/package/machinepack-ocr",
    "npmPackageName": "machinepack-ocr",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lwip",
        "semverRange": "0.0.9"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-1"
      },
      {
        "name": "node-tesseract",
        "semverRange": "0.2.7"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 183,
    "createdAt": "2016-08-23T15:39:30.000Z",
    "updatedAt": "2016-08-24T06:19:45.000Z",
    "numMachines": 0
  },
  {
    "machines": [
      {
        "identity": "convert-email",
        "variableName": "convertEmail",
        "friendlyName": "Convert Email",
        "cacheable": null,
        "sync": null,
        "description": "To convert an earner email address to Backpack user ID",
        "inputs": {
          "emailAddress": {
            "example": "tailot@gmail.com",
            "description": "An email address.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "mailNotFound": {
            "description": "Could not find a user by the email address `your@address.org`",
            "example": {
              "status": 404,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "{\"status\":\"missing\",\"error\":\"Could not find a user by the email address `your@address.org`\"}"
            },
            "type": "object"
          },
          "success": {
            "description": "OK.",
            "example": {
              "status": 200,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "{\"status\":\"okay\",\"email\":\"tailot@gmail.com\",\"userId\":125363}"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: '/displayer/convert/email',\n      baseUrl: 'http://backpack.openbadges.org',\n      method: 'post',\n      params: {email:inputs.emailAddress},\n      formData: false,\n      headers: {},\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      notFound: function (result){\n        return exits.mailNotFound(result);\n      },\n      success: function (result){\n        return exits.success(result);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "You can make a REST API request to the convert service in the Mozilla Backpack to convert an earner email to their user ID, which you can then use in your calls to the Displayer API.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-openbadges/convert-email",
        "docsUrl": "http://node-machine.org/machinepack-openbadges/convert-email",
        "defaultExit": "success",
        "machinepack": 98,
        "id": 365,
        "createdAt": "2015-04-25T01:59:54.000Z",
        "updatedAt": "2015-04-25T14:39:39.000Z"
      },
      {
        "identity": "get-collections",
        "variableName": "getCollections",
        "friendlyName": "Get Collections",
        "cacheable": null,
        "sync": null,
        "description": "Querying for Badge Groups",
        "inputs": {
          "uid": {
            "example": 125363,
            "description": "Backpack user ID",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "collesionsNotFound": {
            "description": "Could not find a collections by the Backpack user ID",
            "example": {
              "status": 404,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "{\"httpStatus\":404,\"status\":\"missing\"}"
            },
            "type": "object"
          },
          "success": {
            "description": "OK.",
            "example": {
              "status": 200,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "{\"userId\":125363,\"groups\":[{\"groupId\":45690,\"name\":\"Javascript\",\"badges\":11}...]}"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: '/displayer/'+inputs.uid+'/groups.json',\n      baseUrl: 'http://backpack.openbadges.org',\n      method: 'get',\n      params: {},\n      formData: false,\n      headers: {},\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      notFound: function (result){\n        console.log(result);\n        return exits.collesionsNotFound(result);\n      },\n      success: function (result){\n        return exits.success(result);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Once you have the earner's Backpack user ID, you can query for their public badge groups.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-openbadges/get-collections",
        "docsUrl": "http://node-machine.org/machinepack-openbadges/get-collections",
        "defaultExit": "success",
        "machinepack": 98,
        "id": 366,
        "createdAt": "2015-04-25T02:19:42.000Z",
        "updatedAt": "2015-04-25T14:39:39.000Z"
      },
      {
        "identity": "get-badges",
        "variableName": "getBadges",
        "friendlyName": "Get Badges",
        "cacheable": null,
        "sync": null,
        "description": "Querying for Badges in a Group",
        "inputs": {
          "uid": {
            "example": 125363,
            "description": "Backpack user ID",
            "required": true,
            "type": "number"
          },
          "gid": {
            "example": 67890,
            "description": "group ID",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "badgesNotFound": {
            "description": "Could not find a badges.",
            "example": {
              "status": 404,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "{\"httpStatus\":404,\"status\":\"missing\"}"
            },
            "type": "object"
          },
          "success": {
            "description": "OK.",
            "example": {
              "status": 200,
              "headers": "{\"Accepts\":\"application/json\"}",
              "body": "{\"userId\":125363,\"groupId\":45690,\"badges\":[]}"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: '/displayer/'+inputs.uid+'/group/'+inputs.gid+'.json',\n      baseUrl: 'http://backpack.openbadges.org',\n      method: 'get',\n      params: {},\n      formData: false,\n      headers: {},\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      notFound: function (result){\n        return exits.badgesNotFound(result);\n      },\n      success: function (result){\n        return exits.success(result);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Once you have the earner's Backpack user ID and the IDs for any groups you are interested in, you can make a request that will provide you with the earner's awarded badges within each specified group.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-openbadges/get-badges",
        "docsUrl": "http://node-machine.org/machinepack-openbadges/get-badges",
        "defaultExit": "success",
        "machinepack": 98,
        "id": 369,
        "createdAt": "2015-04-25T11:09:46.000Z",
        "updatedAt": "2015-04-25T14:39:39.000Z"
      },
      {
        "identity": "bake-assertion",
        "variableName": "bakeAssertion",
        "friendlyName": "Badges Bakery",
        "cacheable": null,
        "sync": null,
        "description": "The baker will retrieve this image and bake your assertion data into it, returning it to you if your API call was successful.",
        "inputs": {
          "url": {
            "example": "http://factory.openbadges.it/public/assertions/4c5490b9b83985f02381b4a49cd25c48a7d43185",
            "description": "The assertion is a fundamental building block in the badging ecosystem. An assertion represents a badge awarded to an earner.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "badAssertion": {
            "description": "Invalid assertion structure",
            "example": {
              "status": 400,
              "headers": "{headers structure}",
              "body": "{\"message\":\"could not get assertion: invalid JSON\",\"stack\":\"Error: could not get assertion: invalid JSON\\n    at makeError (/var/www/openbadges/lib/analyze-assertion.js:6:26)\\n    at Request._callback (/var/www/openbadges/lib/analyze-assertion.js:31:23)\\n    at Request.self.callback (/var/www/openbadges/node_modules/request/request.js:129:22)\\n    at Request.emit (events.js:98:17)\\n    at Request.<anonymous> (/var/www/openbadges/node_modules/request/request.js:873:14)\\n    at Request.emit (events.js:117:20)\\n    at IncomingMessage.<anonymous> (/var/www/openbadges/node_modules/request/request.js:824:12)\\n    at IncomingMessage.emit (events.js:117:20)\\n    at _stream_readable.js:938:16\\n    at process._tickCallback (node.js:419:13)\",\"code\":\"parse\"}"
            },
            "type": "object"
          },
          "success": {
            "description": "OK.",
            "example": {
              "status": 200,
              "headers": "{headers structure}",
              "body": "BLOB with content type image/png or image/svg+xml"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: '/baker?assertion='+inputs.url,\n      baseUrl: 'http://backpack.openbadges.org',\n      method: 'get',\n      params: {},\n      formData: false,\n      headers: {},\n    }).exec({\n      error: function (err){\n        return exits.error(err);\n      },\n      badRequest: function (result){\n        console.log(result);\n        return exits.badAssertion(result);\n      },\n      success: function (result){\n        return exits.success(result);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "The assertion should include a link to the badge class, which should include an image field which is the URL of the badge image.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-openbadges/bake-assertion",
        "docsUrl": "http://node-machine.org/machinepack-openbadges/bake-assertion",
        "defaultExit": "success",
        "machinepack": 98,
        "id": 370,
        "createdAt": "2015-04-25T14:39:39.000Z",
        "updatedAt": "2015-04-25T14:39:39.000Z"
      }
    ],
    "identity": "machinepack-openbadges",
    "version": "1.0.4",
    "latestVersionPublishedAt": "2015-04-25T00:00:00.000Z",
    "variableName": "Openbadges",
    "friendlyName": "Openbadges",
    "description": "Communicate with the Mozilla Backpack API to get badges, collections.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://dougbelshaw.com/presentations/2013/mozfest/pictures/open-badges-icon.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-openbadges",
    "docsUrl": "http://node-machine.org/machinepack-openbadges",
    "npmUrl": "http://npmjs.org/package/machinepack-openbadges",
    "npmPackageName": "machinepack-openbadges",
    "githubUrl": "http://github.com/tailot/machinepack-openbadges/",
    "sourceUrl": "http://github.com/tailot/machinepack-openbadges/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.1.0"
      }
    ],
    "contributors": [
      {
        "name": "tailot",
        "email": "tailot@gmail.com"
      }
    ],
    "id": 98,
    "createdAt": "2015-04-25T01:59:54.000Z",
    "updatedAt": "2015-04-25T14:39:39.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "search-by-title",
        "variableName": "searchByTitle",
        "friendlyName": "Open Movie Database Client",
        "cacheable": true,
        "sync": false,
        "description": "Get information about movies and tv shows ",
        "inputs": {
          "t": {
            "description": "Movie title to search for.",
            "required": true,
            "example": "Game of Thrones",
            "friendlyName": "Title",
            "type": "string"
          },
          "y": {
            "description": "Year of release.",
            "required": true,
            "example": "2015",
            "friendlyName": "Year",
            "type": "string"
          },
          "plot": {
            "description": "Return short or full plot. (full or short)",
            "required": true,
            "example": "short",
            "friendlyName": "Plot",
            "type": "string"
          },
          "r": {
            "description": "The data type to return. (json or xml)",
            "required": true,
            "example": "json",
            "friendlyName": "Type",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": "The requested movie / tv show has not found"
        },
        "fn": "\n    var request = require('superagent');\n\n    request\n    .get('http://www.omdbapi.com/')\n    .query({ 't': inputs.t,\n             'y': inputs.y,\n             'plot':inputs.plot || \"full\",\n             'r': inputs.r  || \"json\"\n    })\n    .set('Accept', 'application/json')\n    .end(function(err, data){\n        if(!err){\n          return  exits.success(data.body)\n        }else{\n          return exits.notFound(err)\n        }\n    })\n    .on('error', function(err){\n      return exits.error(err)\n    })\n\n  ",
        "environment": [],
        "extendedDescription": "The OMDb API is a free web service to obtain movie information, all content and images on the site are contributed and maintained by our users.",
        "moreInfoUrl": "https://stripe.com/docs/api#list_cards",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-omdb/search-by-title",
        "docsUrl": "http://node-machine.org/machinepack-omdb/search-by-title",
        "defaultExit": "success",
        "machinepack": 133,
        "id": 571,
        "createdAt": "2015-06-10T13:49:29.000Z",
        "updatedAt": "2015-06-10T13:49:29.000Z"
      }
    ],
    "identity": "machinepack-omdb",
    "version": "2.0.0",
    "latestVersionPublishedAt": "2015-06-10T00:00:00.000Z",
    "variableName": "OpenMovieDatabaseClient",
    "friendlyName": "Open Movie Database Client",
    "description": "Use the Open Movie Database API via Node Machines",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-omdb",
    "docsUrl": "http://node-machine.org/machinepack-omdb",
    "npmUrl": "http://npmjs.org/package/machinepack-omdb",
    "npmPackageName": "machinepack-omdb",
    "githubUrl": "http://github.com/cadrogui/machinepack-omdb/",
    "sourceUrl": "http://github.com/cadrogui/machinepack-omdb/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^1.1.0"
      },
      {
        "name": "superagent",
        "semverRange": "^1.2.0"
      }
    ],
    "contributors": [
      {
        "name": "Mikle Carozzi",
        "email": "cadrogui"
      },
      {
        "name": "cadrogui",
        "email": "cadrogui@gmail.com"
      }
    ],
    "id": 133,
    "createdAt": "2015-06-10T13:49:29.000Z",
    "updatedAt": "2015-06-10T13:49:29.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-current-conditions",
        "variableName": "getCurrentConditions",
        "friendlyName": "Get current conditions",
        "cacheable": null,
        "sync": null,
        "description": "List the current weather conditions for a particular city.",
        "inputs": {
          "apiKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The private API key for this application.",
            "protect": true,
            "whereToGet": {
              "url": "http://openweathermap.org/appid#get",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "city": {
            "example": "austin",
            "description": "The city for the current weather conditions.",
            "required": true,
            "type": "string"
          },
          "stateOrCountry": {
            "example": "texas",
            "description": "The state or country for the current weather conditions.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "noCityFound": {
            "description": "No city found."
          },
          "success": {
            "description": "OK.",
            "example": {
              "coord": {
                "lon": -97.74,
                "lat": 30.27
              },
              "sys": {
                "message": 0.25,
                "country": "United States of America",
                "sunrise": 1424005831,
                "sunset": 1424045975
              },
              "weather": [
                {
                  "id": 803,
                  "main": "Clouds",
                  "description": "broken clouds",
                  "icon": "04d"
                }
              ],
              "base": "cmc stations",
              "main": {
                "temp": 292.36,
                "temp_min": 292.36,
                "temp_max": 292.36,
                "pressure": 1007.21,
                "sea_level": 1032.2,
                "grnd_level": 1007.21,
                "humidity": 64
              },
              "wind": {
                "speed": 4.42,
                "deg": 189.5
              },
              "clouds": {
                "all": 76
              },
              "dt": 1424018333,
              "id": 4671654,
              "name": "Austin"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    var cityStateOrCountry;\n    if (inputs.stateOrCountry) {\n      cityStateOrCountry = inputs.city + ',' + inputs.stateOrCountry;\n    } else {\n      cityStateOrCountry = inputs.city;\n    }\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.openweathermap.org',\n      url: '/data/2.5/weather',\n      method: 'get',\n      params: {\n        api_key: inputs.apiKey,\n        q: cityStateOrCountry\n      }\n    }).exec({\n      success: function(httpResponse) {\n        // Parse response body and build up result.\n        var responseBody;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n\n          if (responseBody.cod === '404') {\n            return exits.noCityFound('No City Found.');\n          }\n\n          return exits.success(responseBody);\n        } catch (e) {\n          return exits.error('Unexpected response from the OpenWeather API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-openweather/get-current-conditions",
        "docsUrl": "http://node-machine.org/machinepack-openweather/get-current-conditions",
        "defaultExit": "success",
        "machinepack": 22,
        "id": 92,
        "createdAt": "2015-02-16T23:51:36.000Z",
        "updatedAt": "2015-05-14T00:49:18.000Z"
      }
    ],
    "identity": "machinepack-openweather",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-05-14T00:00:00.000Z",
    "variableName": "OpenWeather",
    "friendlyName": "OpenWeather",
    "description": "Communicate with the OpenWeather API to get current weather for a city.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-openweather",
    "docsUrl": "http://node-machine.org/machinepack-openweather",
    "npmUrl": "http://npmjs.org/package/machinepack-openweather",
    "npmPackageName": "machinepack-openweather",
    "githubUrl": "http://github.com/irlnathan/machinepack-openweather/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-openweather/",
    "testsUrl": "https://travis-ci.org/irlnathan/machinepack-openweather",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 22,
    "createdAt": "2015-02-16T23:51:35.000Z",
    "updatedAt": "2015-05-14T00:49:18.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "coupon-get",
        "variableName": "couponGet",
        "friendlyName": "Coupon Get",
        "cacheable": false,
        "sync": false,
        "description": "get a list of discont coupon",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "TDCommerceToken-CHANGE-ME!",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "code": "NEWDISCOUNTCOUPON",
                  "startDate": "2016-05-05",
                  "endDate": "2016-06-06",
                  "percent": 10,
                  "quantity": 2,
                  "ProductsId": []
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/coupon/list',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token\n    };\n\n    var body = inputs.filter;\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/coupon-get",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/coupon-get",
        "defaultExit": null,
        "machinepack": 165,
        "id": 736,
        "createdAt": "2016-03-16T19:19:56.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "coupon-create",
        "variableName": "couponCreate",
        "friendlyName": "Coupon Create",
        "cacheable": false,
        "sync": false,
        "description": "Create a discount coupon",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "NEWDISCOUNTCOUPON",
            "description": "Label used to apply discount",
            "required": true,
            "type": "string"
          },
          "startDate": {
            "example": "2016-05-05",
            "description": "Date that allow to know when the coupon started its available. Format YYYY-MM-DD",
            "required": true,
            "type": "string"
          },
          "endDate": {
            "example": "2016-06-06",
            "description": "Date that allow to know when the coupon ended its available. Format YYYY-MM-DD",
            "required": true,
            "type": "string"
          },
          "percent": {
            "example": 10,
            "description": "value in percent to apply on the final order.",
            "required": true,
            "type": "number"
          },
          "quantity": {
            "example": 2,
            "description": "Quantity of coupon is available.",
            "required": true,
            "type": "number"
          },
          "productsId": {
            "example": [
              "someProductId"
            ],
            "description": "array to productsId, this contain a list of products that the coupon is available.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 201,
              "body": {
                "code": "NEWDISCOUNTCOUPON",
                "startDate": "2016-05-05",
                "endDate": "2016-06-06",
                "percent": 10,
                "quantity": 2,
                "productsId": [
                  "someProducId"
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 400,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          },
          "validationError": {
            "description": "Some error",
            "example": {
              "status": 400,
              "message": "this is a error message"
            },
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v1/commerce/coupon/create',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      code: inputs.code,\n      startDate: inputs.startDate,\n      endDate: inputs.endDate,\n      percent: inputs.percent,\n      quantity: inputs.quantity,\n      productsId: inputs.productsId\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err && err.status === 500) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else if (err && err.status === 400) {\n        return exits.validationError({\n          status: err.status,\n          message: err.message.err.message || err.message.err.errmsg\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body.coupon\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/coupon-create",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/coupon-create",
        "defaultExit": null,
        "machinepack": 165,
        "id": 737,
        "createdAt": "2016-03-16T19:19:56.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "coupon-redeem",
        "variableName": "couponRedeem",
        "friendlyName": "Coupon-Redeem",
        "cacheable": false,
        "sync": false,
        "description": "Redeem a coupon discount",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "coupon": {
            "example": "NEWDISCOUNTCOUPON",
            "description": "It is a object that contain the key value to filters the coupons",
            "required": true,
            "type": "string"
          },
          "productId": {
            "example": "Id1",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "NEWDISCOUNTCOUPON",
                "percent": 10
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          },
          "notAvailable": {
            "description": "Currently coupon is not available",
            "example": {
              "status": 400,
              "message": "this coupon is not available"
            },
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/coupon/redeem',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token\n    }\n\n    var body = {\n      coupon: inputs.coupon,\n      productId: inputs.productId\n    }\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err && err.message.statusCode === 'notAvailable'){\n        return exits.notAvailable({\n          status: err.status,\n          message: err.message.message\n        });\n      }else if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        console.log('resp.body',resp.body);\n\n        return exits.success({\n          status : resp.status,\n          body : resp.body\n        });\n      }\n    });\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/coupon-redeem",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/coupon-redeem",
        "defaultExit": null,
        "machinepack": 165,
        "id": 738,
        "createdAt": "2016-03-16T19:19:56.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "coupon-update",
        "variableName": "couponUpdate",
        "friendlyName": "Coupon-Update",
        "cacheable": false,
        "sync": false,
        "description": "Update a coupon discount",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the coupons",
            "required": true,
            "type": "string"
          },
          "data": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "ok": 1,
              "nModified": 1,
              "n": 1
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "staus": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/coupon/update',\n      baseUrl: inputs.baseUrl,\n      method: 'put',\n      token : inputs.token\n    }\n    var body = {\n      filter: inputs.filter,\n      data: inputs.data\n    }\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.staus,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/coupon-update",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/coupon-update",
        "defaultExit": null,
        "machinepack": 165,
        "id": 739,
        "createdAt": "2016-03-16T19:19:56.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "order-create",
        "variableName": "orderCreate",
        "friendlyName": "Order Create",
        "cacheable": false,
        "sync": false,
        "description": "Create a order",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userId": {
            "example": "userId",
            "description": "userId to own order.",
            "required": true,
            "type": "string"
          },
          "paymentsPlan": {
            "example": [
              {
                "destinationId": "destinationId",
                "email": "some@email.com",
                "dateCharge": "2016-05-05",
                "price": 100,
                "originalPrice": 90,
                "totalFee": 10,
                "feePaidUp": 4.2,
                "feeStripe": 3.6,
                "paymentId": "paymentId",
                "typeAccount": "typeAccount",
                "account": "account",
                "accountBrand": "Diners Club",
                "last4": "0000",
                "discount": 0,
                "discountCode": "discountCode",
                "wasProcessed": false,
                "status": "pending",
                "description": "some description",
                "processingFees": {
                  "cardFee": 12,
                  "cardFeeActual": 21,
                  "cardFeeFlat": 12,
                  "cardFeeFlatActual": 21,
                  "achFee": 12,
                  "achFeeActual": 21,
                  "achFeeFlat": 12,
                  "achFeeFlatActual": 21
                },
                "collectionsFee": {
                  "fee": 12,
                  "feeFlat": 21
                },
                "paysFees": {
                  "processing": true,
                  "collections": true
                },
                "productInfo": {
                  "productId": "productId",
                  "productName": "productName",
                  "productImage": "someUrl",
                  "organizationId": "organizationId",
                  "organizationName": "organization name",
                  "organizationLocation": "Austin, TX",
                  "organizationImage": "someUrl"
                },
                "userInfo": {
                  "userId": "UserId",
                  "userName": "userName"
                },
                "beneficiaryInfo": {
                  "beneficiaryId": "beneficiaryId",
                  "beneficiaryName": "beneficiaryName"
                }
              }
            ],
            "description": "paymentsPlan to own order.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "IdOrder",
                "orderId": "orderId",
                "status": "pending",
                "paymentsPlan": []
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n  /**/\n  ) {\n    var Connector = require('../core/common/connector')\n    var config = {\n      url: '/api/v2/commerce/order/create',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n    var body = {\n      userId: inputs.userId,\n      paymentsPlan: inputs.paymentsPlan || []\n    }\n    // Connector.request(config, params, body, cb)\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err && err.message.statusCode === 'notAvailable') {\n        return exits.notAvailable({\n          status: err.status,\n          message: err.message.message\n        })\n      }else if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/order-create",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/order-create",
        "defaultExit": null,
        "machinepack": 165,
        "id": 740,
        "createdAt": "2016-03-16T19:19:56.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "order-add-payments",
        "variableName": "orderAddPayments",
        "friendlyName": "Order Add Payments",
        "cacheable": false,
        "sync": false,
        "description": "Add dues to order",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "orderId": {
            "example": "orderId",
            "description": "order that you want add payment.",
            "required": true,
            "type": "string"
          },
          "paymentsPlan": {
            "example": [
              {
                "destinationId": "destinationId",
                "dateCharge": "2016-05-05",
                "price": 100,
                "typeAccount": "typeAccount",
                "account": "account",
                "discount": 0,
                "discountCode": "discountCode",
                "wasProcessed": false,
                "status": "pending",
                "last4": "0000",
                "originalPrice": 90,
                "totalFee": 10,
                "feePaidUp": 4.2,
                "feeStripe": 3.6,
                "processingFees": {
                  "cardFee": 12,
                  "cardFeeActual": 21,
                  "cardFeeFlat": 12,
                  "cardFeeFlatActual": 21,
                  "achFee": 12,
                  "achFeeActual": 21,
                  "achFeeFlat": 12,
                  "achFeeFlatActual": 21
                },
                "collectionsFee": {
                  "fee": 12,
                  "feeFlat": 21
                },
                "paysFees": {
                  "processing": true,
                  "collections": true
                },
                "productInfo": {
                  "productId": "productId",
                  "productName": "productName",
                  "productImage": "someUrl",
                  "organizationId": "organizationId",
                  "organizationName": "organization name",
                  "organizationLocation": "Austin, TX",
                  "organizationImage": "someUrl"
                },
                "userInfo": {
                  "userId": "UserId",
                  "userName": "userName"
                },
                "beneficiaryInfo": {
                  "beneficiaryId": "beneficiaryId",
                  "beneficiaryName": "beneficiaryName"
                }
              }
            ],
            "description": "array of payments plan",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "IdOrder",
                "status": "processing",
                "paymentsPlan": [
                  {
                    "destinationId": "destinationId",
                    "dateCharge": "2016-05-05",
                    "price": 100,
                    "typeAccount": "typeAccount",
                    "account": "account",
                    "discount": 0,
                    "discountCode": "discountCode",
                    "wasProcessed": false,
                    "status": "pending",
                    "last4": "0000",
                    "originalPrice": 90,
                    "totalFee": 10,
                    "feePaidUp": 4.2,
                    "feeStripe": 3.6,
                    "attempts": [
                      {
                        "status": "success",
                        "dateAttemp": "2016-05-05",
                        "last4": "1234",
                        "accountBrand": "american express"
                      }
                    ],
                    "processingFees": {
                      "cardFee": 12,
                      "cardFeeActual": 21,
                      "cardFeeFlat": 12,
                      "cardFeeFlatActual": 21,
                      "achFee": 12,
                      "achFeeActual": 21,
                      "achFeeFlat": 12,
                      "achFeeFlatActual": 21
                    },
                    "collectionsFee": {
                      "fee": 12,
                      "feeFlat": 21
                    },
                    "paysFees": {
                      "processing": true,
                      "collections": true
                    },
                    "productInfo": {
                      "productId": "productId",
                      "productName": "productName"
                    },
                    "userInfo": {
                      "userId": "UserId",
                      "userName": "userName"
                    },
                    "beneficiaryInfo": {
                      "beneficiaryId": "beneficiaryId",
                      "beneficiaryName": "beneficiaryName"
                    }
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n  /**/\n  ) {\n    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/add-payments',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      orderId: inputs.orderId,\n      paymentsPlan: inputs.paymentsPlan\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/order-add-payments",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/order-add-payments",
        "defaultExit": null,
        "machinepack": 165,
        "id": 741,
        "createdAt": "2016-03-16T19:19:56.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "order-update-payments",
        "variableName": "orderUpdatePayments",
        "friendlyName": "Order update Payment",
        "cacheable": false,
        "sync": false,
        "description": "update payments to order",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "orderId": {
            "example": "orderId",
            "description": "order ID",
            "required": true,
            "type": "string"
          },
          "paymentPlanId": {
            "example": "paymentPlanId",
            "description": "payment Id",
            "required": true,
            "type": "string"
          },
          "paymentPlan": {
            "example": {
              "destinationId": "destinationId",
              "description": "some description",
              "email": "email@email.com",
              "dateCharge": "2016-05-05",
              "price": 100,
              "typeAccount": "typeAccount",
              "account": "account",
              "accountBrand": "Diners Club",
              "discount": 0,
              "discountCode": "discountCode",
              "wasProcessed": false,
              "status": "pending",
              "last4": "0000",
              "originalPrice": 90,
              "totalFee": 10,
              "feePaidUp": 4.2,
              "feeStripe": 3.6,
              "processingFees": {
                "cardFee": 12,
                "cardFeeActual": 21,
                "cardFeeFlat": 12,
                "cardFeeFlatActual": 21,
                "achFee": 12,
                "achFeeActual": 21,
                "achFeeFlat": 12,
                "achFeeFlatActual": 21
              },
              "attempts": "*"
            },
            "description": "object of payments plan",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "IdOrder",
                "orderId": "orderId",
                "status": "processing",
                "paymentsPlan": [
                  {
                    "destinationId": "destinationId",
                    "description": "some description",
                    "email": "email@email.com",
                    "dateCharge": "2016-05-05",
                    "price": 100,
                    "typeAccount": "typeAccount",
                    "account": "account",
                    "accountBrand": "Diners Club",
                    "discount": 0,
                    "discountCode": "discountCode",
                    "wasProcessed": false,
                    "status": "pending",
                    "last4": "0000",
                    "originalPrice": 90,
                    "totalFee": 10,
                    "feePaidUp": 4.2,
                    "feeStripe": 3.6,
                    "attempts": [
                      {
                        "status": "success",
                        "dateAttemp": "2016-05-05",
                        "last4": "1234",
                        "accountBrand": "american express"
                      }
                    ],
                    "processingFees": {
                      "cardFee": 12,
                      "cardFeeActual": 21,
                      "cardFeeFlat": 12,
                      "cardFeeFlatActual": 21,
                      "achFee": 12,
                      "achFeeActual": 21,
                      "achFeeFlat": 12,
                      "achFeeFlatActual": 21
                    },
                    "collectionsFee": {
                      "fee": 12,
                      "feeFlat": 21
                    },
                    "paysFees": {
                      "processing": true,
                      "collections": true
                    },
                    "productInfo": {
                      "productId": "productId",
                      "productName": "productName",
                      "productImage": "someUrl",
                      "organizationId": "organizationId",
                      "organizationName": "organization name",
                      "organizationLocation": "Austin, TX",
                      "organizationImage": "someUrl"
                    },
                    "userInfo": {
                      "userId": "UserId",
                      "userName": "userName"
                    },
                    "beneficiaryInfo": {
                      "beneficiaryId": "beneficiaryId",
                      "beneficiaryName": "beneficiaryName"
                    }
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n  /**/\n  ) {\n    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/update-payments',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      orderId: inputs.orderId,\n      paymentPlanId: inputs.paymentPlanId,\n      paymentPlan: inputs.paymentPlan\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/order-update-payments",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/order-update-payments",
        "defaultExit": null,
        "machinepack": 165,
        "id": 742,
        "createdAt": "2016-03-18T16:10:12.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "order-get",
        "variableName": "orderGet",
        "friendlyName": "get orders",
        "cacheable": false,
        "sync": false,
        "description": "get orders",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "filter to retrieve orders",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": [
                  {
                    "_id": "IdOrder",
                    "orderId": "orderId",
                    "status": "processing",
                    "userId": "userId",
                    "paymentsPlan": [
                      {
                        "destinationId": "destinationId",
                        "_id": "_idpp",
                        "description": "some description",
                        "email": "email@email.com",
                        "dateCharge": "2016-05-05",
                        "price": 100,
                        "typeAccount": "typeAccount",
                        "account": "account",
                        "accountBrand": "Diners Club",
                        "discount": 0,
                        "discountCode": "discountCode",
                        "wasProcessed": false,
                        "status": "pending",
                        "last4": "0000",
                        "originalPrice": 90,
                        "totalFee": 10,
                        "feePaidUp": 4.2,
                        "feeStripe": 3.6,
                        "attempts": [
                          {
                            "status": "success",
                            "dateAttemp": "2016-05-05",
                            "last4": "1234",
                            "accountBrand": "american express"
                          }
                        ],
                        "processingFees": {
                          "cardFee": 12,
                          "cardFeeActual": 21,
                          "cardFeeFlat": 12,
                          "cardFeeFlatActual": 21,
                          "achFee": 12,
                          "achFeeActual": 21,
                          "achFeeFlat": 12,
                          "achFeeFlatActual": 21
                        },
                        "collectionsFee": {
                          "fee": 12,
                          "feeFlat": 21
                        },
                        "paysFees": {
                          "processing": true,
                          "collections": true
                        },
                        "productInfo": {
                          "productId": "productId",
                          "productName": "productName",
                          "productImage": "someUrl",
                          "organizationId": "organizationId",
                          "organizationName": "organization name",
                          "organizationLocation": "Austin, TX",
                          "organizationImage": "someUrl"
                        },
                        "userInfo": {
                          "userId": "UserId",
                          "userName": "userName"
                        },
                        "beneficiaryInfo": {
                          "beneficiaryId": "beneficiaryId",
                          "beneficiaryName": "beneficiaryName"
                        }
                      }
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/list',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = inputs.filter\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/order-get",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/order-get",
        "defaultExit": null,
        "machinepack": 165,
        "id": 743,
        "createdAt": "2016-03-23T06:59:43.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "order-get-to-charge",
        "variableName": "orderGetToCharge",
        "friendlyName": "get orders to charge",
        "cacheable": false,
        "sync": false,
        "description": "get orders to charge (cronjob)",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": [
                  {
                    "_id": "IdOrder",
                    "status": "processing",
                    "userId": "userId",
                    "orderId": "orderId",
                    "paymentsPlan": [
                      {
                        "destinationId": "destinationId",
                        "_id": "_idpp",
                        "description": "some description",
                        "email": "email@email.com",
                        "dateCharge": "2016-05-05",
                        "price": 100,
                        "typeAccount": "typeAccount",
                        "account": "account",
                        "accountBrand": "Diners Club",
                        "discount": 0,
                        "discountCode": "discountCode",
                        "wasProcessed": false,
                        "status": "pending",
                        "paymentId": "paymentId",
                        "last4": "0000",
                        "originalPrice": 90,
                        "totalFee": 10,
                        "feePaidUp": 4.2,
                        "feeStripe": 3.6,
                        "attempts": [
                          {
                            "status": "success",
                            "dateAttemp": "2016-05-05",
                            "last4": "1234",
                            "accountBrand": "american express"
                          }
                        ],
                        "processingFees": {
                          "cardFee": 12,
                          "cardFeeActual": 21,
                          "cardFeeFlat": 12,
                          "cardFeeFlatActual": 21,
                          "achFee": 12,
                          "achFeeActual": 21,
                          "achFeeFlat": 12,
                          "achFeeFlatActual": 21
                        },
                        "collectionsFee": {
                          "fee": 12,
                          "feeFlat": 21
                        },
                        "paysFees": {
                          "processing": true,
                          "collections": true
                        },
                        "productInfo": {
                          "productId": "productId",
                          "productName": "productName",
                          "productImage": "someUrl",
                          "organizationId": "organizationId",
                          "organizationName": "organization name",
                          "organizationLocation": "Austin, TX",
                          "organizationImage": "someUrl"
                        },
                        "userInfo": {
                          "userId": "UserId",
                          "userName": "userName"
                        },
                        "beneficiaryInfo": {
                          "beneficiaryId": "beneficiaryId",
                          "beneficiaryName": "beneficiaryName"
                        }
                      }
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/cronjob',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/order-get-to-charge",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/order-get-to-charge",
        "defaultExit": null,
        "machinepack": 165,
        "id": 744,
        "createdAt": "2016-03-23T23:00:11.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "order-to-complete",
        "variableName": "orderToComplete",
        "friendlyName": "orders to complete",
        "cacheable": false,
        "sync": false,
        "description": "orders to complete (cronjob)",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order completed",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "ok": 1,
                "nModified": 0,
                "n": 0
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/complete',\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect/order-to-complete",
        "docsUrl": "http://node-machine.org/pu-commerce-connect/order-to-complete",
        "defaultExit": null,
        "machinepack": 165,
        "id": 745,
        "createdAt": "2016-03-29T04:29:57.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      }
    ],
    "identity": "pu-commerce-connect",
    "version": "0.4.19",
    "latestVersionPublishedAt": "2016-04-08T00:00:00.000Z",
    "variableName": "PaidUpCommerceConnect",
    "friendlyName": "PaidUp Commerce Connect",
    "description": "Connector for TDCommerce",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/pu-commerce-connect",
    "docsUrl": "http://node-machine.org/pu-commerce-connect",
    "npmUrl": "http://npmjs.org/package/pu-commerce-connect",
    "npmPackageName": "pu-commerce-connect",
    "githubUrl": "http://github.com/PaidUp/PUCommerce-connect/",
    "sourceUrl": "http://github.com/PaidUp/PUCommerce-connect/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "request",
        "semverRange": "^2.69.0"
      },
      {
        "name": "tape",
        "semverRange": "^4.5.1"
      },
      {
        "name": "taper",
        "semverRange": "^0.5.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUp",
        "email": ""
      },
      {
        "name": "jessecogollo",
        "email": "cogollo87@gmail.com"
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 165,
    "createdAt": "2016-03-10T20:09:46.000Z",
    "updatedAt": "2016-04-08T20:59:52.000Z",
    "numMachines": 10
  },
  {
    "machines": [
      {
        "identity": "coupon-get",
        "variableName": "couponGet",
        "friendlyName": "Coupon Get",
        "cacheable": false,
        "sync": false,
        "description": "get a list of discont coupon",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "TDCommerceToken-CHANGE-ME!",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "code": "NEWDISCOUNTCOUPON",
                  "startDate": "2016-05-05",
                  "endDate": "2016-06-06",
                  "percent": 10,
                  "quantity": 2,
                  "ProductsId": []
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/coupon/list',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token\n    };\n\n    var body = inputs.filter;\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/coupon-get",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/coupon-get",
        "defaultExit": null,
        "machinepack": 169,
        "id": 752,
        "createdAt": "2016-04-08T22:00:03.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "coupon-create",
        "variableName": "couponCreate",
        "friendlyName": "Coupon Create",
        "cacheable": false,
        "sync": false,
        "description": "Create a discount coupon",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "NEWDISCOUNTCOUPON",
            "description": "Label used to apply discount",
            "required": true,
            "type": "string"
          },
          "startDate": {
            "example": "2016-05-05",
            "description": "Date that allow to know when the coupon started its available. Format YYYY-MM-DD",
            "required": true,
            "type": "string"
          },
          "endDate": {
            "example": "2016-06-06",
            "description": "Date that allow to know when the coupon ended its available. Format YYYY-MM-DD",
            "required": true,
            "type": "string"
          },
          "percent": {
            "example": 10,
            "description": "value in percent to apply on the final order.",
            "required": true,
            "type": "number"
          },
          "quantity": {
            "example": 2,
            "description": "Quantity of coupon is available.",
            "required": true,
            "type": "number"
          },
          "productsId": {
            "example": [
              "someProductId"
            ],
            "description": "array to productsId, this contain a list of products that the coupon is available.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 201,
              "body": {
                "code": "NEWDISCOUNTCOUPON",
                "startDate": "2016-05-05",
                "endDate": "2016-06-06",
                "percent": 10,
                "quantity": 2,
                "productsId": [
                  "someProducId"
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 400,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          },
          "validationError": {
            "description": "Some error",
            "example": {
              "status": 400,
              "message": "this is a error message"
            },
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v1/commerce/coupon/create',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      code: inputs.code,\n      startDate: inputs.startDate,\n      endDate: inputs.endDate,\n      percent: inputs.percent,\n      quantity: inputs.quantity,\n      productsId: inputs.productsId\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err && err.status === 500) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else if (err && err.status === 400) {\n        return exits.validationError({\n          status: err.status,\n          message: err.message.err.message || err.message.err.errmsg\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body.coupon\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/coupon-create",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/coupon-create",
        "defaultExit": null,
        "machinepack": 169,
        "id": 753,
        "createdAt": "2016-04-08T22:00:03.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "coupon-redeem",
        "variableName": "couponRedeem",
        "friendlyName": "Coupon-Redeem",
        "cacheable": false,
        "sync": false,
        "description": "Redeem a coupon discount",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "coupon": {
            "example": "NEWDISCOUNTCOUPON",
            "description": "It is a object that contain the key value to filters the coupons",
            "required": true,
            "type": "string"
          },
          "productId": {
            "example": "Id1",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "NEWDISCOUNTCOUPON",
                "percent": 10
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          },
          "notAvailable": {
            "description": "Currently coupon is not available",
            "example": {
              "status": 400,
              "message": "this coupon is not available"
            },
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/coupon/redeem',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token\n    }\n\n    var body = {\n      coupon: inputs.coupon,\n      productId: inputs.productId\n    }\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err && err.message.statusCode === 'notAvailable'){\n        return exits.notAvailable({\n          status: err.status,\n          message: err.message.message\n        });\n      }else if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        console.log('resp.body',resp.body);\n\n        return exits.success({\n          status : resp.status,\n          body : resp.body\n        });\n      }\n    });\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/coupon-redeem",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/coupon-redeem",
        "defaultExit": null,
        "machinepack": 169,
        "id": 754,
        "createdAt": "2016-04-08T22:00:03.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "coupon-update",
        "variableName": "couponUpdate",
        "friendlyName": "Coupon-Update",
        "cacheable": false,
        "sync": false,
        "description": "Update a coupon discount",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the coupons",
            "required": true,
            "type": "string"
          },
          "data": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "ok": 1,
              "nModified": 1,
              "n": 1
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "staus": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/coupon/update',\n      baseUrl: inputs.baseUrl,\n      method: 'put',\n      token : inputs.token\n    }\n    var body = {\n      filter: inputs.filter,\n      data: inputs.data\n    }\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.staus,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/coupon-update",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/coupon-update",
        "defaultExit": null,
        "machinepack": 169,
        "id": 755,
        "createdAt": "2016-04-08T22:00:03.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-create",
        "variableName": "orderCreate",
        "friendlyName": "Order Create",
        "cacheable": false,
        "sync": false,
        "description": "Create a order",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userId": {
            "example": "userId",
            "description": "userId to own order.",
            "required": true,
            "type": "string"
          },
          "description": {
            "example": "this is a order description",
            "description": "description of order.",
            "required": false,
            "type": "string"
          },
          "paymentsPlan": {
            "example": [
              {
                "version": "v2",
                "destinationId": "destinationId",
                "email": "some@email.com",
                "dateCharge": "2016-05-05",
                "price": 100,
                "basePrice": 100,
                "originalPrice": 90,
                "totalFee": 10,
                "feePaidUp": 4.2,
                "feeStripe": 3.6,
                "paymentId": "paymentId",
                "typeAccount": "typeAccount",
                "account": "account",
                "accountBrand": "Diners Club",
                "last4": "0000",
                "discount": 0,
                "discountCode": "discountCode",
                "wasProcessed": false,
                "status": "pending",
                "description": "some description",
                "processingFees": {
                  "cardFeeActual": 12,
                  "cardFeeDisplay": 21,
                  "cardFeeFlatActual": 12,
                  "cardFeeFlatDisplay": 21,
                  "achFeeActual": 12,
                  "achFeeDisplay": 21,
                  "achFeeFlatActual": 12,
                  "achFeeFlatDisplay": 21,
                  "achFeeCapActual": 0.25,
                  "achFeeCapDisplay": 5
                },
                "collectionsFee": {
                  "fee": 12,
                  "feeFlat": 21
                },
                "paysFees": {
                  "processing": true,
                  "collections": true
                },
                "productInfo": {
                  "productId": "productId",
                  "productName": "productName",
                  "productImage": "someUrl",
                  "organizationId": "organizationId",
                  "organizationName": "organization name",
                  "organizationLocation": "Austin, TX",
                  "organizationImage": "someUrl"
                },
                "userInfo": {
                  "userId": "UserId",
                  "userName": "userName"
                },
                "customInfo": {
                  "formData": {},
                  "formTemplate": []
                },
                "paymentMethods": []
              }
            ],
            "description": "paymentsPlan to own order.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "IdOrder",
                "orderId": "orderId",
                "status": "pending",
                "description": "description",
                "paymentsPlan": []
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector = require('../core/common/connector')\n    var config = {\n      url: '/api/v2/commerce/order/create',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n    var body = {\n      userId: inputs.userId,\n      description: inputs.description,\n      paymentsPlan: inputs.paymentsPlan || []\n    }\n    // Connector.request(config, params, body, cb)\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err && err.message.statusCode === 'notAvailable') {\n        return exits.notAvailable({\n          status: err.status,\n          message: err.message.message\n        })\n      } else if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-create",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-create",
        "defaultExit": null,
        "machinepack": 169,
        "id": 756,
        "createdAt": "2016-04-08T22:00:03.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-add-payments",
        "variableName": "orderAddPayments",
        "friendlyName": "Order Add Payments",
        "cacheable": false,
        "sync": false,
        "description": "Add dues to order",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userSysId": {
            "example": "userSysId",
            "description": "user invoke update",
            "required": true,
            "type": "string"
          },
          "orderId": {
            "example": "orderId",
            "description": "order that you want add payment.",
            "required": true,
            "type": "string"
          },
          "paymentsPlan": {
            "example": [
              {
                "version": "v2",
                "destinationId": "destinationId",
                "email": "some@email.com",
                "dateCharge": "2016-05-05",
                "price": 100,
                "basePrice": 100,
                "originalPrice": 90,
                "totalFee": 10,
                "feePaidUp": 4.2,
                "feeStripe": 3.6,
                "typeAccount": "typeAccount",
                "account": "account",
                "accountBrand": "Diners Club",
                "last4": "0000",
                "discount": 0,
                "discountCode": "discountCode",
                "wasProcessed": false,
                "status": "pending",
                "description": "some description",
                "paymentId": "paymentId",
                "processingFees": {
                  "cardFeeActual": 12,
                  "cardFeeDisplay": 21,
                  "cardFeeFlatActual": 12,
                  "cardFeeFlatDisplay": 21,
                  "achFeeActual": 12,
                  "achFeeDisplay": 21,
                  "achFeeFlatActual": 12,
                  "achFeeFlatDisplay": 21,
                  "achFeeCapActual": 0.25,
                  "achFeeCapDisplay": 5
                },
                "collectionsFee": {
                  "fee": 12,
                  "feeFlat": 21
                },
                "paysFees": {
                  "processing": true,
                  "collections": true
                },
                "productInfo": {
                  "productId": "productId",
                  "productName": "productName",
                  "productImage": "someUrl",
                  "organizationId": "organizationId",
                  "organizationName": "organization name",
                  "organizationLocation": "Austin, TX",
                  "organizationImage": "someUrl"
                },
                "userInfo": {
                  "userId": "UserId",
                  "userName": "userName"
                },
                "customInfo": {
                  "formData": {},
                  "formTemplate": []
                },
                "paymentMethods": [
                  "some"
                ]
              }
            ],
            "description": "array of payments plan",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "IdOrder",
                "orderId": "orderId",
                "status": "processing",
                "description": "description",
                "userId": "userId",
                "createAt": "2016-05-05",
                "updateAt": "2016-05-05",
                "paymentsPlan": [
                  {
                    "version": "v2",
                    "_id": "someId",
                    "destinationId": "destinationId",
                    "description": "some description",
                    "email": "email@email.com",
                    "dateCharge": "2016-05-05",
                    "price": 100,
                    "basePrice": 100,
                    "typeAccount": "typeAccount",
                    "account": "account",
                    "accountBrand": "Diners Club",
                    "discount": 0,
                    "discountCode": "discountCode",
                    "wasProcessed": false,
                    "status": "pending",
                    "last4": "0000",
                    "originalPrice": 90,
                    "totalFee": 10,
                    "feePaidUp": 4.2,
                    "feeStripe": 3.6,
                    "attempts": [
                      {
                        "status": "success",
                        "dateAttemp": "2016-05-05",
                        "last4": "1234",
                        "accountBrand": "american express",
                        "transferId": "tr_xxx"
                      }
                    ],
                    "processingFees": {
                      "cardFeeActual": 12,
                      "cardFeeDisplay": 21,
                      "cardFeeFlatActual": 12,
                      "cardFeeFlatDisplay": 21,
                      "achFeeActual": 12,
                      "achFeeDisplay": 21,
                      "achFeeFlatActual": 12,
                      "achFeeFlatDisplay": 21,
                      "achFeeCapActual": 0.25,
                      "achFeeCapDisplay": 5
                    },
                    "collectionsFee": {
                      "fee": 12,
                      "feeFlat": 21
                    },
                    "paysFees": {
                      "processing": true,
                      "collections": true
                    },
                    "productInfo": {
                      "productId": "productId",
                      "productName": "productName",
                      "productImage": "someUrl",
                      "organizationId": "organizationId",
                      "organizationName": "organization name",
                      "organizationLocation": "Austin, TX",
                      "organizationImage": "someUrl"
                    },
                    "userInfo": {
                      "userId": "UserId",
                      "userName": "userName"
                    },
                    "beneficiaryInfo": {
                      "beneficiaryName": "Joceline",
                      "beneficiaryId": "N/A"
                    },
                    "customInfo": {
                      "formData": {},
                      "formTemplate": []
                    },
                    "paymentMethods": [
                      "some"
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/add-payments',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      orderId: inputs.orderId,\n      paymentsPlan: inputs.paymentsPlan,\n      userSysId: inputs.userSysId\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-add-payments",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-add-payments",
        "defaultExit": null,
        "machinepack": 169,
        "id": 757,
        "createdAt": "2016-04-08T22:00:04.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-update-payments",
        "variableName": "orderUpdatePayments",
        "friendlyName": "Order update Payment",
        "cacheable": false,
        "sync": false,
        "description": "update payments to order",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userSysId": {
            "example": "userSysId",
            "description": "user invoke update",
            "required": true,
            "type": "string"
          },
          "orderId": {
            "example": "orderId",
            "description": "order ID",
            "required": true,
            "type": "string"
          },
          "paymentPlanId": {
            "example": "paymentPlanId",
            "description": "payment Id",
            "required": true,
            "type": "string"
          },
          "paymentPlan": {
            "example": {
              "destinationId": "destinationId",
              "description": "some description",
              "email": "email@email.com",
              "dateCharge": "2016-05-05",
              "price": 100,
              "basePrice": 100,
              "typeAccount": "typeAccount",
              "account": "account",
              "accountBrand": "Diners Club",
              "discount": 0,
              "discountCode": "discountCode",
              "wasProcessed": false,
              "status": "pending",
              "last4": "0000",
              "originalPrice": 90,
              "totalFee": 10,
              "feePaidUp": 4.2,
              "feeStripe": 3.6,
              "processingFees": {
                "cardFeeActual": 12,
                "cardFeeDisplay": 21,
                "cardFeeFlatActual": 12,
                "cardFeeFlatDisplay": 21,
                "achFeeActual": 12,
                "achFeeDisplay": 21,
                "achFeeFlatActual": 12,
                "achFeeFlatDisplay": 21,
                "achFeeCapActual": 0.25,
                "achFeeCapDisplay": 5
              },
              "attempts": "*"
            },
            "description": "object of payments plan",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "IdOrder",
                "orderId": "orderId",
                "status": "processing",
                "userId": "userId",
                "description": "description",
                "createAt": "2016-05-05",
                "updateAt": "2016-05-05",
                "paymentsPlan": [
                  {
                    "_id": "someId",
                    "version": "v2",
                    "destinationId": "destinationId",
                    "description": "some description",
                    "email": "email@email.com",
                    "dateCharge": "2016-05-05",
                    "price": 100,
                    "basePrice": 100,
                    "typeAccount": "typeAccount",
                    "account": "account",
                    "accountBrand": "Diners Club",
                    "discount": 0,
                    "discountCode": "discountCode",
                    "wasProcessed": false,
                    "status": "pending",
                    "last4": "0000",
                    "originalPrice": 90,
                    "totalFee": 10,
                    "feePaidUp": 4.2,
                    "feeStripe": 3.6,
                    "attempts": [
                      {
                        "status": "success",
                        "dateAttemp": "2016-05-05",
                        "last4": "1234",
                        "accountBrand": "american express",
                        "transferId": "tr_xxx"
                      }
                    ],
                    "processingFees": {
                      "cardFeeActual": 12,
                      "cardFeeDisplay": 21,
                      "cardFeeFlatActual": 12,
                      "cardFeeFlatDisplay": 21,
                      "achFeeActual": 12,
                      "achFeeDisplay": 21,
                      "achFeeFlatActual": 12,
                      "achFeeFlatDisplay": 21,
                      "achFeeCapActual": 0.25,
                      "achFeeCapDisplay": 5
                    },
                    "collectionsFee": {
                      "fee": 12,
                      "feeFlat": 21
                    },
                    "paysFees": {
                      "processing": true,
                      "collections": true
                    },
                    "productInfo": {
                      "productId": "productId",
                      "productName": "productName",
                      "productImage": "someUrl",
                      "organizationId": "organizationId",
                      "organizationName": "organization name",
                      "organizationLocation": "Austin, TX",
                      "organizationImage": "someUrl"
                    },
                    "userInfo": {
                      "userId": "UserId",
                      "userName": "userName"
                    },
                    "beneficiaryInfo": {
                      "beneficiaryName": "Joceline",
                      "beneficiaryId": "N/A"
                    },
                    "customInfo": {
                      "formData": {},
                      "formTemplate": []
                    },
                    "paymentMethods": []
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/update-payments',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      orderId: inputs.orderId,\n      paymentPlanId: inputs.paymentPlanId,\n      paymentPlan: inputs.paymentPlan,\n      userSysId: inputs.userSysId\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-update-payments",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-update-payments",
        "defaultExit": null,
        "machinepack": 169,
        "id": 758,
        "createdAt": "2016-04-08T22:00:04.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-get",
        "variableName": "orderGet",
        "friendlyName": "get orders",
        "cacheable": false,
        "sync": false,
        "description": "get orders",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "orderId": {
            "example": "orderId",
            "description": "orderId filter to retrieve orders",
            "required": false,
            "type": "string"
          },
          "userId": {
            "example": "userId",
            "description": "owner order to retrieve",
            "required": false,
            "type": "string"
          },
          "limit": {
            "example": 5,
            "description": "quantity order to retrieve",
            "required": true,
            "type": "number"
          },
          "sort": {
            "example": 1,
            "description": "1 or -1",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": [
                  {
                    "_id": "IdOrder",
                    "orderId": "orderId",
                    "status": "processing",
                    "userId": "userId",
                    "description": "description",
                    "totalPrice": 1000,
                    "createAt": "someDate",
                    "paymentsPlan": [
                      {
                        "version": "v2",
                        "destinationId": "destinationId",
                        "_id": "_idpp",
                        "description": "some description",
                        "email": "email@email.com",
                        "dateCharge": "2016-05-05",
                        "price": 100,
                        "basePrice": 100,
                        "typeAccount": "typeAccount",
                        "account": "account",
                        "accountBrand": "Diners Club",
                        "discount": 0,
                        "discountCode": "discountCode",
                        "wasProcessed": false,
                        "status": "pending",
                        "last4": "0000",
                        "originalPrice": 90,
                        "totalFee": 10,
                        "feePaidUp": 4.2,
                        "feeStripe": 3.6,
                        "paymentId": "paymentId",
                        "attempts": [
                          {
                            "status": "success",
                            "dateAttemp": "2016-05-05",
                            "last4": "1234",
                            "accountBrand": "american express",
                            "transferId": "tr_xxx"
                          }
                        ],
                        "processingFees": {
                          "cardFeeActual": 12,
                          "cardFeeDisplay": 21,
                          "cardFeeFlatActual": 12,
                          "cardFeeFlatDisplay": 21,
                          "achFeeActual": 12,
                          "achFeeDisplay": 21,
                          "achFeeFlatActual": 12,
                          "achFeeFlatDisplay": 21,
                          "achFeeCapActual": 0.25,
                          "achFeeCapDisplay": 5
                        },
                        "collectionsFee": {
                          "fee": 12,
                          "feeFlat": 21
                        },
                        "paysFees": {
                          "processing": true,
                          "collections": true
                        },
                        "productInfo": {
                          "productId": "productId",
                          "productName": "productName",
                          "productImage": "someUrl",
                          "organizationId": "organizationId",
                          "organizationName": "organization name",
                          "organizationLocation": "Austin, TX",
                          "organizationImage": "someUrl"
                        },
                        "userInfo": {
                          "userId": "UserId",
                          "userName": "userName"
                        },
                        "customInfo": {
                          "formData": {},
                          "formTemplate": []
                        },
                        "beneficiaryInfo": {
                          "beneficiaryName": "Joceline",
                          "beneficiaryId": "N/A"
                        },
                        "paymentMethods": []
                      }
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/list',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      orderId: inputs.orderId,\n      userId: inputs.userId,\n      limit: inputs.limit,\n      sort: inputs.sort\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-get",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-get",
        "defaultExit": null,
        "machinepack": 169,
        "id": 759,
        "createdAt": "2016-04-08T22:00:04.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-get-to-charge",
        "variableName": "orderGetToCharge",
        "friendlyName": "get orders to charge",
        "cacheable": false,
        "sync": false,
        "description": "get orders to charge (cronjob)",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": [
                  {
                    "_id": "IdOrder",
                    "status": "processing",
                    "userId": "userId",
                    "orderId": "orderId",
                    "description": "description",
                    "paymentsPlan": [
                      {
                        "version": "v1",
                        "destinationId": "destinationId",
                        "_id": "_idpp",
                        "description": "some description",
                        "email": "email@email.com",
                        "dateCharge": "2016-05-05",
                        "price": 100,
                        "basePrice": 100,
                        "typeAccount": "typeAccount",
                        "account": "account",
                        "accountBrand": "Diners Club",
                        "discount": 0,
                        "discountCode": "discountCode",
                        "wasProcessed": false,
                        "status": "pending",
                        "paymentId": "paymentId",
                        "last4": "0000",
                        "originalPrice": 90,
                        "totalFee": 10,
                        "feePaidUp": 4.2,
                        "feeStripe": 3.6,
                        "attempts": [
                          {
                            "status": "success",
                            "dateAttemp": "2016-05-05",
                            "last4": "1234",
                            "accountBrand": "american express",
                            "transferId": "tr_xxx"
                          }
                        ],
                        "processingFees": {
                          "cardFeeActual": 12,
                          "cardFeeDisplay": 21,
                          "cardFeeFlatActual": 12,
                          "cardFeeFlatDisplay": 21,
                          "achFeeActual": 12,
                          "achFeeDisplay": 21,
                          "achFeeFlatActual": 12,
                          "achFeeFlatDisplay": 21,
                          "achFeeCapActual": 0.25,
                          "achFeeCapDisplay": 5
                        },
                        "collectionsFee": {
                          "fee": 12,
                          "feeFlat": 21
                        },
                        "paysFees": {
                          "processing": true,
                          "collections": true
                        },
                        "productInfo": {
                          "productId": "productId",
                          "productName": "productName",
                          "productImage": "someUrl",
                          "organizationId": "organizationId",
                          "organizationName": "organization name",
                          "organizationLocation": "Austin, TX",
                          "organizationImage": "someUrl"
                        },
                        "userInfo": {
                          "userId": "UserId",
                          "userName": "userName"
                        },
                        "customInfo": {
                          "formData": {},
                          "formTemplate": []
                        },
                        "beneficiaryInfo": {
                          "beneficiaryName": "Joceline",
                          "beneficiaryId": "N/A"
                        }
                      }
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/cronjob',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-get-to-charge",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-get-to-charge",
        "defaultExit": null,
        "machinepack": 169,
        "id": 760,
        "createdAt": "2016-04-08T22:00:04.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-to-complete",
        "variableName": "orderToComplete",
        "friendlyName": "orders to complete",
        "cacheable": false,
        "sync": false,
        "description": "orders to complete (cronjob)",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order completed",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "ok": 1,
                "nModified": 0,
                "n": 0
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/complete',\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.body\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-to-complete",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-to-complete",
        "defaultExit": null,
        "machinepack": 169,
        "id": 761,
        "createdAt": "2016-04-08T22:00:04.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-search",
        "variableName": "orderSearch",
        "friendlyName": "search orders",
        "cacheable": false,
        "sync": false,
        "description": "search orders",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "params": {
            "example": "wome word",
            "description": "may be: beneficiaryName, productName, email, userName",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": [
                  {
                    "_id": "IdOrder",
                    "orderId": "orderId",
                    "status": "processing",
                    "userId": "userId",
                    "description": "description",
                    "createAt": "createAt",
                    "paymentsPlan": [
                      {
                        "version": "v2",
                        "destinationId": "destinationId",
                        "_id": "_idpp",
                        "description": "some description",
                        "email": "email@email.com",
                        "dateCharge": "2016-05-05",
                        "price": 100,
                        "basePrice": 100,
                        "typeAccount": "typeAccount",
                        "account": "account",
                        "accountBrand": "Diners Club",
                        "discount": 0,
                        "discountCode": "discountCode",
                        "wasProcessed": false,
                        "status": "pending",
                        "last4": "0000",
                        "originalPrice": 90,
                        "totalFee": 10,
                        "feePaidUp": 4.2,
                        "feeStripe": 3.6,
                        "attempts": [
                          {
                            "status": "success",
                            "dateAttemp": "2016-05-05",
                            "last4": "1234",
                            "accountBrand": "american express",
                            "transferId": "tr_xxx"
                          }
                        ],
                        "processingFees": {
                          "cardFeeActual": 12,
                          "cardFeeDisplay": 21,
                          "cardFeeFlatActual": 12,
                          "cardFeeFlatDisplay": 21,
                          "achFeeActual": 12,
                          "achFeeDisplay": 21,
                          "achFeeFlatActual": 12,
                          "achFeeFlatDisplay": 21,
                          "achFeeCapActual": 0.25,
                          "achFeeCapDisplay": 5
                        },
                        "collectionsFee": {
                          "fee": 12,
                          "feeFlat": 21
                        },
                        "paysFees": {
                          "processing": true,
                          "collections": true
                        },
                        "productInfo": {
                          "productId": "productId",
                          "productName": "productName",
                          "productImage": "someUrl",
                          "organizationId": "organizationId",
                          "organizationName": "organization name",
                          "organizationLocation": "Austin, TX",
                          "organizationImage": "someUrl"
                        },
                        "userInfo": {
                          "userId": "UserId",
                          "userName": "userName"
                        },
                        "customInfo": {
                          "formData": {},
                          "formTemplate": []
                        },
                        "beneficiaryInfo": {
                          "beneficiaryName": "Joceline",
                          "beneficiaryId": "N/A"
                        },
                        "paymentMethods": []
                      }
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v3/commerce/order/search',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = { params: inputs.params }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-search",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-search",
        "defaultExit": null,
        "machinepack": 169,
        "id": 770,
        "createdAt": "2016-04-12T02:10:07.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-payment-recent",
        "variableName": "orderPaymentRecent",
        "friendlyName": "order payment recent",
        "cacheable": false,
        "sync": false,
        "description": "order payment recent",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userId": {
            "example": "userId",
            "description": "owner order to retrieve",
            "required": false,
            "type": "string"
          },
          "limit": {
            "example": 5,
            "description": "quantity order to retrieve",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "_id": "xxx",
                  "userId": "5644f60936c2f71c22b69267",
                  "orderId": "100000",
                  "description": "description",
                  "paymentsPlan": {
                    "_id": "id",
                    "customInfo": {
                      "formData": {},
                      "formTemplate": []
                    },
                    "beneficiaryInfo": {
                      "beneficiaryName": "Joceline",
                      "beneficiaryId": "N/A"
                    },
                    "userInfo": {
                      "userName": "other name test last",
                      "userId": "5644f60936c2f71c22b69267"
                    },
                    "productInfo": {
                      "organizationImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos.png",
                      "organizationLocation": "Springfield, MA",
                      "organizationName": "Isotopes Baseball",
                      "organizationId": "acct_17vBpJHXmwMXUx1q",
                      "productImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos_2.png",
                      "productName": "14U",
                      "productId": "111"
                    },
                    "paysFees": {
                      "collections": true,
                      "processing": true
                    },
                    "collectionsFee": {
                      "feeFlat": 0,
                      "fee": 5
                    },
                    "processingFees": {
                      "achFeeFlatDisplay": 0,
                      "achFeeFlatActual": 0,
                      "achFeeDisplay": 0,
                      "achFeeActual": 0,
                      "cardFeeFlatDisplay": 0.3,
                      "cardFeeFlatActual": 0.3,
                      "cardFeeDisplay": 2.9,
                      "cardFeeActual": 2.9,
                      "achFeeCapActual": 0.25,
                      "achFeeCapDisplay": 5
                    },
                    "description": "Payment In Full",
                    "last4": "1111",
                    "accountBrand": "Visa",
                    "account": "card_176RghCi3y1KZk9uuWFxXsZq",
                    "typeAccount": "card",
                    "paymentId": "cus_7L7wdnf5rQkIrO",
                    "feeStripe": 44.21,
                    "feePaidUp": 70,
                    "totalFee": 114.21,
                    "originalPrice": 1400,
                    "basePrice": 546,
                    "price": 1514.28,
                    "dateCharge": "Tue Apr 19 2016 19:00:00 GMT-0500 (COT)",
                    "email": "cogollo1987@yahoo.es",
                    "destinationId": "acct_16N29JCSxGRWBMDD",
                    "attempts": [
                      {
                        "transferId": "tr_182SGFCi3y1KZk9uKhC8LYx4",
                        "accountBrand": "Visa",
                        "last4": "1111",
                        "message": "done",
                        "status": "succeeded",
                        "dateAttemp": "2016-04-20T20:49:24.152Z",
                        "_id": "5717eb54c8138dcf6de107ea"
                      }
                    ],
                    "status": "succeeded",
                    "wasProcessed": true,
                    "discountCode": "",
                    "discount": 0
                  },
                  "status": "complete"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n    var config = {\n      url: '/api/v3/commerce/order/recent/' + inputs.userId + '/' + inputs.limit,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-payment-recent",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-payment-recent",
        "defaultExit": null,
        "machinepack": 169,
        "id": 775,
        "createdAt": "2016-04-12T13:20:15.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-active",
        "variableName": "orderActive",
        "friendlyName": "get active orders",
        "cacheable": false,
        "sync": false,
        "description": "get active orders",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userId": {
            "example": "userId",
            "description": "filter to retrieve orders",
            "required": false,
            "type": "string"
          },
          "limit": {
            "example": 1,
            "description": "filter to retrieve orders",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "_id": "xxx",
                  "userId": "5644f60936c2f71c22b69267",
                  "orderId": "100000",
                  "description": "description",
                  "paymentsPlan": [
                    {
                      "_id": "id",
                      "beneficiaryInfo": {
                        "beneficiaryName": "Joceline",
                        "beneficiaryId": "N/A"
                      },
                      "customInfo": {
                        "formData": {},
                        "formTemplate": []
                      },
                      "userInfo": {
                        "userName": "other name test last",
                        "userId": "5644f60936c2f71c22b69267"
                      },
                      "productInfo": {
                        "organizationImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos.png",
                        "organizationLocation": "Springfield, MA",
                        "organizationName": "Isotopes Baseball",
                        "organizationId": "acct_17vBpJHXmwMXUx1q",
                        "productImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos_2.png",
                        "productName": "14U",
                        "productId": "111"
                      },
                      "paysFees": {
                        "collections": true,
                        "processing": true
                      },
                      "collectionsFee": {
                        "feeFlat": 0,
                        "fee": 5
                      },
                      "processingFees": {
                        "achFeeFlatDisplay": 0,
                        "achFeeFlatActual": 0,
                        "achFeeDisplay": 0,
                        "achFeeActual": 0,
                        "cardFeeFlatDisplay": 0.3,
                        "cardFeeFlatActual": 0.3,
                        "cardFeeDisplay": 2.9,
                        "cardFeeActual": 2.9
                      },
                      "description": "Payment In Full",
                      "last4": "1111",
                      "accountBrand": "Visa",
                      "account": "card_176RghCi3y1KZk9uuWFxXsZq",
                      "typeAccount": "card",
                      "paymentId": "cus_7L7wdnf5rQkIrO",
                      "feeStripe": 44.21,
                      "feePaidUp": 70,
                      "totalFee": 114.21,
                      "originalPrice": 1514.28,
                      "basePrice": 1400,
                      "price": 1514.28,
                      "dateCharge": "Tue Apr 19 2016 19:00:00 GMT-0500 (COT)",
                      "email": "cogollo1987@yahoo.es",
                      "destinationId": "acct_16N29JCSxGRWBMDD",
                      "attempts": [
                        {
                          "transferId": "tr_182SGFCi3y1KZk9uKhC8LYx4",
                          "accountBrand": "Visa",
                          "last4": "1111",
                          "message": "done",
                          "status": "succeeded",
                          "dateAttemp": "2016-04-20T20:49:24.152Z",
                          "_id": "5717eb54c8138dcf6de107ea"
                        }
                      ],
                      "status": "succeeded",
                      "wasProcessed": true,
                      "discountCode": "",
                      "discount": 0
                    }
                  ],
                  "status": "complete",
                  "allProductName": [
                    "productName"
                  ]
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v3/commerce/order/active/' + inputs.userId + '/' + inputs.limit,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      console.log('err', err)\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-active",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-active",
        "defaultExit": null,
        "machinepack": 169,
        "id": 776,
        "createdAt": "2016-04-13T16:19:59.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-payment-next",
        "variableName": "orderPaymentNext",
        "friendlyName": "order payment next",
        "cacheable": false,
        "sync": false,
        "description": "order payment next",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "userId": {
            "example": "userId",
            "description": "owner order to retrieve",
            "required": false,
            "type": "string"
          },
          "limit": {
            "example": 1,
            "description": "quantity order to retrieve",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "_id": "xxx",
                  "userId": "5644f60936c2f71c22b69267",
                  "orderId": "100000",
                  "description": "description",
                  "paymentsPlan": {
                    "_id": "id",
                    "customInfo": {
                      "formData": {},
                      "formTemplate": []
                    },
                    "beneficiaryInfo": {
                      "beneficiaryName": "Joceline",
                      "beneficiaryId": "N/A"
                    },
                    "userInfo": {
                      "userName": "other name test last",
                      "userId": "5644f60936c2f71c22b69267"
                    },
                    "productInfo": {
                      "organizationImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos.png",
                      "organizationLocation": "Springfield, MA",
                      "organizationName": "Isotopes Baseball",
                      "organizationId": "acct_17vBpJHXmwMXUx1q",
                      "productImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos_2.png",
                      "productName": "14U",
                      "productId": "111"
                    },
                    "paysFees": {
                      "collections": true,
                      "processing": true
                    },
                    "collectionsFee": {
                      "feeFlat": 0,
                      "fee": 5
                    },
                    "processingFees": {
                      "achFeeFlatDisplay": 0,
                      "achFeeFlatActual": 0,
                      "achFeeDisplay": 0,
                      "achFeeActual": 0,
                      "cardFeeFlatDisplay": 0.3,
                      "cardFeeFlatActual": 0.3,
                      "cardFeeDisplay": 2.9,
                      "cardFeeActual": 2.9,
                      "achFeeCapActual": 0.25,
                      "achFeeCapDisplay": 5
                    },
                    "description": "Payment In Full",
                    "last4": "1111",
                    "accountBrand": "Visa",
                    "account": "card_176RghCi3y1KZk9uuWFxXsZq",
                    "typeAccount": "card",
                    "paymentId": "cus_7L7wdnf5rQkIrO",
                    "feeStripe": 44.21,
                    "feePaidUp": 70,
                    "totalFee": 114.21,
                    "originalPrice": 1400,
                    "basePrice": 546,
                    "price": 1514.28,
                    "dateCharge": "Tue Apr 19 2016 19:00:00 GMT-0500 (COT)",
                    "email": "cogollo1987@yahoo.es",
                    "destinationId": "acct_16N29JCSxGRWBMDD",
                    "attempts": [
                      {
                        "transferId": "tr_182SGFCi3y1KZk9uKhC8LYx4",
                        "accountBrand": "Visa",
                        "last4": "1111",
                        "message": "done",
                        "status": "succeeded",
                        "dateAttemp": "2016-04-20T20:49:24.152Z",
                        "_id": "5717eb54c8138dcf6de107ea"
                      }
                    ],
                    "status": "succeeded",
                    "wasProcessed": true,
                    "discountCode": "",
                    "discount": 0
                  },
                  "status": "complete"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v3/commerce/order/next/' + inputs.userId + '/' + inputs.limit,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-payment-next",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-payment-next",
        "defaultExit": null,
        "machinepack": 169,
        "id": 777,
        "createdAt": "2016-04-13T16:19:59.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-get-organization",
        "variableName": "orderGetOrganization",
        "friendlyName": "get organization orders",
        "cacheable": false,
        "sync": false,
        "description": "get organization orders",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationId": {
            "example": "organizationId",
            "description": "owner (organization) order to retrieve",
            "required": true,
            "type": "string"
          },
          "limit": {
            "example": 5,
            "description": "quantity order to retrieve",
            "required": true,
            "type": "number"
          },
          "sort": {
            "example": 1,
            "description": "1 or -1",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "_id": "xxx",
                  "userId": "5644f60936c2f71c22b69267",
                  "description": "description",
                  "orderId": "100000",
                  "sumoriginalPrice": 16400,
                  "alloriginalPrice": [
                    0
                  ],
                  "sumbasePrice": 16400,
                  "allbasePrice": [
                    0
                  ],
                  "allDiscount": [
                    0
                  ],
                  "sumDiscount": 0,
                  "sumPrice": 1000,
                  "allPrice": [
                    0
                  ],
                  "allProductName": [
                    "allProductName"
                  ],
                  "updateAt": "2016-05-03T06:02:12.692Z",
                  "createAt": "2016-05-03T06:02:12.692Z",
                  "paymentsPlan": [
                    {
                      "_id": "id",
                      "customInfo": {
                        "formData": {},
                        "formTemplate": []
                      },
                      "beneficiaryInfo": {
                        "beneficiaryName": "Joceline",
                        "beneficiaryId": "N/A"
                      },
                      "userInfo": {
                        "userName": "other name test last",
                        "userId": "5644f60936c2f71c22b69267"
                      },
                      "productInfo": {
                        "organizationImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos.png",
                        "organizationLocation": "Springfield, MA",
                        "organizationName": "Isotopes Baseball",
                        "organizationId": "acct_17vBpJHXmwMXUx1q",
                        "productImage": "http://virtual:8888/media/catalog/product/n/t/ntxbanditos_2.png",
                        "productName": "14U",
                        "productId": "111"
                      },
                      "paysFees": {
                        "collections": true,
                        "processing": true
                      },
                      "collectionsFee": {
                        "feeFlat": 0,
                        "fee": 5
                      },
                      "processingFees": {
                        "achFeeFlatDisplay": 0,
                        "achFeeFlatActual": 0,
                        "achFeeDisplay": 0,
                        "achFeeActual": 0,
                        "cardFeeFlatDisplay": 0.3,
                        "cardFeeFlatActual": 0.3,
                        "cardFeeDisplay": 2.9,
                        "cardFeeActual": 2.9,
                        "achFeeCapActual": 0.25,
                        "achFeeCapDisplay": 5
                      },
                      "description": "Payment In Full",
                      "last4": "1111",
                      "accountBrand": "Visa",
                      "account": "card_176RghCi3y1KZk9uuWFxXsZq",
                      "typeAccount": "card",
                      "paymentId": "cus_7L7wdnf5rQkIrO",
                      "feeStripe": 44.21,
                      "feePaidUp": 70,
                      "totalFee": 114.21,
                      "basePrice": 1400,
                      "originalPrice": 1514.28,
                      "price": 1514.28,
                      "dateCharge": "Tue Apr 19 2016 19:00:00 GMT-0500 (COT)",
                      "email": "cogollo1987@yahoo.es",
                      "destinationId": "acct_16N29JCSxGRWBMDD",
                      "attempts": [
                        {
                          "transferId": "tr_182SGFCi3y1KZk9uKhC8LYx4",
                          "accountBrand": "Visa",
                          "last4": "1111",
                          "message": "done",
                          "status": "succeeded",
                          "dateAttemp": "2016-04-20T20:49:24.152Z",
                          "_id": "5717eb54c8138dcf6de107ea"
                        }
                      ],
                      "status": "succeeded",
                      "wasProcessed": true,
                      "discountCode": "",
                      "discount": 0
                    }
                  ],
                  "status": "complete"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v3/commerce/order/organization/' + inputs.organizationId + '/' + inputs.limit + '/' + inputs.sort,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-get-organization",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-get-organization",
        "defaultExit": null,
        "machinepack": 169,
        "id": 801,
        "createdAt": "2016-05-17T18:00:06.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-update-webhook",
        "variableName": "orderUpdateWebhook",
        "friendlyName": "update order from webhook",
        "cacheable": false,
        "sync": false,
        "description": "update order from webhook",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "data": {
            "example": {},
            "description": "data from webhook",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": [
                  {
                    "_id": "IdOrder",
                    "orderId": "orderId",
                    "status": "processing",
                    "userId": "userId",
                    "description": "description",
                    "totalPrice": 1000,
                    "createAt": "someDate",
                    "paymentsPlan": [
                      {
                        "version": "v2",
                        "destinationId": "destinationId",
                        "_id": "_idpp",
                        "description": "some description",
                        "email": "email@email.com",
                        "dateCharge": "2016-05-05",
                        "price": 100,
                        "basePrice": 100,
                        "typeAccount": "typeAccount",
                        "account": "account",
                        "accountBrand": "Diners Club",
                        "discount": 0,
                        "discountCode": "discountCode",
                        "wasProcessed": false,
                        "status": "pending",
                        "last4": "0000",
                        "originalPrice": 90,
                        "totalFee": 10,
                        "feePaidUp": 4.2,
                        "feeStripe": 3.6,
                        "paymentId": "paymentId",
                        "attempts": [
                          {
                            "status": "success",
                            "dateAttemp": "2016-05-05",
                            "last4": "1234",
                            "accountBrand": "american express",
                            "transferId": "tr_xxx"
                          }
                        ],
                        "processingFees": {
                          "cardFeeActual": 12,
                          "cardFeeDisplay": 21,
                          "cardFeeFlatActual": 12,
                          "cardFeeFlatDisplay": 21,
                          "achFeeActual": 12,
                          "achFeeDisplay": 21,
                          "achFeeFlatActual": 12,
                          "achFeeFlatDisplay": 21
                        },
                        "collectionsFee": {
                          "fee": 12,
                          "feeFlat": 21
                        },
                        "paysFees": {
                          "processing": true,
                          "collections": true
                        },
                        "productInfo": {
                          "productId": "productId",
                          "productName": "productName",
                          "productImage": "someUrl",
                          "organizationId": "organizationId",
                          "organizationName": "organization name",
                          "organizationLocation": "Austin, TX",
                          "organizationImage": "someUrl"
                        },
                        "userInfo": {
                          "userId": "UserId",
                          "userName": "userName"
                        },
                        "customInfo": {
                          "formData": {},
                          "formTemplate": []
                        },
                        "beneficiaryInfo": {}
                      }
                    ]
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/update-webhook',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, inputs.data, function (err, resp) {\n    \tconsole.log('resp.body', resp.body)\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-update-webhook",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-update-webhook",
        "defaultExit": null,
        "machinepack": 169,
        "id": 811,
        "createdAt": "2016-07-22T22:39:36.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-history",
        "variableName": "orderHistory",
        "friendlyName": "get orders",
        "cacheable": false,
        "sync": false,
        "description": "get orders",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "orderId": {
            "example": "orderId",
            "description": "orderId filter to retrieve orders",
            "required": true,
            "type": "string"
          },
          "limit": {
            "example": 5,
            "description": "quantity order to retrieve",
            "required": false,
            "type": "number"
          },
          "sort": {
            "example": 1,
            "description": "1 or -1",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order created with payments",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "orders": "*"
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v2/commerce/order/history',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n\n    var body = {\n      orderId: inputs.orderId,\n      limit: inputs.limit,\n      sort: inputs.sort\n    }\n\n    Connector.request(config, {}, body, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-history",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-history",
        "defaultExit": null,
        "machinepack": 169,
        "id": 836,
        "createdAt": "2016-08-11T15:29:48.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "report-revenue-projection",
        "variableName": "reportRevenueProjection",
        "friendlyName": "Report revenue projection",
        "cacheable": false,
        "sync": false,
        "description": "revenue projection report",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "TDCommerceToken-CHANGE-ME!",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {}
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/reports/revenue/projections',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token\n    };\n\n    var body = inputs.filter;\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/report-revenue-projection",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/report-revenue-projection",
        "defaultExit": null,
        "machinepack": 169,
        "id": 837,
        "createdAt": "2016-08-31T21:30:13.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "report-revenue",
        "variableName": "reportRevenue",
        "friendlyName": "Report revenue",
        "cacheable": false,
        "sync": false,
        "description": "revenue report",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "TDCommerceToken-CHANGE-ME!",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "filter": {
            "example": "*",
            "description": "It is a object that contain the key value to filters the list coupons. if you want a complete list os coupon send a empty object {}",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {}
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector  = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v1/commerce/reports/revenue',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token\n    };\n\n    var body = inputs.filter;\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/report-revenue",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/report-revenue",
        "defaultExit": null,
        "machinepack": 169,
        "id": 838,
        "createdAt": "2016-09-01T22:20:07.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-transactions",
        "variableName": "orderTransactions",
        "friendlyName": "get orders transactions",
        "cacheable": false,
        "sync": false,
        "description": "get orders transactions",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationId": {
            "example": "orderId",
            "description": "orderId filter to retrieve orders",
            "required": false,
            "type": "string"
          },
          "limit": {
            "example": 5,
            "description": "quantity order to retrieve",
            "required": false,
            "type": "number"
          },
          "sort": {
            "example": 1,
            "description": "1 or -1",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order transactions",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": "*"
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: inputs.organizationId ? '/api/v3/commerce/order/transactions/organization/'+inputs.organizationId : '/api/v3/commerce/order/transactions',\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-transactions",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-transactions",
        "defaultExit": null,
        "machinepack": 169,
        "id": 840,
        "createdAt": "2016-09-13T16:50:16.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      },
      {
        "identity": "order-transactions-organization",
        "variableName": "orderTransactionsOrganization",
        "friendlyName": "get orders transactions",
        "cacheable": false,
        "sync": false,
        "description": "get orders transactions",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationId": {
            "example": "orderId",
            "description": "orderId filter to retrieve orders",
            "required": true,
            "type": "string"
          },
          "limit": {
            "example": 5,
            "description": "quantity order to retrieve",
            "required": false,
            "type": "number"
          },
          "sort": {
            "example": 1,
            "description": "1 or -1",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "order transactions",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": "*"
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n\n    var config = {\n      url: '/api/v3/commerce/order/transactions/organization/'+inputs.organizationId,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: JSON.stringify(err.message)\n        })\n      } else {\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect/order-transactions-organization",
        "docsUrl": "http://node-machine.org/paidup-commerce-connect/order-transactions-organization",
        "defaultExit": null,
        "machinepack": 169,
        "id": 841,
        "createdAt": "2016-09-17T13:09:43.000Z",
        "updatedAt": "2016-09-17T13:09:43.000Z"
      }
    ],
    "identity": "paidup-commerce-connect",
    "version": "0.14.13",
    "latestVersionPublishedAt": "2016-09-17T00:00:00.000Z",
    "variableName": "PaidUpCommerceConnect",
    "friendlyName": "PaidUp-Commerce-Connect",
    "description": "Connector for PaidUp Microservice Commerce",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://app.getpaidup.com/favicon.ico",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/paidup-commerce-connect",
    "docsUrl": "http://node-machine.org/paidup-commerce-connect",
    "npmUrl": "http://npmjs.org/package/paidup-commerce-connect",
    "npmPackageName": "paidup-commerce-connect",
    "githubUrl": "http://github.com/PaidUp/PUCommerce-connect/",
    "sourceUrl": "http://github.com/PaidUp/PUCommerce-connect/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "request",
        "semverRange": "^2.69.0"
      },
      {
        "name": "tape",
        "semverRange": "^4.5.1"
      },
      {
        "name": "taper",
        "semverRange": "^0.5.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUp",
        "email": ""
      },
      {
        "name": "jessecogollo",
        "email": "cogollo87@gmail.com"
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 169,
    "createdAt": "2016-04-08T22:00:03.000Z",
    "updatedAt": "2016-09-17T13:09:43.000Z",
    "numMachines": 21
  },
  {
    "machines": [
      {
        "identity": "category-retrieve",
        "variableName": "categoryRetrieve",
        "friendlyName": "category-retrieve",
        "cacheable": false,
        "sync": false,
        "description": "Retrieve categories of products",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "categories",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "_id": "105",
                  "name": "Team name",
                  "description": "some desc",
                  "company": "105",
                  "image": "http://localhost:8888/media//catalog/product/n/t/xxxxx.png",
                  "isActive": true,
                  "products": [
                    {
                      "details": {
                        "organizationId": "105",
                        "organizationName": "Team name",
                        "organizationLocation": "Austin, TX",
                        "sku": "XXXSKUTEAM",
                        "name": "14U White",
                        "description": "XXXXs - 14U Description",
                        "startAt": "2016-01-01",
                        "endAt": "2016-12-31",
                        "location": "Austin, TX",
                        "geojson": {},
                        "visitbility": true,
                        "status": true,
                        "images": {
                          "main": "someUrl"
                        },
                        "categories": [],
                        "relatedProducts": []
                      },
                      "meta": {},
                      "processingFees": {
                        "cardFee": 2.9,
                        "cardFeeActual": 2.9,
                        "cardFeeFlat": 0.3,
                        "cardFeeFlatActual": 0.3,
                        "achFee": 0,
                        "achFeeActual": 0,
                        "achFeeFlat": 0,
                        "achFeeFlatActual": 0
                      },
                      "collectionsFee": {
                        "fee": 5,
                        "feeFlat": 0
                      },
                      "paysFees": {
                        "processing": true,
                        "collections": true
                      },
                      "paymentPlans": {}
                    }
                  ]
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v2/commerce/catalog/category/3',\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else {\n\n        var result = [];\n        var categories = resp.body;\n        categories.map(function(cat){\n\n          var category = {\n            _id : cat.entityId,\n            name: cat.name,\n            description: cat.description,\n            company : cat.entityId,\n            image: cat.mediaGallery.images[0].fullUrl,\n            isActive: cat.status == \"1\",\n            products: []\n          }\n          cat.simpleProducts.map(function(prod){\n            if(prod.feeManagement){\n              var prodJson = JSON.parse(prod.feeManagement);\n              prodJson.details.images.main =  prod.mediaGallery.images[0].fullUrl;\n              category.products.push(prodJson);\n            }\n          });\n          result.push(category);\n        });\n\n        return exits.success({\n          status: resp.status,\n          body: result\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-product-connect/category-retrieve",
        "docsUrl": "http://node-machine.org/pu-product-connect/category-retrieve",
        "defaultExit": null,
        "machinepack": 166,
        "id": 746,
        "createdAt": "2016-04-08T20:29:30.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      },
      {
        "identity": "product-retrieve",
        "variableName": "productRetrieve",
        "friendlyName": "product-retrieve",
        "cacheable": false,
        "sync": false,
        "description": "Retrieve product by Id",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "productId": {
            "example": "12",
            "description": "id product.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "categories",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "details": {
                  "organizationId": "105",
                  "organizationName": "Team name",
                  "organizationLocation": "Austin, TX",
                  "sku": "XXXSKUTEAM",
                  "name": "14U White",
                  "description": "XXXXs - 14U Description",
                  "startAt": "2016-01-01",
                  "endAt": "2016-12-31",
                  "location": "Austin, TX",
                  "geojson": {},
                  "visitbility": true,
                  "status": true,
                  "images": {
                    "main": "someUrl"
                  },
                  "categories": [],
                  "relatedProducts": []
                },
                "meta": {},
                "processingFees": {
                  "cardFee": 2.9,
                  "cardFeeActual": 2.9,
                  "cardFeeFlat": 0.3,
                  "cardFeeFlatActual": 0.3,
                  "achFee": 0,
                  "achFeeActual": 0,
                  "achFeeFlat": 0,
                  "achFeeFlatActual": 0
                },
                "collectionsFee": {
                  "fee": 5,
                  "feeFlat": 0
                },
                "paysFees": {
                  "processing": true,
                  "collections": true
                },
                "paymentPlans": {}
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector = require('../core/common/connector');\n    var url = '/api/v1/commerce/catalog/product/'+inputs.productId;\n    var config = {\n      url: url,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {}, function (err, resp) {\n\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else if(!resp.body.feeManagement){\n        return exits.error({\n          status: 400,\n          message: \"Product dont have feeManagement\"\n        })\n      }\n      else {\n        var prod = JSON.parse(resp.body.feeManagement)\n          prod.details.images.main =  resp.body.images[0].url;\n          return exits.success({\n            status: 200,\n            body: prod\n          })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-product-connect/product-retrieve",
        "docsUrl": "http://node-machine.org/pu-product-connect/product-retrieve",
        "defaultExit": null,
        "machinepack": 166,
        "id": 747,
        "createdAt": "2016-04-08T20:29:30.000Z",
        "updatedAt": "2016-04-08T20:59:52.000Z"
      }
    ],
    "identity": "pu-product-connect",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2016-04-08T00:00:00.000Z",
    "variableName": "PaidUpProductConnect",
    "friendlyName": "PaidUp Product Connect",
    "description": "Connector for payment microservice",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/pu-product-connect",
    "docsUrl": "http://node-machine.org/pu-product-connect",
    "npmUrl": "http://npmjs.org/package/pu-product-connect",
    "npmPackageName": "pu-product-connect",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUp",
        "email": ""
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 166,
    "createdAt": "2016-04-08T20:29:30.000Z",
    "updatedAt": "2016-04-08T20:59:52.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "category-retrieve",
        "variableName": "categoryRetrieve",
        "friendlyName": "category-retrieve",
        "cacheable": false,
        "sync": false,
        "description": "Retrieve categories of products",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "categories",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": [
                {
                  "_id": "105",
                  "name": "Team name",
                  "description": "some desc",
                  "company": "105",
                  "image": "http://localhost:8888/media//catalog/product/n/t/xxxxx.png",
                  "isActive": true,
                  "location": "Austin, TX",
                  "products": [
                    {
                      "_id": "ID",
                      "details": {
                        "organizationId": "105",
                        "organizationName": "Team name",
                        "organizationLocation": "Austin, TX",
                        "sku": "XXXSKUTEAM",
                        "name": "14U White",
                        "description": "XXXXs - 14U Description",
                        "startAt": "2016-01-01",
                        "endAt": "2016-12-31",
                        "location": "Austin, TX",
                        "geojson": {},
                        "visitbility": true,
                        "status": true,
                        "images": {
                          "main": "someUrl"
                        },
                        "categories": [],
                        "relatedProducts": []
                      },
                      "meta": {},
                      "processingFees": {
                        "cardFeeDisplay": 2.9,
                        "cardFeeActual": 2.9,
                        "cardFeeFlatDisplay": 0.3,
                        "cardFeeFlatActual": 0.3,
                        "achFeeDisplay": 0,
                        "achFeeActual": 0,
                        "achFeeFlatDisplay": 0,
                        "achFeeFlatActual": 0
                      },
                      "collectionsFee": {
                        "fee": 5,
                        "feeFlat": 0
                      },
                      "paysFees": {
                        "processing": true,
                        "collections": true
                      },
                      "paymentPlans": {}
                    }
                  ]
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector = require('../core/common/connector');\n\n    var config = {\n      url: '/api/v2/commerce/catalog/category/3',\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n\n\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else {\n\n        var result = [];\n        var categories = resp.body;\n        var today = new Date();\n        categories.map(function(cat){\n          try{\n            var category = {\n              _id : cat.entityId,\n              name: cat.name,\n              description: cat.description,\n              company : cat.entityId,\n              image: cat.mediaGallery.images[0].fullUrl,\n              isActive: cat.status == \"1\",\n              location: cat.location,\n              products: []\n            }\n            cat.simpleProducts.map(function(prod){\n              if(prod.feeManagement){\n                var prodJson = JSON.parse(prod.feeManagement);\n                prodJson.details.images.main =  prod.mediaGallery.images[0].fullUrl;\n                prodJson._id = prod.entityId;\n\n\n                for (var key in prodJson.paymentPlans) {\n                  prodJson.paymentPlans[key].dues.forEach(function(ele, idx, arr){\n                    var dc = new Date(ele.dateCharge)\n                    if(dc < today ){\n                      ele.dateCharge = today;\n                    } else {\n                      ele.dateCharge = dc;\n                    }\n                  });\n                }\n\n                category.products.push(prodJson);\n              }\n            });\n            result.push(category);\n          }catch (err){\n            console.log(err)\n          }\n        });\n        return exits.success({\n          status: resp.status,\n          body: result\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-product-connect/category-retrieve",
        "docsUrl": "http://node-machine.org/paidup-product-connect/category-retrieve",
        "defaultExit": null,
        "machinepack": 167,
        "id": 748,
        "createdAt": "2016-04-08T21:10:00.000Z",
        "updatedAt": "2016-05-21T00:50:10.000Z"
      },
      {
        "identity": "product-retrieve",
        "variableName": "productRetrieve",
        "friendlyName": "product-retrieve",
        "cacheable": false,
        "sync": false,
        "description": "Retrieve product by Id",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9002",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "productId": {
            "example": "12",
            "description": "id product.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "categories",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "details": {
                  "organizationId": "105",
                  "organizationName": "Team name",
                  "organizationLocation": "Austin, TX",
                  "sku": "XXXSKUTEAM",
                  "name": "14U White",
                  "description": "XXXXs - 14U Description",
                  "startAt": "2016-01-01",
                  "endAt": "2016-12-31",
                  "location": "Austin, TX",
                  "geojson": {},
                  "visitbility": true,
                  "status": true,
                  "images": {
                    "main": "someUrl"
                  },
                  "categories": [],
                  "relatedProducts": []
                },
                "meta": {},
                "processingFees": {
                  "cardFee": 2.9,
                  "cardFeeActual": 2.9,
                  "cardFeeFlat": 0.3,
                  "cardFeeFlatActual": 0.3,
                  "achFee": 0,
                  "achFeeActual": 0,
                  "achFeeFlat": 0,
                  "achFeeFlatActual": 0
                },
                "collectionsFee": {
                  "fee": 5,
                  "feeFlat": 0
                },
                "paysFees": {
                  "processing": true,
                  "collections": true
                },
                "paymentPlans": {}
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector = require('../core/common/connector');\n    var url = '/api/v1/commerce/catalog/product/' + inputs.productId;\n    var config = {\n      url: url,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {}, function (err, resp) {\n\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else if (!resp.body.feeManagement) {\n        return exits.error({\n          status: 400,\n          message: \"Product dont have feeManagement\"\n        })\n      }\n      else {\n        var today = new Date();\n        var prodJson = JSON.parse(resp.body.feeManagement)\n\n        prodJson.details.images.main = resp.body.images[0].url;\n\n        for (var key in prodJson.paymentPlans) {\n          prodJson.paymentPlans[key].dues.forEach(function (ele, idx, arr) {\n            var dc = new Date(ele.dateCharge)\n            if (dc < today) {\n              ele.dateCharge = today;\n            } else {\n              ele.dateCharge = dc;\n            }\n          });\n        }\n\n\n        return exits.success({\n          status: 200,\n          body: prodJson\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-product-connect/product-retrieve",
        "docsUrl": "http://node-machine.org/paidup-product-connect/product-retrieve",
        "defaultExit": null,
        "machinepack": 167,
        "id": 749,
        "createdAt": "2016-04-08T21:10:00.000Z",
        "updatedAt": "2016-05-26T14:09:46.000Z"
      },
      {
        "identity": "organization-request",
        "variableName": "organizationRequest",
        "friendlyName": "organization-request",
        "cacheable": false,
        "sync": false,
        "description": "save a new organizations to be part of paidUp",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9007",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationInfo": {
            "example": {
              "ownerFirstName": "John",
              "ownerLastName": "Due",
              "ownerDOB": "12/12/1990",
              "ownerSSN": "123456789",
              "ownerEmail": "austin@boom.com",
              "ownerPhone": "1234567890",
              "country": "US",
              "state": "TX",
              "city": "Austin",
              "zipCode": "12345",
              "EIN": "123123123",
              "Address": "calle fake",
              "AddressLineTwo": "123",
              "businessName": "bname",
              "businessType": "Corporation",
              "aba": "110000",
              "dda": "000123456789",
              "referralCode": "promoCode"
            },
            "description": "product info.",
            "required": true,
            "type": "object"
          },
          "userId": {
            "example": "userId",
            "description": "id user owner organization.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "organizationId",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "organizationId": "idxxxyyy"
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    /*\n    machinepack exec organization-request --organizationInfo='{\"teamName\": \"Austin Boom\",\"teamSport\": \"soccer\",\"ownerFirstName\": \"John\",\"ownerLastName\": \"Due\",\"ownerDOB\": \"12/12/1990\",\"ownerSSN\": \"123456789\",\"ownerEmail\": \"austin@boom.com\",\"ownerPhone\": \"1234567890\",\"country\": \"US\",\"state\": \"TX\",\"city\": \"Austin\",\"zipCode\": \"12345\",\"EIN\": \"123123123\",\"Address\": \"calle fake\",\"AddressLineTwo\": \"123\",\"businessName\": \"bname\",\"phoneNumber\": \"bnumber\",\"businessType\": \"Corporation\",\"aba\": \"110000\",\"dda\": \"000123456789\"}' --token='puproduct-secret' --baseUrl='http://localhost:9007' --userId='123'\n     */\n    var Connector = require('../core/common/connector')\n    var url = '/api/v1/organization/request/'\n    var config = {\n      url: url,\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {'organizationInfo': inputs.organizationInfo, 'userId': inputs.userId}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message\n        })\n      } else {\n        return exits.success({\n          status: 200,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-product-connect/organization-request",
        "docsUrl": "http://node-machine.org/paidup-product-connect/organization-request",
        "defaultExit": null,
        "machinepack": 167,
        "id": 796,
        "createdAt": "2016-04-29T04:39:58.000Z",
        "updatedAt": "2016-06-08T15:39:36.000Z"
      },
      {
        "identity": "organization-response",
        "variableName": "organizationResponse",
        "friendlyName": "organization-response",
        "cacheable": false,
        "sync": false,
        "description": "authorizate new organizations to be part of paidUp",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9007",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationId": {
            "example": "xxxyyyxxxx",
            "description": "id organization.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "response",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "John",
                "ownerFirstName": "John",
                "ownerLastName": "Due",
                "ownerDOB": "12/12/1990",
                "ownerSSN": "123456789",
                "ownerEmail": "austin@boom.com",
                "ownerPhone": "1234567890",
                "country": "US",
                "state": "TX",
                "city": "Austin",
                "zipCode": "12345",
                "EIN": "123123123",
                "Address": "calle fake",
                "AddressLineTwo": "123",
                "businessName": "bname",
                "businessType": "Corporation",
                "aba": "110000",
                "dda": "000123456789",
                "ownerId": "userId",
                "verify": "pending"
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n    var url = '/api/v1/organization/response/' + inputs.organizationId\n    var config = {\n      url: url,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message.message || err.message\n        })\n      } else {\n        return exits.success({\n          status: 200,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-product-connect/organization-response",
        "docsUrl": "http://node-machine.org/paidup-product-connect/organization-response",
        "defaultExit": null,
        "machinepack": 167,
        "id": 797,
        "createdAt": "2016-04-29T04:39:58.000Z",
        "updatedAt": "2016-06-08T15:39:36.000Z"
      },
      {
        "identity": "organization-response-update",
        "variableName": "organizationResponseUpdate",
        "friendlyName": "organization-response-update",
        "cacheable": false,
        "sync": false,
        "description": "authorizate new organizations to be part of paidUp",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9007",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationId": {
            "example": "xxxyyyxxxx",
            "description": "id organization.",
            "required": true,
            "type": "string"
          },
          "paymentId": {
            "example": "xxxyyyxxxx",
            "description": "id payment service (stripe, paypal).",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "response",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "ok": 1,
                "nModified": 1,
                "n": 1
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n    var url = '/api/v1/organization/response/' + inputs.organizationId + '/' + inputs.paymentId\n    var config = {\n      url: url,\n      baseUrl: inputs.baseUrl,\n      method: 'put',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message.message || err.message\n        })\n      } else {\n        return exits.success({\n          status: 200,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-product-connect/organization-response-update",
        "docsUrl": "http://node-machine.org/paidup-product-connect/organization-response-update",
        "defaultExit": null,
        "machinepack": 167,
        "id": 798,
        "createdAt": "2016-05-03T07:39:46.000Z",
        "updatedAt": "2016-06-08T15:39:36.000Z"
      },
      {
        "identity": "organization-get",
        "variableName": "organizationGet",
        "friendlyName": "organization-get",
        "cacheable": false,
        "sync": false,
        "description": "get organizations to be part of paidUp",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9007",
            "description": "Url microservice.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for authenticate microservice.",
            "required": true,
            "type": "string"
          },
          "organizationId": {
            "example": "xxxyyyxxxx",
            "description": "id organization.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "response",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "_id": "xxx",
                "ownerFirstName": "John",
                "ownerLastName": "Due",
                "ownerDOB": "12/12/1990",
                "ownerEmail": "austin@boom.com",
                "ownerPhone": "1234567890",
                "country": "US",
                "state": "TX",
                "city": "Austin",
                "zipCode": "12345",
                "Address": "calle fake",
                "AddressLineTwo": "123",
                "businessName": "bname",
                "businessType": "Corporation",
                "aba": "123456",
                "dda": "000123456789",
                "ownerId": "userId",
                "verify": "pending",
                "paymentId": "xxx",
                "referralCode": "yyy",
                "website": "https://www.getpaidup.com"
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "[{\"maybe some JSON\": \"like this\"}]  (but could be any string)"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "    var Connector = require('../core/common/connector')\n    var url = '/api/v1/organization/' + inputs.organizationId\n\n    var config = {\n      url: url,\n      baseUrl: inputs.baseUrl,\n      method: 'get',\n      token: inputs.token\n    }\n    Connector.request(config, {}, {}, function (err, resp) {\n      if (err) {\n        return exits.error({\n          status: err.status,\n          message: err.message.message || err.message\n        })\n      } else {\n        return exits.success({\n          status: 200,\n          body: resp.body\n        })\n      }\n    })\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-product-connect/organization-get",
        "docsUrl": "http://node-machine.org/paidup-product-connect/organization-get",
        "defaultExit": null,
        "machinepack": 167,
        "id": 802,
        "createdAt": "2016-06-08T15:39:36.000Z",
        "updatedAt": "2016-06-08T15:39:36.000Z"
      }
    ],
    "identity": "paidup-product-connect",
    "version": "0.5.0",
    "latestVersionPublishedAt": "2016-06-08T00:00:00.000Z",
    "variableName": "PaidUpProductConnect",
    "friendlyName": "PaidUp-Product-Connect",
    "description": "Connector for PaidUp Microservice Product",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://app.getpaidup.com/favicon.ico",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/paidup-product-connect",
    "docsUrl": "http://node-machine.org/paidup-product-connect",
    "npmUrl": "http://npmjs.org/package/paidup-product-connect",
    "npmPackageName": "paidup-product-connect",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUp",
        "email": ""
      },
      {
        "name": "jessecogollo",
        "email": "cogollo87@gmail.com"
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 167,
    "createdAt": "2016-04-08T21:10:00.000Z",
    "updatedAt": "2016-06-08T15:39:36.000Z",
    "numMachines": 6
  },
  {
    "machines": [
      {
        "identity": "calculate-price",
        "variableName": "calculatePrice",
        "friendlyName": "calculate-price",
        "cacheable": false,
        "sync": false,
        "description": "Calculate price for a product",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9006",
            "description": "Url TDSchedule microservice..",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for autenticate microservice.",
            "required": true,
            "type": "string"
          },
          "originalPrice": {
            "example": 200.23,
            "description": "Price base for calculate owed price.",
            "required": true,
            "type": "number"
          },
          "stripePercent": {
            "example": 2.9,
            "description": "Percentage for calculate stripe fee.",
            "required": true,
            "type": "number"
          },
          "stripeFlat": {
            "example": 0.3,
            "description": "Amount base to calcualte stripe fee.",
            "required": true,
            "type": "number"
          },
          "paidUpFee": {
            "example": 5,
            "description": "Percentage to calculate Paid Up Fee.",
            "required": true,
            "type": "number"
          },
          "discount": {
            "example": 20,
            "description": "Percentage to discount at original price",
            "required": true,
            "type": "number"
          },
          "payProcessing": {
            "example": false,
            "description": "This parameter define if user pay stripe processing",
            "required": true,
            "type": "boolean"
          },
          "payCollecting": {
            "example": true,
            "description": "This parameter define if user pay PadUp processing",
            "required": true,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "originalPrice": 300,
                "totalFee": 34,
                "feePaidUp": 4.2,
                "feeStripe": 3.6,
                "owedPrice": 343.44,
                "discount": 12
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "*"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector  = require('../api/v1/common/connector');\n\n    var config = {\n      url: '/api/v2/calculate/price',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token//'tdschedule-secret'\n    }\n\n    var body = {\n      originalPrice: inputs.originalPrice,\n      stripePercent: inputs.stripePercent,\n      stripeFlat: inputs.stripeFlat,\n      paidUpFee: inputs.paidUpFee,\n      discount: inputs.discount,\n      payProcessing: inputs.payProcessing,\n      payCollecting: inputs.payCollecting\n    }\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error(err);\n      }else{\n        return exits.success(resp);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Calculate price for a product",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-schedule-connect/calculate-price",
        "docsUrl": "http://node-machine.org/pu-schedule-connect/calculate-price",
        "defaultExit": "success",
        "machinepack": 164,
        "id": 728,
        "createdAt": "2016-03-14T13:59:54.000Z",
        "updatedAt": "2016-04-08T20:50:05.000Z"
      },
      {
        "identity": "calculate-prices",
        "variableName": "calculatePrices",
        "friendlyName": "calculate-prices",
        "cacheable": false,
        "sync": false,
        "description": "Calculate prices for a product",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9006",
            "description": "TDSchedule microservice url.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "token for authentication.",
            "required": true,
            "type": "string"
          },
          "prices": {
            "description": "List of amount to calculate",
            "required": true,
            "example": [
              {
                "description": "some description",
                "dateCharge": "some string data description",
                "originalPrice": 203,
                "stripePercent": 2.9,
                "stripeFlat": 0.3,
                "paidUpFee": 5,
                "discount": 10,
                "payProcessing": false,
                "payCollecting": true
              }
            ],
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "prices": [
                  {
                    "description": "some description",
                    "dateCharge": "some date string",
                    "owedPrice": 343.44,
                    "discount": 12,
                    "originalPrice": 300,
                    "totalFee": 43.44,
                    "feePaidUp": 4.2,
                    "feeStripe": 3.6
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "*"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector  = require('../api/v1/common/connector');\n\n    var config = {\n      url: '/api/v2/calculate/prices',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token//'tdschedule-secret'\n    }\n\n    var body = { prices : inputs.prices}\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n\n\n  ",
        "environment": [],
        "extendedDescription": "Calculate prices for a product",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/pu-schedule-connect/calculate-prices",
        "docsUrl": "http://node-machine.org/pu-schedule-connect/calculate-prices",
        "defaultExit": "success",
        "machinepack": 164,
        "id": 729,
        "createdAt": "2016-03-14T13:59:54.000Z",
        "updatedAt": "2016-04-08T20:50:05.000Z"
      }
    ],
    "identity": "pu-schedule-connect",
    "version": "2.2.7",
    "latestVersionPublishedAt": "2016-04-08T00:00:00.000Z",
    "variableName": "PaidUpScheduleConnect",
    "friendlyName": "PaidUp Schedule Connect",
    "description": "Connector from TDSchedule",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/pu-schedule-connect",
    "docsUrl": "http://node-machine.org/pu-schedule-connect",
    "npmUrl": "http://npmjs.org/package/pu-schedule-connect",
    "npmPackageName": "pu-schedule-connect",
    "githubUrl": "http://github.com/PaidUp/PUSchedule-connect/",
    "sourceUrl": "http://github.com/PaidUp/PUSchedule-connect/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      },
      {
        "name": "querystring",
        "semverRange": "^0.2.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUp",
        "email": ""
      },
      {
        "name": "jessecogollo",
        "email": "cogollo87@gmail.com"
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 164,
    "createdAt": "2016-03-10T17:39:44.000Z",
    "updatedAt": "2016-04-08T20:50:05.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "calculate-price",
        "variableName": "calculatePrice",
        "friendlyName": "calculate-price",
        "cacheable": false,
        "sync": false,
        "description": "Calculate price for a product",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9006",
            "description": "Url TDSchedule microservice..",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "secret word for autenticate microservice.",
            "required": true,
            "type": "string"
          },
          "originalPrice": {
            "example": 200.23,
            "description": "Price base for calculate owed price.",
            "required": true,
            "type": "number"
          },
          "stripePercent": {
            "example": 2.9,
            "description": "Percentage for calculate stripe fee.",
            "required": true,
            "type": "number"
          },
          "stripeFlat": {
            "example": 0.3,
            "description": "Amount base to calcualte stripe fee.",
            "required": true,
            "type": "number"
          },
          "paidUpFee": {
            "example": 5,
            "description": "Percentage to calculate Paid Up Fee.",
            "required": true,
            "type": "number"
          },
          "discount": {
            "example": 20,
            "description": "Percentage to discount at original price",
            "required": true,
            "type": "number"
          },
          "payProcessing": {
            "example": false,
            "description": "This parameter define if user pay stripe processing",
            "required": true,
            "type": "boolean"
          },
          "payCollecting": {
            "example": true,
            "description": "This parameter define if user pay PadUp processing",
            "required": true,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "originalPrice": 300,
                "totalFee": 34,
                "feePaidUp": 4.2,
                "feeStripe": 3.6,
                "owedPrice": 343.44,
                "discount": 12
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "*"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector  = require('../api/v1/common/connector');\n\n    var config = {\n      url: '/api/v2/calculate/price',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token//'tdschedule-secret'\n    }\n\n    var body = {\n      originalPrice: inputs.originalPrice,\n      stripePercent: inputs.stripePercent,\n      stripeFlat: inputs.stripeFlat,\n      paidUpFee: inputs.paidUpFee,\n      discount: inputs.discount,\n      payProcessing: inputs.payProcessing,\n      payCollecting: inputs.payCollecting\n    }\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error(err);\n      }else{\n        return exits.success(resp);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Calculate price for a product",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-schedule-connect/calculate-price",
        "docsUrl": "http://node-machine.org/paidup-schedule-connect/calculate-price",
        "defaultExit": "success",
        "machinepack": 168,
        "id": 750,
        "createdAt": "2016-04-08T21:49:42.000Z",
        "updatedAt": "2016-04-26T19:30:03.000Z"
      },
      {
        "identity": "calculate-prices",
        "variableName": "calculatePrices",
        "friendlyName": "calculate-prices",
        "cacheable": false,
        "sync": false,
        "description": "Calculate prices for a product",
        "inputs": {
          "baseUrl": {
            "example": "http://localhost:9006",
            "description": "TDSchedule microservice url.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "secret-word",
            "description": "token for authentication.",
            "required": true,
            "type": "string"
          },
          "prices": {
            "description": "List of amount to calculate",
            "required": true,
            "example": [
              {
                "description": "some description",
                "dateCharge": "some string data description",
                "originalPrice": 203,
                "stripePercent": 2.9,
                "stripeFlat": 0.3,
                "paidUpFee": 5,
                "discount": 10,
                "payProcessing": false,
                "payCollecting": true
              }
            ],
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "status": 200,
              "body": {
                "prices": [
                  {
                    "description": "some description",
                    "dateCharge": "some date string",
                    "owedPrice": 343.44,
                    "discount": 12,
                    "originalPrice": 300,
                    "totalFee": 43.44,
                    "feePaidUp": 4.2,
                    "feeStripe": 3.6
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "example": {
              "status": 500,
              "message": "*"
            },
            "isCatchall": true,
            "type": "object"
          }
        },
        "fn": "\n    var Connector  = require('../api/v1/common/connector');\n\n    var config = {\n      url: '/api/v2/calculate/prices',\n      baseUrl: inputs.baseUrl,\n      method: 'post',\n      token : inputs.token//'tdschedule-secret'\n    }\n\n    var body = { prices : inputs.prices}\n\n    Connector.request(config, {}, body, function(err, resp){\n      if(err){\n        return exits.error({\n          status: err.status,\n          message: err.body\n        });\n      }else{\n        return exits.success({\n          status: resp.status,\n          body: resp.body\n        });\n      }\n    });\n\n\n  ",
        "environment": [],
        "extendedDescription": "Calculate prices for a product",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/paidup-schedule-connect/calculate-prices",
        "docsUrl": "http://node-machine.org/paidup-schedule-connect/calculate-prices",
        "defaultExit": "success",
        "machinepack": 168,
        "id": 751,
        "createdAt": "2016-04-08T21:49:42.000Z",
        "updatedAt": "2016-04-26T19:30:03.000Z"
      }
    ],
    "identity": "paidup-schedule-connect",
    "version": "2.7.0",
    "latestVersionPublishedAt": "2016-11-17T00:00:00.000Z",
    "variableName": "PaidUpScheduleConnect",
    "friendlyName": "PaidUp-Schedule-Connect",
    "description": "Connector for PaidUp Microservice Schedule",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://app.getpaidup.com/favicon.ico",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/paidup-schedule-connect",
    "docsUrl": "http://node-machine.org/paidup-schedule-connect",
    "npmUrl": "http://npmjs.org/package/paidup-schedule-connect",
    "npmPackageName": "paidup-schedule-connect",
    "githubUrl": "http://github.com/PaidUp/PUSchedule-connect/",
    "sourceUrl": "http://github.com/PaidUp/PUSchedule-connect/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.4.0"
      },
      {
        "name": "querystring",
        "semverRange": "^0.2.0"
      }
    ],
    "contributors": [
      {
        "name": "PaidUp",
        "email": ""
      },
      {
        "name": "jessecogollo",
        "email": "cogollo87@gmail.com"
      },
      {
        "name": "riclara",
        "email": "riclara@gmail.com"
      }
    ],
    "id": 168,
    "createdAt": "2016-04-08T21:49:42.000Z",
    "updatedAt": "2016-11-17T18:49:47.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "check-password",
        "variableName": "checkPassword",
        "friendlyName": "Check password",
        "cacheable": null,
        "sync": null,
        "description": "Compare a plaintext password attempt against an already-encrypted version.",
        "inputs": {
          "passwordAttempt": {
            "example": "l0lcatzz",
            "friendlyName": "Password attempt",
            "description": "The password attempt (unencrypted).",
            "required": true,
            "protect": true,
            "type": "string"
          },
          "encryptedPassword": {
            "example": "as34hafsu#w34ndcarok",
            "friendlyName": "Encrypted password",
            "description": "The existing (already-encrypted) password hash to compare against.",
            "required": true,
            "protect": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "incorrect": {
            "description": "Password attempt does not match already-encrypted version"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    require('bcrypt-nodejs').compare(inputs.passwordAttempt, inputs.encryptedPassword, function(err, ok) {\n      if (err) {\n        return exits.error(err);\n      }\n      if (!ok) {\n        return exits.incorrect();\n      }\n\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "Useful for checking a password attempt against the stored, already-encrypted BCrypt hash.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-passwords/check-password",
        "docsUrl": "http://node-machine.org/machinepack-passwords/check-password",
        "defaultExit": "success",
        "machinepack": 19,
        "id": 80,
        "createdAt": "2015-02-16T23:51:30.000Z",
        "updatedAt": "2015-06-30T16:39:54.000Z"
      },
      {
        "identity": "encrypt-password",
        "variableName": "encryptPassword",
        "friendlyName": "Encrypt password",
        "cacheable": null,
        "sync": null,
        "description": "Encrypt a string using the BCrypt algorithm.",
        "inputs": {
          "password": {
            "example": "l0lcatzz",
            "friendlyName": "Password",
            "description": "String to be encrypted",
            "required": true,
            "protect": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "2$a492.abc3fadifhoi3hesdqd",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    require('bcrypt-nodejs').hash(inputs.password, null , null, function(err, hash) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(hash);\n    });\n  ",
        "environment": [],
        "extendedDescription": "This is particularly useful for encrypting user passwords before storing them in the database.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-passwords/encrypt-password",
        "docsUrl": "http://node-machine.org/machinepack-passwords/encrypt-password",
        "defaultExit": "success",
        "machinepack": 19,
        "id": 81,
        "createdAt": "2015-02-16T23:51:30.000Z",
        "updatedAt": "2015-06-30T16:39:54.000Z"
      }
    ],
    "identity": "machinepack-passwords",
    "version": "2.3.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Passwords",
    "friendlyName": "Passwords",
    "description": "Encrypt or compare passwords.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-passwords",
    "docsUrl": "http://node-machine.org/machinepack-passwords",
    "npmUrl": "http://npmjs.org/package/machinepack-passwords",
    "npmPackageName": "machinepack-passwords",
    "githubUrl": "http://github.com/mikermcneil/machinepack-passwords/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-passwords/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "bcrypt-nodejs",
        "semverRange": "0.0.3"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 19,
    "createdAt": "2015-02-16T23:51:30.000Z",
    "updatedAt": "2015-06-30T16:39:54.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "if-absolute",
        "variableName": "ifAbsolute",
        "friendlyName": "If path is absolute",
        "cacheable": true,
        "sync": true,
        "description": "Determine whether or not a is absolute.",
        "inputs": {
          "path": {
            "friendlyName": "Path",
            "description": "The path to examine.",
            "example": "/usr/bin",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "notAbsolute": {
            "friendlyName": "not absolute",
            "description": "The specified string is not an absolute path."
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Use `path-is-absolute` polyfill for Node <= 0.12\n    var pathIsAbsolute = require('path-is-absolute');\n\n    if (pathIsAbsolute(inputs.path)) {\n      return exits.success();\n    }\n    return exits.notAbsolute();\n  ",
        "environment": [],
        "extendedDescription": "An absolute (or \"full\") path points to the same location in a file system regardless of the current working directory (e.g. \"/usr/local/foo.zip\"). To do that, it must contain the root directory (`/`).  By contrast, a relative path starts from some given working directory, avoiding the need to provide the full absolute path (e.g. \"foo/thumb.png\" or \"./bon-jovi.mov\" or \"../../hardcore.midi\".)  The same principle applies when considering URL paths-- except that, instead of the root directory, they're absolute in the context of the web root (\"/\") or a particular domain (e.g. \"google.com\").  This machine works for filesystem paths (Mac, *nix, and Windows) as well as web-root-relative URL paths. It does not work for URLs that include other parts, such as the protocol (http://), domain (google.com), port (:1337), querystring (?foo=bar), or fragment (#itsme-again-hank-the-cowdog).",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-paths/if-absolute",
        "docsUrl": "http://node-machine.org/machinepack-paths/if-absolute",
        "defaultExit": null,
        "machinepack": 111,
        "id": 475,
        "createdAt": "2015-05-09T00:49:42.000Z",
        "updatedAt": "2015-12-13T00:39:27.000Z"
      },
      {
        "identity": "resolve",
        "variableName": "resolve",
        "friendlyName": "Resolve path",
        "cacheable": true,
        "sync": true,
        "description": "Resolve and normalize a potentially-relative path into an absolute path.",
        "inputs": {
          "path": {
            "friendlyName": "Path",
            "description": "The path to be resolved to an absolute path.",
            "extendedDescription": "If first path is not absolute, it will be resolved from the process's present working directory (`pwd`).",
            "example": "node_modules/sails/bin/sails.js",
            "required": true,
            "type": "string"
          },
          "from": {
            "friendlyName": "From",
            "description": "The working directory to resolve from.",
            "extendedDescription": "If omitted, the result path will be resolved from the process's present working directory (`pwd`). If `from` is not absolute, then it will first be resolved from the present working directory itself before being used to resolve `path`.",
            "example": "/usr/local/lib",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputVariableName": "path",
            "outputDescription": "An absolute path.",
            "example": "/usr/local/lib/node_modules/sails/bin/sails.js",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var result;\n\n    // If `from` was provided, resolve `path` from it.\n    // (if `from` is a relative path it will be resolved relative to pwd first)\n    if (inputs.from) {\n      result = require('path').resolve(inputs.from, inputs.path);\n    }\n    // Otherwise, use pwd.\n    else {\n      result = require('path').resolve(inputs.path);\n    }\n\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "The resulting path is also normalized, and trailing slashes are removed unless the path gets resolved to the root directory.",
        "moreInfoUrl": "https://nodejs.org/docs/latest/api/path.html#path_path_resolve_from_to",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-paths/resolve",
        "docsUrl": "http://node-machine.org/machinepack-paths/resolve",
        "defaultExit": null,
        "machinepack": 111,
        "id": 476,
        "createdAt": "2015-05-09T00:49:42.000Z",
        "updatedAt": "2015-12-13T00:39:27.000Z"
      },
      {
        "identity": "parse",
        "variableName": "parse",
        "friendlyName": "Parse path",
        "cacheable": true,
        "sync": true,
        "description": "Parse a path to determine its component parts.",
        "inputs": {
          "path": {
            "friendlyName": "Path",
            "description": "The path to parse.",
            "example": "C:\\\\a\\b\\index.html",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": {
              "root": "C:\\",
              "dir": "C:\\a\\b",
              "base": "index.html",
              "ext": ".html",
              "name": "index"
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // Use `path-parse` polyfill for Node <= 0.12\n    var pathParse = require('path-parse');\n    return exits.success(pathParse(inputs.path));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-paths/parse",
        "docsUrl": "http://node-machine.org/machinepack-paths/parse",
        "defaultExit": null,
        "machinepack": 111,
        "id": 477,
        "createdAt": "2015-05-09T00:49:42.000Z",
        "updatedAt": "2015-12-13T00:39:27.000Z"
      },
      {
        "identity": "home",
        "variableName": "home",
        "friendlyName": "Home (~)",
        "cacheable": true,
        "sync": true,
        "description": "Get the absolute path to your home directory on this computer (OS-agnostic)",
        "inputs": {},
        "exits": {
          "success": {
            "friendlyName": "pathToHomeDir",
            "description": "OK.",
            "example": "/Users/mikermcneil",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(\n      require('path').resolve(process.env[\n        (process.platform == 'win32') ?\n        'USERPROFILE' :\n        'HOME'\n      ])\n    );\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-paths/home",
        "docsUrl": "http://node-machine.org/machinepack-paths/home",
        "defaultExit": null,
        "machinepack": 111,
        "id": 479,
        "createdAt": "2015-05-10T15:39:28.000Z",
        "updatedAt": "2015-12-13T00:39:27.000Z"
      },
      {
        "identity": "join",
        "variableName": "join",
        "friendlyName": "Join paths",
        "cacheable": true,
        "sync": true,
        "description": "Combine multiple path segments into a single result path.",
        "inputs": {
          "paths": {
            "friendlyName": "Paths",
            "description": "The paths to join, in left-to-right order.",
            "example": [
              "lib/node_modules"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "The combined path.",
            "example": "lib/node_modules/sails/bin/sails.js",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Path = require('path');\n    var resultPath = Path.join.apply(Path, inputs.paths);\n    return exits.success(resultPath);\n  ",
        "environment": [],
        "extendedDescription": "This machine returns \".\" for an empty array of paths.",
        "moreInfoUrl": "https://nodejs.org/docs/latest/api/path.html#path_path_join_path1_path2",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-paths/join",
        "docsUrl": "http://node-machine.org/machinepack-paths/join",
        "defaultExit": null,
        "machinepack": 111,
        "id": 682,
        "createdAt": "2015-12-13T00:29:42.000Z",
        "updatedAt": "2015-12-13T00:39:27.000Z"
      }
    ],
    "identity": "machinepack-paths",
    "version": "2.0.3",
    "latestVersionPublishedAt": "2015-12-13T00:00:00.000Z",
    "variableName": "Paths",
    "friendlyName": "Paths",
    "description": "Utilities for handling and transforming file paths.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-paths",
    "docsUrl": "http://node-machine.org/machinepack-paths",
    "npmUrl": "http://npmjs.org/package/machinepack-paths",
    "npmPackageName": "machinepack-paths",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^11.0.3"
      },
      {
        "name": "path-is-absolute",
        "semverRange": "^1.0.0"
      },
      {
        "name": "path-parse",
        "semverRange": "^1.0.5"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 111,
    "createdAt": "2015-05-09T00:49:42.000Z",
    "updatedAt": "2015-12-13T00:39:27.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "render-pages",
        "variableName": "renderPages",
        "friendlyName": "Render pages",
        "cacheable": false,
        "sync": null,
        "description": "Get the browser-rendered version of the web pages at the specified URLs.",
        "inputs": {
          "apiKey": {
            "description": "Valid PhantomJS Cloud API key.",
            "example": "138501da08e0130810f0a0b00c01331851",
            "required": true,
            "type": "string"
          },
          "urls": {
            "description": "URLs to render.",
            "example": [
              "http://sailsjs.org/#/documentation/reference/sails.config/sails.config.models.html"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "rateLimitExceeded": {},
          "success": {
            "example": [
              {
                "url": "http://sailsjs.org/#/documentation/reference/sails.config/sails.config.models.html",
                "html": "<!DOCTYPE html><html><head></head><body></body></html>"
              }
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    /**\n     * Module dependencies\n     */\n\n    var util = require('util');\n    var _ = require('lodash');\n    var doJSONRequest = require('../lib/do-request');\n    var getPageContent = require('../lib/get-page-content');\n\n\n    // Example URL to PhantomJSCloud.com:\n    // http://api.PhantomJsCloud.com/batch/browser/v1/a-demo-key-with-low-quota-per-ip-address/{\"batchRequests\":[{\"targetUrl\":\"http://www.example.com\",\"requestType\":\"text\",\"outputAsJson\":true,\"loadImages\":true,\"isDebug\":true, \"timeout\":15000, \"postDomLoadedTimeout\":5000, \"userAgent\":\"PhantomJs.Cloud Rocks\", \"requestId\":\"myCustomData01\"}]}\n\n    // Example batchRequestJSON:\n    // {\n    //   \"batchRequests\": [{\n    //     \"targetUrl\": \"http://www.example.com\",\n    //     \"requestType\": \"text\",\n    //     \"outputAsJson\": true,\n    //     \"loadImages\": true,\n    //     \"isDebug\": true,\n    //     \"timeout\": 15000,\n    //     \"postDomLoadedTimeout\": 5000,\n    //     \"userAgent\": \"PhantomJs.Cloud Rocks\",\n    //     \"requestId\": \"myCustomData01\"\n    //   }]\n    // }\n\n    // Reduce array of string URLs into a request object (`batchRequestJSON`)\n    var batchRequestJSON = _.reduce(inputs.urls, function (batchRequestJSON, url){\n      batchRequestJSON.push({\n        targetUrl: url,\n        requestType: 'text',\n        outputAsJson: true,\n        loadImages: true,\n        isDebug: true,\n        timeout: 15000,\n        postDomLoadedTimeout: 5000,\n        userAgent: \"PhantomJs.Cloud Rocks\",\n        requestId: \"myCustomData01\"\n      });\n      return batchRequestJSON;\n    }, []);\n\n\n    doJSONRequest({\n      method: 'post',\n      url: util.format('http://api.phantomjscloud.com/batch/browser/v1/%s', inputs.apiKey),\n      data: {\n        batchRequests: batchRequestJSON\n      }\n    }, function (err, responseBody) {\n      if (err) {\n        try {\n          if (err.status === 402) {\n            return (cb.rateLimitExceeded||cb.error)(err.body);\n          }\n          return cb(err);\n        }\n        catch(e){}\n\n        return cb(err);\n      }\n\n      // Example response from PhantomJSCloud.com:\n      // {\n      //   \"status\": \"success\",\n      //   \"callbackUrl\": \"http://api.PhantomJsCloud.com/callback/browser/v1/9854187e3d90e7d7573037f8cf6c1b82c47860bf/2c36c4d05913bc7ff8a09da9a3bf995f\"\n      // }\n\n      // Now get the HTML page content for each URL.\n      getPageContent({url: responseBody.callbackUrl}, function (err, responseBody) {\n        if (err) {\n          return cb(err);\n        }\n        return cb(null, responseBody);\n      });\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-phantomjscloud/render-pages",
        "docsUrl": "http://node-machine.org/machinepack-phantomjscloud/render-pages",
        "defaultExit": "success",
        "machinepack": 25,
        "id": 97,
        "createdAt": "2015-02-16T23:51:41.000Z",
        "updatedAt": "2015-02-16T23:51:41.000Z"
      }
    ],
    "identity": "machinepack-phantomjscloud",
    "version": "1.0.2",
    "latestVersionPublishedAt": "2014-12-31T00:00:00.000Z",
    "variableName": "Phantomjscloud",
    "friendlyName": "Phantomjscloud",
    "description": "Work with the PhantomJSCloud.com API to render HTML web pages, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-phantomjscloud",
    "docsUrl": "http://node-machine.org/machinepack-phantomjscloud",
    "npmUrl": "http://npmjs.org/package/machinepack-phantomjscloud",
    "npmPackageName": "machinepack-phantomjscloud",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      },
      {
        "name": "node-machine",
        "semverRange": "^1.0.0"
      },
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "request",
        "semverRange": "^2.42.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 25,
    "createdAt": "2015-02-16T23:51:40.000Z",
    "updatedAt": "2015-02-16T23:51:40.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "search-by-raw-name",
        "variableName": "searchByRawName",
        "friendlyName": "Search by Raw Name",
        "cacheable": null,
        "sync": null,
        "description": "Search for a person by their raw name (John Doe) without having to separate first and last name",
        "inputs": {
          "key": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your Pipl API key",
            "whereToGet": {
              "url": "https://pipl.com/dev/",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "raw_name": {
            "required": true,
            "example": "John Doe",
            "description": "Full Name. Use this parameter if the accurate name parts (first/middle/last) are not available.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "Pipl says your API request was malformed",
            "extendedDescription": ""
          },
          "apiKeyProblem": {
            "description": "Pipl says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": ""
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Http = require('machinepack-http');\n    var qs = require('qs');\n\n    var queryString = qs.stringify(inputs);\n    var url = 'https://api.pipl.com/search/v4/?' + queryString;\n\n    Http.sendHttpRequest({\n      url: url,\n      method: 'get'\n    }).exec({\n      // OK.\n      success: function(result) {\n        return exits.success(result.body);\n      },\n      error: function(err) {\n        if (err) return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        if (err) return exits.error(err);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        return exits.error('Something was wrong with your HTTP request (' + result.status + ').');\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        return exits.apiKeyProblem('Invalid or unprovided API key (403).');\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        return exits.apiKeyProblem('Invalid or unprovided API key (401).');\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        result.machineMessage = 'Something went wrong on the other end (' + result.status + ').';\n        return exits.error(result);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Could not send or receive the HTTP request.');\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-pipl/search-by-raw-name",
        "docsUrl": "http://node-machine.org/machinepack-pipl/search-by-raw-name",
        "defaultExit": "success",
        "machinepack": 97,
        "id": 362,
        "createdAt": "2015-04-24T17:49:49.000Z",
        "updatedAt": "2015-04-28T19:19:56.000Z"
      },
      {
        "identity": "get-person-from-search-pointer",
        "variableName": "getPersonFromSearchPointer",
        "friendlyName": "Get Person from Search Pointer",
        "cacheable": null,
        "sync": null,
        "description": "Retrieve more information about a Person object from its search_pointer",
        "inputs": {
          "key": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your Pipl API key",
            "whereToGet": {
              "url": "https://pipl.com/dev/",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "search_pointer": {
            "required": true,
            "example": "165ed762c03848ea3b23101228441577f5a4c8041793",
            "description": "In the case when the API returns multiple possible persons, they will each have special string called âsearch pointerâ. This string can be used to run a follow-up search, which will pull up more data about this person.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "Pipl says your API request was malformed",
            "extendedDescription": ""
          },
          "apiKeyProblem": {
            "description": "Pipl says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": ""
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Http = require('machinepack-http');\n    var qs = require('qs');\n\n    var queryString = qs.stringify(inputs);\n    var url = 'https://api.pipl.com/search/v4/?' + queryString;\n\n    Http.sendHttpRequest({\n      url: url,\n      method: 'get'\n    }).exec({\n      // OK.\n      success: function(result) {\n        return exits.success(result.body);\n      },\n      error: function(err) {\n        if (err) return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        if (err) return exits.error(err);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        return exits.error('Something was wrong with your HTTP request (' + result.status + ').');\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        return exits.apiKeyProblem('Invalid or unprovided API key (403).');\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        return exits.apiKeyProblem('Invalid or unprovided API key (401).');\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        result.machineMessage = 'Something went wrong on the other end (' + result.status + ').';\n        return exits.error(result);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Could not send or receive the HTTP request.');\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-pipl/get-person-from-search-pointer",
        "docsUrl": "http://node-machine.org/machinepack-pipl/get-person-from-search-pointer",
        "defaultExit": "success",
        "machinepack": 97,
        "id": 363,
        "createdAt": "2015-04-24T17:49:49.000Z",
        "updatedAt": "2015-04-28T19:19:56.000Z"
      },
      {
        "identity": "search-by-email-address",
        "variableName": "searchByEmailAddress",
        "friendlyName": "Search by Email Address",
        "cacheable": null,
        "sync": null,
        "description": "Search for a Person by Email address",
        "inputs": {
          "key": {
            "required": true,
            "example": "00011122233344455",
            "description": "Your Pipl API key",
            "whereToGet": {
              "url": "https://pipl.com/dev/",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "email": {
            "required": true,
            "example": "jdoe@company.com",
            "description": "Email address",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "extendedDescription": "",
            "isCatchall": true,
            "type": "error"
          },
          "malformedRequest": {
            "description": "Pipl says your API request was malformed",
            "extendedDescription": ""
          },
          "apiKeyProblem": {
            "description": "Pipl says your API key is invalid or your rate limit has been reached.",
            "extendedDescription": ""
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Http = require('machinepack-http');\n    var qs = require('qs');\n\n    var queryString = qs.stringify(inputs);\n    var url = 'https://api.pipl.com/search/v4/?' + queryString;\n\n    Http.sendHttpRequest({\n      url: url,\n      method: 'get'\n    }).exec({\n      // OK.\n      success: function(result) {\n        return exits.success(result.body);\n      },\n      error: function(err) {\n        if (err) return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        if (err) return exits.error(err);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        return exits.error('Something was wrong with your HTTP request (' + result.status + ').');\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        return exits.apiKeyProblem('Invalid or unprovided API key (403).');\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        return exits.apiKeyProblem('Invalid or unprovided API key (401).');\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        result.machineMessage = 'Something went wrong on the other end (' + result.status + ').';\n        return exits.error(result);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Could not send or receive the HTTP request.');\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-pipl/search-by-email-address",
        "docsUrl": "http://node-machine.org/machinepack-pipl/search-by-email-address",
        "defaultExit": "success",
        "machinepack": 97,
        "id": 364,
        "createdAt": "2015-04-24T17:49:49.000Z",
        "updatedAt": "2015-04-28T19:19:56.000Z"
      }
    ],
    "identity": "machinepack-pipl",
    "version": "1.0.2",
    "latestVersionPublishedAt": "2015-04-28T00:00:00.000Z",
    "variableName": "Pipl",
    "friendlyName": "Pipl",
    "description": "Interface with the Pipl people search API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-pipl",
    "docsUrl": "http://node-machine.org/machinepack-pipl",
    "npmUrl": "http://npmjs.org/package/machinepack-pipl",
    "npmPackageName": "machinepack-pipl",
    "githubUrl": "https://bitbucket.org/mstralka/machinepack-pipl/",
    "sourceUrl": "https://bitbucket.org/mstralka/machinepack-pipl/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.1.0"
      },
      {
        "name": "qs",
        "semverRange": "^2.4.1"
      }
    ],
    "contributors": [
      {
        "name": "mstralka",
        "email": "mstralka@vorenusventures.com"
      }
    ],
    "id": 97,
    "createdAt": "2015-04-24T17:49:49.000Z",
    "updatedAt": "2015-04-28T19:19:56.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "list-all-pokemon",
        "variableName": "listAllPokemon",
        "friendlyName": "List all Pokemon",
        "cacheable": null,
        "sync": null,
        "description": "List the name and resource_uri for each known Pokemon.",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "id": 4,
                "name": "charmander"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      url: '/pokedex/1',\n      baseUrl: 'http://pokeapi.co/api/v1'\n    }).exec({\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n      // OK.\n      success: function(result) {\n\n        var pokemons;\n        try {\n          var parsedResponse = JSON.parse(result.body);\n          pokemons = _.map(parsedResponse.pokemon, function (aPokemon){\n            // Derive the pokemon's id from the resource_uri\n            // (that way it can be used in the `get-pokemon` machine)\n            aPokemon.id = +(aPokemon.resource_uri.match(/pokemon\\/([0-9]+)/)[1]);\n            return aPokemon;\n          });\n        }\n        catch (e) {\n          return exits.error(e);\n        }\n\n        return exits.success(pokemons);\n      },\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": "http://pokeapi.co/docs/#pokedex",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-pokemon/list-all-pokemon",
        "docsUrl": "http://node-machine.org/machinepack-pokemon/list-all-pokemon",
        "defaultExit": "success",
        "machinepack": 84,
        "id": 317,
        "createdAt": "2015-04-05T21:59:27.000Z",
        "updatedAt": "2015-07-01T22:29:54.000Z"
      },
      {
        "identity": "get-pokemon",
        "variableName": "getPokemon",
        "friendlyName": "Get Pokemon",
        "cacheable": null,
        "sync": null,
        "description": "Get information about a Pokemon based on its unique ID number",
        "inputs": {
          "id": {
            "description": "The unique id for a Pokemon",
            "example": 1,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "name": "Bulbasaur",
              "description": "It has a seed planted in its back or something",
              "imageUrl": "http://pokeapi.co/api/v1/sprite/1/media/img/1383395659.12.png",
              "types": [
                "poison",
                "grass"
              ],
              "moves": [
                {
                  "name": "Tackle",
                  "level": 1
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n    // Send an HTTP request and receive the response.\n    Http.sendHttpRequest({\n      url: '/pokemon/'+inputs.id,\n      baseUrl: 'http://pokeapi.co/api/v1'\n    }).exec({\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n      // OK.\n      success: function(result) {\n\n        var pokemon;\n        var spriteId;\n        var descriptionId;\n        try {\n          var parsedResponse = JSON.parse(result.body);\n          // console.log(parsedResponse);\n          pokemon = {\n            name: parsedResponse.name,\n            types: _.pluck(parsedResponse.types, 'name'),\n            moves: _.sortBy(_.where(parsedResponse.moves, {learn_type: 'level up'}), 'level')\n          };\n          // Ensure that a sprite id exists\n          if (!parsedResponse.sprites[0] || !_.isObject(parsedResponse.sprites[0])) {\n            return exits.error(new Error('No image available for this pokemon.'));\n          }\n          spriteId = +(parsedResponse.sprites[0].resource_uri.match(/sprite\\/([0-9]+)/)[1]);\n\n          // Ensure that a primary description id exists and parse it out\n          if (!parsedResponse.descriptions[0] || !_.isObject(parsedResponse.descriptions[0])) {\n            return exits.error(new Error('No description available for this pokemon.'));\n          }\n          descriptionId = +(parsedResponse.descriptions[0].resource_uri.match(/description\\/([0-9]+)/)[1]);\n\n        }\n        catch (e) {\n          return exits.error(e);\n        }\n\n        // Fetch the primary image url for this pokemon\n        // using the 'sprites' that were provided.\n        Http.sendHttpRequest({\n          url: '/sprite/' + spriteId,\n          baseUrl: 'http://pokeapi.co/api/v1'\n        }).exec({\n          // An unexpected error occurred.\n          error: function(err) {\n            return exits.error(err);\n          },\n          // OK.\n          success: function(result) {\n            try {\n              var parsedSpriteResponse = JSON.parse(result.body);\n              // Note that we strip the leading slash, and ensure that one exists.\n              var spriteImageUrl = 'http://pokeapi.co/' + parsedSpriteResponse.image.replace(/^\\//, '');\n\n              // Now set the pokemon imageUrl using the relevant info from the\n              // parsed sprite response.\n              pokemon.imageUrl = spriteImageUrl;\n            }\n            catch (e) {\n              return exits.error(e);\n            }\n\n            // Fetch the primary description for this pokemon.\n            Http.sendHttpRequest({\n              url: '/description/' + descriptionId,\n              baseUrl: 'http://pokeapi.co/api/v1'\n            }).exec({\n              error: function (err){\n                return exits.error(err);\n              },\n              success: function (result){\n                try {\n                  var parsedDescriptionResponse = JSON.parse(result.body);\n\n                  // Now set the pokemon description using the relevant info from the\n                  // parsed description response.\n                  pokemon.description = parsedDescriptionResponse.description;\n                }\n                catch (e) {\n                  return exits.error(e);\n                }\n\n                return exits.success(pokemon);\n              },\n            });\n          }\n        });\n      },\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-pokemon/get-pokemon",
        "docsUrl": "http://node-machine.org/machinepack-pokemon/get-pokemon",
        "defaultExit": "success",
        "machinepack": 84,
        "id": 318,
        "createdAt": "2015-04-05T22:09:36.000Z",
        "updatedAt": "2015-07-01T22:29:54.000Z"
      }
    ],
    "identity": "machinepack-pokemon",
    "version": "1.3.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Pokemon",
    "friendlyName": "Pokemon",
    "description": "Fetch data about PokÃ©mon, their moves, abilities, types, egg groups and much much more.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://www.jwforcier.com/wp-content/uploads/2014/04/pokeballs.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-pokemon",
    "docsUrl": "http://node-machine.org/machinepack-pokemon",
    "npmUrl": "http://npmjs.org/package/machinepack-pokemon",
    "npmPackageName": "machinepack-pokemon",
    "githubUrl": "http://github.com/mikermcneil/machinepack-pokemon/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-pokemon/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-pokemon",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.6.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 84,
    "createdAt": "2015-04-05T21:59:27.000Z",
    "updatedAt": "2015-07-01T22:29:54.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "list-tables",
        "variableName": "listTables",
        "friendlyName": "List tables",
        "cacheable": null,
        "sync": null,
        "description": "List the names of the tables in the specified Postgresql database.",
        "inputs": {
          "connectionUrl": {
            "description": "The postgresql connection URL",
            "defaultsTo": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "example": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to Postgresql server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running."
          },
          "success": {
            "description": "OK.",
            "example": [
              "direwolves"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var pg = require('pg');\n\n    // Create a new postgresql client\n    var client = new pg.Client(inputs.connectionUrl);\n    client.connect(function(err) {\n\n      if(err) {\n        return exits.error(err);\n      }\n\n      var query = \"SELECT tablename FROM pg_catalog.pg_tables WHERE schemaname != 'pg_catalog' AND schemaname != 'information_schema'\";\n      client.query(query, function(err, results) {\n\n        client.end();\n\n        if(err) {\n          return exits.error(err);\n        }\n\n        // Build an array of tablenames\n        results.rows = results.rows || [];\n\n        var names = results.rows.map(function(row) {\n          return row.tablename;\n        });\n\n        return exits.success(names);\n      });\n\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-postgresql/list-tables",
        "docsUrl": "http://node-machine.org/machinepack-postgresql/list-tables",
        "defaultExit": "success",
        "machinepack": 39,
        "id": 163,
        "createdAt": "2015-02-28T00:10:25.000Z",
        "updatedAt": "2015-06-30T23:29:45.000Z"
      },
      {
        "identity": "describe-table",
        "variableName": "describeTable",
        "friendlyName": "Describe table",
        "cacheable": null,
        "sync": null,
        "description": "List all the columns that are found in a postgresql table.",
        "inputs": {
          "connectionUrl": {
            "description": "The postgresql connection URL",
            "defaultsTo": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "example": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "required": true,
            "type": "string"
          },
          "table": {
            "description": "The name of the table.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to Postgresql server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running."
          },
          "invalidTable": {
            "description": "Provided `table` input is not a valid name for a Postgresql table in the database."
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "fieldName": "birthday",
                "type": "string",
                "dbType": "timezone with timestamp",
                "indexed": true,
                "unique": true,
                "primaryKey": false,
                "autoIncrement": false
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    // Dependencies\n    var pg = require('pg');\n    var async = require('async');\n\n    // Rename inputs for clarity\n    var table = inputs.table;\n\n    // Build query to get a bunch of info from the information_schema\n    // It's not super important to understand it only that it returns the following fields:\n    // [Table, #, Column, Type, Null, Constraint, C, consrc, F Key, Default]\n    var query = \"SELECT x.nspname || '.' || x.relname as \"Table\", x.attnum as \"#\", x.attname as \"Column\", x.\"Type\",\" +\n      \" case x.attnotnull when true then 'NOT NULL' else '' end as \"NULL\", r.conname as \"Constraint\", r.contype as \"C\", \" +\n      \"r.consrc, fn.nspname || '.' || f.relname as \"F Key\", d.adsrc as \"Default\" FROM (\" +\n      \"SELECT c.oid, a.attrelid, a.attnum, n.nspname, c.relname, a.attname, pg_catalog.format_type(a.atttypid, null) as \"Type\", \" +\n      \"a.attnotnull FROM pg_catalog.pg_attribute a, pg_namespace n, pg_class c WHERE a.attnum > 0 AND NOT a.attisdropped AND a.attrelid = c.oid \" +\n      \"and c.relkind not in ('S','v') and c.relnamespace = n.oid and n.nspname not in ('pg_catalog','pg_toast','information_schema')) x \" +\n      \"left join pg_attrdef d on d.adrelid = x.attrelid and d.adnum = x.attnum \" +\n      \"left join pg_constraint r on r.conrelid = x.oid and r.conkey[1] = x.attnum \" +\n      \"left join pg_class f on r.confrelid = f.oid \" +\n      \"left join pg_namespace fn on f.relnamespace = fn.oid \" +\n      \"where x.relname = '\" + table + \"' order by 1,2;\";\n\n    // Get Sequences to test if column auto-increments\n    var autoIncrementQuery = \"SELECT t.relname as related_table, a.attname as related_column, s.relname as sequence_name \" +\n      \"FROM pg_class s JOIN pg_depend d ON d.objid = s.oid JOIN pg_class t ON d.objid = s.oid AND d.refobjid = t.oid \" +\n      \"JOIN pg_attribute a ON (d.refobjid, d.refobjsubid) = (a.attrelid, a.attnum) JOIN pg_namespace n ON n.oid = s.relnamespace \" +\n      \"WHERE s.relkind = 'S' AND n.nspname = 'public';\";\n\n    // Get Indexes\n    var indiciesQuery = \"SELECT t.relname as table_name, i.relname as index_name, a.attname as column_name FROM \" +\n      \"pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid \" +\n      \"AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' AND t.relname like '\" + table + \"' ORDER BY t.relname, i.relname;\";\n\n    // Create a new postgresql client\n    var client = new pg.Client(inputs.connectionUrl);\n\n    async.auto({\n\n      // Create client connection\n      createConnection: function(next) {\n        client.connect(next);\n      },\n\n      // Run the initial info query\n      infoQuery: ['createConnection', function(next) {\n        client.query(query, function(err, queryResults) {\n          if(err) return next(err);\n\n          // Return an empty array as the error so we can short-circuit everything\n          // and just return the empty array\n          if(!queryResults.rows.length) return next([]);\n\n          return next(null, queryResults.rows);\n        });\n      }],\n\n      // Run the sequences query\n      sequencesQuery: ['infoQuery', function(next, results) {\n        var infoQuery = results.infoQuery;\n\n        // Run Query to get Auto Incrementing sequences\n        client.query(autoIncrementQuery, function(err, queryResults) {\n          if(err) return next(err);\n\n          // Attach autoIncrement flag to the columns\n          queryResults.rows.forEach(function(row) {\n            if(row.related_table !== table) return;\n\n            // Look through info query results and see if related_column exists\n            infoQuery.forEach(function(column) {\n              if(column.Column !== row.related_column) return;\n              column.autoIncrement = true;\n            });\n          });\n\n          return next(null, infoQuery);\n        });\n      }],\n\n      // Run the indicies query\n      indiciesQuery: ['sequencesQuery', function(next, results) {\n        var sequenceQuery = results.sequencesQuery;\n\n        // Run Query to get Indexed values\n        client.query(indiciesQuery, function(err, queryResults) {\n          if(err) return next(err);\n\n          // Loop through indicies and see if any match\n          queryResults.rows.forEach(function(index) {\n            sequenceQuery.forEach(function(column) {\n              if(column.Column !== index.column_name) return;\n              column.indexed = true;\n            });\n          });\n\n          return next(null, sequenceQuery);\n        });\n      }],\n\n      // Normalize the query results into an array of columns\n      normalizeResults: ['indiciesQuery', function(next, results) {\n        var data = results.indiciesQuery;\n\n        var arr = data.map(function(column) {\n          var obj = {};\n\n          // Set fieldName\n          obj.fieldName = column.Column;\n\n          // Set Type\n          switch(column.Type) {\n\n            // Number types\n            case 'smallint':\n            case 'integer':\n            case 'bigint':\n            case 'decimal':\n            case 'numeric':\n            case 'real':\n            case 'double precision':\n            case 'smallserial':\n            case 'bigserial':\n              obj.type = 'number';\n              break;\n\n            // String types\n            case 'character':\n            case 'char':\n            case 'varchar':\n            case 'character varying':\n            case 'text':\n              obj.type = 'string';\n              break;\n\n            // Date types\n            case 'timestamp':\n            case 'timestamp without time zone':\n            case 'timestamp with time zone':\n            case 'time':\n            case 'time without time zone':\n            case 'time with time zone':\n            case 'date':\n            case 'interval':\n              obj.type = 'string';\n              break;\n\n            // Boolean type\n            case 'boolean':\n              obj.type = 'boolean';\n              break;\n\n            // JSON type\n            case 'json':\n              obj.type = 'dictionary';\n              break;\n\n            // Array types\n            case 'array':\n              obj.type = 'array';\n              break;\n\n            // Everything else make a string\n            default:\n              obj.type = 'string';\n              break;\n          };\n\n          // Store the original db type as well\n          obj.dbType = column.Type;\n\n          // Check for index\n          if(column.indexed) {\n            obj.indexed = true;\n          } else {\n            obj.indexed = false;\n          }\n\n          // Check for Unique Constraint\n          if(column.Constraint && column.C === 'u') {\n            obj.unique = true;\n            obj.indexed = true;\n          } else {\n            obj.unique = false;\n          }\n\n          // Check for Primary Key\n          if(column.Constraint && column.C === 'p') {\n            obj.primaryKey = true;\n            obj.unique = true;\n            obj.indexed = true;\n          } else {\n            obj.primaryKey = false;\n          }\n\n          // Check for autoIncrement\n          if(column.autoIncrement) {\n            obj.autoIncrement = true;\n          } else {\n            obj.autoIncrement = false;\n          }\n\n          return obj;\n        });\n\n        setImmediate(function() {\n          return next(null, arr);\n        });\n      }]\n\n    },\n\n    function(err, results) {\n\n      // Close the client connection\n      client.end();\n\n      if(err) {\n        if(err === []) return exits.success([]);\n        return exits.error(err);\n      }\n\n      return exits.success(results.normalizeResults);\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-postgresql/describe-table",
        "docsUrl": "http://node-machine.org/machinepack-postgresql/describe-table",
        "defaultExit": "success",
        "machinepack": 39,
        "id": 164,
        "createdAt": "2015-02-28T00:10:25.000Z",
        "updatedAt": "2015-06-30T23:29:45.000Z"
      },
      {
        "identity": "list-records",
        "variableName": "listRecords",
        "friendlyName": "List records",
        "cacheable": null,
        "sync": null,
        "description": "List records in the Postgresql table that match the specified criteria.",
        "inputs": {
          "connectionUrl": {
            "description": "The postgresql connection URL",
            "defaultsTo": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "example": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "required": true,
            "type": "string"
          },
          "table": {
            "description": "The name of the table.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The selection criteria (like the WHERE clause)",
            "extendedDescription": "Standard query selectors from the Postgresql method.",
            "typeclass": "dictionary",
            "type": "dictionary"
          },
          "limit": {
            "description": "If specified, limits number of rows returned in the query (useful for pagination)",
            "example": 30,
            "type": "number"
          },
          "skip": {
            "description": "If specified, skips N rows ahead in the query (useful for pagination)",
            "example": 30,
            "type": "number"
          },
          "sort": {
            "description": "If specified, the rows coming back from the query will be sorted according to this dictionary.",
            "typeclass": "array",
            "type": "array"
          },
          "schema": {
            "description": "An example indicating what each returned row should look like.",
            "extendedDescription": "This is used to determine the `columns` (i.e. projection) passed in w/ the query.",
            "typeclass": "array",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to Postgresql server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running."
          },
          "invalidCollection": {
            "description": "Provided `table` input is not a valid name for a Postgresql table."
          },
          "success": {
            "description": "OK.",
            "getExample": "\n        // Handle type management\n        var schema = inputs.schema;\n        var example = {};\n\n        schema.forEach(function(column) {\n          var type = column.type;\n          switch(type) {\n            case 'string':\n              example[column.fieldName] = 'abc';\n              break;\n            case 'number':\n              example[column.fieldName] = 123;\n              break;\n\n            // Must be a stringified version\n            case 'dictionary':\n              example[column.fieldName] = '{\"foo\":\"bar\"}';\n              break;\n\n            // Must be a stringified version\n            case 'array':\n              example[column.fieldName] = '[1]';\n              break;\n          };\n        });\n\n        return [example];\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "\n    // Dependencies\n    var pg = require('pg');\n    var wlSQL = require('waterline-sequel');\n\n    // Rename inputs for clarity\n    var table = inputs.table;\n    var schema = inputs.schema;\n    var query = {\n      where: inputs.query || null\n    };\n\n    if(inputs.limit) query.limit = inputs.limit;\n    if(inputs.skip) query.skip = inputs.skip;\n    if(inputs.sort) {\n      query.sort = {};\n\n      // Parse array and turn into a WL sort criteria\n      inputs.sort.forEach(function(sorter) {\n        query.sort[sorter.columnName] = sorter.direction;\n      });\n    }\n\n    // WL SQL options\n    var sqlOptions = {\n      parameterized: true,\n      caseSensitive: true,\n      escapeCharacter: '\"',\n      casting: true,\n      canReturnValues: true,\n      escapeInserts: true,\n      declareDeleteAlias: false,\n      wlNext: {\n        caseSensitive: true\n      }\n    };\n\n    var normalizedSchema = {};\n    var attributes = {};\n\n    schema.forEach(function(column) {\n      attributes[column.fieldName] = {\n        type: column.type\n      };\n    });\n\n    normalizedSchema[table] = {\n      tableName: table,\n      identity: table,\n      attributes: attributes\n    };\n\n    // Build the SQL query based on the query inputs\n    var sequel = new wlSQL(normalizedSchema, sqlOptions);\n    var sql;\n\n    // Build a query for the specific query strategy\n    try {\n      sql = sequel.find(table, query);\n    } catch (e) {\n      return exits.error(e);\n    }\n\n    // Create a new postgresql client\n    var client = new pg.Client(inputs.connectionUrl);\n    client.connect(function(err) {\n\n      if(err) {\n        return exits.error(err);\n      }\n\n      client.query(sql.query[0], function(err, results) {\n        client.end();\n\n        if(err) {\n          return exits.error(err);\n        }\n\n        return exits.success(results.rows);\n      });\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-postgresql/list-records",
        "docsUrl": "http://node-machine.org/machinepack-postgresql/list-records",
        "defaultExit": "success",
        "machinepack": 39,
        "id": 165,
        "createdAt": "2015-02-28T00:10:25.000Z",
        "updatedAt": "2015-06-30T23:29:45.000Z"
      },
      {
        "identity": "count-records",
        "variableName": "countRecords",
        "friendlyName": "Count records",
        "cacheable": null,
        "sync": null,
        "description": "Count records in the Postgresql table that match the specified criteria.",
        "inputs": {
          "connectionUrl": {
            "description": "The postgresql connection URL",
            "defaultsTo": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "example": "postgres://foo:bar@localhost:5432/machinepack_postgresql",
            "required": true,
            "type": "string"
          },
          "table": {
            "description": "The name of the table.",
            "example": "direwolves",
            "required": true,
            "type": "string"
          },
          "query": {
            "description": "The selection criteria (like the WHERE clause)",
            "extendedDescription": "Standard query selectors from the Postgresql method.",
            "typeclass": "dictionary",
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "couldNotConnect": {
            "description": "Could not connect to Postgresql server at specified `connectionUrl`.",
            "extendedDescription": "Make sure the credentials are correct and that the server is running."
          },
          "invalidCollection": {
            "description": "Provided `table` input is not a valid name for a Postgresql table."
          },
          "success": {
            "description": "OK.",
            "example": 123,
            "isDefault": true,
            "type": "number"
          }
        },
        "fn": "\n    // Dependencies\n    var pg = require('pg');\n    var wlSQL = require('waterline-sequel');\n\n    // Rename inputs for clarity\n    var table = inputs.table;\n    var query = {\n      where: inputs.query || null\n    };\n\n    // WL SQL options\n    var sqlOptions = {\n      parameterized: true,\n      caseSensitive: true,\n      escapeCharacter: '\"',\n      casting: true,\n      canReturnValues: true,\n      escapeInserts: true,\n      declareDeleteAlias: false,\n      wlNext: {\n        caseSensitive: true\n      }\n    };\n\n    var normalizedSchema = {};\n    normalizedSchema[table] = {\n      tableName: table,\n      identity: table,\n      attributes: {}\n    };\n\n    // Build the SQL query based on the query inputs\n    var sequel = new wlSQL(normalizedSchema, sqlOptions);\n    var sql;\n\n    // Build a query for the specific query strategy\n    try {\n      sql = sequel.count(table, query);\n    } catch (e) {\n      return exits.error(e);\n    }\n\n    // Create a new postgresql client\n    var client = new pg.Client(inputs.connectionUrl);\n    client.connect(function(err) {\n\n      if(err) {\n        return exits.error(err);\n      }\n\n      client.query(sql.query[0], sql.values[0], function(err, results) {\n        client.end();\n\n        if(err) {\n          return exits.error(err);\n        }\n\n        var count = results.rows[0] && results.rows[0].count;\n        return exits.success(count);\n      });\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-postgresql/count-records",
        "docsUrl": "http://node-machine.org/machinepack-postgresql/count-records",
        "defaultExit": "success",
        "machinepack": 39,
        "id": 169,
        "createdAt": "2015-02-28T20:59:23.000Z",
        "updatedAt": "2015-06-30T23:29:45.000Z"
      }
    ],
    "identity": "machinepack-postgresql",
    "version": "0.4.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Postgresql",
    "friendlyName": "Postgresql",
    "description": "Structured Node.js bindings for Postgresql.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-postgresql",
    "docsUrl": "http://node-machine.org/machinepack-postgresql",
    "npmUrl": "http://npmjs.org/package/machinepack-postgresql",
    "npmPackageName": "machinepack-postgresql",
    "githubUrl": "http://github.com/particlebanana/machinepack-postgresql/",
    "sourceUrl": "http://github.com/particlebanana/machinepack-postgresql/",
    "testsUrl": "https://travis-ci.org/particlebanana/machinepack-postgresql",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "^0.9.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "pg",
        "semverRange": "^4.3.0"
      },
      {
        "name": "waterline-sequel",
        "semverRange": "^0.2.0"
      }
    ],
    "contributors": [
      {
        "name": "Cody Stoltman",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      }
    ],
    "id": 39,
    "createdAt": "2015-02-28T00:10:25.000Z",
    "updatedAt": "2015-06-30T23:29:45.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get-document",
        "variableName": "getDocument",
        "friendlyName": "Get document by id",
        "cacheable": null,
        "sync": null,
        "description": "Get a prismic document by id.",
        "inputs": {
          "apiEndpoint": {
            "example": "https://mycompany.prismic.io/api",
            "description": "Api endpoint for your prismic instance",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "MC5WUWg4VFOHFh.77-9777-9Me-_73vv73vv70rUO-_vWPvv71O77-9ZUPvv73vv71pX--_vQdaNe-_vQ",
            "description": "Token provided via settings/apps/.",
            "required": true,
            "type": "string"
          },
          "id": {
            "example": "1234",
            "description": "Document id",
            "required": true,
            "type": "string"
          },
          "slug": {
            "example": "my-great-post",
            "description": "Slug of document for given id.",
            "required": false,
            "type": "string"
          },
          "ref": {
            "example": "VUYf7y0AAJkBHcVj",
            "description": "Control which versions of documents we can access. Defaults to master which is all live documents.",
            "required": false,
            "type": "string"
          },
          "html": {
            "example": true,
            "description": "Return document as html?",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "newSlug": {
            "description": "Document found via id, but there is a new slug"
          },
          "notFound": {
            "description": "Document not found"
          },
          "notAuthorized": {
            "description": "Not authorized"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Prismic = require('prismic.io').Prismic;\n\n    function linkResolver(doc) {\n      if (doc.isBroken) return false;\n      return '/documents/' + doc.id + '/' + doc.slug;\n    }\n\n    Prismic.Api(inputs.apiEndpoint, function(err, Api) {\n      if (err && err.toString().indexOf('401') !== -1) {\n        return exits.notAuthorized(err);\n      } else if (err) {\n        return exits.error(err);\n      }\n      var ctx = {\n        api: Api,\n        ref: inputs.ref || Api.master(),\n        linkResolver: function(doc) {\n          return linkResolver(doc);\n        }\n      };\n      ctx.api\n        .forms('everything')\n        .ref(ctx.ref)\n        .query('[[:d = at(document.id, \"' + inputs.id + '\")]]')\n        .submit(function(err, documents) {\n          var results = documents.results;\n          var doc = results && results.length ? results[0] : undefined;\n          if (err) {\n            exits.error(err);\n          } else if (doc && (!inputs.slug || doc.slug == inputs.slug)) {\n            if (inputs.html) {\n              exits.success(doc.asHtml(ctx.linkResolver));\n            } else {\n              exits.success(doc);\n            }\n          } else if (doc && doc.slugs.indexOf(inputs.slug) > -1 && exits.newSlug) {\n            exits.newSlug(doc);\n          } else {\n            exits.notFound();\n          }\n        });\n    }, inputs.accessToken);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prismicio/get-document",
        "docsUrl": "http://node-machine.org/machinepack-prismicio/get-document",
        "defaultExit": "success",
        "machinepack": 113,
        "id": 481,
        "createdAt": "2015-05-13T20:39:18.000Z",
        "updatedAt": "2015-05-18T23:29:50.000Z"
      },
      {
        "identity": "get-document-by-slug",
        "variableName": "getDocumentBySlug",
        "friendlyName": "Get document by slug",
        "cacheable": null,
        "sync": null,
        "description": "Get a prismic document by slug.",
        "inputs": {
          "apiEndpoint": {
            "example": "https://mycompany.prismic.io/api",
            "description": "Api endpoint for your prismic instance",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "MC5WUWg4VFOHFh.77-9777-9Me-_73vv73vv70rUO-_vWPvv71O77-9ZUPvv73vv71pX--_vQdaNe-_vQ",
            "description": "Token provided via settings/apps/.",
            "required": true,
            "type": "string"
          },
          "slug": {
            "example": "my-great-post",
            "description": "Slug of document.",
            "required": true,
            "type": "string"
          },
          "ref": {
            "example": "VUYf7y0AAJkBHcVj",
            "description": "Control which versions of documents we can access. Defaults to master which is all live documents.",
            "required": false,
            "type": "string"
          },
          "html": {
            "example": true,
            "description": "Return document as html?",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Document not found"
          },
          "notAuthorized": {
            "description": "Not authorized"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Prismic = require('prismic.io').Prismic;\n\n    function linkResolver(doc) {\n      if (doc.isBroken) return false;\n      return '/documents/' + doc.id + '/' + doc.slug;\n    }\n\n    Prismic.Api(inputs.apiEndpoint, function(err, Api) {\n      if (err && err.toString().indexOf('401') !== -1) {\n        return exits.notAuthorized(err);\n      } else if (err) {\n        return exits.error(err);\n      }\n      var ctx = {\n        api: Api,\n        ref: inputs.ref || Api.master(),\n        linkResolver: function(doc) {\n          return linkResolver(doc);\n        }\n      };\n      ctx.api\n        .forms('everything')\n        .ref(ctx.ref)\n        .query('[[:d = fulltext(document, \"' + inputs.slug + '\")]]')\n        .submit(function(err, documents) {\n          var results = documents.results;\n          var doc = results && results.length ? results[0] : undefined;\n          if (err) {\n            exits.error(err);\n          } else if (doc && (!inputs.slug || doc.slug == inputs.slug)) {\n            if(inputs.html) {\n              exits.success(doc.asHtml(ctx.linkResolver));\n            } else {\n              exits.success(doc);  \n            }\n          } else {\n            exits.notFound();\n          }\n        });\n    }, inputs.accessToken);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prismicio/get-document-by-slug",
        "docsUrl": "http://node-machine.org/machinepack-prismicio/get-document-by-slug",
        "defaultExit": "success",
        "machinepack": 113,
        "id": 482,
        "createdAt": "2015-05-13T20:39:18.000Z",
        "updatedAt": "2015-05-18T23:29:50.000Z"
      },
      {
        "identity": "get-many-documents",
        "variableName": "getManyDocuments",
        "friendlyName": "Get many documents",
        "cacheable": null,
        "sync": null,
        "description": "Get many documents by Array of ids",
        "inputs": {
          "apiEndpoint": {
            "example": "https://mycompany.prismic.io/api",
            "description": "Api endpoint for your prismic instance",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "MC5WUWg4VFOHFh.77-9777-9Me-_73vv73vv70rUO-_vWPvv71O77-9ZUPvv73vv71pX--_vQdaNe-_vQ",
            "description": "Token provided via settings/apps/.",
            "required": true,
            "type": "string"
          },
          "ids": {
            "example": [
              "123",
              "456"
            ],
            "description": "Array of document ids",
            "required": true,
            "type": "array"
          },
          "ref": {
            "example": "VUYf7y0AAJkBHcVj",
            "description": "Control which versions of documents we can access. Defaults to master which is all live documents.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notAuthorized": {
            "description": "Not authorized"
          },
          "success": {
            "description": "OK.",
            "example": [],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var Prismic = require('prismic.io').Prismic;\n\n    function linkResolver(doc) {\n      if (doc.isBroken) return false;\n      return '/documents/' + doc.id + '/' + doc.slug;\n    }\n\n    var mappedIds = inputs.ids.map(function(id) {\n      return '\"' + id + '\"';\n    }).join(',');\n\n    var query = '[[:d = any(document.id, [' + mappedIds + '])]]';\n    console.log(query);\n\n    Prismic.Api(inputs.apiEndpoint, function(err, Api) {\n      if (err && err.toString().indexOf('401') !== -1) {\n        return exits.notAuthorized(err);\n      } else if (err) {\n        return exits.error(err);\n      }\n      var ctx = {\n        api: Api,\n        ref: inputs.ref || Api.master(),\n        linkResolver: function(doc) {\n          return linkResolver(doc);\n        }\n      };\n      ctx.api\n        .forms('everything')\n        .ref(ctx.ref)\n        .query(query)\n        .submit(function(err, documents) {\n          if (err) {\n            return exits.error(err);\n          }\n          return exits.success(documents.results);\n        });\n    }, inputs.accessToken);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prismicio/get-many-documents",
        "docsUrl": "http://node-machine.org/machinepack-prismicio/get-many-documents",
        "defaultExit": "success",
        "machinepack": 113,
        "id": 483,
        "createdAt": "2015-05-13T20:39:18.000Z",
        "updatedAt": "2015-05-18T23:29:50.000Z"
      },
      {
        "identity": "get-bookmark",
        "variableName": "getBookmark",
        "friendlyName": "Get document by bookmark",
        "cacheable": null,
        "sync": null,
        "description": "Get a prismic document by bookmark.",
        "inputs": {
          "apiEndpoint": {
            "example": "https://mycompany.prismic.io/api",
            "description": "Api endpoint for your prismic instance",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "MC5WUWg4VFOHFh.77-9777-9Me-_73vv73vv70rUO-_vWPvv71O77-9ZUPvv73vv71pX--_vQdaNe-_vQ",
            "description": "Token provided via settings/apps/.",
            "required": true,
            "type": "string"
          },
          "bookmark": {
            "example": "my-great-bookmark",
            "description": "Bookmark of document.",
            "required": true,
            "type": "string"
          },
          "ref": {
            "example": "VUYf7y0AAJkBHcVj",
            "description": "Control which versions of documents we can access. Defaults to master which is all live documents.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Document not found"
          },
          "notAuthorized": {
            "description": "Not authorized"
          },
          "success": {
            "description": "OK.",
            "example": {},
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Prismic = require('prismic.io').Prismic;\n\n    function linkResolver(doc) {\n      if (doc.isBroken) return false;\n      return '/documents/' + doc.id + '/' + doc.slug;\n    }\n\n    Prismic.Api(inputs.apiEndpoint, function(err, Api) {\n      if (err && err.toString().indexOf('401') !== -1) {\n        return exits.notAuthorized(err);\n      } else if (err) {\n        return exits.error(err);\n      }\n      var ctx = {\n        api: Api,\n        ref: inputs.ref || Api.master(),\n        linkResolver: function(doc) {\n          return linkResolver(doc);\n        }\n      };\n\n      var id = ctx.api.bookmarks[inputs.bookmark];\n      var getDocument = require('machine').build(require('./get-document'));\n\n      getDocument({\n        apiEndpoint: inputs.apiEndpoint,\n        accessToken: inputs.accessToken,\n        ref: inputs.ref,\n        id: id\n      }).exec({\n        error: exits.error,\n        notFound: exits.notFound,\n        notAuthorized: exits.notAuthorized,\n        success: exits.success\n      });\n\n    }, inputs.accessToken);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prismicio/get-bookmark",
        "docsUrl": "http://node-machine.org/machinepack-prismicio/get-bookmark",
        "defaultExit": "success",
        "machinepack": 113,
        "id": 484,
        "createdAt": "2015-05-13T20:39:18.000Z",
        "updatedAt": "2015-05-18T23:29:50.000Z"
      }
    ],
    "identity": "machinepack-prismicio",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2015-05-18T00:00:00.000Z",
    "variableName": "Prismicio",
    "friendlyName": "Prismicio",
    "description": "Work with prismicio.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-prismicio",
    "docsUrl": "http://node-machine.org/machinepack-prismicio",
    "npmUrl": "http://npmjs.org/package/machinepack-prismicio",
    "npmPackageName": "machinepack-prismicio",
    "githubUrl": "http://github.com/facultymatt/machinepack-prismicio/",
    "sourceUrl": "http://github.com/facultymatt/machinepack-prismicio/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "prismic.io",
        "semverRange": "^1.1.4"
      }
    ],
    "contributors": [
      {
        "name": "facultymatt",
        "email": "matt@facultycreative.com"
      }
    ],
    "id": 113,
    "createdAt": "2015-05-13T20:39:18.000Z",
    "updatedAt": "2015-05-18T23:29:50.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "escape-cli-opt",
        "variableName": "escapeCliOpt",
        "friendlyName": "Escape CLI opt",
        "cacheable": true,
        "sync": true,
        "description": "Escape a value for use as a command-line option (e.g. the \"XXXXX\" in `--foobar='XXXXX'`).",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The value to escape as a CLI option.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "couldNotSerialize": {
            "description": "The provided value could not be serialized into a JSON string."
          },
          "success": {
            "variableName": "escaped",
            "example": "{\"foo\":\"bar\"}",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var isObject = require('lodash.isobject');\n    var isString = require('lodash.isstring');\n    var MPJSON = require('machinepack-json');\n\n    // If this is a dictionary/array, then JSON stringify it.\n    var val = inputs.value;\n    if (isObject(val)) {\n      val = MPJSON.stringifySafe({value:val}).execSync();\n    }\n    // Otherwise, cast it to a string.\n    else {\n      val = val+'';\n    }\n\n    if (!isString(val)) {\n      return exits.couldNotSerialize();\n    }\n\n    // Now escape the resulting string as a CLI option.\n    val = val.replace(/'/g,'\\'\\\\\\'\\'');\n\n    return exits.success(val);\n  ",
        "environment": [],
        "extendedDescription": "When using the escaped result returned from this method, make sure to wrap it in single quotes when building up the final CLI options string.  For instance `--foo='RESULT_FROM_THIS_MACHINE_HERE'`  or `-f 'RESULT_FROM_THIS_MACHINE_HERE'",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-process/escape-cli-opt",
        "docsUrl": "http://node-machine.org/machinepack-process/escape-cli-opt",
        "defaultExit": null,
        "machinepack": 110,
        "id": 718,
        "createdAt": "2016-03-13T10:29:28.000Z",
        "updatedAt": "2016-03-15T17:10:06.000Z"
      },
      {
        "identity": "kill-child-process",
        "variableName": "killChildProcess",
        "friendlyName": "Kill child process",
        "cacheable": null,
        "sync": null,
        "description": "Gracefully kill a child process.",
        "inputs": {
          "childProcess": {
            "friendlyName": "Child process",
            "description": "The child process to kill.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "forceIfNecessary": {
            "friendlyName": "Force if necessary?",
            "description": "If set, then force the child process to exit if it cannot be killed gracefully (e.g. because it is already dead).",
            "extendedDescription": "If set, this method will first attempt to shut down the child process gracefully (SIGTERM); but if that doesn't work after a few miliseconds (`maxMsToWait`), it will use the nuclear option (SIGKILL) to kill the child process with no exceptions.",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          },
          "maxMsToWait": {
            "description": "The maximum number of miliseconds to wait for the child process to shut down gracefully.",
            "example": 500,
            "defaultsTo": 500,
            "type": "number"
          }
        },
        "exits": {
          "invalidChildProcess": {
            "friendlyName": "Invalid child process",
            "description": "The specified value is not a valid child process instance.",
            "extendedDescription": "You can obtain a child process instance by calling `spawnChildProcess()`."
          },
          "couldNotKill": {
            "description": "The child process could not be killed gracefully.",
            "extendedDescription": "It might be refusing to close, it might already finished running, or it might even never have been alive.To force-kill it using SIGKILL (e.g. `kill -9`), run this machine again with `force: true`."
          },
          "success": {
            "description": "OK.",
            "outputDescription": "Whether or not the child process had to be force-killed with \"SIGKILL\".",
            "outputVariableName": "wasForceKilled",
            "example": false,
            "isDefault": true,
            "type": "boolean"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var isObject = require('lodash.isobject');\n    var isFunction = require('lodash.isfunction');\n\n    // Validate that the provided child process instance is at least close to the real deal.\n    if (!isObject(inputs.childProcess) || !isFunction(inputs.childProcess.kill) || !isFunction(inputs.childProcess.on) || !isFunction(inputs.childProcess.removeListener)) {\n      return exits.invalidChildProcess();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // For posterity: The difference between SIGKILL, SIGTERM, and SIGINT:\n    //\n    // â¢ SIGKILL\n    //   Â° Like running `kill -9`.\n    //   Â° Can't listen for this, because it kills the process before you have a chance to do anything.\n    //\n    // â¢ SIGTERM   (recommended)\n    //   Â° Like running `kill`.\n    //   Â° Allows graceful shutdown.\n    //\n    // â¢ SIGINT\n    //   Â° Like hitting CTRL+C.\n    //   Â° Allows graceful shutdown.\n    //\n    // > The above was based on the great explanation at https://www.exratione.com/2013/05/die-child-process-die/#considering-unix-signals.\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n    // Set up some variables for use below.\n    // (they need to be declared up here so they can reach each other)\n    var forceKillOrGiveUp;\n    var handleClosingChildProc;\n    var timer;\n\n    // Define a function (`forceKillOrGiveUp`) that will be called if the graceful shutdown attempt fails.\n    forceKillOrGiveUp = function (){\n      try {\n        inputs.childProcess.removeListener('close', handleClosingChildProc);\n\n        if (inputs.forceIfNecessary) {\n          inputs.childProcess.kill('SIGKILL');\n          return exits.success(true);\n        }\n        else {\n          return exits.couldNotKill();\n        }\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n    };\n\n    // Define a function (`handleClosingChildProc`) that will be called when/if we receive a message\n    // indicating that the child process has closed.\n    handleClosingChildProc = function (code, signal) {\n      if (signal === 'SIGKILL') {\n        // Ignore SIGKILL\n        // (if we're seeing it here, it came from somewhere else, and we don't want to get confused)\n        return;\n      }\n      clearTimeout(timer);\n\n      // Graceful kill successful!\n      return exits.success(false);\n    };\n\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // > After a couple of hours of testing with both Node v4.3.0 and v5.4.0, my conclusion is that this\n    // > optimization is a no-go for now (the `connected` flag doesn't appear to be reliable for this use case).\n    // > That said, the commented-out sectionÂ below will stay, and it can be brought back at the time we figure\n    // > out a better way to do this; or if the behavior of Node core changes.\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // // If the child process is not \"connected\", then don't even bother trying to signal\n    // // it to close gracefully (b/c it won't work).  Instead, just go ahead and either\n    // // force-kill it or give up, depending on the `forceIfNecessary` input.\n    // // (for more information about `connected`, see: https://nodejs.org/api/child_process.html#child_process_child_connected)\n    // if (!inputs.childProcess.connected) {\n    //   return forceKillOrGiveUp();\n    // }\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // Listen for the child process being closed.\n    inputs.childProcess.on('close', handleClosingChildProc);\n\n    // Set a timer.\n    // (If the child process has not closed gracefully after `inputs.maxMsToWait`,\n    //  then we need to either force kill it with SIGKILL, or fail via the\n    //  `couldNotKill` exit.)\n    timer = setTimeout(forceKillOrGiveUp, inputs.maxMsToWait);\n\n\n    // Now attempt to kill the child process gracefully (send SIGTERM).\n    inputs.childProcess.kill();\n\n  ",
        "environment": [],
        "extendedDescription": "This uses the `.kill()` instance method from Node.js core.  By default, SIGTERM is used.",
        "moreInfoUrl": "https://nodejs.org/api/child_process.html#child_process_child_kill_signal",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-process/kill-child-process",
        "docsUrl": "http://node-machine.org/machinepack-process/kill-child-process",
        "defaultExit": null,
        "machinepack": 110,
        "id": 719,
        "createdAt": "2016-03-13T10:29:28.000Z",
        "updatedAt": "2016-03-15T17:10:06.000Z"
      },
      {
        "identity": "spawn-child-process",
        "variableName": "spawnChildProcess",
        "friendlyName": "Spawn child process",
        "cacheable": null,
        "sync": true,
        "description": "Spawn a child process and have it run a command.",
        "inputs": {
          "command": {
            "friendlyName": "Command",
            "description": "The command to run in the child process, without any CLI arguments or options.",
            "extendedDescription": "Node core is tolerant of CLI args mixed in with the main \"command\" in `child_process.exec()`, but it is not so forgiving when using `child_process.spawn()`.",
            "example": "ls",
            "required": true,
            "type": "string"
          },
          "cliArgs": {
            "friendlyName": "CLI args",
            "description": "An array of command-line arguments (e.g. `commit` or `install`) and/or options (e.g. `-al` or `-f 7` or `--foo='bar'`) to pass in.",
            "example": [
              "-la"
            ],
            "defaultsTo": [],
            "type": "array"
          },
          "dir": {
            "friendlyName": "Run from...",
            "description": "The path to the directory where this command will be run.",
            "extendedDescription": "If not set, this defaults to the present working directory.  If a relative path is provided, it will be resolved relative to the present working directory.",
            "example": "/Users/mikermcneil/foo",
            "type": "string"
          },
          "environmentVars": {
            "friendlyName": "Environment variables",
            "description": "A dictionary of environment variables to provide to the child process.",
            "extendedDescription": "By default, the same environment variables as in the current process will be used.  If specified, the dictionary should consist of the name of each environment variable as a key, and the value of the variable on the right-hand side.  The value of any environment variable is always a string.",
            "example": {},
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "outputVariableName": "childProcess",
            "outputDescription": "A Node child process instance.",
            "moreInfoUrl": "https://nodejs.org/api/child_process.html#child_process_class_childprocess",
            "extendedDescription": "By the time it is returned, a no-op `error` listener has already been bound to prevent accidental crashing in the event of an unexpected error.",
            "example": "===",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var spawn = require('child_process').spawn;\n    var isUndefined = require('lodash.isundefined');\n\n    // First, build up the options to pass in to `child_process.spawn()`.\n    var childProcOpts = {};\n\n    // Determine the appropriate `cwd` for `child_process.spawn()`.\n    if (isUndefined(inputs.dir)) {\n      // Default directory to current working directory\n      childProcOpts.cwd = process.cwd();\n    }\n    else {\n      // (or if a `dir` was specified, resolve it to make sure\n      //  it's an absolute path.)\n      childProcOpts.cwd = path.resolve(inputs.dir);\n    }\n\n    // If `environmentVars` were provided, pass them in to `child_process.exec()`.\n    if (!isUndefined(inputs.environmentVars)) {\n      childProcOpts.env = inputs.environmentVars;\n    }\n\n    // Then spawn the child process and set up a no-op error listener to prevent crashing.\n    var liveChildProc = spawn(inputs.command, inputs.cliArgs, childProcOpts);\n    liveChildProc.on('error', function wheneverAnErrorIsEmitted(err){ /* ... */ });\n\n    // Return live child process.\n    return exits.success(liveChildProc);\n  ",
        "environment": [],
        "extendedDescription": "This method should only be used when low-level access to the raw child process instance is necessary.  Instead, when possible, use `executeCommand()`-- it has a much easier and much less error-prone interface. This method, on the other hand, uses the `child_process.spawn()` method from Node.js core. The success exit from this machine will be called BEFORE the command has finished running (i.e. before the resulting child process exits). Note that it is _very important_ that this method is synchronous, to ensure that the child process instance returned is available in time to bind events.",
        "moreInfoUrl": "https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-process/spawn-child-process",
        "docsUrl": "http://node-machine.org/machinepack-process/spawn-child-process",
        "defaultExit": null,
        "machinepack": 110,
        "id": 720,
        "createdAt": "2016-03-13T10:29:28.000Z",
        "updatedAt": "2016-03-15T17:10:06.000Z"
      },
      {
        "identity": "execute-command",
        "variableName": "executeCommand",
        "friendlyName": "Execute command",
        "cacheable": null,
        "sync": null,
        "description": "Execute a command like you would on the terminal.",
        "inputs": {
          "command": {
            "friendlyName": "Command",
            "description": "The command to run, including any whitespace-delimited CLI args/opts.",
            "example": "ls -la",
            "required": true,
            "type": "string"
          },
          "dir": {
            "friendlyName": "Run from...",
            "description": "The path to the directory where this command will be run.",
            "extendedDescription": "If not set, this defaults to the present working directory.  If a relative path is provided, it will be resolved relative to the present working directory.",
            "example": "/Users/mikermcneil/foo",
            "type": "string"
          },
          "environmentVars": {
            "friendlyName": "Environment variables",
            "description": "A dictionary of environment variables to provide to the child process.",
            "extendedDescription": "By default, the same environment variables as in the current process will be used.  If specified, the dictionary should consist of the name of each environment variable as a key, and the value of the variable on the right-hand side.  The value of any environment variable is always a string.",
            "example": {},
            "type": "object"
          },
          "timeout": {
            "friendlyName": "Timeout",
            "description": "The maximum number of miliseconds to wait for this command to finish.",
            "extendedDescription": "By default, no time limit will be enforced.  Note that if the time limit is reached, SIGERM will be sent to the child process.",
            "example": 60000,
            "type": "number"
          }
        },
        "exits": {
          "notADir": {
            "friendlyName": "not a directory",
            "description": "The specified path points to a something which is not a directory (e.g. a file or shortcut)."
          },
          "forbidden": {
            "friendlyName": "forbidden",
            "description": "Insufficient permissions to spawn process from the specified path (i.e. you might need to use `chown`/`chmod`)"
          },
          "noSuchDir": {
            "friendlyName": "no such directory",
            "description": "Cannot run process from the specified path because no such directory exists."
          },
          "timedOut": {
            "friendlyName": "Timed out",
            "description": "The specified command was automatically killed because it had not finished before the configured time limit (`timeout`).",
            "extendedDescription": "Note that the command _may have already caused side effects_ before it was stopped."
          },
          "success": {
            "variableName": "bufferedOutput",
            "outputDescription": "The output returned from executing the command.",
            "extendedDescription": "Note that the output is split into that which came from \"stdout\" vs. that which came from \"stderr\". ",
            "example": {
              "stdout": "...",
              "stderr": "..."
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var executeCmdInChildProc = require('child_process').exec;\n    var isObject = require('lodash.isobject');\n    var isUndefined = require('lodash.isundefined');\n\n    // First, build up the options to pass in to `child_process.exec()`.\n    var childProcOpts = {};\n\n    // Determine the appropriate `cwd` for `child_process.exec()`.\n    if (isUndefined(inputs.dir)) {\n      // Default directory to current working directory\n      childProcOpts.cwd = process.cwd();\n    }\n    else {\n      // (or if a `dir` was specified, resolve it to make sure\n      //  it's an absolute path.)\n      childProcOpts.cwd = path.resolve(inputs.dir);\n    }\n\n    // If `timeout` was provided, pass it in to `child_process.exec()`.\n    // Note that we also track a timestamp (epoch ms) for use in negotiating errors below.\n    var timestampBeforeExecutingCmd;\n    if (!isUndefined(inputs.timeout)) {\n      if (inputs.timeout < 1) {\n        return exits.error('Invalid timeout (`'+inputs.timeout+'`).  Must be greater than zero.  Remember: `timeout` should be used to indicate the maximum number of miliseconds to wait for this command to finish before giving up.');\n      }\n      childProcOpts.timeout = inputs.timeout;\n      timestampBeforeExecutingCmd = (new Date()).getTime();\n    }\n\n    // If `environmentVars` were provided, pass them in to `child_process.exec()`.\n    if (!isUndefined(inputs.environmentVars)) {\n      childProcOpts.env = inputs.environmentVars;\n    }\n\n\n\n    // Now spawn the child process.\n    var liveChildProc = executeCmdInChildProc(inputs.command, childProcOpts, function onClose(err, bufferedStdout, bufferedStderr) {\n      if (err) {\n        if (!isObject(err)) {\n          return exits.error(err);\n        }\n        // console.log('err=>',err);\n        // console.log('keys=>',Object.keys(err));\n        // console.log('err.code=>',err.code);\n        // console.log('err.killed=>',err.killed);\n        // console.log('err.syscall=>',err.syscall);\n        // console.log('err.errno=>',err.errno); // e.g. 127 || 'ENOENT'\n        // console.log('err.signal=>',err.signal); // e.g. 'SIGTERM'\n\n        // `err.syscall.match(/spawn/i)` should be true as well, but not testing since\n        // Node v0.12 changed this a bit and we want to future-proof ourselves if possible.\n        if (err.code==='ENOTDIR') {\n          return exits.notADir();\n        }\n        if (err.code==='ENOENT') {\n          return exits.noSuchDir();\n        }\n        if (err.code==='EACCES') {\n          return exits.forbidden();\n        }\n\n        // Check to see if this error is because of the configured timeout.\n        if (err.signal==='SIGTERM' && inputs.timeout) {\n          var msElapsed = (new Date()).getTime() - timestampBeforeExecutingCmd;\n          if (msElapsed >= inputs.timeout) {\n            return exits.timedOut();\n          }\n        }\n        return exits.error(err);\n      }\n\n      // console.log('Child process exited with exit code ' + code);\n      return exits.success({\n        stdout: bufferedStdout,\n        stderr: bufferedStderr\n      });\n    });\n  ",
        "environment": [],
        "extendedDescription": "This uses the `child_process.exec()` method from Node.js core to run the specified command. The success exit from this machine will not be called until the command has finished running (i.e. the resulting child process exits). If you need a more advanced/flexible interface, check out `spawnChildProcess()`.  It is much lower-level, and exposes raw access to the child process instance.",
        "moreInfoUrl": "https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-process/execute-command",
        "docsUrl": "http://node-machine.org/machinepack-process/execute-command",
        "defaultExit": null,
        "machinepack": 110,
        "id": 721,
        "createdAt": "2016-03-13T10:29:28.000Z",
        "updatedAt": "2016-03-15T17:10:06.000Z"
      }
    ],
    "identity": "machinepack-process",
    "version": "2.0.2",
    "latestVersionPublishedAt": "2016-03-15T00:00:00.000Z",
    "variableName": "Process",
    "friendlyName": "Process",
    "description": "Work with child procs and the running process.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-process",
    "docsUrl": "http://node-machine.org/machinepack-process",
    "npmUrl": "http://npmjs.org/package/machinepack-process",
    "npmPackageName": "machinepack-process",
    "githubUrl": "http://github.com/treelinehq/machinepack-process/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-process/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-process",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash.isfunction",
        "semverRange": "3.0.8"
      },
      {
        "name": "lodash.isobject",
        "semverRange": "3.0.2"
      },
      {
        "name": "lodash.isstring",
        "semverRange": "4.0.1"
      },
      {
        "name": "lodash.isundefined",
        "semverRange": "3.0.1"
      },
      {
        "name": "machine",
        "semverRange": "~12.1.0"
      },
      {
        "name": "machinepack-json",
        "semverRange": "~2.0.0"
      },
      {
        "name": "open",
        "semverRange": "0.0.5"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 110,
    "createdAt": "2015-05-08T14:29:32.000Z",
    "updatedAt": "2016-03-15T17:10:06.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "select",
        "variableName": "select",
        "friendlyName": "Select",
        "cacheable": null,
        "sync": null,
        "description": "Prompt the command-line user to make a choice from a list of options.",
        "inputs": {
          "choices": {
            "description": "The list of choices- where each choice is a name/value pair (dictionary).",
            "extendedDescription": "The `name` property indicates how the choice will appear in the list.  The `value` property is used to report which choice was selected, so each `value` should be unique within the list of choices.",
            "example": [
              {
                "name": "Choice A",
                "value": "some-unique-identifier"
              }
            ],
            "required": true,
            "type": "array"
          },
          "message": {
            "description": "The message to display as a prompt for the command-line user",
            "example": "Please choose one of the following.",
            "defaultsTo": "Please choose one of the following.",
            "type": "string"
          },
          "paginated": {
            "description": "Whether or not the interactive list will be paginated",
            "defaultsTo": false,
            "example": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "some-unique-identifier",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var inquirer = require('inquirer');\n\n    var spinlock;\n\n    // Since inquirer doesn't allow us to tap into this,\n    // we'll handle it here with the help of a spin-lock to ensure\n    // that no issues arise.\n    //\n    // ...but.... this doesn't work yet.\n    //////////////////////////////////////////////////////////////////////////////\n    // process.on( 'SIGINT', function (){\n    //   if (spinlock) return;\n    //   spinlock = true;\n    //   return exits.sigint();\n    // });\n\n    inquirer.prompt([{\n      type: 'list',\n      name: 'choice',\n      message: inputs.message || 'Please choose one of the following.',\n      paginated: inputs.paginated || false,\n      choices: inputs.choices\n    }], function(answers) {\n      if (spinlock) return;\n      spinlock = true;\n      return exits.success(answers.choice);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prompts/select",
        "docsUrl": "http://node-machine.org/machinepack-prompts/select",
        "defaultExit": "success",
        "machinepack": 21,
        "id": 88,
        "createdAt": "2015-02-16T23:51:34.000Z",
        "updatedAt": "2015-06-30T17:19:29.000Z"
      },
      {
        "identity": "confirm",
        "variableName": "confirm",
        "friendlyName": "Confirm",
        "cacheable": null,
        "sync": null,
        "description": "Prompt command-line user to confirm with \"y\" or \"n\" before proceeding.",
        "inputs": {
          "message": {
            "description": "The message to display as a prompt for the command-line user",
            "example": "Are you sure?",
            "defaultsTo": "Are you sure?",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "no": {
            "description": "The command-line user did NOT confirm- she chose \"no\"."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var inquirer = require('inquirer');\n\n    var spinlock;\n\n    // Since inquirer doesn't allow us to tap into this,\n    // we'll handle it here with the help of a spin-lock to ensure\n    // that no issues arise.\n    //\n    // ...but.... this doesn't work yet.\n    //////////////////////////////////////////////////////////////////////////////\n    // process.on( 'SIGINT', function (){\n    //   if (spinlock) return;\n    //   spinlock = true;\n    //   return exits.sigint();\n    // });\n\n    inquirer.prompt([{\n      type: 'confirm',\n      name: 'choice',\n      message: inputs.message || 'Are you sure?'\n    }], function (answers){\n      if (spinlock) return;\n      spinlock = true;\n      if (answers.choice){\n        return exits.success();\n      }\n      return exits.no();\n    });\n\n\n    ///////////////////////////////////////////////\n    // Lower-level strategy:\n    // (causes weird issues though)\n    ///////////////////////////////////////////////\n    //\n    // var didUserConfirm;\n    //\n    // inquirer.prompt([{\n    //   type: 'confirm',\n    //   name: 'choice',\n    //   message: inputs.message || 'Are you sure?'\n    // }]).process.subscribe(\n    // function afterAnswer(result){\n    //   didUserConfirm = !!result.answer;\n    // },\n    // function onError(err){\n    //   return exits.error(err);\n    // },\n    // function onComplete () {\n    //   if (didUserConfirm === true) {\n    //     return exits.success();\n    //   }\n    //   else if (didUserConfirm === false) {\n    //     return exits.no();\n    //   }\n    //   return exits.error('Consistency violation- answer \"'+result.answer+'\" is not a valid boolean value.');\n    // });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prompts/confirm",
        "docsUrl": "http://node-machine.org/machinepack-prompts/confirm",
        "defaultExit": "success",
        "machinepack": 21,
        "id": 89,
        "createdAt": "2015-02-16T23:51:34.000Z",
        "updatedAt": "2015-06-30T17:19:29.000Z"
      },
      {
        "identity": "text",
        "variableName": "text",
        "friendlyName": "Text",
        "cacheable": null,
        "sync": null,
        "description": "Prompt the command-line user for a value entered interactively as a string.",
        "inputs": {
          "message": {
            "description": "The message to display as a prompt for the command-line user",
            "example": "Please enter a value.",
            "defaultsTo": "Please enter a value.",
            "type": "string"
          },
          "protect": {
            "description": "Whether or not to hide keystrokes using \"*\" characters (i.e. like a password field)",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          },
          "expectJson": {
            "description": "Whether or not to expect/validate JSON",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          },
          "exampleValue": {
            "description": "An example value that will be displayed if the command-line user starts slamming <ENTER>",
            "example": "why doesn't my moose lay as well as thy goose?",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "some string typed by the user",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var _ = require('lodash');\n    var inquirer = require('inquirer');\n\n    var spinlock;\n\n    // Since inquirer doesn't allow us to tap into this,\n    // we'll handle it here with the help of a spin-lock to ensure\n    // that no issues arise.\n    //\n    // ...but.... this doesn't work yet.\n    //////////////////////////////////////////////////////////////////////////////\n    // process.on( 'SIGINT', function (){\n    //   if (spinlock) return;\n    //   spinlock = true;\n    //   return exits.sigint();\n    // });\n\n    inquirer.prompt([{\n      type: inputs.protect ? 'password' : 'input',\n      name: 'value',\n      validate: function _isTruthy(value){\n        var parsedValue;\n        // Value is truthy\n        if (value) {\n          if (inputs.expectJson){\n            try {\n              parsedValue = JSON.parse(value);\n              // Don't allow null\n              if (_.isNull(parsedValue)) {\n                return '`null` is not allowed, sorry';\n              }\n              // Allow booleans, strings, numbers, objects, arrays\n              return true;\n            }\n            catch (e){}\n            return 'enter valid JSON (don\\'t forget double quotes!)';\n          }\n          return true;\n        }\n\n        // Value is falsy\n        else {\n          if (inputs.exampleValue) {\n            return 'e.g. '+inputs.exampleValue;\n          }\n          return false;\n        }\n      },\n      message: inputs.message || 'Please enter a value.'\n    }], function(answers) {\n      if (spinlock) return;\n      spinlock = true;\n      return exits.success(answers.value);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prompts/text",
        "docsUrl": "http://node-machine.org/machinepack-prompts/text",
        "defaultExit": "success",
        "machinepack": 21,
        "id": 90,
        "createdAt": "2015-02-16T23:51:34.000Z",
        "updatedAt": "2015-06-30T17:19:29.000Z"
      },
      {
        "identity": "multiselect",
        "variableName": "multiselect",
        "friendlyName": "Multiselect",
        "cacheable": null,
        "sync": null,
        "description": "Prompt the command-line user to check/uncheck items from a list of options.",
        "inputs": {
          "choices": {
            "description": "The list of checkboxes- where each choice is a name/value pair (dictionary).",
            "extendedDescription": "The `name` property indicates how the choice will appear in the list.  The `value` property is used to report which choice was selected, so each `value` should be unique within the list of choices. If `checked` is set true, the choice will be pre-selected.  If `disabled` is set to a string other than `\"\"`, the user will not be able to select this choice, and the string will be displayed to the right of the checkbox.",
            "example": [
              {
                "name": "Choice A",
                "value": "some-unique-identifier",
                "checked": false,
                "disabled": ""
              }
            ],
            "required": true,
            "type": "array"
          },
          "message": {
            "description": "The message to display as a prompt for the command-line user",
            "example": "Please choose one of the following.",
            "defaultsTo": "Please choose one of the following.",
            "type": "string"
          },
          "paginated": {
            "description": "Whether or not the interactive list will be paginated",
            "defaultsTo": false,
            "example": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              "some-unique-identifier"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var inquirer = require('inquirer');\n\n    var spinlock;\n\n    // Since inquirer doesn't allow us to tap into this,\n    // we'll handle it here with the help of a spin-lock to ensure\n    // that no issues arise.\n    //\n    // ...but.... this doesn't work yet.\n    //////////////////////////////////////////////////////////////////////////////\n    // process.on( 'SIGINT', function (){\n    //   if (spinlock) return;\n    //   spinlock = true;\n    //   return exits.sigint();\n    // });\n\n    inquirer.prompt([{\n      type: 'checkbox',\n      name: 'choices',\n      message: inputs.message || 'Please select from the following.',\n      paginated: inputs.paginated || false,\n      choices: inputs.choices\n    }], function(answers) {\n      if (spinlock) return;\n      spinlock = true;\n      return exits.success(answers.choices);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-prompts/multiselect",
        "docsUrl": "http://node-machine.org/machinepack-prompts/multiselect",
        "defaultExit": "success",
        "machinepack": 21,
        "id": 91,
        "createdAt": "2015-02-16T23:51:34.000Z",
        "updatedAt": "2015-06-30T17:19:29.000Z"
      }
    ],
    "identity": "machinepack-prompts",
    "version": "0.5.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Prompts",
    "friendlyName": "Prompts",
    "description": "Produce interactive prompts in the console and consume the answers.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-prompts",
    "docsUrl": "http://node-machine.org/machinepack-prompts",
    "npmUrl": "http://npmjs.org/package/machinepack-prompts",
    "npmPackageName": "machinepack-prompts",
    "githubUrl": "http://github.com/mikermcneil/machinepack-prompts/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-prompts/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "inquirer",
        "semverRange": "^0.8.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 21,
    "createdAt": "2015-02-16T23:51:34.000Z",
    "updatedAt": "2015-06-30T17:19:29.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "send-push-notification",
        "variableName": "sendPushNotification",
        "friendlyName": "Send push notification",
        "cacheable": null,
        "sync": null,
        "description": "Send a push notification using APN or GCM",
        "inputs": {
          "message": {
            "example": {},
            "description": "The notification object (https://www.npmjs.com/package/apn or https://www.npmjs.com/package/node-gcm)",
            "required": true,
            "type": "object"
          },
          "deviceToken": {
            "example": "5gxadhy6 6zmtxfl6 5zpbcxmw ez3w7ksf qscpr55t trknkzap 7yyt45sc g6jrw7qz",
            "description": "The token device or an array of device tokens",
            "required": true,
            "type": "string"
          },
          "connectionOptions": {
            "example": {},
            "description": "The connection options (https://www.npmjs.com/package/apn or https://www.npmjs.com/package/node-gcm)",
            "required": true,
            "type": "object"
          },
          "type": {
            "example": 0,
            "description": "The type of push notification (0: Google, 1: Apple)",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "        var sender;\n        try {\n            sender = new Sender(inputs.type, inputs.connectionOptions);\n        }\n        catch (ex) {\n            return exits.error(ex);\n        }\n        \n        try {\n            sender.send(inputs.message, inputs.deviceToken);\n        }\n        catch (ex) {\n            return exits.error(ex);\n        }\n\n        return exits.success();\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-pushnotifications/send-push-notification",
        "docsUrl": "http://node-machine.org/machinepack-pushnotifications/send-push-notification",
        "defaultExit": "success",
        "machinepack": 62,
        "id": 241,
        "createdAt": "2015-03-17T07:39:28.000Z",
        "updatedAt": "2015-04-11T16:19:33.000Z"
      }
    ],
    "identity": "machinepack-pushnotifications",
    "version": "0.3.1",
    "latestVersionPublishedAt": "2015-04-11T00:00:00.000Z",
    "variableName": "PushNotifications",
    "friendlyName": "PushNotifications",
    "description": "Send push message using Apple's APN and Google's GCM services",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-pushnotifications",
    "docsUrl": "http://node-machine.org/machinepack-pushnotifications",
    "npmUrl": "http://npmjs.org/package/machinepack-pushnotifications",
    "npmPackageName": "machinepack-pushnotifications",
    "githubUrl": "http://github.com/Caligone/machinepack-pushnotifications/",
    "sourceUrl": "http://github.com/Caligone/machinepack-pushnotifications/",
    "testsUrl": "https://travis-ci.org/Caligone/machinepack-pushnotifications",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "apn",
        "semverRange": "^1.7.3"
      },
      {
        "name": "lodash",
        "semverRange": "^3.5.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "node-gcm",
        "semverRange": "^0.9.15"
      }
    ],
    "contributors": [
      {
        "name": "Caligone",
        "email": ""
      },
      {
        "name": "caligone",
        "email": "caligone@gmx.fr"
      }
    ],
    "id": 62,
    "createdAt": "2015-03-17T07:39:28.000Z",
    "updatedAt": "2015-04-11T16:19:33.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-connection",
        "variableName": "getConnection",
        "friendlyName": "Get connection",
        "cacheable": null,
        "sync": null,
        "description": "Get an active connection to Redis.",
        "inputs": {
          "manager": {
            "friendlyName": "Manager",
            "description": "The connection manager instance to acquire the connection from.",
            "extendedDescription": "Only managers built using the `createManager()` method of this driver are supported. Also, the database connection manager instance provided must not have been destroyed--i.e. once `destroyManager()` is called on a manager, no more connections can be acquired from it (also note that all existing connections become inactive-- see `destroyManager()` for more on that).",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "meta": {
            "friendlyName": "Meta (custom)",
            "description": "Additional stuff to pass to the driver.",
            "extendedDescription": "This is reserved for custom driver-specific extensions.  Please refer to the documentation for the driver you are using for more specific information.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "This connection should be eventually released.  Otherwise, it may time out.  It is not a good idea to rely on database connections timing out-- be sure to release this connection when finished with it!\n\nIn the report returned from this exit:\n + The `connection` property is an active connection to the database.\n + The `meta` property is reserved for custom driver-specific extensions.",
            "outputFriendlyName": "Report",
            "outputDescription": "A dictionary reporting any relevant output from this machine under these circumstances.",
            "outputExample": {
              "connection": "===",
              "meta": "==="
            },
            "isDefault": true
          },
          "failed": {
            "description": "Could not acquire a connection to the database using the specified manager.",
            "extendedDescription": "This might mean any of the following:\n + the credentials encoded in the connection string are incorrect\n + there is no database server running at the provided host (i.e. even if it is just that the database process needs to be started)\n + there is no software \"database\" with the specified name running on the server\n + the provided connection string does not have necessary access rights for the specified software \"database\"\n + this Node.js process could not connect to the database, perhaps because of firewall/proxy settings\n + any other miscellaneous connection error\n\nIn the report returned from this exit:\n + The `error` property is a JavaScript Error instance explaining that a connection could not be made.\n + The `meta` property is reserved for custom driver-specific extensions.",
            "outputFriendlyName": "Report",
            "outputDescription": "A dictionary reporting any relevant output from this machine under these circumstances.",
            "outputExample": {
              "error": "===",
              "meta": "==="
            }
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var isFunction = require('lodash.isfunction');\n    var redis = require('redis');\n\n    // Build a local variable (`redisClientOptions`) to house a dictionary\n    // of additional Redis client options that will be passed into createClient().\n    // (this is pulled from the `meta` mananger)\n    //\n    // For a complete list of available options, see:\n    //  â¢ https://github.com/NodeRedis/node_redis#options-is-an-object-with-the-following-possible-properties\n    var redisClientOptions = inputs.manager.meta || {};\n\n    // Create Redis client\n    var client;\n    try {\n\n      client = redis.createClient(inputs.manager.connectionString, redisClientOptions);\n    } catch (e) {\n      // If a \"TypeError\" was thrown, it means something was wrong with\n      // one of the provided client options.  We assume the issue was with\n      // the connection string, since this is the case 99% of the time.\n      // Of course, the actual error is passed through, so it's possible to\n      // tell what's going on if this is a data-type error related to some\n      // other custom option passed in via `meta`.\n      if (e.name === 'TypeError') {\n        return exits.failed({error: new Error('Invalid Redis client options in manager. Details: ' + e.stack)});\n      }\n      return exits.failed({error: e});\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // These two functions (`onPreConnectionError`, `onPreConnectionEnd`)\n    // have to be defined ahead of time (otherwise, they are not in scope\n    // from within each other's implementations; and so cannot be used as\n    // the second argument to `removeListener()`)\n    var redisConnectionError;\n    function onPreConnectionError (err){\n      redisConnectionError = err;\n    }\n    function onPreConnectionEnd (){\n      client.removeListener('end', onPreConnectionEnd);\n      client.removeListener('error', onPreConnectionError);\n\n      // Prevent automatic reconnection attempts.\n      client.end(true);\n\n      return exits.failed({\n        error: redisConnectionError || new Error('Redis client fired \"end\" event before it finished connecting.')\n      });\n    }\n    ////////////////////////////////////////////////////////////////////////\n\n    // Bind an \"error\" listener so that we can track errors that occur\n    // during the connection process.\n    client.on('error', onPreConnectionError);\n\n    // Bind an \"end\" listener in case the client \"ends\" before\n    // it successfully connects...\n    client.on('end', onPreConnectionEnd);\n\n    // Bind a \"ready\" listener so that we know when the client has connected.\n    client.once('ready', function onConnectionReady (){\n      client.removeListener('end', onPreConnectionEnd);\n      client.removeListener('error', onPreConnectionError);\n\n      // Bind \"error\" handler to prevent crashing the process if error events\n      // are emitted later on (e.g. if the Redis server crashes or the connection\n      // is lost for any other reason).\n      // See https://github.com/mikermcneil/waterline-query-builder/blob/master/docs/errors.md#when-a-connection-is-interrupted\n      client.on('error', function onIntraConnectionError (err){\n        // If manager was not provisioned with an `onUnexpectedFailure`,\n        // we'll just handle this error event silently (to prevent crashing).\n        if (!isFunction(inputs.manager.onUnexpectedFailure)) {\n          return;\n        }\n\n        if (err) {\n          if (/ECONNREFUSED/g.test(err)) {\n            inputs.manager.onUnexpectedFailure(new Error(\n              'Error emitted from Redis client: Connection to Redis server was lost (ECONNREFUSED). ' +\n              'Waiting for Redis client to come back online (if configured to do so, auto-reconnecting behavior ' +\n              'is happening in the background). Currently there are ' + client.connections + ' underlying Redis connections.\\n' +\n              'Error details:' + err.stack\n              ));\n          } else {\n            inputs.manager.onUnexpectedFailure(new Error('Error emitted from Redis client.\\nError details:' + err.stack));\n          }\n        } else {\n          inputs.manager.onUnexpectedFailure(new Error('Error emitted from Redis client.\\n (no other information available)'));\n        }\n      });\n\n      // Now track this Redis client as one of the \"redisClients\" on our manager\n      // (since we want to be able to call destroyManager to wipe them all)\n      inputs.manager.redisClients.push(client);\n\n      // Save a reference to our manager instance on the redis client.\n      if (client._fromWLManager) {\n        return exits.error('Consistency violation: Somehow, a `_fromWLManager` key already exists on this Redis client instance!');\n      }\n      client._fromWLManager = inputs.manager;\n\n      // Finally, send back the Redis client as our active \"connection\".\n      return exits.success({\n        connection: client\n      });\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This may involve opening a new connection, or aquiring an already-open connection from an existing pool.  The implementation is left up to the driver.",
        "moreInfoUrl": "https://github.com/NodeRedis/node_redis#rediscreateclient",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-redis/get-connection",
        "docsUrl": "http://node-machine.org/machinepack-redis/get-connection",
        "defaultExit": null,
        "machinepack": 158,
        "id": 698,
        "createdAt": "2016-02-20T01:19:24.000Z",
        "updatedAt": "2016-09-23T18:39:32.000Z"
      },
      {
        "identity": "release-connection",
        "variableName": "releaseConnection",
        "friendlyName": "Release connection",
        "cacheable": null,
        "sync": null,
        "description": "Close an active connection to the Redis server.",
        "inputs": {
          "connection": {
            "friendlyName": "Connection",
            "description": "An active Redis connection.",
            "extendedDescription": "The provided Redis connection instance must still be active.  Only Redis connection instances created by the `getConnection()` machine in this driver are supported.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "meta": {
            "friendlyName": "Meta (custom)",
            "description": "Additional metadata to pass to the driver.",
            "extendedDescription": "This input is not currently in use, but is reserved for driver-specific customizations in the future.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "The provided connection may no longer be used for any subsequent queries.",
            "outputVariableName": "report",
            "outputDescription": "The `meta` property is reserved for custom driver-specific extensions.",
            "example": {
              "meta": "==="
            },
            "isDefault": true,
            "type": "object"
          },
          "badConnection": {
            "friendlyName": "Bad connection",
            "description": "The provided connection is not valid or is no longer active.  Are you sure it was obtained by calling this driver's `getConnection()` method?",
            "extendedDescription": "This could mean the connection to the database was lost due to a logic error or timing issue in userland code.  In production, this can mean that the database became overwhelemed or was shut off while some business logic was in progress.",
            "outputVariableName": "report",
            "outputDescription": "The `error` property is a JavaScript Error instance containing the raw error from the database.  The `meta` property is reserved for custom driver-specific extensions.",
            "example": {
              "meta": "==="
            },
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n\n    // Validate provided connection (which is actually a redis client)\n    if ( !util.isObject(inputs.connection) || !util.isFunction(inputs.connection.end) || !util.isFunction(inputs.connection.removeAllListeners) ) {\n      return exits.badConnection();\n    }\n\n    // Grab a reference to the manager instance we piggybacked on this redis client.\n    var mgr = inputs.connection._fromWLManager;\n\n    // Release connection.\n    try {\n      inputs.connection.end(true);\n\n      // If necessary, we could also do the following here:\n      // inputs.connection.removeAllListeners();\n      //\n      // (but not doing that unless absolutely necessary because it could cause crashing\n      //  of the process if our `redis` dep decides to emit any surprise \"error\" events.)\n    }\n    catch (e) {\n      return exits.error(e);\n    }\n\n    // Remove this redis client from the manager.\n    var foundAtIndex = mgr.redisClients.indexOf(inputs.connection);\n    if (foundAtIndex === -1) {\n      return exits.badConnection({\n        meta: new Error('Attempting to release connection that is no longer referenced by its manager.')\n      });\n    }\n    mgr.redisClients.splice(foundAtIndex, 1);\n\n    // And that's it!\n    return exits.success();\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://github.com/NodeRedis/node_redis#clientendflush",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-redis/release-connection",
        "docsUrl": "http://node-machine.org/machinepack-redis/release-connection",
        "defaultExit": null,
        "machinepack": 158,
        "id": 699,
        "createdAt": "2016-02-20T01:19:24.000Z",
        "updatedAt": "2016-03-08T00:39:36.000Z"
      },
      {
        "identity": "create-manager",
        "variableName": "createManager",
        "friendlyName": "Create manager",
        "cacheable": null,
        "sync": null,
        "description": "Build and initialize a connection manager instance for this Redis database.",
        "inputs": {
          "connectionString": {
            "description": "A string containing all metadata and credentials necessary for connecting to the Redis database.",
            "example": "redis://127.0.0.1:6379",
            "required": true,
            "type": "string"
          },
          "onUnexpectedFailure": {
            "description": "A function to call any time an unexpected error event is received from this manager or any of its connections.",
            "extendedDescription": "This can be used for anything you like, whether that's sending an email to devops, or something as simple as logging a warning to the console.\n\nFor example:\n```\nonUnexpectedFailure: function (err) {\n  console.warn('Unexpected failure in database manager:',err);\n}\n```",
            "example": "->",
            "type": "string"
          },
          "meta": {
            "friendlyName": "Meta (custom)",
            "description": "Additional Redis-specific options to use when connecting.",
            "extendedDescription": "If specified, should be a dictionary.",
            "moreInfoUrl": "https://github.com/NodeRedis/node_redis#options-is-an-object-with-the-following-possible-properties",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "The new manager should be passed in to `getConnection()`.Note that _no matter what_, this manager must be capable of spawning an infinite number of connections (i.e. via `getConnection()`).  The implementation of how exactly it does this varies on a driver-by-driver basis; and it may also vary based on the configuration passed into the `meta` input.",
            "outputFriendlyName": "Report",
            "outputDescription": "The `manager` property is a manager instance that will be passed into `getConnection()`. The `meta` property is reserved for custom driver-specific extensions.",
            "outputExample": {
              "manager": "===",
              "meta": "==="
            },
            "isDefault": true
          },
          "malformed": {
            "description": "The provided connection string is not valid for MySQL.",
            "outputFriendlyName": "Report",
            "outputDescription": "The `error` property is a JavaScript Error instance explaining that (and preferably \"why\") the provided connection string is invalid.  The `meta` property is reserved for custom driver-specific extensions.",
            "outputExample": {
              "error": "===",
              "meta": "==="
            }
          },
          "failed": {
            "description": "Could not create a connection manager for this database using the specified connection string.",
            "extendedDescription": "If this exit is called, it might mean any of the following:\n + the credentials encoded in the connection string are incorrect\n + there is no database server running at the provided host (i.e. even if it is just that the database process needs to be started)\n + there is no software \"database\" with the specified name running on the server\n + the provided connection string does not have necessary access rights for the specified software \"database\"\n + this Node.js process could not connect to the database, perhaps because of firewall/proxy settings\n + any other miscellaneous connection error\n\nNote that even if the database is unreachable, bad credentials are being used, etc, this exit will not necessarily be called-- that depends on the implementation of the driver and any special configuration passed to the `meta` input. e.g. if a pool is being used that spins up multiple connections immediately when the manager is created, then this exit will be called if any of those initial attempts fail.  On the other hand, if the manager is designed to produce adhoc connections, any errors related to bad credentials, connectivity, etc. will not be caught until `getConnection()` is called.",
            "outputFriendlyName": "Report",
            "outputDescription": "The `error` property is a JavaScript Error instance with more information and a stack trace.  The `meta` property is reserved for custom driver-specific extensions.",
            "outputExample": {
              "error": "===",
              "meta": "==="
            }
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Url = require('url');\n    var isObject = require('lodash.isobject');\n    var isFunction = require('lodash.isfunction');\n\n    // Ensure that, if provided, `meta` is a dictionary.\n    // This will be used as additional Redis client options.\n    if (inputs.meta !== undefined) {\n      if (!isObject(inputs.meta) || isFunction(inputs.meta)) {\n        return exits.error('If provided, `meta` must be a dictionary.');\n      }\n    }\n\n    // Validate connection string (call `malformed` if invalid).\n    try {\n      Url.parse(inputs.connectionString);\n    } catch (e) {\n      e.message =\n        'Provided value (`' + inputs.connectionString + '`) is not a valid Redis connection string: ' +\n        e.message;\n      return exits.malformed({\n        error: e\n      });\n    }\n\n    // Finally, build and return the manager.\n    var mgr = {\n      meta: inputs.meta,\n      connectionString: inputs.connectionString,\n      onUnexpectedFailure: inputs.onUnexpectedFailure,\n      // We set up an empty array for our redis clients, since we need to\n      // track them in order to ensure calling destroyManager() kills them all.\n      redisClients: []\n    };\n    return exits.success({\n      manager: mgr\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "The `manager` instance returned by this method contains any configuration that is necessary for communicating with the database and establishing connections (e.g. host, user, password) as well as any other relevant metadata.  The manager will often also contain a reference to some kind of native container (e.g. a connection pool).\n\nNote that a manager instance does not necessarily need to correspond with a pool though--it might simply be a container for storing config, or it might refer to multiple pools (e.g. a PoolCluster from felixge's `mysql` package).",
        "moreInfoUrl": "https://github.com/NodeRedis/node_redis#rediscreateclient",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-redis/create-manager",
        "docsUrl": "http://node-machine.org/machinepack-redis/create-manager",
        "defaultExit": null,
        "machinepack": 158,
        "id": 707,
        "createdAt": "2016-03-08T00:29:27.000Z",
        "updatedAt": "2016-09-23T18:39:32.000Z"
      },
      {
        "identity": "destroy-manager",
        "variableName": "destroyManager",
        "friendlyName": "Destroy manager",
        "cacheable": null,
        "sync": null,
        "description": "Destroy the specified connection manager and destroy all of its active connections.",
        "inputs": {
          "manager": {
            "friendlyName": "Manager",
            "description": "The connection manager instance to destroy.",
            "extendedDescription": "Only managers built using the `createManager()` method of this driver are supported.  Also, the database connection manager instance provided must not have already been destroyed--i.e. once `destroyManager()` is called on a manager, it cannot be destroyed again (also note that all existing connections become inactive).",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "meta": {
            "friendlyName": "Meta (custom)",
            "description": "Additional stuff to pass to the driver.",
            "extendedDescription": "This is reserved for custom driver-specific extensions.  Please refer to the documentation for the driver you are using for more specific information.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Report",
            "outputDescription": "The `meta` property is reserved for custom driver-specific extensions.",
            "outputExample": {
              "meta": "==="
            },
            "isDefault": true
          },
          "failed": {
            "friendlyName": "Failed",
            "description": "Could not destroy the provided connection manager.",
            "extendedDescription": "Usually, this means the manager has already been destroyed.  But depending on the driver it could also mean that database cannot be accessed.  In production, this can mean that the database server(s) became overwhelemed or were shut off while some business logic was in progress.",
            "outputFriendlyName": "Report",
            "outputDescription": "The `error` property is a JavaScript Error instance with more information and a stack trace.  The `meta` property is reserved for custom driver-specific extensions.",
            "outputExample": {
              "error": "===",
              "meta": "==="
            }
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Pack = require('../');\n    var async = require('async');\n\n    // First back up redisClients array, so we're not mutating it as we iterate over each one.\n    // (since releaseConnection() removes items from the array)\n    var _redisClients = [].concat(inputs.manager.redisClients);\n\n    // Now call releaseConnection() on each redis client under management.\n    async.each(_redisClients, function _eachRedisClient (redisClient, next){\n      Pack.releaseConnection({\n        connection: redisClient\n      }).exec(next);\n    }, function afterwards (err){\n      if (err) {\n        return exits.failed({\n          error: new Error('Failed to destroy the Redis manager and/or gracefully end all connections under management.  Details:\\n=== === ===\\n' + err.stack)\n        });\n      }\n\n      // All redis clients under management have been annihilated.\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-redis/destroy-manager",
        "docsUrl": "http://node-machine.org/machinepack-redis/destroy-manager",
        "defaultExit": null,
        "machinepack": 158,
        "id": 708,
        "createdAt": "2016-03-08T00:29:27.000Z",
        "updatedAt": "2016-09-23T18:39:32.000Z"
      }
    ],
    "identity": "machinepack-redis",
    "version": "1.0.3",
    "latestVersionPublishedAt": "2016-09-23T00:00:00.000Z",
    "variableName": "Redis",
    "friendlyName": "Redis",
    "description": "Structured Node.js bindings for Redis.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-redis",
    "docsUrl": "http://node-machine.org/machinepack-redis",
    "npmUrl": "http://npmjs.org/package/machinepack-redis",
    "npmPackageName": "machinepack-redis",
    "githubUrl": "http://github.com/treelinehq/machinepack-redis/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-redis/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-redis",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "async",
        "semverRange": "2.0.1"
      },
      {
        "name": "lodash.isfunction",
        "semverRange": "3.0.8"
      },
      {
        "name": "lodash.isobject",
        "semverRange": "3.0.2"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-11"
      },
      {
        "name": "redis",
        "semverRange": "2.4.2"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "Luis Lobo Borobia",
        "email": "luislobo@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 158,
    "createdAt": "2016-02-20T01:19:24.000Z",
    "updatedAt": "2016-09-23T18:39:32.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get-request-header",
        "variableName": "getRequestHeader",
        "friendlyName": "Get request header",
        "cacheable": null,
        "sync": true,
        "description": "Get the value of the specified request header from the current HTTP/vHTTP request.",
        "inputs": {
          "header": {
            "description": "The name of the request header to look up.",
            "extendedDescription": "Note that header names are case-insensitive.  Also be aware that both \"referrer\" and \"referer\" are treated as synonyms because they are interchangeable in some HTTP implementations.",
            "example": "accept",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Request header",
            "outputDescription": "The raw string value of the specified request header.",
            "outputExample": "text/javascript",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // If we don't have a request object in our `env`, bail through the `error` exit.\n    if (!_.isObject(env.req) || !_.isFunction(env.req.get)) {\n      return exits.error(new Error('A valid Sails/Express request object must be provided through `.setEnv()` in order to use this machine.'));\n    }\n\n    // Get the value of the specified header and return it\n    // through the `success` exit.\n    var headerVal = env.req.get(inputs.header);\n    return exits.success(headerVal);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-reqres/get-request-header",
        "docsUrl": "http://node-machine.org/machinepack-reqres/get-request-header",
        "defaultExit": null,
        "machinepack": 180,
        "id": 829,
        "createdAt": "2016-08-04T00:39:57.000Z",
        "updatedAt": "2016-09-02T16:58:19.000Z"
      },
      {
        "identity": "upload-files",
        "variableName": "uploadFiles",
        "friendlyName": "Upload file(s)",
        "cacheable": null,
        "sync": null,
        "description": "Upload any incoming files from the current request and write them to your desired destination.",
        "inputs": {
          "field": {
            "description": "The name of the file parameter to check for incoming uploads.",
            "extendedDescription": "Note that one or more files can be uploaded from the same file parameter (aka \"field\").  To restrict the content type, file size, or number of incoming files, write a custom analog machine that depends on the request habitat, then use `env.req.file()` to obtain access to the file upload.",
            "moreInfoUrl": "http://preview.sailsjs.org/documentation/reference/request-req/req-file",
            "example": "avatar",
            "required": true,
            "type": "string"
          },
          "adapter": {
            "description": "The package name of the Skipper adapter to use when processing this file upload.",
            "extendedDescription": "If this option is left unspecified, then there is no need to install anything special.  By default, any uploaded files will be written to the server's hard drive using `skipper-disk`.\nBut if a different adapter is specified, then it must be installed (e.g. from NPM) as a local dependency of this Sails app.\nIn other words, if you specify `skipper-s3` here, then before attempting to test this out, you should run:\n\n```\n`npm install skipper-s3 --save --save-exact`\n```",
            "moreInfoUrl": "https://github.com/balderdashy/skipper#uploading-files-to-s3",
            "example": "skipper-s3",
            "type": "string"
          },
          "uploadOpts": {
            "friendlyName": "Upload options",
            "description": "A dictionary of options to pass in to Skipper and the underlying adapter.",
            "extendedDescription": "This dictionary may include any of the Sails/Skipper core options, as well as adapter-specific options (e.g. the bucket name for `skipper-s3`, or the name of the Mongo database for `skipper-gridfs`).",
            "moreInfoUrl": "https://github.com/balderdashy/skipper#options",
            "example": {},
            "defaultsTo": {},
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "extendedDescription": "Each dictionary in the returned array contains information such as the status of the upload, the at-rest filename, and (in some cases) other adapter-specific metadata.",
            "outputFriendlyName": "Files uploaded",
            "outputDescription": "An array of informational dictionaries, each describing one uploaded file.",
            "outputExample": [
              {}
            ],
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // If we don't have a request object in our `env`, bail through the `error` exit.\n    if (!_.isObject(env.req) || !_.isObject(env.req._sails) || env.req._sails.constructor.name !== 'Sails') {\n      return exits.error(new Error('A valid Sails request object must be provided through `.setEnv()` in order to use this machine.'));\n    }\n\n    if (!_.isFunction(env.req.file)) {\n      return exits.error(new Error('In order to use this machine, Skipper (or a compatible body parser) must be installed as middleware in your Sails app.'));\n    }\n\n    // Make sure `adapter` is set as an input, not part of `uploadOpts`.\n    if (typeof inputs.uploadOpts.adapter !== 'undefined') {\n      return exits.error('Usage error: Provided `uploadOpts` contains an `adapter` property, which is not allowed.  To customize the Skipper adapter, pass in the package name as the argument for the `adapter` input.');\n    }\n\n    // Get access to upstream.\n    var upstream = env.req.file(inputs.field);\n\n    // Build a dictionary of options for skipper.\n    // Note that the adapter for Skipper will default to the internal `skipper-disk`, but\n    // if `skipper-disk` is sent as `inputs.adapter`, it will expect a _local_ copy of\n    // the `skipper-disk` adapter to exist.\n    var skipperOpts = _.extend({\n      adapter: inputs.adapter\n    }, inputs.uploadOpts);\n\n    // Plug the upstream into a receiver in order to begin uploading the file(s).\n    upstream.upload(skipperOpts, function afterwards(err, uploadedFileReports){\n      if (err) { return exits.error(err); }\n      return exits.success(uploadedFileReports);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Files can be uploaded to any of the filesystems, binary-capable databases, or cloud-hosted blob storage services supported by Sails/Skipper (e.g. the server's hard disk, Amazon S3, Mongo GridFS, etc.).\n\n**Warning:**\nIf you use this method to process multipart file upload requests that also include text parameters, it is very important to ensure that requesting clients send text parameters in the HTTP body _before_ they send file parameters.  Otherwise the lagging text parameters _may be completely ignored_!  This is a deliberate design decision in Sails/Skipper for performance and security reasons.  For more information, check out the [Skipper repo on GitHub](https://github.com/balderdashy/skipper).",
        "moreInfoUrl": "http://preview.sailsjs.org/documentation/reference/request-req/req-file",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-reqres/upload-files",
        "docsUrl": "http://node-machine.org/machinepack-reqres/upload-files",
        "defaultExit": null,
        "machinepack": 180,
        "id": 830,
        "createdAt": "2016-08-04T00:39:57.000Z",
        "updatedAt": "2016-09-02T16:58:19.000Z"
      },
      {
        "identity": "get-credentials",
        "variableName": "getCredentials",
        "friendlyName": "Get credentials (HTTP Basic Auth)",
        "cacheable": null,
        "sync": true,
        "description": "Parse the usernameÂ and password from HTTP Basic Auth credentials encoded in the current request.",
        "inputs": {},
        "exits": {
          "success": {
            "outputFriendlyName": "Credentials (HTTP Basic Auth)",
            "outputDescription": "The `username` and `password` parsed from the current request.",
            "outputExample": {
              "username": "aLADdin",
              "password": "openses4m30000lol"
            },
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // Import `basic-auth`.\n    var dougsBasicAuthParser = require('basic-auth');\n\n    // If we don't have a request object in our `env` (or if it somehow doesn't know how to read request headers),\n    // then bail through the `error` exit.\n    if (!_.isObject(env.req) || !_.isFunction(env.req.get)) {\n      return exits.error(new Error('A valid Sails/Express request object must be provided through `.setEnv()` in order to use this machine.'));\n    }\n\n    var credentials = dougsBasicAuthParser(env.req);\n\n    if (!_.isObject(credentials)) {\n      credentials = {\n        name: '',\n        pass: ''\n      };\n    }\n\n    return exits.success({\n      username: credentials.name,\n      password: credentials.pass,\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-reqres/get-credentials",
        "docsUrl": "http://node-machine.org/machinepack-reqres/get-credentials",
        "defaultExit": null,
        "machinepack": 180,
        "id": 839,
        "createdAt": "2016-09-02T16:48:48.000Z",
        "updatedAt": "2016-09-02T16:58:19.000Z"
      }
    ],
    "identity": "machinepack-reqres",
    "version": "0.2.1",
    "latestVersionPublishedAt": "2016-09-02T00:00:00.000Z",
    "variableName": "RequestResponse",
    "friendlyName": "Request / Response",
    "description": "Methods for working with the current incoming request and outgoing response.  Includes everything from accessing an incoming file upload stream, to reading/parsing incoming request headers, to customizing the content type for a file download or other outg",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-reqres",
    "docsUrl": "http://node-machine.org/machinepack-reqres",
    "npmUrl": "http://npmjs.org/package/machinepack-reqres",
    "npmPackageName": "machinepack-reqres",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "basic-auth",
        "semverRange": "1.0.4"
      },
      {
        "name": "lodash",
        "semverRange": "3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-9"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "sgress454@treeline.io"
      }
    ],
    "id": 180,
    "createdAt": "2016-08-04T00:39:57.000Z",
    "updatedAt": "2016-09-02T16:58:19.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "return-object",
        "variableName": "returnObject",
        "friendlyName": "Return Object",
        "cacheable": null,
        "sync": null,
        "description": "Return an Object varible generated earlier in the circuit.",
        "inputs": {
          "variable": {
            "example": "*",
            "description": "The variable you wish the machine to output.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "*",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    return exits.success(inputs.variable);\n\n  ",
        "environment": [],
        "extendedDescription": "This experimental tool was created to handled the occasional occurence of generating a variable in one machine, working with it in other machines, and then wishing to output the variable at the end of a custom machine circuit without having to regenerate the variable.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-returntool/return-object",
        "docsUrl": "http://node-machine.org/machinepack-returntool/return-object",
        "defaultExit": "success",
        "machinepack": 159,
        "id": 701,
        "createdAt": "2016-02-24T13:39:24.000Z",
        "updatedAt": "2016-02-24T13:39:24.000Z"
      },
      {
        "identity": "return-string",
        "variableName": "returnString",
        "friendlyName": "Return String",
        "cacheable": null,
        "sync": null,
        "description": "Return a string varible generated earlier in the circuit.",
        "inputs": {
          "variable": {
            "example": "This is a string",
            "description": "The string variable you wish the machine to output.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "String",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    return exits.success(inputs.variable);\n\n  ",
        "environment": [],
        "extendedDescription": "This experimental tool was created to handled the occasional occurence of generating a variable in one machine, working with it in other machines, and then wishing to output the variable at the end of a custom machine circuit without having to regenerate the variable.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-returntool/return-string",
        "docsUrl": "http://node-machine.org/machinepack-returntool/return-string",
        "defaultExit": "success",
        "machinepack": 159,
        "id": 702,
        "createdAt": "2016-02-24T13:39:24.000Z",
        "updatedAt": "2016-02-24T13:39:24.000Z"
      }
    ],
    "identity": "machinepack-returntool",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2016-02-24T00:00:00.000Z",
    "variableName": "ReturnTool",
    "friendlyName": "Return Tool",
    "description": "Simple tool to return variables created earlier in a Treeline circuit, at the end of the circuit.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-returntool",
    "docsUrl": "http://node-machine.org/machinepack-returntool",
    "npmUrl": "http://npmjs.org/package/machinepack-returntool",
    "npmPackageName": "machinepack-returntool",
    "githubUrl": "http://github.com/nilefrater/machinepack-returntool/",
    "sourceUrl": "http://github.com/nilefrater/machinepack-returntool/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 159,
    "createdAt": "2016-02-24T13:39:24.000Z",
    "updatedAt": "2016-02-24T13:39:24.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "validate",
        "variableName": "validate",
        "friendlyName": "Validate",
        "cacheable": true,
        "sync": true,
        "description": "Validate a value against a type schema. If it's close enough, coerce it to fit.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The actual value to validate.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "typeSchema": {
            "friendlyName": "Type schema",
            "description": "The expected type schema.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "invalid": {
            "description": "The value is invalid against the provided schema, and cannot be safely coerced to fit.",
            "example": [
              {
                "code": "E_INVALID_TYPE",
                "keypath": "foo.bar.0.baz",
                "expected": "*",
                "actual": "==="
              }
            ],
            "type": "array"
          },
          "success": {
            "variableName": "validated",
            "description": "OK.",
            "example": "===",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var rttc = require('rttc');\n\n    var validated;\n    try {\n      validated = rttc.validate(inputs.typeSchema, inputs.value);\n    }\n    catch (e) {\n      // Generally, the is E_INVALID_TYPE.\n      if (e.code === 'E_INVALID_TYPE') {\n        var errors = _.reduce(e.errors, function (memo,subErr){\n          // TODO: do this in rttc itself instead of here.\n          memo.push({\n            code: subErr.code,\n            expected: subErr.expected,\n            actual: subErr.actual,\n            keypath: subErr.inputKey\n          });\n          return memo;\n        }, []);\n        return exits.invalid(errors);\n      }\n      // Otherwise this is some unknown error.\n      else return exits.error(e);\n    }\n\n    return exits.success(validated);\n  ",
        "environment": [],
        "extendedDescription": "Either returns a (potentially \"lightly\" coerced) version of the value that was accepted, or it triggers its `invalid` exit. The \"light coercion\" might turn \"3\" into 3, \"true\" into true, -4.5 into \"-4.5\", etc.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/validate",
        "docsUrl": "http://node-machine.org/machinepack-rttc/validate",
        "defaultExit": null,
        "machinepack": 128,
        "id": 556,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      },
      {
        "identity": "validate-strict",
        "variableName": "validateStrict",
        "friendlyName": "Validate (strict)",
        "cacheable": true,
        "sync": true,
        "description": "Validate a value against a type schema.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The actual value to validate.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "typeSchema": {
            "friendlyName": "Type schema",
            "description": "The expected type schema.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "invalid": {
            "description": "The value is invalid against the provided schema.",
            "example": [
              {
                "code": "E_INVALID_TYPE",
                "keypath": "foo.bar.0.baz",
                "expected": "*",
                "actual": "==="
              }
            ],
            "type": "array"
          },
          "success": {
            "friendlyName": "valid",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    var rttc = require('rttc');\n\n    try {\n      rttc.validateStrict(inputs.typeSchema, inputs.value);\n    }\n    catch (e) {\n      // Generally, the is E_INVALID_TYPE.\n      if (e.code === 'E_INVALID_TYPE') {\n        var errors = _.reduce(e.errors, function (memo,subErr){\n          // TODO: do this in rttc itself instead of here.\n          memo.push({\n            code: subErr.code,\n            expected: subErr.expected,\n            actual: subErr.actual,\n            keypath: subErr.inputKey\n          });\n          return memo;\n        }, []);\n        return exits.invalid(errors);\n      }\n      // Otherwise this is some unknown error.\n      else return exits.error(e);\n    }\n\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/validate-strict",
        "docsUrl": "http://node-machine.org/machinepack-rttc/validate-strict",
        "defaultExit": null,
        "machinepack": 128,
        "id": 557,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      },
      {
        "identity": "infer",
        "variableName": "infer",
        "friendlyName": "Infer",
        "cacheable": true,
        "sync": true,
        "description": "Infer the type schema from the provided example value.",
        "inputs": {
          "example": {
            "friendlyName": "Example",
            "description": "The example value to infer a type schema for.",
            "extendedDescription": "This example value must be JSON-compatible, and should contain no heterogeneous or multi-item arrays.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "typeSchema",
            "description": "OK.",
            "example": "*",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var rttc = require('rttc');\n    return exits.success(rttc.infer(inputs.example));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/infer",
        "docsUrl": "http://node-machine.org/machinepack-rttc/infer",
        "defaultExit": null,
        "machinepack": 128,
        "id": 558,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      },
      {
        "identity": "compile",
        "variableName": "compile",
        "friendlyName": "Compile",
        "cacheable": true,
        "sync": true,
        "description": "Return a JavaScript code snippet which would accurately represent the given value in code.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The value to compile.",
            "example": "===",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "jsCodeString",
            "description": "OK.",
            "example": "some JavaScript code",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var rttc = require('rttc');\n    return exits.success(rttc.compile(inputs.value));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://github.com/node-machine/rttc#compilevalue",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/compile",
        "docsUrl": "http://node-machine.org/machinepack-rttc/compile",
        "defaultExit": null,
        "machinepack": 128,
        "id": 559,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      },
      {
        "identity": "coerce",
        "variableName": "coerce",
        "friendlyName": "Coerce",
        "cacheable": true,
        "sync": true,
        "description": "Coerce a value against the given type schema.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The value to coerce.",
            "example": "===",
            "required": true,
            "type": "string"
          },
          "typeSchema": {
            "friendlyName": "Type schema",
            "description": "The type schema to coerce against.",
            "example": "*",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "coerced",
            "description": "OK.",
            "example": "===",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var rttc = require('rttc');\n\n    var coerced = rttc.coerce(inputs.typeSchema, inputs.value);\n    return exits.success(coerced);\n  ",
        "environment": [],
        "extendedDescription": "If coercion is impossible for the value or its properties (recursive), default to the base value for the type.",
        "moreInfoUrl": "https://github.com/node-machine/rttc#coerceexpectedtypeschema-actualvalue",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/coerce",
        "docsUrl": "http://node-machine.org/machinepack-rttc/coerce",
        "defaultExit": null,
        "machinepack": 128,
        "id": 560,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      },
      {
        "identity": "sample",
        "variableName": "sample",
        "friendlyName": "Sample",
        "cacheable": null,
        "sync": true,
        "description": "Generate some sample values that validate against the provided type schema.",
        "inputs": {
          "typeSchema": {
            "friendlyName": "Type schema",
            "description": "The type schema to use as a CFG.",
            "example": "*",
            "required": true,
            "type": "string"
          },
          "n": {
            "friendlyName": "How many?",
            "description": "The maximum number of sample values to generate.",
            "example": 2,
            "defaultsTo": 2,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "variableName": "samples",
            "description": "OK.",
            "example": [
              "==="
            ],
            "isDefault": true,
            "type": "array"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var rttc = require('rttc');\n\n    var samples = rttc.sample(inputs.typeSchema, inputs.n);\n    return exits.success(samples);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/sample",
        "docsUrl": "http://node-machine.org/machinepack-rttc/sample",
        "defaultExit": null,
        "machinepack": 128,
        "id": 561,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      },
      {
        "identity": "get-display-type",
        "variableName": "getDisplayType",
        "friendlyName": "Get display type",
        "cacheable": true,
        "sync": true,
        "description": "Given a value, return its type as a human-readable string.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "displayType",
            "example": "array",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var rttc = require('rttc');\n\n    var displayType = rttc.getDisplayType(inputs.value);\n    return exits.success(displayType);\n  ",
        "environment": [],
        "extendedDescription": "Note that this is not limited to rttc types-- it can return strings like \"Error\" and \"Date\".",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rttc/get-display-type",
        "docsUrl": "http://node-machine.org/machinepack-rttc/get-display-type",
        "defaultExit": null,
        "machinepack": 128,
        "id": 562,
        "createdAt": "2015-06-03T20:59:37.000Z",
        "updatedAt": "2015-06-30T17:30:10.000Z"
      }
    ],
    "identity": "machinepack-rttc",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Rttc",
    "friendlyName": "Rttc",
    "description": "Utilities for strongly-typed data.  Exposes machines that wrap the methods exposed by 'rttc'.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-rttc",
    "docsUrl": "http://node-machine.org/machinepack-rttc",
    "npmUrl": "http://npmjs.org/package/machinepack-rttc",
    "npmPackageName": "machinepack-rttc",
    "githubUrl": "http://github.com/treelinehq/machinepack-rttc/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-rttc/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-rttc",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "rttc",
        "semverRange": "^4.5.2"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 128,
    "createdAt": "2015-06-03T20:59:37.000Z",
    "updatedAt": "2015-06-30T17:30:10.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "whats-around-me",
        "variableName": "whatsAroundMe",
        "friendlyName": "Whats Around Me",
        "cacheable": null,
        "sync": null,
        "description": "Bing Spatial Data Service: collects all entities around a specified geo location",
        "inputs": {
          "apiKey": {
            "example": "232edfdnfddf4450",
            "description": "Your api access key to access bing spatial data services. This can be obtained at https://msdn.microsoft.com/en-us/library/ff428642.aspx",
            "required": true,
            "type": "string"
          },
          "location": {
            "example": "34.23245532,-40.47464. {latitude},{longitude}",
            "description": "The users latitude and longitude",
            "required": true,
            "type": "string"
          },
          "select": {
            "example": "Latitude,Longitude,IsWiFiHotSpot,DisplayName",
            "description": "The selection fields from the bing spatial data source",
            "required": false,
            "type": "string"
          },
          "datasourceName": {
            "example": "NAVTEQNA",
            "description": "The Bing spatial data public data source name to query",
            "required": false,
            "type": "string"
          },
          "poiName": {
            "example": "NavteqPOIs",
            "description": "The point of interest name",
            "required": false,
            "type": "string"
          },
          "filter": {
            "example": "StartsWith(PrimaryCity, Clear) eq true",
            "description": "The Odata filter for the bing spatial data query",
            "required": false,
            "type": "string"
          },
          "orberByClause": {
            "example": "IsWheelchairAccessible",
            "description": "The Odata filter for the bing spatial data query",
            "required": false,
            "type": "string"
          },
          "top": {
            "example": "3",
            "description": "Sets the max returned alllwable results",
            "required": false,
            "type": "string"
          },
          "radius": {
            "example": "1",
            "description": "Spatial data filter radius(in kilometers)",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "      String.prototype.format = function() {\n        var formatted = this;\n        for( var arg in arguments ) {\n            formatted = formatted.replace(\"{\" + arg + \"}\", arguments[arg]);\n        }\n        return formatted;\n      };\n\n      var Rx = require('rx');\n      var RxDOM = require('rx-dom');\n\n      var serviceUrl = 'https://spatial.virtualearth.net/REST/v1/data/f22876ec257b474b82fe2ffcb8393150';\n      var bingDSDefault = 'NAVTEQNA';\n      var bingPOIDefault = 'NavteqPOIs';\n\n      var validate = function(){\n           return(input.location.split(',').length == 2);\n      }\n\n      if(!validate(input))\n        return exits.error({description: 'request failed validation check'});\n\n      var coords = input.location.split(',');\n\n      var spatialFilter = \"spatialFilter=nearby('{0}','{1}', {2});\".format(coords[0], coords[1], input.radius); \n      var select = \"$select={0};\".format(input.select || '*');\n      var filter = \"$filter={0};\".format(input.filter || '');\n      var order = \"$orderby={0};\".format(input.order || '__Distance');\n      var top = \"$top={0};\".format(input.top || 5);\n\n      var BingURL = \"{0}/{1}/{2}?key={3}&{4}&{5}&{6}&{7}&{8}&$format=json;\".format(serviceUrl, \n                                              input.datasourceName || bingDSDefault,\n                                              input.poiName || bingPOIDefault,\n                                              input.apiKey, spatialFilter, select, top, filter,\n                                              order);\n\n      RxDOM.jsonpRequest(BingURL)\n      .subscribe(\n        function (response) {\n          var bingResponse = {};\n\n          response.forEach(function (item) {\n            console.log(item);\n          });\n\n          return exits.success();\n        },\n        function (error) {\n          // Log the error\n        }\n      );\n    \n  ",
        "environment": [],
        "extendedDescription": "This calls bing spatial data service as an observable, and uses Rx to subscribe to the response of nearby entities",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rxbing/whats-around-me",
        "docsUrl": "http://node-machine.org/machinepack-rxbing/whats-around-me",
        "defaultExit": "success",
        "machinepack": 149,
        "id": 666,
        "createdAt": "2015-08-31T01:29:44.000Z",
        "updatedAt": "2015-08-31T01:29:44.000Z"
      }
    ],
    "identity": "machinepack-rxbing",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-08-31T00:00:00.000Z",
    "variableName": "RxBing",
    "friendlyName": "RxBing",
    "description": "Reactive extensions for Bing location and mapping services",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-rxbing",
    "docsUrl": "http://node-machine.org/machinepack-rxbing",
    "npmUrl": "http://npmjs.org/package/machinepack-rxbing",
    "npmPackageName": "machinepack-rxbing",
    "githubUrl": "http://github.com/erikschlegel/machinepack-rxbing/",
    "sourceUrl": "http://github.com/erikschlegel/machinepack-rxbing/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "erikschlegel",
        "email": "erisch@microsoft.com"
      }
    ],
    "id": 149,
    "createdAt": "2015-08-31T01:29:44.000Z",
    "updatedAt": "2015-08-31T01:29:44.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "whats-around-me",
        "variableName": "whatsAroundMe",
        "friendlyName": "Whats Around Me",
        "cacheable": false,
        "sync": false,
        "description": "Bing Spatial Data Service: collects all entities around a specified geo location",
        "inputs": {
          "apiKey": {
            "example": "232edfdnfddf4450",
            "description": "Your api access key to access bing spatial data services. This can be obtained at https://msdn.microsoft.com/en-us/library/ff428642.aspx",
            "required": true,
            "type": "string"
          },
          "location": {
            "example": "34.23245532,-40.47464. {latitude},{longitude}",
            "description": "The users latitude and longitude",
            "required": true,
            "type": "string"
          },
          "select": {
            "example": "Latitude,Longitude,IsWiFiHotSpot,DisplayName",
            "description": "The selection fields from the bing spatial data source",
            "required": false,
            "type": "string"
          },
          "datasourceName": {
            "example": "NAVTEQNA",
            "description": "The Bing spatial data public data source name to query",
            "required": false,
            "type": "string"
          },
          "poiName": {
            "example": "NavteqPOIs",
            "description": "The point of interest name",
            "required": false,
            "type": "string"
          },
          "filter": {
            "example": "StartsWith(PrimaryCity, Clear) eq true",
            "description": "The Odata filter for the bing spatial data query",
            "required": false,
            "type": "string"
          },
          "orberByClause": {
            "example": "IsWheelchairAccessible",
            "description": "The Odata filter for the bing spatial data query",
            "required": false,
            "type": "string"
          },
          "top": {
            "example": "3",
            "description": "Sets the max returned alllwable results",
            "required": false,
            "type": "string"
          },
          "radius": {
            "example": "1",
            "description": "Spatial data filter radius(in kilometers)",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "      String.prototype.format = function() {\n        var formatted = this;\n        for( var arg in arguments ) {\n            formatted = formatted.replace(\"{\" + arg + \"}\", arguments[arg]);\n        }\n        return formatted;\n      };\n\n      var Rx = require('rx');\n      var RxDOM = require('rx-dom');\n\n      var serviceUrl = 'https://spatial.virtualearth.net/REST/v1/data/f22876ec257b474b82fe2ffcb8393150';\n      var bingDSDefault = 'NAVTEQNA';\n      var bingPOIDefault = 'NavteqPOIs';\n\n      var validate = function(){\n           return(input.location.split(',').length == 2);\n      }\n\n      if(!validate(input))\n        return exits.error({description: 'request failed validation check'});\n\n      var coords = input.location.split(',');\n\n      var spatialFilter = \"spatialFilter=nearby('{0}','{1}', {2});\".format(coords[0], coords[1], input.radius); \n      var select = \"$select={0};\".format(input.select || '*');\n      var filter = \"$filter={0};\".format(input.filter || '');\n      var order = \"$orderby={0};\".format(input.order || '__Distance');\n      var top = \"$top={0};\".format(input.top || 5);\n\n      var BingURL = \"{0}/{1}/{2}?key={3}&{4}&{5}&{6}&{7}&{8}&$format=json;\".format(serviceUrl, \n                                              input.datasourceName || bingDSDefault,\n                                              input.poiName || bingPOIDefault,\n                                              input.apiKey, spatialFilter, select, top, filter,\n                                              order);\n\n      RxDOM.jsonpRequest(BingURL)\n      .subscribe(\n        function (response) {\n          var bingResponse = {};\n\n          response.forEach(function (item) {\n            console.log(item);\n          });\n\n          return exits.success();\n        },\n        function (error) {\n          // Log the error\n        }\n      );\n    \n  ",
        "environment": [],
        "extendedDescription": "This calls bing spatial data service as an observable, and uses Rx to subscribe to the response of nearby entities",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-rxbingservices/whats-around-me",
        "docsUrl": "http://node-machine.org/machinepack-rxbingservices/whats-around-me",
        "defaultExit": "success",
        "machinepack": 148,
        "id": 665,
        "createdAt": "2015-08-30T21:29:48.000Z",
        "updatedAt": "2015-08-30T22:19:53.000Z"
      }
    ],
    "identity": "machinepack-rxbingservices",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2015-08-30T00:00:00.000Z",
    "variableName": "RxBingServices",
    "friendlyName": "RxBingServices",
    "description": "Reactive extensions for Bing location and mapping services",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-rxbingservices",
    "docsUrl": "http://node-machine.org/machinepack-rxbingservices",
    "npmUrl": "http://npmjs.org/package/machinepack-rxbingservices",
    "npmPackageName": "machinepack-rxbingservices",
    "githubUrl": "http://github.com/erikschlegel/machinepack-rxbingservices/",
    "sourceUrl": "http://github.com/erikschlegel/machinepack-rxbingservices/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      },
      {
        "name": "babelify",
        "semverRange": "^6.1.3"
      },
      {
        "name": "grunt",
        "semverRange": "^0.4.5"
      },
      {
        "name": "grunt-browserify",
        "semverRange": "^4.0.0"
      },
      {
        "name": "grunt-cli",
        "semverRange": "^0.1.13"
      },
      {
        "name": "rx",
        "semverRange": "*"
      },
      {
        "name": "rx-dom",
        "semverRange": "*"
      }
    ],
    "contributors": [
      {
        "name": "Erik Schlegel",
        "email": ""
      },
      {
        "name": "erikschlegel",
        "email": "erisch@microsoft.com"
      }
    ],
    "id": 148,
    "createdAt": "2015-08-30T21:29:48.000Z",
    "updatedAt": "2015-08-30T22:19:53.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-configuration",
        "variableName": "getConfiguration",
        "friendlyName": "Get Configuration",
        "cacheable": null,
        "sync": true,
        "description": "Retrieve the value of the specified Sails configuration setting.",
        "inputs": {
          "key": {
            "friendlyName": "Config key",
            "description": "The `sails.config` key to retrieve the value of.",
            "extendedDescription": "Use dot notation to retrieve nested keys, e.g. \"log.level\" to retrieve the value of `sails.config.log.level`\".",
            "example": "log.level",
            "required": true,
            "type": "string"
          },
          "expectedOutput": {
            "friendlyName": "Example result",
            "description": "Optional example to use to determine the expected output type.",
            "extendedDescription": "If an example result is provided, the retrieved configuration value will be cast to the example's type.",
            "example": "===",
            "isExemplar": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Config value",
            "outputDescription": "The value of the specified `sails.config` key.",
            "like": "expectedOutput",
            "description": "OK.",
            "isDefault": true
          },
          "noSuchConfig": {
            "friendlyName": "No such configuration",
            "description": "The specified key could not be found in the `sails.config` object."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // Ensure `env.sails`, returning through the `error` exit\n    // if it cannot be found or is not an object.\n    if (!_.isObject(env.sails)) {\n      return exits.error(new Error('No Sails application object could be found in the machine environment!'));\n    }\n\n    // Check whether the sails config has the specified key.\n    if (!_.has(env.sails.config, inputs.key)) {\n      // If not, return through the `noSuchConfig` exit.\n      return exits.noSuchConfig();\n    }\n\n    // Retrieve the specified configuration value.\n    var value = _.get(env.sails.config, inputs.key);\n\n    // Return it through the `success` exit.\n    return exits.success(value);\n\n  ",
        "environment": [],
        "extendedDescription": "Looks for the specified key (using dot notation) under the `sails.config` object.  If the key does not exist, returns through the `noSuchConfig` exit.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sails/get-configuration",
        "docsUrl": "http://node-machine.org/machinepack-sails/get-configuration",
        "defaultExit": null,
        "machinepack": 182,
        "id": 834,
        "createdAt": "2016-08-05T00:59:41.000Z",
        "updatedAt": "2016-08-05T00:59:41.000Z"
      },
      {
        "identity": "is-production",
        "variableName": "isProduction",
        "friendlyName": "Is production?",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether a Sails application is running in the production environment.",
        "inputs": {},
        "exits": {
          "success": {
            "outputFriendlyName": "Is production?",
            "outputDescription": "Whether or not the Sails app is running in the production environment.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // Ensure `env.sails`, returning through the `error` exit\n    // if it cannot be found or is not an object.\n    if (!_.isObject(env.sails)) {\n      return exits.error(new Error('No Sails application object could be found in the machine environment!'));\n    }\n\n    // Return whether or not the environment is 'production'\n    // through the `success` exit.\n    return exits.success(env.sails.config.environment === 'production');\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sails/is-production",
        "docsUrl": "http://node-machine.org/machinepack-sails/is-production",
        "defaultExit": null,
        "machinepack": 182,
        "id": 835,
        "createdAt": "2016-08-05T00:59:41.000Z",
        "updatedAt": "2016-08-05T00:59:41.000Z"
      }
    ],
    "identity": "machinepack-sails",
    "version": "0.2.0",
    "latestVersionPublishedAt": "2016-08-05T00:00:00.000Z",
    "variableName": "Sails",
    "friendlyName": "Sails",
    "description": "General purpose machines for interfacing with a Sails application.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-sails",
    "docsUrl": "http://node-machine.org/machinepack-sails",
    "npmUrl": "http://npmjs.org/package/machinepack-sails",
    "npmPackageName": "machinepack-sails",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "^12.4.0"
      }
    ],
    "contributors": [
      {
        "name": "The Treeline Company",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 182,
    "createdAt": "2016-08-05T00:59:41.000Z",
    "updatedAt": "2016-08-05T00:59:41.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "create-gulp-file",
        "variableName": "createGulpFile",
        "friendlyName": "Create Gulp File",
        "cacheable": false,
        "sync": false,
        "description": "Creates a gulp file from template in the root project directory",
        "inputs": {
          "gulpFileSrcPath": {
            "friendlyName": "Gulp file source path",
            "description": "The directory where the gulp file lives.  If not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "../templates/gulpfile.js",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the directory where gulp file should be placed.",
            "example": "../../../gulpfile.js",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "\n    var path = require('path'),\r\n      cp = require('machine').build(require('./copy-files'));\r\n\r\n    cp({\r\n      gulpFileSrcPath: path.resolve(__dirname, inputs.gulpFileSrcPath),\r\n      outputDir: path.resolve(__dirname, inputs.outputDir)\r\n    }).exec({\r\n      error: function (err){\r\n        console.error('an error occurred- error details:',err);\r\n        return exits.error();\r\n      },\r\n      success: function() {\r\n        return exits.success();\r\n      }\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/create-gulp-file",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/create-gulp-file",
        "defaultExit": null,
        "machinepack": 151,
        "id": 671,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "create-gulp-tasks",
        "variableName": "createGulpTasks",
        "friendlyName": "Create gulp tasks",
        "cacheable": false,
        "sync": false,
        "description": "Creates the gulp task folder and all related task files",
        "inputs": {
          "gulpFolderSrcPath": {
            "friendlyName": "Gulp file source path",
            "description": "The directory where the gulp file lives.  If not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./templates/gulpfile.js",
            "required": true,
            "type": "string"
          },
          "outputFolderDir": {
            "friendlyName": "Output directory",
            "description": "The path to the directory where gulp file should be placed.",
            "example": "./foo",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          },
          "doesNotExist": {
            "friendlyName": "does not exist",
            "description": "Nothing exists at the provided LESS source directory path.",
            "example": "abc123",
            "type": "string"
          }
        },
        "fn": "\n    var path = require('path'),\r\n      cp = require('machine').build(require('./copy-files'));\r\n\r\n    cp({\r\n      gulpFileSrcPath: path.resolve(__dirname, inputs.gulpFolderSrcPath),\r\n      outputDir: path.resolve(__dirname, inputs.outputFolderDir)\r\n    }).exec({\r\n      error: function (err){\r\n        console.error('an error occurred- error details:',err);\r\n        return exits.error();\r\n      },\r\n      success: function() {\r\n        return exits.success();\r\n      }\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/create-gulp-tasks",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/create-gulp-tasks",
        "defaultExit": null,
        "machinepack": 151,
        "id": 672,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "sails-gulpify",
        "variableName": "sailsGulpify",
        "friendlyName": "Sails Gulpify",
        "cacheable": false,
        "sync": false,
        "description": "Main Machine that combine all other machines in the pack to gulpify sails",
        "inputs": {},
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          },
          "invalid": {
            "friendlyName": "Invalid",
            "description": "Nothing exists at the provided directory path.",
            "example": "abc123",
            "type": "string"
          }
        },
        "fn": "    var createGulpFile = require('machine').build(require('./create-gulp-file')),\n      createGulpTasks = require('machine').build(require('./create-gulp-tasks')),\n      createGulpEngine = require('machine').build(require('./create-gulp-engine')),\n      toggleSailsrc = require('machine').build(require('./toggle-sailsrc')),\n      installGulpDependencies = require('machine').build(require('./install-gulp-dependencies'));\n\n    Prompts.text({\n      message: \"For first time configuration, enter yes, otherwise enter no if sails node module was upgraded.\",\n      exampleValue: 'yes'\n    }).exec({\n      error: function (err){\n        console.error('Unexpected error interpeting interactive prompt input:', err);\n        return process.exit(1);\n      },\n      // OK- got user input.\n      success: function (userInput){\n        var firstTimeRun = userInput.toLowerCase();\n        if(firstTimeRun === 'yes'){\n          createGulpFile({\n            gulpFileSrcPath: '../templates/gulpfile.js',\n            outputDir: '../../../gulpfile.js'\n          }).exec({\n            error: function (err){\n              console.error('an error occurred- error details:',err);\n              return exits.error();\n            },\n            invalid: function (){ exits.invalid() },\n            success: function() {\n              createGulpTasks({\n                gulpFolderSrcPath: '../templates/tasks-gulp',\n                outputFolderDir: '../../../tasks-gulp'\n              }).exec({\n                error: function (err){\n                  console.error('an error occurred- error details:',err);\n                  return exits.error();\n                },\n                invalid: function (){ exits.invalid() },\n                success: function() {\n                  createGulpEngine({\n                    gulpFolderSrcPath: '../lib/gulp',\n                    outputDir: '../../sails/lib/hooks/gulp'\n                    //outputDir: '../../../api/hooks/gulp'\n                  }).exec({\n                    error: function (err){\n                      console.error('an error occurred- error details:',err);\n                      return exits.error();\n                    },\n                    invalid: function (){ exits.invalid() },\n                    success: function() {\n                      // return exits.success();\n                      toggleSailsrc({\n                        sailsrcSrc: '../json/gulp.sailsrc',\n                        outputDir: '../../../.sailsrc'\n                      }).exec({\n                        error: function (err){\n                          console.error('an error occurred- error details:',err);\n                          return exits.error();\n                        },\n                        invalid: function (){ exits.invalid() },\n                        success: function() {\n                          // return exits.success();\n                          installGulpDependencies({\n                          }).exec({\n                            error: function (err){\n                              console.error('an error occurred- error details:',err);\n                              return exits.error();\n                            },\n                            invalid: function (){ exits.invalid() },\n                            success: function() {\n                              return exits.success();\n                            }\n                          });\n                        }\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          });\n        }\n        else if(firstTimeRun === 'no') {\n          createGulpEngine({\n            gulpFolderSrcPath: '../lib/gulp',\n            outputDir: '../../sails/lib/hooks/gulp'\n            //outputDir: '../../../api/hooks/gulp'\n          }).exec({\n            error: function (err){\n              console.error('an error occurred- error details:',err);\n              return exits.error();\n            },\n            invalid: function (){ exits.invalid() },\n            success: function() {\n              return exits.success();\n            }\n          });\n        }\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "This machine will either install / configure everything on first run or reconfigure sails when sails project node module has been updated.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/sails-gulpify",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/sails-gulpify",
        "defaultExit": null,
        "machinepack": 151,
        "id": 673,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "toggle-sailsrc",
        "variableName": "toggleSailsrc",
        "friendlyName": "Toggle Sailsrc",
        "cacheable": false,
        "sync": false,
        "description": "Swap .sailsrc, changing from grunt to gulp and back",
        "inputs": {
          "sailsrcSrc": {
            "friendlyName": "Gulp file source path",
            "description": "The directory where the gulp file lives.  If not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "../templates/gulpfile.js",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the directory where gulp file should be placed.",
            "example": "../../../gulpfile.js",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "    var path = require('path'),\n      cp = require('machine').build(require('./copy-files'));\n\n    cp({\n      gulpFileSrcPath: path.resolve(__dirname, inputs.sailsrcSrc),\n      outputDir: path.resolve(__dirname, inputs.outputDir)\n    }).exec({\n      error: function (err){\n        console.error('an error occurred- error details:',err);\n        return exits.error();\n      },\n      success: function() {\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Use grunt or gulp",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/toggle-sailsrc",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/toggle-sailsrc",
        "defaultExit": null,
        "machinepack": 151,
        "id": 674,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "copy-files",
        "variableName": "copyFiles",
        "friendlyName": "Copy Files",
        "cacheable": false,
        "sync": false,
        "description": "Copy files and folders to another directory",
        "inputs": {
          "gulpFileSrcPath": {
            "friendlyName": "Gulp file source path",
            "description": "The directory where the gulp file lives.  If not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "../templates/gulpfile.js",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the directory where gulp file should be placed.",
            "example": "../../../gulpfile.js",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          },
          "doesNotExist": {
            "friendlyName": "does not exist",
            "description": "Nothing exists at the provided LESS source directory path.",
            "example": "abc123",
            "type": "string"
          }
        },
        "fn": "    var path = require('path'),\n      Filesystem = require('machinepack-fs');\n    // Copy over gulp file.\n    Filesystem.cp({\n      source: path.resolve(__dirname, inputs.gulpFileSrcPath),\n      destination: path.resolve(__dirname, inputs.outputDir)\n    }).exec({\n      error: function (err){\n        console.error('an error occurred- error details:',err);\n        return exits.error();\n      },\n      doesNotExist: function(gulpFileSrcPath) {\n        console.log('could not locate gulp file at '+gulpFileSrcPath);\n        return exits.error();\n      },\n      success: function() {\n        return exits.success();\n      }\n    }); //</copy gulp file>\n  ",
        "environment": [],
        "extendedDescription": "Copies files and folders (cp -r)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/copy-files",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/copy-files",
        "defaultExit": null,
        "machinepack": 151,
        "id": 675,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "install-gulp-dependencies",
        "variableName": "installGulpDependencies",
        "friendlyName": "Install gulp dependencies",
        "cacheable": false,
        "sync": false,
        "description": "Adds gulp dependencies to the projects packasge.json",
        "inputs": {},
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          },
          "invalidSemVer": {
            "description": "Provided semver range is invalid. See https://docs.npmjs.com/misc/semver for more information."
          }
        },
        "fn": "    var installPackage = require('machine').build(require('./install-package-npm')),\n        packages = [\n          'gulp',\n          'gulp-autoprefixer',\n          'gulp-cache',\n          'gulp-changed',\n          'gulp-coffee',\n          'gulp-concat',\n          'gulp-if',\n          'gulp-imagemin',\n          'gulp-jade',\n          'gulp-jshint',\n          'gulp-less',\n          'gulp-inject',\n          'gulp-livereload',\n          'gulp-load-plugins',\n          'gulp-minify-css',\n          'gulp-notify',\n          'gulp-rename',\n          'gulp-rimraf',\n          'gulp-sass',\n          'gulp-template-compile',\n          'gulp-uglify',\n          'gulp-util',\n          'rimraf',\n          'run-sequence'\n        ];\n\n    installPackage({\n      name: packages[0],\n      version: '*',\n      dir: '../../../node_modules',\n      save: true\n    }).exec({\n      error: function (err){\n        console.error('an error occurred- error details:',err);\n        return exits.error();\n      },\n      success: function() {\n        //return exits.success();\n        console.log('Installing '+packages[1]);\n        installPackage({\n          name: packages[1],\n          version: '*',\n          dir: '../../../node_modules',\n          save: true\n        }).exec({\n          error: function (err){\n            console.error('an error occurred- error details:',err);\n            return exits.error();\n          },\n          success: function() {\n            //return exits.success();\n            installPackage({\n              name: packages[2],\n              version: '*',\n              dir: '../../../node_modules',\n              save: true\n            }).exec({\n              error: function (err){\n                console.error('an error occurred- error details:',err);\n                return exits.error();\n              },\n              success: function() {\n                //return exits.success();\n                installPackage({\n                  name: packages[3],\n                  version: '*',\n                  dir: '../../../node_modules',\n                  save: true\n                }).exec({\n                  error: function (err){\n                    console.error('an error occurred- error details:',err);\n                    return exits.error();\n                  },\n                  success: function() {\n                    //return exits.success();\n                    installPackage({\n                      name: packages[4],\n                      version: '*',\n                      dir: '../../../node_modules',\n                      save: true\n                    }).exec({\n                      error: function (err){\n                        console.error('an error occurred- error details:',err);\n                        return exits.error();\n                      },\n                      success: function() {\n                        //return exits.success();\n                        installPackage({\n                          name: packages[5],\n                          version: '*',\n                          dir: '../../../node_modules',\n                          save: true\n                        }).exec({\n                          error: function (err){\n                            console.error('an error occurred- error details:',err);\n                            return exits.error();\n                          },\n                          success: function() {\n                            //return exits.success();\n                            installPackage({\n                              name: packages[6],\n                              version: '*',\n                              dir: '../../../node_modules',\n                              save: true\n                            }).exec({\n                              error: function (err){\n                                console.error('an error occurred- error details:',err);\n                                return exits.error();\n                              },\n                              success: function() {\n                                //return exits.success();\n                                installPackage({\n                                  name: packages[7],\n                                  version: '*',\n                                  dir: '../../../node_modules',\n                                  save: true\n                                }).exec({\n                                  error: function (err){\n                                    console.error('an error occurred- error details:',err);\n                                    return exits.error();\n                                  },\n                                  success: function() {\n                                    //return exits.success();\n                                    installPackage({\n                                      name: packages[8],\n                                      version: '*',\n                                      dir: '../../../node_modules',\n                                      save: true\n                                    }).exec({\n                                      error: function (err){\n                                        console.error('an error occurred- error details:',err);\n                                        return exits.error();\n                                      },\n                                      success: function() {\n                                        //return exits.success();\n                                        installPackage({\n                                          name: packages[9],\n                                          version: '*',\n                                          dir: '../../../node_modules',\n                                          save: true\n                                        }).exec({\n                                          error: function (err){\n                                            console.error('an error occurred- error details:',err);\n                                            return exits.error();\n                                          },\n                                          success: function() {\n                                            //return exits.success();\n                                            installPackage({\n                                              name: packages[10],\n                                              version: '*',\n                                              dir: '../../../node_modules',\n                                              save: true\n                                            }).exec({\n                                              error: function (err){\n                                                console.error('an error occurred- error details:',err);\n                                                return exits.error();\n                                              },\n                                              success: function() {\n                                                //return exits.success();\n                                                installPackage({\n                                                  name: packages[11],\n                                                  version: '*',\n                                                  dir: '../../../node_modules',\n                                                  save: true\n                                                }).exec({\n                                                  error: function (err){\n                                                    console.error('an error occurred- error details:',err);\n                                                    return exits.error();\n                                                  },\n                                                  success: function() {\n                                                    //return exits.success();\n                                                    installPackage({\n                                                      name: packages[12],\n                                                      version: '*',\n                                                      dir: '../../../node_modules',\n                                                      save: true\n                                                    }).exec({\n                                                      error: function (err){\n                                                        console.error('an error occurred- error details:',err);\n                                                        return exits.error();\n                                                      },\n                                                      success: function() {\n                                                        //return exits.success();\n                                                        installPackage({\n                                                          name: packages[13],\n                                                          version: '*',\n                                                          dir: '../../../node_modules',\n                                                          save: true\n                                                        }).exec({\n                                                          error: function (err){\n                                                            console.error('an error occurred- error details:',err);\n                                                            return exits.error();\n                                                          },\n                                                          success: function() {\n                                                            //return exits.success();\n                                                            installPackage({\n                                                              name: packages[14],\n                                                              version: '*',\n                                                              dir: '../../../node_modules',\n                                                              save: true\n                                                            }).exec({\n                                                              error: function (err){\n                                                                console.error('an error occurred- error details:',err);\n                                                                return exits.error();\n                                                              },\n                                                              success: function() {\n                                                                //return exits.success();\n                                                                installPackage({\n                                                                  name: packages[15],\n                                                                  version: '*',\n                                                                  dir: '../../../node_modules',\n                                                                  save: true\n                                                                }).exec({\n                                                                  error: function (err){\n                                                                    console.error('an error occurred- error details:',err);\n                                                                    return exits.error();\n                                                                  },\n                                                                  success: function() {\n                                                                    //return exits.success();\n                                                                    installPackage({\n                                                                      name: packages[16],\n                                                                      version: '*',\n                                                                      dir: '../../../node_modules',\n                                                                      save: true\n                                                                    }).exec({\n                                                                      error: function (err){\n                                                                        console.error('an error occurred- error details:',err);\n                                                                        return exits.error();\n                                                                      },\n                                                                      success: function() {\n                                                                        //return exits.success();\n                                                                        installPackage({\n                                                                          name: packages[17],\n                                                                          version: '*',\n                                                                          dir: '../../../node_modules',\n                                                                          save: true\n                                                                        }).exec({\n                                                                          error: function (err){\n                                                                            console.error('an error occurred- error details:',err);\n                                                                            return exits.error();\n                                                                          },\n                                                                          success: function() {\n                                                                            //return exits.success();\n                                                                            installPackage({\n                                                                              name: packages[18],\n                                                                              version: '*',\n                                                                              dir: '../../../node_modules',\n                                                                              save: true\n                                                                            }).exec({\n                                                                              error: function (err){\n                                                                                console.error('an error occurred- error details:',err);\n                                                                                return exits.error();\n                                                                              },\n                                                                              success: function() {\n                                                                                //return exits.success();\n                                                                                installPackage({\n                                                                                  name: packages[19],\n                                                                                  version: '*',\n                                                                                  dir: '../../../node_modules',\n                                                                                  save: true\n                                                                                }).exec({\n                                                                                  error: function (err){\n                                                                                    console.error('an error occurred- error details:',err);\n                                                                                    return exits.error();\n                                                                                  },\n                                                                                  success: function() {\n                                                                                    //return exits.success();\n                                                                                    installPackage({\n                                                                                      name: packages[20],\n                                                                                      version: '*',\n                                                                                      dir: '../../../node_modules',\n                                                                                      save: true\n                                                                                    }).exec({\n                                                                                      error: function (err){\n                                                                                        console.error('an error occurred- error details:',err);\n                                                                                        return exits.error();\n                                                                                      },\n                                                                                      success: function() {\n                                                                                        //return exits.success();\n                                                                                        installPackage({\n                                                                                          name: packages[21],\n                                                                                          version: '*',\n                                                                                          dir: '../../../node_modules',\n                                                                                          save: true\n                                                                                        }).exec({\n                                                                                          error: function (err){\n                                                                                            console.error('an error occurred- error details:',err);\n                                                                                            return exits.error();\n                                                                                          },\n                                                                                          success: function() {\n                                                                                            //return exits.success();\n                                                                                            installPackage({\n                                                                                              name: packages[22],\n                                                                                              version: '*',\n                                                                                              dir: '../../../node_modules',\n                                                                                              save: true\n                                                                                            }).exec({\n                                                                                              error: function (err){\n                                                                                                console.error('an error occurred- error details:',err);\n                                                                                                return exits.error();\n                                                                                              },\n                                                                                              success: function() {\n                                                                                                //return exits.success();\n                                                                                                installPackage({\n                                                                                                  name: packages[23],\n                                                                                                  version: '*',\n                                                                                                  dir: '../../../node_modules',\n                                                                                                  save: true\n                                                                                                }).exec({\n                                                                                                  error: function (err){\n                                                                                                    console.error('an error occurred- error details:',err);\n                                                                                                    return exits.error();\n                                                                                                  },\n                                                                                                  success: function() {\n                                                                                                    return exits.success();\n                                                                                                  }\n                                                                                                });\n                                                                                              }\n                                                                                            });\n                                                                                          }\n                                                                                        });\n                                                                                      }\n                                                                                    });\n                                                                                  }\n                                                                                });\n                                                                              }\n                                                                            });\n                                                                          }\n                                                                        });\n                                                                      }\n                                                                    });\n                                                                  }\n                                                                });\n                                                              }\n                                                            });\n                                                          }\n                                                        });\n                                                      }\n                                                    });\n                                                  }\n                                                });\n                                              }\n                                            });\n                                          }\n                                        });\n                                      }\n                                    });\n                                  }\n                                });\n                              }\n                            });\n                          }\n                        });\n                      }\n                    });\n                  }\n                });\n              }\n            });\n          }\n        });\n      }\n    });\n\n    //for (var i = 0; i <= packages.length; i++) {\n      //  installPackage({\n      //    name: package,\n      //    version: '*',\n      //    dir: '../../../node_modules',\n      //    save: true\n      //  }).exec({\n      //    error: function (err){\n      //      console.error('an error occurred- error details:',err);\n      //      return exits.error();\n      //    },\n      //    success: function() {\n      //      return exits.success();\n      //    }\n      //  });\n      //}\n    //packages.forEach(function(package, cb){\n    //  installPackage({\n    //    name: package,\n    //    version: '*',\n    //    dir: '../../../node_modules',\n    //    save: true\n    //  }).exec({\n    //    error: function (err){\n    //      console.error('an error occurred- error details:',err);\n    //      return exits.error();\n    //    },\n    //    success: function() {\n    //      exits.success()\n    //      return cb;\n    //    }\n    //  });\n    //});\n  ",
        "environment": [],
        "extendedDescription": "Install dependencies",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/install-gulp-dependencies",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/install-gulp-dependencies",
        "defaultExit": null,
        "machinepack": 151,
        "id": 676,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "install-package-npm",
        "variableName": "installPackageNpm",
        "friendlyName": "Install Package npm",
        "cacheable": false,
        "sync": false,
        "description": "NPM install and --save",
        "inputs": {
          "name": {
            "friendlyName": "Package name",
            "description": "The name of the NPM package to install.",
            "extendedDescription": "Can also be a custom url to a package.",
            "example": "express",
            "required": true,
            "type": "string"
          },
          "version": {
            "friendlyName": "Version range",
            "description": "A version string (or semver range) of the NPM package to install.",
            "example": "~1.0.0",
            "defaultsTo": "*",
            "type": "string"
          },
          "dir": {
            "friendlyName": "Directory",
            "description": "The local path where the package should be installed as a dependency.",
            "extendedDescription": "This is to the local package itself-- NOT its node_modules folder! Also note that, if specified as a relative path, this will be resolved relative to the current working directory.  If unspecified, the current working directory will be used.",
            "example": "/Users/mikermcneil/dogfood-promo-site",
            "type": "string"
          },
          "save": {
            "friendlyName": "Save dependency?",
            "description": "If set, the installed package will be saved to the package.json file as a dependency.",
            "extendedDescription": "This runs `npm install` with the --save flag enabled.",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          },
          "saveDev": {
            "friendlyName": "Save dev dependency?",
            "description": "If set, the installed package will be saved to the package.json file as a development-only dependency.",
            "extendedDescription": "This runs `npm install` with the --save-dev flag enabled.",
            "example": true,
            "defaultsTo": false,
            "type": "boolean"
          },
          "prefix": {
            "friendlyName": "Prefix",
            "description": "An optional path prefix which affects the root path in which this NPM package gets installed.",
            "extendedDescription": "Note that the package will still be installed within node_modules of the destination directory. This just controls the `--prefix` command-line option passed to `npm install`.",
            "example": "./path-to-project",
            "type": "string"
          },
          "loglevel": {
            "friendlyName": "Log level",
            "description": "If set, NPM will write logs to the console at the specified log level.",
            "extendedDescription": "This controls the --loglevel flag passed to `npm install`. Available options are \"silent\", \"warn\", \"verbose\" and \"silly\".",
            "example": "warn",
            "defaultsTo": "silent",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "invalidSemVer": {
            "description": "Provided semver range is invalid. See https://docs.npmjs.com/misc/semver for more information."
          }
        },
        "fn": "    var path = require('path'),\n      npm = require('machinepack-npm');\n\n    npm.installPackage({\n      name: inputs.name,\n      version: inputs.version,\n      dir: path.resolve(__dirname, inputs.dir),\n      //dir: path.resolve(__dirname, '../../../node_modules'),\n      save: inputs.save,\n      loglevel: inputs.loglevel\n    }).exec({\n      // An unexpected error occurred.\n      error: function (err){\n        console.error('an error occurred- error details:',err);\n        return exits.error();\n      },\n      // Provided semver range is invalid. See https://docs.npmjs.com/misc/semver for more information.\n      invalidSemVer: function (){\n        return exits.invalidSemVer();\n      },\n      // OK.\n      success: function (){\n        console.log('Installed '+inputs.name);\n        return exits.success();\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Saves npm packages",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/install-package-npm",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/install-package-npm",
        "defaultExit": null,
        "machinepack": 151,
        "id": 677,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      },
      {
        "identity": "create-gulp-engine",
        "variableName": "createGulpEngine",
        "friendlyName": "Create Gulp engine",
        "cacheable": false,
        "sync": false,
        "description": "Modifies core sails files ading the ability to toggle between grunt and gulp via cli argument",
        "inputs": {
          "gulpFolderSrcPath": {
            "friendlyName": "Gulp file source path",
            "description": "The directory where the gulp file lives.  If not specified as an absolute path, this will be resolved relative to the current working directory.",
            "example": "./templates/gulpfile.js",
            "required": true,
            "type": "string"
          },
          "outputDir": {
            "friendlyName": "Output directory",
            "description": "The path to the directory where gulp file should be placed.",
            "example": "./foo",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "friendlyName": "error",
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "void": true,
            "isDefault": true
          },
          "doesNotExist": {
            "friendlyName": "does not exist",
            "description": "Nothing exists at the provided LESS source directory path.",
            "example": "abc123",
            "type": "string"
          }
        },
        "fn": "\n    var path = require('path'),\r\n      cp = require('machine').build(require('./copy-files'));\r\n\r\n    cp({\r\n      gulpFileSrcPath: path.resolve(__dirname, inputs.gulpFolderSrcPath),\r\n      outputDir: path.resolve(__dirname, inputs.outputDir)\r\n    }).exec({\r\n      error: function (err){\r\n        console.error('an error occurred- error details:',err);\r\n        return exits.error();\r\n      },\r\n      success: function() {\r\n        //return exits.success();\r\n        cp({\r\n          gulpFileSrcPath: path.resolve(__dirname, '../lib/default-hooks.js'),\r\n          outputDir: path.resolve(__dirname, '../../sails/lib/app/configuration/default-hooks.js')\r\n        }).exec({\r\n          error: function (err){\r\n            console.error('an error occurred- error details:',err);\r\n            return exits.error();\r\n          },\r\n          success: function() {\r\n            return exits.success();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "Adds the gulp hook to api/hooks/gulp",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify/create-gulp-engine",
        "docsUrl": "http://node-machine.org/machinepack-sailsgulpify/create-gulp-engine",
        "defaultExit": null,
        "machinepack": 151,
        "id": 678,
        "createdAt": "2015-09-24T19:59:54.000Z",
        "updatedAt": "2016-04-11T22:00:03.000Z"
      }
    ],
    "identity": "machinepack-sailsgulpify",
    "version": "1.0.6",
    "latestVersionPublishedAt": "2016-04-11T00:00:00.000Z",
    "variableName": "SailsGulpify",
    "friendlyName": "SailsGulpify",
    "description": "Add toggle ability to choose gulp or grunt as task runner on create new ",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-sailsgulpify",
    "docsUrl": "http://node-machine.org/machinepack-sailsgulpify",
    "npmUrl": "http://npmjs.org/package/machinepack-sailsgulpify",
    "npmPackageName": "machinepack-sailsgulpify",
    "githubUrl": "http://github.com/Karnith/machinepack-sailsgulpify/",
    "sourceUrl": "http://github.com/Karnith/machinepack-sailsgulpify/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "fs-extra",
        "semverRange": "^0.26.7"
      },
      {
        "name": "lodash",
        "semverRange": "^4.6.1"
      },
      {
        "name": "machine",
        "semverRange": "^12.1.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^8.0.2"
      },
      {
        "name": "machinepack-npm",
        "semverRange": "^5.1.0"
      },
      {
        "name": "machinepack-prompts",
        "semverRange": "^0.5.0"
      },
      {
        "name": "util",
        "semverRange": "^0.10.3"
      }
    ],
    "contributors": [
      {
        "name": "karnith",
        "email": "mmarino@jcmar.com"
      }
    ],
    "id": 151,
    "createdAt": "2015-09-24T19:59:54.000Z",
    "updatedAt": "2016-04-11T22:00:03.000Z",
    "numMachines": 8
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login url",
        "cacheable": null,
        "sync": null,
        "description": "Get the URL on salesforce.com that a user should visit to allow/deny the specified Salesforce Developer app (i.e. your app).",
        "inputs": {
          "consumerKey": {
            "example": "adf90878aKsloewurSDFIUFsdisoufsodfu",
            "description": "The consumer key for your Salesforce app.",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var oauth2 = require('salesforce-oauth2');\n    var util = require('util');\n\n    var uri = oauth2.getAuthorizationUrl({\n      redirect_uri: inputs.callbackUrl,\n      client_id: inputs.consumerKey\n        // scope: 'api'\n    });\n\n    return exits.success(uri);\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your Facebook app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-login-url",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 520,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": null,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular Salesforce user account.",
        "inputs": {
          "consumerKey": {
            "example": "adf90878aKsloewurSDFIUFsdisoufsodfu",
            "description": "The consumer key for your Salesforce app.",
            "required": true,
            "type": "string"
          },
          "consumerSecret": {
            "example": "dsg4901g0123456",
            "description": "The developer \"secret\" for your Salesforce app (i.e. this \"Consumer Secret\" is listed on your app's dashboard page in the Salesfore app portal)",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJF9QOe_md7h5hy2gMhOS6TL9IBk5qxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9_Y",
            "description": "The OAuth `code` generated by Salesforce and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "https://login.salesforce.com/id/89Ej0749aEIU/2342l888888D7",
              "issued_at": "2183487234723",
              "scope": "id api web refresh_token",
              "instance_url": "https://na16.salesforce.com",
              "token_type": "Bearer",
              "refresh_token": "8Bfo973F7FSDdkiUYUyosdyfODI_sdkdhfIPWEdJK",
              "signature": "dkdhfIPWEd=Bfo973F7F",
              "access_token": "cxRiJv_eVFRXgJyTGnCQ5Wb!AQkAQOcxRiJv_eVFRXgNpgo9JH2sDxVWNyg.fJyTGnCQ5Wbnkpm1wuHajiI9yqoGhdF61NIJCJkiNpgo9JH2s"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var oauth2 = require('salesforce-oauth2');\n\n    oauth2.authenticate({\n      redirect_uri: inputs.callbackUrl,\n      client_id: inputs.consumerKey,\n      client_secret: inputs.consumerSecret,\n      code: inputs.code\n    }, function(err, payload) {\n\n      if (err) {\n        return exits.error(err);\n      }\n\n      var options = {\n        url: payload.id,\n        headers: {\n          'Authorization': payload.token_type + \" \" + payload.access_token\n        }\n      };\n\n      return exits.success(payload);\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-access-token",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 521,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      },
      {
        "identity": "get-user-by-access-token",
        "variableName": "getUserByAccessToken",
        "friendlyName": "Get user by access token",
        "cacheable": null,
        "sync": null,
        "description": "Get information about the Salesforce user with the specified access token.",
        "inputs": {
          "id": {
            "example": "https://login.salesforce.com/id/29ZXzEAM/005j0Xz00C7enEAM/00000C7enf00C7enAAB",
            "description": "The URL used to get user information witht he specified access token.",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJF9QOe_md7h5hy2gMhOS6TL9IBk5qxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9_Y",
            "required": true,
            "type": "string"
          },
          "tokenType": {
            "example": "Bearer",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var request = require('request');\n\n    var options = {\n      url: inputs.id,\n      headers: {\n        'Authorization': inputs.tokenType + \" \" + inputs.accessToken\n      }\n    };\n\n    request(options, function(error, res, body) {\n\n      try{\n\n        body = JSON.parse(body);\n\n        return exits.success(body);\n      } catch(e) {\n\n          return exits.error('Error when parsing body.')\n\n      }\n\n    })\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-user-by-access-token",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-user-by-access-token",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 522,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      },
      {
        "identity": "get-object-by-id",
        "variableName": "getObjectById",
        "friendlyName": "Get object by Id",
        "cacheable": null,
        "sync": null,
        "description": "Get a salseforce object by Id. Returns the entire object.",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "objectId": {
            "example": "12345",
            "description": "Salesforce object Id.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "notFound": {
            "description": "Object not found for this Id."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      conn\n        .sobject(inputs.objectType)\n        .retrieve(inputs.objectId, function(objErr, theObject) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          return exits.success(theObject);\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-object-by-id",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/get-object-by-id",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 523,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      },
      {
        "identity": "create-object",
        "variableName": "createObject",
        "friendlyName": "Create new salesforce object",
        "cacheable": null,
        "sync": null,
        "description": "Create a salseforce object given object properties. Returns new object Id",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "objectData": {
            "example": {},
            "description": "Object with new properties. If Id is present it will be deleted.",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "requiredFieldMissing": {
            "description": "Required field missing"
          },
          "success": {
            "description": "OK.",
            "example": "00Q5000000yzUmOEAU",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      if (inputs.objectType.Id) {\n        delete inputs.objectType.Id;\n      }\n      conn\n        .sobject(inputs.objectType)\n        .create(inputs.objectData, function(objErr, theObject) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr && objErr.toString().indexOf(\n            'REQUIRED_FIELD_MISSING') !== -1) {\n            return exits.requiredFieldMissing(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          return exits.success(theObject.id);\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/create-object",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/create-object",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 524,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      },
      {
        "identity": "update-object-by-id",
        "variableName": "updateObjectById",
        "friendlyName": "Update object by Id",
        "cacheable": null,
        "sync": null,
        "description": "Update a salseforce object given Id and new values.",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "objectData": {
            "example": {},
            "description": "Object with updated properties. Must contain Id",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "notFound": {
            "description": "Object not found for this Id."
          },
          "invalidField": {
            "description": "Attempted to update Object properties which are not allowed to be updated."
          },
          "objectIdMissing": {
            "description": "Object Id must be provided as `objectId` or in `objectData` hash."
          },
          "requiredFieldMissing": {
            "description": "Required field missing"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var _ = require('lodash');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    // @todo make this more configurable\n    var strip = ['LastModifiedDate',\n      'ConvertedOpportunityId',\n      'CreatedById',\n      'IsDeleted',\n      'SystemModstamp',\n      'PhotoUrl',\n      'LastReferencedDate',\n      'MasterRecordId',\n      'JigsawContactId',\n      'Address',\n      'CreatedDate',\n      'LastViewedDate',\n      'IsConverted',\n      'LastActivityDate',\n      'LastModifiedById',\n      'Name',\n      'ConvertedDate',\n      'ConvertedContactId',\n      'ConvertedAccountId'\n    ];\n\n    // remove non-allowed values\n    _.each(strip, function(value, key) {\n      delete inputs.objectData[value];\n    });\n\n    if (!inputs.objectData.Id) {\n      return exits.objectIdMissing();\n    }\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      conn\n        .sobject(inputs.objectType)\n        .update(inputs.objectData, function(objErr, theObject) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr && objErr.toString().indexOf(\n            'INVALID_FIELD_FOR_INSERT_UPDATE') !== -1) {\n            return exits.invalidField(objErr);\n          } else if (objErr && objErr.toString().indexOf(\n            'REQUIRED_FIELD_MISSING') !== -1) {\n            return exits.requiredFieldMissing(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          return exits.success(theObject);\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/update-object-by-id",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/update-object-by-id",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 525,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      },
      {
        "identity": "describe-object-type",
        "variableName": "describeObjectType",
        "friendlyName": "Describe object by Id",
        "cacheable": null,
        "sync": null,
        "description": "Describe a salseforce object type. Returns all the fields and values for type.",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "includeValues": {
            "example": {},
            "description": "Salesforce objects have many properties. Optionally provide a hash of properties you are interested in.",
            "extendedDescription": "For example, return all field names with `{\"fields\":[{\"name\":true}]}`. Return all field names and all picker labels with values with `{\"fields\":[{\"name\":true, \"picklistValues\":[{\"label\":true,\"value\":true}]}]}`.",
            "required": false,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var _ = require('lodash');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    function returnCleanedValues(whichFields, data) {\n      if (_.isArray(data)) {\n        // if data is array\n        return _.map(data, function(singleData) {\n          return returnCleanedValues(whichFields, singleData);\n        });\n      } else {\n        // object, we want to map these fields\n        // for each field requested, get value from data\n        return _.mapValues(whichFields, function(value, key) {\n          if (_.isArray(data[key]) && _.isArray(value)) {\n            return returnCleanedValues(value[0], data[key]);\n          }\n          return data[key];\n        });\n      }\n    }\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      conn\n        .sobject(inputs.objectType)\n        .describe(function(objErr, theObjectDescription) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          if (inputs.includeValues) {\n            var cleaned = returnCleanedValues(\n              inputs.includeValues,\n              theObjectDescription\n            );\n            return exits.success(cleaned);\n          } else {\n            return exits.success(theObjectDescription.fields);\n          }\n\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded/describe-object-type",
        "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded/describe-object-type",
        "defaultExit": "success",
        "machinepack": 120,
        "id": 526,
        "createdAt": "2015-05-19T17:49:36.000Z",
        "updatedAt": "2015-05-19T17:49:36.000Z"
      }
    ],
    "identity": "machinepack-salseforce-expanded",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-05-19T00:00:00.000Z",
    "variableName": "Salesforce",
    "friendlyName": "Salesforce",
    "description": "Communicate with the Salesforce API to get profiles, accounts, contacts, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_salesforce.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-salseforce-expanded",
    "docsUrl": "http://node-machine.org/machinepack-salseforce-expanded",
    "npmUrl": "http://npmjs.org/package/machinepack-salseforce-expanded",
    "npmPackageName": "machinepack-salseforce-expanded",
    "githubUrl": "http://github.com/irlnathan/machinepack-salesforce/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-salesforce/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "jsforce",
        "semverRange": "^1.4.1"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      },
      {
        "name": "salesforce-oauth2",
        "semverRange": "^0.1.8"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "facultymatt",
        "email": "matt@facultycreative.com"
      }
    ],
    "id": 120,
    "createdAt": "2015-05-19T17:49:36.000Z",
    "updatedAt": "2015-05-19T17:49:36.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login url",
        "cacheable": null,
        "sync": null,
        "description": "Get the URL on salesforce.com that a user should visit to allow/deny the specified Salesforce Developer app (i.e. your app).",
        "inputs": {
          "consumerKey": {
            "example": "adf90878aKsloewurSDFIUFsdisoufsodfu",
            "description": "The consumer key for your Salesforce app.",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var oauth2 = require('salesforce-oauth2');\n    var util = require('util');\n\n    var uri = oauth2.getAuthorizationUrl({\n      redirect_uri: inputs.callbackUrl,\n      client_id: inputs.consumerKey\n        // scope: 'api'\n    });\n\n    return exits.success(uri);\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your Facebook app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-salesforce/get-login-url",
        "defaultExit": "success",
        "machinepack": 65,
        "id": 249,
        "createdAt": "2015-03-17T22:29:45.000Z",
        "updatedAt": "2015-03-26T02:09:41.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": null,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular Salesforce user account.",
        "inputs": {
          "consumerKey": {
            "example": "adf90878aKsloewurSDFIUFsdisoufsodfu",
            "description": "The consumer key for your Salesforce app.",
            "required": true,
            "type": "string"
          },
          "consumerSecret": {
            "example": "dsg4901g0123456",
            "description": "The developer \"secret\" for your Salesforce app (i.e. this \"Consumer Secret\" is listed on your app's dashboard page in the Salesfore app portal)",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJF9QOe_md7h5hy2gMhOS6TL9IBk5qxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9_Y",
            "description": "The OAuth `code` generated by Salesforce and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "https://login.salesforce.com/id/89Ej0749aEIU/2342l888888D7",
              "issued_at": "2183487234723",
              "scope": "id api web refresh_token",
              "instance_url": "https://na16.salesforce.com",
              "token_type": "Bearer",
              "refresh_token": "8Bfo973F7FSDdkiUYUyosdyfODI_sdkdhfIPWEdJK",
              "signature": "dkdhfIPWEd=Bfo973F7F",
              "access_token": "cxRiJv_eVFRXgJyTGnCQ5Wb!AQkAQOcxRiJv_eVFRXgNpgo9JH2sDxVWNyg.fJyTGnCQ5Wbnkpm1wuHajiI9yqoGhdF61NIJCJkiNpgo9JH2s"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var oauth2 = require('salesforce-oauth2');\n\n    oauth2.authenticate({\n      redirect_uri: inputs.callbackUrl,\n      client_id: inputs.consumerKey,\n      client_secret: inputs.consumerSecret,\n      code: inputs.code\n    }, function(err, payload) {\n\n      if (err) {\n        return exits.error(err);\n      }\n\n      var options = {\n        url: payload.id,\n        headers: {\n          'Authorization': payload.token_type + \" \" + payload.access_token\n        }\n      };\n\n      return exits.success(payload);\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-salesforce/get-access-token",
        "defaultExit": "success",
        "machinepack": 65,
        "id": 250,
        "createdAt": "2015-03-17T22:29:45.000Z",
        "updatedAt": "2015-03-26T02:09:41.000Z"
      },
      {
        "identity": "get-user-by-access-token",
        "variableName": "getUserByAccessToken",
        "friendlyName": "Get user by access token",
        "cacheable": null,
        "sync": null,
        "description": "Get information about the Salesforce user with the specified access token.",
        "inputs": {
          "id": {
            "example": "https://login.salesforce.com/id/29ZXzEAM/005j0Xz00C7enEAM/00000C7enf00C7enAAB",
            "description": "The URL used to get user information witht he specified access token.",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJF9QOe_md7h5hy2gMhOS6TL9IBk5qxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9_Y",
            "required": true,
            "type": "string"
          },
          "tokenType": {
            "example": "Bearer",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var request = require('request');\n\n    var options = {\n      url: inputs.id,\n      headers: {\n        'Authorization': inputs.tokenType + \" \" + inputs.accessToken\n      }\n    };\n\n    request(options, function(error, res, body) {\n\n      try{\n\n        body = JSON.parse(body);\n\n        return exits.success(body);\n      } catch(e) {\n\n          return exits.error('Error when parsing body.')\n\n      }\n\n    })\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce/get-user-by-access-token",
        "docsUrl": "http://node-machine.org/machinepack-salesforce/get-user-by-access-token",
        "defaultExit": "success",
        "machinepack": 65,
        "id": 251,
        "createdAt": "2015-03-17T22:29:45.000Z",
        "updatedAt": "2015-03-26T02:09:41.000Z"
      }
    ],
    "identity": "machinepack-salesforce",
    "version": "0.2.2",
    "latestVersionPublishedAt": "2015-03-26T00:00:00.000Z",
    "variableName": "Salesforce",
    "friendlyName": "Salesforce",
    "description": "Communicate with the Salesforce API to get profiles, accounts, contacts, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_salesforce.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce",
    "docsUrl": "http://node-machine.org/machinepack-salesforce",
    "npmUrl": "http://npmjs.org/package/machinepack-salesforce",
    "npmPackageName": "machinepack-salesforce",
    "githubUrl": "http://github.com/irlnathan/machinepack-salesforce/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-salesforce/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "salesforce-oauth2",
        "semverRange": "^0.1.8"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 65,
    "createdAt": "2015-03-17T22:29:45.000Z",
    "updatedAt": "2015-03-26T02:09:41.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login url",
        "cacheable": null,
        "sync": null,
        "description": "Get the URL on salesforce.com that a user should visit to allow/deny the specified Salesforce Developer app (i.e. your app).",
        "inputs": {
          "consumerKey": {
            "example": "adf90878aKsloewurSDFIUFsdisoufsodfu",
            "description": "The consumer key for your Salesforce app.",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var oauth2 = require('salesforce-oauth2');\n    var util = require('util');\n\n    var uri = oauth2.getAuthorizationUrl({\n      redirect_uri: inputs.callbackUrl,\n      client_id: inputs.consumerKey\n        // scope: 'api'\n    });\n\n    return exits.success(uri);\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your Facebook app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-login-url",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 513,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": null,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular Salesforce user account.",
        "inputs": {
          "consumerKey": {
            "example": "adf90878aKsloewurSDFIUFsdisoufsodfu",
            "description": "The consumer key for your Salesforce app.",
            "required": true,
            "type": "string"
          },
          "consumerSecret": {
            "example": "dsg4901g0123456",
            "description": "The developer \"secret\" for your Salesforce app (i.e. this \"Consumer Secret\" is listed on your app's dashboard page in the Salesfore app portal)",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/login",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine",
            "required": true,
            "type": "string"
          },
          "code": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJF9QOe_md7h5hy2gMhOS6TL9IBk5qxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9_Y",
            "description": "The OAuth `code` generated by Salesforce and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": "https://login.salesforce.com/id/89Ej0749aEIU/2342l888888D7",
              "issued_at": "2183487234723",
              "scope": "id api web refresh_token",
              "instance_url": "https://na16.salesforce.com",
              "token_type": "Bearer",
              "refresh_token": "8Bfo973F7FSDdkiUYUyosdyfODI_sdkdhfIPWEdJK",
              "signature": "dkdhfIPWEd=Bfo973F7F",
              "access_token": "cxRiJv_eVFRXgJyTGnCQ5Wb!AQkAQOcxRiJv_eVFRXgNpgo9JH2sDxVWNyg.fJyTGnCQ5Wbnkpm1wuHajiI9yqoGhdF61NIJCJkiNpgo9JH2s"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var oauth2 = require('salesforce-oauth2');\n\n    oauth2.authenticate({\n      redirect_uri: inputs.callbackUrl,\n      client_id: inputs.consumerKey,\n      client_secret: inputs.consumerSecret,\n      code: inputs.code\n    }, function(err, payload) {\n\n      if (err) {\n        return exits.error(err);\n      }\n\n      var options = {\n        url: payload.id,\n        headers: {\n          'Authorization': payload.token_type + \" \" + payload.access_token\n        }\n      };\n\n      return exits.success(payload);\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-access-token",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 514,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      },
      {
        "identity": "get-user-by-access-token",
        "variableName": "getUserByAccessToken",
        "friendlyName": "Get user by access token",
        "cacheable": null,
        "sync": null,
        "description": "Get information about the Salesforce user with the specified access token.",
        "inputs": {
          "id": {
            "example": "https://login.salesforce.com/id/29ZXzEAM/005j0Xz00C7enEAM/00000C7enf00C7enAAB",
            "description": "The URL used to get user information witht he specified access token.",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJF9QOe_md7h5hy2gMhOS6TL9IBk5qxMA2q_8EJxGPTqEbmTqOBqqCIOlvPEPCeIiy21VD9_Y",
            "required": true,
            "type": "string"
          },
          "tokenType": {
            "example": "Bearer",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var request = require('request');\n\n    var options = {\n      url: inputs.id,\n      headers: {\n        'Authorization': inputs.tokenType + \" \" + inputs.accessToken\n      }\n    };\n\n    request(options, function(error, res, body) {\n\n      try{\n\n        body = JSON.parse(body);\n\n        return exits.success(body);\n      } catch(e) {\n\n          return exits.error('Error when parsing body.')\n\n      }\n\n    })\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-user-by-access-token",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-user-by-access-token",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 515,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      },
      {
        "identity": "get-object-by-id",
        "variableName": "getObjectById",
        "friendlyName": "Get object by Id",
        "cacheable": null,
        "sync": null,
        "description": "Get a salseforce object by Id. Returns the entire object.",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "objectId": {
            "example": "12345",
            "description": "Salesforce object Id.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "notFound": {
            "description": "Object not found for this Id."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      conn\n        .sobject(inputs.objectType)\n        .retrieve(inputs.objectId, function(objErr, theObject) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          return exits.success(theObject);\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-object-by-id",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/get-object-by-id",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 516,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      },
      {
        "identity": "create-object",
        "variableName": "createObject",
        "friendlyName": "Create new salesforce object",
        "cacheable": null,
        "sync": null,
        "description": "Create a salseforce object given object properties. Returns new object Id",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "objectData": {
            "example": {},
            "description": "Object with new properties. If Id is present it will be deleted.",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "requiredFieldMissing": {
            "description": "Required field missing"
          },
          "success": {
            "description": "OK.",
            "example": "00Q5000000yzUmOEAU",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      if (inputs.objectType.Id) {\n        delete inputs.objectType.Id;\n      }\n      conn\n        .sobject(inputs.objectType)\n        .create(inputs.objectData, function(objErr, theObject) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr && objErr.toString().indexOf(\n            'REQUIRED_FIELD_MISSING') !== -1) {\n            return exits.requiredFieldMissing(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          return exits.success(theObject.id);\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/create-object",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/create-object",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 517,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      },
      {
        "identity": "update-object-by-id",
        "variableName": "updateObjectById",
        "friendlyName": "Update object by Id",
        "cacheable": null,
        "sync": null,
        "description": "Update a salseforce object given Id and new values.",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "objectData": {
            "example": {},
            "description": "Object with updated properties. Must contain Id",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "notFound": {
            "description": "Object not found for this Id."
          },
          "invalidField": {
            "description": "Attempted to update Object properties which are not allowed to be updated."
          },
          "objectIdMissing": {
            "description": "Object Id must be provided as `objectId` or in `objectData` hash."
          },
          "requiredFieldMissing": {
            "description": "Required field missing"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var _ = require('lodash');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    // @todo make this more configurable\n    var strip = ['LastModifiedDate',\n      'ConvertedOpportunityId',\n      'CreatedById',\n      'IsDeleted',\n      'SystemModstamp',\n      'PhotoUrl',\n      'LastReferencedDate',\n      'MasterRecordId',\n      'JigsawContactId',\n      'Address',\n      'CreatedDate',\n      'LastViewedDate',\n      'IsConverted',\n      'LastActivityDate',\n      'LastModifiedById',\n      'Name',\n      'ConvertedDate',\n      'ConvertedContactId',\n      'ConvertedAccountId'\n    ];\n\n    // remove non-allowed values\n    _.each(strip, function(value, key) {\n      delete inputs.objectData[value];\n    });\n\n    if (!inputs.objectData.Id) {\n      return exits.objectIdMissing();\n    }\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      conn\n        .sobject(inputs.objectType)\n        .update(inputs.objectData, function(objErr, theObject) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr && objErr.toString().indexOf(\n            'INVALID_FIELD_FOR_INSERT_UPDATE') !== -1) {\n            return exits.invalidField(objErr);\n          } else if (objErr && objErr.toString().indexOf(\n            'REQUIRED_FIELD_MISSING') !== -1) {\n            return exits.requiredFieldMissing(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          return exits.success(theObject);\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/update-object-by-id",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/update-object-by-id",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 518,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      },
      {
        "identity": "describe-object-type",
        "variableName": "describeObjectType",
        "friendlyName": "Describe object by Id",
        "cacheable": null,
        "sync": null,
        "description": "Describe a salseforce object type. Returns all the fields and values for type.",
        "inputs": {
          "url": {
            "example": "https://cs2.salesforce.com/",
            "description": "URL for connecting your salesforce instance, sandbox, etc.",
            "type": "string"
          },
          "email": {
            "example": "user@gmail.com",
            "description": "Email address used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "demo1234",
            "description": "Password used to login to your salseforce account.",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "x1x2x3",
            "description": "If you do not have one, visit salseforce at My settings > personal > Reset My Security Token.",
            "required": true,
            "type": "string"
          },
          "objectType": {
            "example": "Lead",
            "description": "Salseforce object type.",
            "required": true,
            "type": "string"
          },
          "includeValues": {
            "example": {},
            "description": "Salesforce objects have many properties. Optionally provide a hash of properties you are interested in.",
            "extendedDescription": "For example, return all field names with `{\"fields\":[{\"name\":true}]}`. Return all field names and all picker labels with values with `{\"fields\":[{\"name\":true, \"picklistValues\":[{\"label\":true,\"value\":true}]}]}`.",
            "required": false,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLogin": {
            "description": "Login was not successful"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var jsforce = require('jsforce');\n    var _ = require('lodash');\n    var connString = {};\n    if (inputs.url) {\n      connString.loginUrl = inputs.url;\n    }\n    var conn = new jsforce.Connection(connString);\n    var email = inputs.email;\n    var pass = inputs.password + inputs.token;\n\n    function returnCleanedValues(whichFields, data) {\n      if (_.isArray(data)) {\n        // if data is array\n        return _.map(data, function(singleData) {\n          return returnCleanedValues(whichFields, singleData);\n        });\n      } else {\n        // object, we want to map these fields\n        // for each field requested, get value from data\n        return _.mapValues(whichFields, function(value, key) {\n          if (_.isArray(data[key]) && _.isArray(value)) {\n            return returnCleanedValues(value[0], data[key]);\n          }\n          return data[key];\n        });\n      }\n    }\n\n    conn.login(email, pass, function(connErr, result) {\n      if (connErr && connErr.toString().indexOf('INVALID_LOGIN') !== -1) {\n        return exits.invalidLogin(connErr);\n      } else if (connErr) {\n        return exits.error(connErr);\n      }\n      conn\n        .sobject(inputs.objectType)\n        .describe(function(objErr, theObjectDescription) {\n          if (objErr && objErr.toString().indexOf('NOT_FOUND') !== -1) {\n            return exits.notFound(objErr);\n          } else if (objErr) {\n            return exits.error(objErr);\n          }\n          if (inputs.includeValues) {\n            var cleaned = returnCleanedValues(\n              inputs.includeValues,\n              theObjectDescription\n            );\n            return exits.success(cleaned);\n          } else {\n            return exits.success(theObjectDescription.fields);\n          }\n\n        });\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Requires authentication with username, password, and secret token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded/describe-object-type",
        "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded/describe-object-type",
        "defaultExit": "success",
        "machinepack": 119,
        "id": 519,
        "createdAt": "2015-05-19T17:49:31.000Z",
        "updatedAt": "2015-05-19T17:49:31.000Z"
      }
    ],
    "identity": "machinepack-salesforce-expanded",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-05-19T00:00:00.000Z",
    "variableName": "Salesforce",
    "friendlyName": "Salesforce",
    "description": "Communicate with the Salesforce API to get profiles, accounts, contacts, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_salesforce.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-salesforce-expanded",
    "docsUrl": "http://node-machine.org/machinepack-salesforce-expanded",
    "npmUrl": "http://npmjs.org/package/machinepack-salesforce-expanded",
    "npmPackageName": "machinepack-salesforce-expanded",
    "githubUrl": "http://github.com/irlnathan/machinepack-salesforce/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-salesforce/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "jsforce",
        "semverRange": "^1.4.1"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      },
      {
        "name": "salesforce-oauth2",
        "semverRange": "^0.1.8"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "facultymatt",
        "email": "matt@facultycreative.com"
      }
    ],
    "id": 119,
    "createdAt": "2015-05-19T17:49:31.000Z",
    "updatedAt": "2015-05-19T17:49:31.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "client",
        "variableName": "client",
        "friendlyName": "Sane frontend logic",
        "cacheable": null,
        "sync": null,
        "description": "Handle the addon logic for the sane frontend",
        "inputs": {
          "name": {
            "example": "user",
            "description": "Name of the resource",
            "required": false,
            "type": "string"
          },
          "attributes": {
            "example": "name:string age:number",
            "description": "extra attributes that will be generated",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "addNpmPackages": [
                {}
              ],
              "addEmberAddons": [
                {}
              ],
              "addToConfig": {},
              "addBowerPackages": [
                {}
              ],
              "generates": [
                {
                  "type": "model",
                  "name": "userInput",
                  "parameters": "name:string description:string"
                }
              ]
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n\n    // ...\n\n    // Return an object containing the commands to run by the generator\n    return exits.success({\n      addEmberAddons: [\n      { name: 'ember-cli-simple-auth', target: '~0.7.3'},\n      { name: 'ember-cli-simple-auth-oauth2', target: '~0.7.3'}\n      ],\n      addToConfig: {\n        ENV : {\n          'simple-auth': {\n            authorizer: 'simple-auth-authorizer:oauth2-bearer'\n          },\n          'simple-auth-oauth2': {\n            serverTokenEndpoint: '/api/v1/auths/login',\n            serverTokenRevocationEndpoint: '/api/v1/auths/logout',\n          }\n        }\n      },\n      //runs ember generate <type> <name> <parameters> command for each object in the array\n      generates: [{\n        type: 'model',\n        name: 'user',\n        parameters: 'username:string'\n      },\n      {\n        type: 'template',\n        name: 'user'\n      }]\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/sane-auth/client",
        "docsUrl": "http://node-machine.org/sane-auth/client",
        "defaultExit": "success",
        "machinepack": 34,
        "id": 144,
        "createdAt": "2015-02-24T13:59:21.000Z",
        "updatedAt": "2015-05-15T10:59:35.000Z"
      },
      {
        "identity": "server",
        "variableName": "server",
        "friendlyName": "Sane backend logic",
        "cacheable": null,
        "sync": null,
        "description": "Handle the addon logic for the sane backend",
        "inputs": {
          "name": {
            "example": "user",
            "description": "Name of the resource",
            "required": false,
            "type": "string"
          },
          "attributes": {
            "example": "name:string age:number",
            "description": "extra attributes that will be generated",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {
              "addNpmPackages": [
                {}
              ],
              "commands": [
                ""
              ]
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    /**\n     * Module Dependencies\n     */\n\n    // ...\n\n    // Return an object containing the commands to run by the generator\n    return exits.success({\n      addNpmPackages: [\n        { name: 'bcrypt', target: '~0.8.2'},\n        { name: 'express-jwt', target: '~3.0.0'},\n        { name: 'jsonwebtoken', target: '~5.0.0'},\n      ]\n    });\n\n  ",
        "environment": null,
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/sane-auth/server",
        "docsUrl": "http://node-machine.org/sane-auth/server",
        "defaultExit": "success",
        "machinepack": 34,
        "id": 145,
        "createdAt": "2015-02-24T13:59:21.000Z",
        "updatedAt": "2015-05-15T10:59:35.000Z"
      }
    ],
    "identity": "sane-auth",
    "version": "0.3.3",
    "latestVersionPublishedAt": "2015-05-15T00:00:00.000Z",
    "variableName": "SaneAuth",
    "friendlyName": "Sane-auth",
    "description": "A Sane Stack Addon giving you basic OAauth2-JWT authentication for the full stack",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/sane-auth",
    "docsUrl": "http://node-machine.org/sane-auth",
    "npmUrl": "http://npmjs.org/package/sane-auth",
    "npmPackageName": "sane-auth",
    "githubUrl": "http://github.com/sane/sane-auth/",
    "sourceUrl": "http://github.com/sane/sane-auth/",
    "testsUrl": "https://travis-ci.org/sane/sane-auth",
    "machineDir": "generate/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "~4.0.0"
      }
    ],
    "contributors": [
      {
        "name": "globegitter",
        "email": "markus.padourek@gmail.com"
      },
      {
        "name": "mgenev",
        "email": "mgenev@gmail.com"
      },
      {
        "name": "kriswill",
        "email": "kris@kris.net"
      }
    ],
    "id": 34,
    "createdAt": "2015-02-16T23:51:58.000Z",
    "updatedAt": "2015-05-15T10:59:35.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "sanitize",
        "variableName": "sanitize",
        "friendlyName": "Sanitize",
        "cacheable": null,
        "sync": null,
        "description": "Sanitize some json data against a schema.",
        "inputs": {
          "schema": {
            "description": "The JSON-schema to sanitize against",
            "required": true,
            "example": {},
            "type": "object"
          },
          "data": {
            "description": "The data to sanitize (i.e. the \"JSON instance\")",
            "required": true,
            "example": "*",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "getExample": "        var mapping = {\n          'string': 'abc',\n          'number': 9.99,\n          'integer': 23,\n          'array': [],\n          'object': {},\n          'boolean': true,\n          'null': null,\n          'date': new Date(),\n          'any': '*',\n        };\n        var schema = inputs.schema || {};\n        if (schema.type !== 'object')\n          return mapping[schema.type];\n        var data = {};\n        for (var key in schema.properties) {\n          schema.properties[key] = schema.properties[key] || {};\n          schema.properties[key].optional = (typeof schema.properties[key].optional === 'boolean' ? schema.properties[key].optional : (schema.properties[key].optional !== 'false'));\n          if (schema.properties[key] && schema.properties[key].optional === false) {\n            data[key] = mapping[schema.properties[key].type] || inputs.data[key] || 'abc';\n          }\n        }\n        return data;\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true
          }
        },
        "fn": "    var inspector = require('schema-inspector');\n    var schema = { type: \"object\", properties: { data: inputs.schema } };\n    inspector.sanitize(schema, inputs, function (err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n      // inputs.data updated\n      return exits.success(inputs.data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Schema-Inspector is a powerful tool to sanitize and validate JS objects. It's designed to work both client-side and server-side and to be scalable with allowing asynchronous and synchronous calls.",
        "moreInfoUrl": "https://www.npmjs.com/package/schema-inspector#s_type",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-schemainspector/sanitize",
        "docsUrl": "http://node-machine.org/machinepack-schemainspector/sanitize",
        "defaultExit": "success",
        "machinepack": 139,
        "id": 614,
        "createdAt": "2015-06-27T21:19:45.000Z",
        "updatedAt": "2015-10-22T14:09:57.000Z"
      },
      {
        "identity": "validate",
        "variableName": "validate",
        "friendlyName": "Validate",
        "cacheable": null,
        "sync": null,
        "description": "Validate some json data against a schema.",
        "inputs": {
          "schema": {
            "description": "The JSON-schema to validate against",
            "required": true,
            "example": {},
            "type": "object"
          },
          "data": {
            "description": "The data to validate (i.e. the \"JSON instance\")",
            "required": true,
            "example": "*",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalid": {
            "description": "Provided data and schema are not compatible.",
            "example": "Property @.type: must be equal to \"email\", but is equal to \"sms\"                Property @.to[0]: must be a string, but is number                Property @.dolor[4]: must match [email], but is equal to \"test\"",
            "type": "string"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var inspector = require('schema-inspector');\n    inspector.validate(inputs.schema, inputs.data, function (err, result) {\n      if (err) {\n        return exits.error(err);\n      }\n      if (!result.valid) {\n        return exits.invalid(result.format());\n      }\n      return exits.success(inputs.data);\n    });\n  ",
        "environment": [],
        "extendedDescription": "Schema-Inspector is a powerful tool to sanitize and validate JS objects. It's designed to work both client-side and server-side and to be scalable with allowing asynchronous and synchronous calls.",
        "moreInfoUrl": "https://www.npmjs.com/package/schema-inspector",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-schemainspector/validate",
        "docsUrl": "http://node-machine.org/machinepack-schemainspector/validate",
        "defaultExit": "success",
        "machinepack": 139,
        "id": 615,
        "createdAt": "2015-06-27T21:19:45.000Z",
        "updatedAt": "2015-10-22T14:09:57.000Z"
      }
    ],
    "identity": "machinepack-schemainspector",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-10-22T00:00:00.000Z",
    "variableName": "SchemaInspector",
    "friendlyName": "Schema-Inspector",
    "description": "Schema-Inspector is an JSON API sanitisation and validation module.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://raw.githubusercontent.com/Atinux/machinepack-schemainspector/master/schema-inspector-logo.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-schemainspector",
    "docsUrl": "http://node-machine.org/machinepack-schemainspector",
    "npmUrl": "http://npmjs.org/package/machinepack-schemainspector",
    "npmPackageName": "machinepack-schemainspector",
    "githubUrl": "http://github.com/Atinux/machinepack-schemainspector/",
    "sourceUrl": "http://github.com/Atinux/machinepack-schemainspector/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "schema-inspector",
        "semverRange": "^1.5.2"
      }
    ],
    "contributors": [
      {
        "name": "atinux",
        "email": ""
      }
    ],
    "id": 139,
    "createdAt": "2015-06-27T21:19:45.000Z",
    "updatedAt": "2015-10-22T14:09:57.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "track",
        "variableName": "track",
        "friendlyName": "Track user action",
        "cacheable": null,
        "sync": null,
        "description": "Track a user action by triggering an event in Segment.",
        "inputs": {
          "writeKey": {
            "example": "C3ut91L4284abn2VdaJ2813Zc193042Kl4",
            "description": "The \"write key\" associated with your Segment account.",
            "whereToGet": {
              "url": "https://segment.com/treeline/treeline.io/settings/keys",
              "instructions": "Copy and paste the \"WRITE KEY\" from the \"API Keys\" page in your Segment dashboard."
            },
            "required": true,
            "type": "string"
          },
          "userId": {
            "description": "A unique identifier for the user who performed this action.",
            "extendedDescription": "An arbitrary unique identifier for this user.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#identities",
            "example": "019mr8mf4r",
            "required": true,
            "type": "string"
          },
          "event": {
            "description": "The name of the action this user performed.",
            "example": "foobarbaz",
            "required": true,
            "type": "string"
          },
          "properties": {
            "typeclass": "dictionary",
            "description": "A free-form dictionary of properties of the event, like \"quantity\".",
            "extendedDescription": "Certain properties have special meaning in Segment.  See the \"Properties docs\" on Segment's website for a list of special properties.",
            "moreInfoUrl": "https://segment.com/docs/spec/track#properties",
            "type": "dictionary"
          },
          "integrations": {
            "typeclass": "dictionary",
            "description": "A dictionary of Segment integrations to either enable or disable.",
            "extendedDescription": "\"All\" is a special key that applies when no key for a specific integration is found. This input defaults \"All\" to true, and \"Salesforce\" and \"Mixpanel\" to false. This is because these integrations have strict limits on API calls, and you don't want to run over your limits by accident.",
            "moreInfoUrl": "https://segment.com/docs/spec/common#integrations",
            "defaultsTo": {
              "All": true,
              "Salesforce": false,
              "Mixpanel": false
            },
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var SegmentIO = require('analytics-node');\n    var api = new SegmentIO(inputs.writeKey);\n\n    api.track({\n      userId: inputs.userId,\n      event: inputs.event,\n      properties: inputs.properties||{},\n      integrations: inputs.integrations||{\n        All: true,\n        Mixpanel: false,\n        Salesforce: false\n      }\n    }, function(err, batch){\n      if (err) return exits.error(err);\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-segment/track",
        "docsUrl": "http://node-machine.org/machinepack-segment/track",
        "defaultExit": "success",
        "machinepack": 47,
        "id": 183,
        "createdAt": "2015-03-08T08:59:44.000Z",
        "updatedAt": "2015-07-01T22:19:43.000Z"
      },
      {
        "identity": "identify",
        "variableName": "identify",
        "friendlyName": "Identify user",
        "cacheable": null,
        "sync": null,
        "description": "Identify a user by her unique id and a set of associated traits.",
        "inputs": {
          "writeKey": {
            "example": "C3ut91L4284abn2VdaJ2813Zc193042Kl4",
            "description": "The \"write key\" associated with your Segment account.",
            "whereToGet": {
              "url": "https://segment.com/treeline/treeline.io/settings/keys",
              "instructions": "Copy and paste the \"WRITE KEY\" from the \"API Keys\" page in your Segment dashboard."
            },
            "required": true,
            "type": "string"
          },
          "userId": {
            "description": "A unique identifier for the user being identified.",
            "extendedDescription": "Generally this comes from a trusted source, like your database.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#identities",
            "example": "019mr8mf4r",
            "required": true,
            "type": "string"
          },
          "traits": {
            "typeclass": "dictionary",
            "description": "A free-form dictionary of traits about the group, like \"employees\" or \"industry\".",
            "extendedDescription": "Certain trait keys like \"email\" or \"name\" have special meaning in Segment.  See the \"Traits field docs\" on Segment's website for a list of special trait keys.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#traits",
            "required": true,
            "type": "dictionary"
          },
          "integrations": {
            "typeclass": "dictionary",
            "description": "A dictionary of Segment integrations to either enable or disable.",
            "extendedDescription": "\"All\" is a special key that applies when no key for a specific integration is found. This input defaults \"All\" to true, and \"Salesforce\" and \"Mixpanel\" to false. This is because these integrations have strict limits on API calls, and you don't want to run over your limits by accident.",
            "moreInfoUrl": "https://segment.com/docs/spec/common#integrations",
            "defaultsTo": {
              "All": true,
              "Salesforce": false,
              "Mixpanel": false
            },
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var SegmentIO = require('analytics-node');\n    var api = new SegmentIO(inputs.writeKey);\n\n    api.identify({\n      userId: inputs.userId,\n      traits: inputs.traits||{},\n      // context: inputs.context||{},\n      integrations: inputs.integrations||{\n        All: true,\n        Mixpanel: false,\n        Salesforce: false\n      }\n    }, function(err, batch){\n      if (err) return exits.error(err);\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-segment/identify",
        "docsUrl": "http://node-machine.org/machinepack-segment/identify",
        "defaultExit": "success",
        "machinepack": 47,
        "id": 184,
        "createdAt": "2015-03-08T08:59:44.000Z",
        "updatedAt": "2015-07-01T22:19:43.000Z"
      },
      {
        "identity": "group",
        "variableName": "group",
        "friendlyName": "Group user",
        "cacheable": null,
        "sync": null,
        "description": "Associate a user with a group, like an account or an organization.",
        "inputs": {
          "writeKey": {
            "example": "C3ut91L4284abn2VdaJ2813Zc193042Kl4",
            "description": "The \"write key\" associated with your Segment account.",
            "whereToGet": {
              "url": "https://segment.com/treeline/treeline.io/settings/keys",
              "instructions": "Copy and paste the \"WRITE KEY\" from the \"API Keys\" page in your Segment dashboard."
            },
            "required": true,
            "type": "string"
          },
          "userId": {
            "description": "A unique identifier for the user who performed this action.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#identities",
            "example": "019mr8mf4r",
            "required": true,
            "type": "string"
          },
          "groupId": {
            "description": "A unique identifier for the group who this user is categorized as.",
            "moreInfoUrl": "https://segment.com/docs/spec/group#groupId",
            "example": "8e9df332ac",
            "required": true,
            "type": "string"
          },
          "traits": {
            "typeclass": "dictionary",
            "description": "A free-form dictionary of traits about the user, like \"email\" or \"name\".",
            "extendedDescription": "Certain trait keys like \"email\" or \"name\" have special meaning in Segment.  See the \"Traits field docs\" on Segment's website for a list of special trait keys.",
            "moreInfoUrl": "https://segment.com/docs/spec/group#traits",
            "required": true,
            "type": "dictionary"
          },
          "integrations": {
            "typeclass": "dictionary",
            "description": "A dictionary of Segment integrations to either enable or disable.",
            "extendedDescription": "\"All\" is a special key that applies when no key for a specific integration is found. This input defaults \"All\" to true, and \"Salesforce\" and \"Mixpanel\" to false. This is because these integrations have strict limits on API calls, and you don't want to run over your limits by accident.",
            "moreInfoUrl": "https://segment.com/docs/spec/common#integrations",
            "defaultsTo": {
              "All": true,
              "Salesforce": false,
              "Mixpanel": false
            },
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var SegmentIO = require('analytics-node');\n    var api = new SegmentIO(inputs.writeKey);\n\n    api.group({\n      userId: inputs.userId,\n      groupId: inputs.groupId,\n      traits: inputs.traits||{},\n      integrations: inputs.integrations||{\n        All: true,\n        Mixpanel: false,\n        Salesforce: false\n      }\n    }, function(err, batch) {\n      if (err) return exits.error(err);\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-segment/group",
        "docsUrl": "http://node-machine.org/machinepack-segment/group",
        "defaultExit": "success",
        "machinepack": 47,
        "id": 185,
        "createdAt": "2015-03-08T08:59:44.000Z",
        "updatedAt": "2015-07-01T22:19:43.000Z"
      },
      {
        "identity": "alias",
        "variableName": "alias",
        "friendlyName": "Alias",
        "cacheable": null,
        "sync": null,
        "description": "Merge two user identities, effectively connecting two sets of user data as one.",
        "inputs": {
          "writeKey": {
            "example": "C3ut91L4284abn2VdaJ2813Zc193042Kl4",
            "description": "The \"write key\" associated with your Segment account.",
            "whereToGet": {
              "url": "https://segment.com/treeline/treeline.io/settings/keys",
              "instructions": "Copy and paste the \"WRITE KEY\" from the \"API Keys\" page in your Segment dashboard."
            },
            "required": true,
            "type": "string"
          },
          "sourceUserId": {
            "description": "The existing id you've identified this user with previously.",
            "extendedDescription": "Generally this comes from a trusted source, like your database.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#identities",
            "example": "019mr8mf4r",
            "required": true,
            "type": "string"
          },
          "destinationUserId": {
            "description": "A unique id which references either a new or a different pre-existing identity that user data in Segment should be merged into.",
            "extendedDescription": "Generally this comes from a trusted source, like your database.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#identities",
            "example": "439z31jrq1",
            "required": true,
            "type": "string"
          },
          "integrations": {
            "typeclass": "dictionary",
            "description": "A dictionary of Segment integrations to either enable or disable.",
            "extendedDescription": "\"All\" is a special key that applies when no key for a specific integration is found. This input defaults \"All\" to true, and \"Salesforce\" and \"Mixpanel\" to false. This is because these integrations have strict limits on API calls, and you don't want to run over your limits by accident.",
            "moreInfoUrl": "https://segment.com/docs/spec/common#integrations",
            "defaultsTo": {
              "All": true,
              "Salesforce": false,
              "Mixpanel": false
            },
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var SegmentIO = require('analytics-node');\n    var api = new SegmentIO(inputs.writeKey);\n\n    api.alias({\n      userId: inputs.destinationUserId,\n      previousId: inputs.sourceUserId,\n      integrations: inputs.integrations||{\n        All: true,\n        Mixpanel: false,\n        Salesforce: false\n      }\n    }, function(err, batch){\n      if (err) return exits.error(err);\n      return exits.success();\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This is an advanced method, but it is required to manage user identities successfully in some of Segment's integrations.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-segment/alias",
        "docsUrl": "http://node-machine.org/machinepack-segment/alias",
        "defaultExit": "success",
        "machinepack": 47,
        "id": 186,
        "createdAt": "2015-03-08T18:19:30.000Z",
        "updatedAt": "2015-07-01T22:19:43.000Z"
      },
      {
        "identity": "page",
        "variableName": "page",
        "friendlyName": "Track pageview",
        "cacheable": null,
        "sync": null,
        "description": "Track whenever a user sees a page of your website or screen of your mobile app, along with any properties about the page.",
        "inputs": {
          "writeKey": {
            "example": "C3ut91L4284abn2VdaJ2813Zc193042Kl4",
            "description": "The \"write key\" associated with your Segment account.",
            "whereToGet": {
              "url": "https://segment.com/treeline/treeline.io/settings/keys",
              "instructions": "Copy and paste the \"WRITE KEY\" from the \"API Keys\" page in your Segment dashboard."
            },
            "required": true,
            "type": "string"
          },
          "userId": {
            "description": "A unique identifier for the user who performed this action.",
            "moreInfoUrl": "https://segment.com/docs/spec/identify#identities",
            "example": "019mr8mf4r",
            "required": true,
            "type": "string"
          },
          "pageName": {
            "description": "The name of the of the page, for example \"Signup\" or \"Home\".",
            "example": "Signup",
            "required": true,
            "type": "string"
          },
          "pageCategory": {
            "description": "The category of the page. Useful for things like ecommerce where many pages often live under a larger category.",
            "example": "Docs",
            "type": "string"
          },
          "properties": {
            "typeclass": "dictionary",
            "description": "A free-form dictionary of properties of the page, like \"keywords\" or \"referrer\".",
            "extendedDescription": "Certain properties like \"url\" or \"title\" have special meaning in Segment.  See the \"Properties docs\" on Segment's website for a list of special properties.",
            "moreInfoUrl": "https://segment.com/docs/spec/page#properties",
            "type": "dictionary"
          },
          "integrations": {
            "typeclass": "dictionary",
            "description": "A dictionary of Segment integrations to either enable or disable.",
            "extendedDescription": "\"All\" is a special key that applies when no key for a specific integration is found. This input defaults \"All\" to true, and \"Salesforce\" and \"Mixpanel\" to false. This is because these integrations have strict limits on API calls, and you don't want to run over your limits by accident.",
            "moreInfoUrl": "https://segment.com/docs/spec/common#integrations",
            "defaultsTo": {
              "All": true,
              "Salesforce": false,
              "Mixpanel": false
            },
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var SegmentIO = require('analytics-node');\n    var api = new SegmentIO(inputs.writeKey);\n\n    var opts = {\n      userId: inputs.userId,\n      properties: inputs.properties||{},\n      integrations: inputs.integrations||{\n        All: true,\n        Mixpanel: false,\n        Salesforce: false\n      }\n    };\n\n    if (inputs.pageName) {\n      opts.name = inputs.pageName;\n    }\n    if (inputs.pageCategory) {\n      opts.category = inputs.pageCategory;\n    }\n\n    api.page(opts, function(err, batch){\n      if (err) return exits.error(err);\n      return exits.success();\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-segment/page",
        "docsUrl": "http://node-machine.org/machinepack-segment/page",
        "defaultExit": "success",
        "machinepack": 47,
        "id": 187,
        "createdAt": "2015-03-08T18:19:30.000Z",
        "updatedAt": "2015-07-01T22:19:43.000Z"
      }
    ],
    "identity": "machinepack-segment",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-07-01T00:00:00.000Z",
    "variableName": "Segment",
    "friendlyName": "Segment",
    "description": "Manage users, actions, cohorts and more w/ Segment.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-segment",
    "docsUrl": "http://node-machine.org/machinepack-segment",
    "npmUrl": "http://npmjs.org/package/machinepack-segment",
    "npmPackageName": "machinepack-segment",
    "githubUrl": "http://github.com/treelinehq/machinepack-segment/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-segment/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-segment",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "analytics-node",
        "semverRange": "^1.2.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 47,
    "createdAt": "2015-03-08T08:59:44.000Z",
    "updatedAt": "2015-07-01T22:19:43.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "first",
        "variableName": "first",
        "friendlyName": "First",
        "cacheable": null,
        "sync": true,
        "description": "Get the first elementement",
        "inputs": {
          "collection": {
            "friendlyName": "collection",
            "description": "A collection",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "shift": {
            "friendlyName": "shift",
            "description": "A boolean to specify if use shift method",
            "example": true,
            "required": false,
            "defaultsTo": false,
            "type": "boolean",
            "name": "shift"
          },
          "both": {
            "friendlyName": "both",
            "description": "A boolean to specify if we also return the array ",
            "example": true,
            "required": false,
            "defaultsTo": false,
            "type": "boolean",
            "name": "both"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyError": {
            "description": "Empty collection."
          },
          "success": {
            "description": "OK.",
            "getExample": "        if (Array.isArray(inputs.collection) && inputs.collection.length) {\n          if (inputs.both)\n            return {\n              first: inputs.shift ? inputs.collection.shift() : inputs.collection[0],\n              collection: inputs.collection\n            };\n          else\n            return inputs.shift ? inputs.collection.shift() : inputs.collection[0]\n        }\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true,
            "name": "success",
            "friendlyName": "success"
          }
        },
        "fn": "    if (!Array.isArray(inputs.collection)) { return exits.error(); }\n    else if (!inputs.collection.length) { return exits.emptyError(); }\n    var first = inputs.shift ? inputs.collection.shift() : inputs.collection[0];\n    if (inputs.both)\n      return exits.success({\n        first: first,\n        collection: inputs.collection\n      });\n    else\n      return exits.success(first);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-select/first",
        "docsUrl": "http://node-machine.org/machinepack-select/first",
        "defaultExit": "success",
        "machinepack": 87,
        "id": 325,
        "createdAt": "2015-04-09T22:39:58.000Z",
        "updatedAt": "2015-04-19T11:49:18.000Z"
      },
      {
        "identity": "last",
        "variableName": "last",
        "friendlyName": "Last",
        "cacheable": null,
        "sync": true,
        "description": "Get the last element",
        "inputs": {
          "collection": {
            "friendlyName": "collection",
            "description": "A collection",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "pop": {
            "friendlyName": "pop",
            "description": "A boolean to specify if use pop method",
            "example": true,
            "required": false,
            "defaultsTo": false,
            "type": "boolean",
            "name": "pop"
          },
          "both": {
            "friendlyName": "both",
            "description": "A boolean to specify if we also return the array ",
            "example": true,
            "required": false,
            "defaultsTo": false,
            "type": "boolean",
            "name": "both"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyError": {
            "description": "Empty collection."
          },
          "success": {
            "description": "OK.",
            "getExample": "        if (Array.isArray(inputs.collection) && inputs.collection.length) {\n          if (inputs.both)\n            return {\n              last: inputs.pop ? inputs.collection.pop() : inputs.collection[inputs.collection.length-1],\n              collection: inputs.collection\n            };\n          else\n            return inputs.pop ? inputs.collection.pop() : inputs.collection[inputs.collection.length-1];\n        }\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true,
            "name": "success",
            "friendlyName": "success"
          }
        },
        "fn": "    if (!Array.isArray(inputs.collection)) { return exits.error(); }\n    else if (!inputs.collection.length) { return exits.emptyError(); }\n    var last = inputs.pop ? inputs.collection.pop() : inputs.collection[inputs.collection.length-1];\n    if (inputs.both)\n      return exits.success({\n        last: last,\n        collection: inputs.collection\n      });\n    else\n      return exits.success(last);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-select/last",
        "docsUrl": "http://node-machine.org/machinepack-select/last",
        "defaultExit": "success",
        "machinepack": 87,
        "id": 326,
        "createdAt": "2015-04-09T22:39:58.000Z",
        "updatedAt": "2015-04-19T11:49:18.000Z"
      },
      {
        "identity": "slice",
        "variableName": "slice",
        "friendlyName": "Slice",
        "cacheable": null,
        "sync": true,
        "description": "Get a slice of an array",
        "inputs": {
          "collection": {
            "friendlyName": "collection",
            "description": "A collection",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "start": {
            "friendlyName": "start",
            "description": "A start index",
            "example": 2,
            "required": true,
            "type": "number"
          },
          "end": {
            "friendlyName": "end",
            "description": "end index",
            "example": 5,
            "required": false,
            "type": "number"
          },
          "include": {
            "friendlyName": "Include end",
            "description": "include the end of slice",
            "defaultsTo": false,
            "example": true,
            "type": "boolean",
            "name": "include"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyError": {
            "description": "Empty collection."
          },
          "success": {
            "description": "OK.",
            "getExample": "        if (Array.isArray(inputs.collection) && inputs.collection.length) {\n          return inputs.collection.slice(inputs.start, inputs.end||null);\n        }\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true,
            "name": "success",
            "friendlyName": "success"
          }
        },
        "fn": "    var result;\n    if (!Array.isArray(inputs.collection)) { return exits.error(); }\n    else if (!inputs.collection.length) { return exits.emptyError(); }\n    try {\n      if (inputs.include && inputs.end) { var end = inputs.end + 1; }\n      result = inputs.collection.slice(inputs.start, end||inputs.end||inputs.collection.length);\n    } catch (err) { return exits.error(err); }\n\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-select/slice",
        "docsUrl": "http://node-machine.org/machinepack-select/slice",
        "defaultExit": "success",
        "machinepack": 87,
        "id": 327,
        "createdAt": "2015-04-09T22:39:58.000Z",
        "updatedAt": "2015-04-19T11:49:18.000Z"
      },
      {
        "identity": "take",
        "variableName": "take",
        "friendlyName": "Take",
        "cacheable": null,
        "sync": true,
        "description": "Slice of array with n elements taken from the start",
        "inputs": {
          "collection": {
            "friendlyName": "collection",
            "description": "A collection",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "num": {
            "friendlyName": "num",
            "description": "A number of elements",
            "example": 2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyError": {
            "description": "Empty collection."
          },
          "success": {
            "description": "OK.",
            "getExample": "        if (Array.isArray(inputs.collection) && inputs.collection.length) {\n          return inputs.collection.slice(inputs.start, inputs.end||null);\n        }\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true,
            "name": "success",
            "friendlyName": "success"
          }
        },
        "fn": "    if (!Array.isArray(inputs.collection)) { return exits.error(); }\n    else if (!inputs.collection.length) { return exits.emptyError(); }\n    return exits.success(inputs.collection.slice(0, inputs.num));\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-select/take",
        "docsUrl": "http://node-machine.org/machinepack-select/take",
        "defaultExit": "success",
        "machinepack": 87,
        "id": 330,
        "createdAt": "2015-04-11T01:29:53.000Z",
        "updatedAt": "2015-04-19T11:49:18.000Z"
      },
      {
        "identity": "takeRight",
        "variableName": "takeRight",
        "friendlyName": "TakeRight",
        "cacheable": null,
        "sync": true,
        "description": "Slice of array with n elements taken from the end",
        "inputs": {
          "collection": {
            "friendlyName": "collection",
            "description": "A collection",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "num": {
            "friendlyName": "num",
            "description": "A number of elements",
            "example": 2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyError": {
            "description": "Empty collection."
          },
          "success": {
            "description": "OK.",
            "getExample": "        var end = inputs.collection.length - 1;\n        if (Array.isArray(inputs.collection) && inputs.collection.length) {\n          return inputs.collection.slice(end-inputs.num, end);\n        }\n      ",
            "isDefault": true,
            "hasDynamicOutputType": true,
            "name": "success",
            "friendlyName": "success"
          }
        },
        "fn": "    if (!Array.isArray(inputs.collection)) { return exits.error(); }\n    else if (!inputs.collection.length) { return exits.emptyError(); }\n    var end = inputs.collection.length;\n    return exits.success(inputs.collection.slice(end-inputs.num, end));\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-select/takeRight",
        "docsUrl": "http://node-machine.org/machinepack-select/takeRight",
        "defaultExit": "success",
        "machinepack": 87,
        "id": 331,
        "createdAt": "2015-04-11T01:29:53.000Z",
        "updatedAt": "2015-04-19T11:49:18.000Z"
      },
      {
        "identity": "sample",
        "variableName": "sample",
        "friendlyName": "Sample",
        "cacheable": null,
        "sync": true,
        "description": "Get a random sample from the list",
        "inputs": {
          "collection": {
            "friendlyName": "collection",
            "description": "A collection",
            "typeclass": "array",
            "required": true,
            "type": "array"
          },
          "num": {
            "friendlyName": "num",
            "description": "A number of items",
            "example": 2,
            "required": true,
            "type": "number"
          },
          "both": {
            "friendlyName": "both",
            "description": "A boolean to specify if we also return the array ",
            "example": true,
            "required": false,
            "defaultsTo": false,
            "type": "boolean",
            "name": "both"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "emptyError": {
            "description": "Empty collection."
          },
          "success": {
            "description": "OK.",
            "example": [
              "lorem ipsum",
              5
            ],
            "isDefault": true,
            "hasDynamicOutputType": true,
            "name": "success",
            "friendlyName": "success",
            "type": "array"
          }
        },
        "fn": "    if (!Array.isArray(inputs.collection)) { return exits.error(); }\n    else if (!inputs.collection.length) { return exits.emptyError(); }\n    var rdm = Math.floor(Math.random() * ( inputs.collection.length - inputs.num ));\n    var sample = inputs.collection.splice(rdm, inputs.num);\n\n    if (inputs.both)\n      return exits.success({\n        sample: sample,\n        collection: inputs.collection\n      });\n    else\n      return exits.success(sample);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-select/sample",
        "docsUrl": "http://node-machine.org/machinepack-select/sample",
        "defaultExit": "success",
        "machinepack": 87,
        "id": 351,
        "createdAt": "2015-04-19T11:49:18.000Z",
        "updatedAt": "2015-04-19T11:49:18.000Z"
      }
    ],
    "identity": "machinepack-select",
    "version": "0.1.4",
    "latestVersionPublishedAt": "2015-04-19T00:00:00.000Z",
    "variableName": "Select",
    "friendlyName": "Select",
    "description": "Select first, last or a slice of an array",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-select",
    "docsUrl": "http://node-machine.org/machinepack-select",
    "npmUrl": "http://npmjs.org/package/machinepack-select",
    "npmPackageName": "machinepack-select",
    "githubUrl": "http://github.com/wi2/machinepack-select/",
    "sourceUrl": "http://github.com/wi2/machinepack-select/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": ""
      }
    ],
    "id": 87,
    "createdAt": "2015-04-09T22:39:58.000Z",
    "updatedAt": "2015-04-19T11:49:18.000Z",
    "numMachines": 6
  },
  {
    "machines": [
      {
        "identity": "select",
        "variableName": "select",
        "friendlyName": "select",
        "cacheable": null,
        "sync": null,
        "description": "select item in a list",
        "inputs": {
          "array": {
            "typeclass": "array",
            "friendlyName": "In array",
            "description": "The array to select",
            "example": [
              0,
              1,
              2,
              3
            ],
            "required": true,
            "type": "array"
          },
          "index": {
            "description": "The index of the item in array is selected",
            "typeclass": "*",
            "example": 2,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": 2,
            "selected": "item selected",
            "isDefault": true,
            "type": "number"
          }
        },
        "fn": "    var result;\n    if (isNaN(inputs.index)) return exits.error();\n    inputs.index = inputs.index * 1.0;\n    if (!Array.isArray(inputs.array)) result=JSON.parse(inputs.array)[inputs.index];\n        else result=inputs.array[inputs.index];\n\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-selectone/select",
        "docsUrl": "http://node-machine.org/machinepack-selectone/select",
        "defaultExit": "success",
        "machinepack": 93,
        "id": 342,
        "createdAt": "2015-04-18T20:19:29.000Z",
        "updatedAt": "2015-04-19T09:19:16.000Z"
      }
    ],
    "identity": "machinepack-selectone",
    "version": "1.0.3",
    "latestVersionPublishedAt": "2015-04-19T00:00:00.000Z",
    "variableName": "Selectone",
    "friendlyName": "Selectone",
    "description": "Select one item in a list",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-selectone",
    "docsUrl": "http://node-machine.org/machinepack-selectone",
    "npmUrl": "http://npmjs.org/package/machinepack-selectone",
    "npmPackageName": "machinepack-selectone",
    "githubUrl": "http://github.com/abeauvois/machinepack-selectone/",
    "sourceUrl": "http://github.com/abeauvois/machinepack-selectone/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "imaginair",
        "email": "abeauvois@entropic-synergies.com"
      }
    ],
    "id": 93,
    "createdAt": "2015-04-18T20:19:29.000Z",
    "updatedAt": "2015-04-19T09:19:16.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "send-email",
        "variableName": "sendEmail",
        "friendlyName": "Send email",
        "cacheable": null,
        "sync": null,
        "description": "Send an email",
        "inputs": {
          "apiUser": {
            "description": "The API user of the Sendgrid account to use.",
            "example": "someuser",
            "required": true,
            "whereToGet": {
              "url": "https://sendgrid.com/credentials/new",
              "description": "Use the username you used while creating your SendGrid Account or one of the custom credentials.",
              "extendedDescription": "Your API user is the same string as the password that you use to log onto sendgrid.com. You can also create auxiliary sets of API credentials following this link: https://sendgrid.com/credentials."
            },
            "type": "string"
          },
          "apiKey": {
            "description": "The API key of the Sendgrid account to use.",
            "example": "whateverkey",
            "required": true,
            "whereToGet": {
              "url": "https://sendgrid.com/credentials/new",
              "description": "The key is the password of your main SendGrid account, or the one corresponding to the custom credential",
              "extendedDescription": "Your API key is the same string as the password that you use to log onto sendgrid.com. You can also create auxiliary sets of API credentials following this link: https://sendgrid.com/credentials."
            },
            "type": "string"
          },
          "toEmail": {
            "example": "jane@example.com",
            "description": "Must be a valid email address. This can also be passed in as an array, to send to multiple locations. Example: to[]=a@mail.com[]=b@mail.com. Note that recipients passed in this parameter will be visible as part of the message.",
            "required": true,
            "type": "string"
          },
          "toName": {
            "example": "Jane Doe",
            "description": "Must be a string. If to parameter is an array, toname must be an array with the exact number of array elements as the to field",
            "extendedDescription": "If left blank, defaults to the recipient's email address.",
            "type": "string"
          },
          "subject": {
            "description": "Subject line for the email.",
            "example": "Welcome, Jane!",
            "required": true,
            "type": "string"
          },
          "textMessage": {
            "description": "The plain text content of the body body of the email. It must include at least one of the textMessage or htmlMessage parameters.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "required": true,
            "type": "string"
          },
          "htmlMessage": {
            "description": "The plain text content of the body body of the email. It must include at least one of the textMessage or htmlMessage parameters.",
            "example": "Jane,\nThanks for joining our community.  If you have any questions, please don't hesitate to send them our way.  Feel free to reply to this email directly.\n\nSincerely,\nThe Management",
            "type": "string"
          },
          "fromEmail": {
            "description": "Must be a valid email address from your domain\tThis is where the email will appear to originate from for your recipient",
            "example": "harold@example.enterprise",
            "required": true,
            "type": "string"
          },
          "fromName": {
            "description": "Must a valid string. It is the name appended to the from email field. IE - Your name or company name",
            "example": "Harold Greaseworthy",
            "type": "string"
          },
          "replyTo": {
            "description": "Must a valid email address. This is the email that will be used when replying to your email",
            "example": "support@example.com",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "{\"message\":\"success\"}",
            "description": "OK.",
            "variableName": "sendMailResult",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var sendgrid = require('sendgrid')(inputs.apiUser, inputs.apiKey);\n\n    var email = new sendgrid.Email({\n      to: inputs.toEmail,\n      subject: inputs.subject,\n      text: inputs.textMessage\n    });\n    if (inputs.toName) {\n      email.toname = inputs.toName;\n    }\n    if (inputs.fromEmail) {\n      email.from = inputs.fromEmail;\n    }\n    if (inputs.fromName) {\n      email.fromname = inputs.fromName;\n    }\n    if (inputs.htmlMessage) {\n      email.html = inputs.htmlMessage;\n    }\n\n    sendgrid.send(email, function(err, json) {\n      console.log(err);\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(json);\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sendgrid/send-email",
        "docsUrl": "http://node-machine.org/machinepack-sendgrid/send-email",
        "defaultExit": "success",
        "machinepack": 51,
        "id": 203,
        "createdAt": "2015-03-12T05:39:33.000Z",
        "updatedAt": "2015-03-12T06:09:34.000Z"
      }
    ],
    "identity": "machinepack-sendgrid",
    "version": "1.0.2",
    "latestVersionPublishedAt": "2015-03-12T00:00:00.000Z",
    "variableName": "SendGrid",
    "friendlyName": "SendGrid",
    "description": "Communicate with the SendGrid API to send emails",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-sendgrid",
    "docsUrl": "http://node-machine.org/machinepack-sendgrid",
    "npmUrl": "http://npmjs.org/package/machinepack-sendgrid",
    "npmPackageName": "machinepack-sendgrid",
    "githubUrl": "http://github.com/luislobo/machinepack-sendgrid/",
    "sourceUrl": "http://github.com/luislobo/machinepack-sendgrid/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "sendgrid",
        "semverRange": "^1.6.0"
      }
    ],
    "contributors": [
      {
        "name": "Luis Lobo Borobia",
        "email": ""
      },
      {
        "name": "luislobo",
        "email": "luislobo@gmail.com"
      }
    ],
    "id": 51,
    "createdAt": "2015-03-12T05:39:33.000Z",
    "updatedAt": "2015-03-12T06:09:34.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "load",
        "variableName": "load",
        "friendlyName": "Load session data",
        "cacheable": true,
        "sync": null,
        "description": "Load a string from the session using the specified key.",
        "inputs": {
          "key": {
            "description": "The name of the key in the session store.",
            "example": "loggedInAs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "some string",
            "isDefault": true,
            "type": "string"
          },
          "notFound": {
            "friendlyName": "not found",
            "description": "No value was found in this user session under the specified key."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var value = env.req.session[inputs.key];\n    if (value || value === ''){\n      return exits.success(value);\n    }\n    return exits.notFound();\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-session/load",
        "docsUrl": "http://node-machine.org/machinepack-session/load",
        "defaultExit": "success",
        "machinepack": 61,
        "id": 238,
        "createdAt": "2015-03-17T07:19:41.000Z",
        "updatedAt": "2015-06-30T15:49:58.000Z"
      },
      {
        "identity": "save",
        "variableName": "save",
        "friendlyName": "Save to session",
        "cacheable": null,
        "sync": null,
        "description": "Save a string value to the current session under the specified key.",
        "inputs": {
          "key": {
            "description": "The name of the key in the session store.",
            "example": "loggedInAs",
            "required": true,
            "type": "string"
          },
          "value": {
            "description": "The data to save to the current session.",
            "example": "some string",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    env.req.session[inputs.key] = inputs.value;\n    return exits.success();\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": "Note that the data will not actually be persisted to the session until the response is sent.  This is due to how the session middleware works in Connect/Express/Sails.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-session/save",
        "docsUrl": "http://node-machine.org/machinepack-session/save",
        "defaultExit": "success",
        "machinepack": 61,
        "id": 239,
        "createdAt": "2015-03-17T07:19:41.000Z",
        "updatedAt": "2015-06-30T15:49:58.000Z"
      },
      {
        "identity": "del",
        "variableName": "del",
        "friendlyName": "Delete session key",
        "cacheable": null,
        "sync": null,
        "description": "Delete the specified key in the session.",
        "inputs": {
          "key": {
            "description": "The name of the key in the session store.",
            "example": "loggedInAs",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    delete env.req.session[inputs.key];\n    return exits.success();\n  ",
        "environment": [
          "req"
        ],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-session/del",
        "docsUrl": "http://node-machine.org/machinepack-session/del",
        "defaultExit": "success",
        "machinepack": 61,
        "id": 240,
        "createdAt": "2015-03-17T07:19:41.000Z",
        "updatedAt": "2015-06-30T15:49:58.000Z"
      }
    ],
    "identity": "machinepack-session",
    "version": "0.4.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Session",
    "friendlyName": "Session",
    "description": "Read or write data to the session store indicated by the cookie in the current request.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-session",
    "docsUrl": "http://node-machine.org/machinepack-session",
    "npmUrl": "http://npmjs.org/package/machinepack-session",
    "npmPackageName": "machinepack-session",
    "githubUrl": "http://github.com/treelinehq/machinepack-session/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-session/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-session",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 61,
    "createdAt": "2015-03-17T07:19:41.000Z",
    "updatedAt": "2015-06-30T15:49:58.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "post-to-channel",
        "variableName": "postToChannel",
        "friendlyName": "Post to channel",
        "cacheable": null,
        "sync": null,
        "description": "Post a message to the specified channel in Slack.",
        "inputs": {
          "webhookUrl": {
            "description": "A Slack webhook URL",
            "example": "https://hooks.slack.com/services/xxxxyyyy/ZZZZZZZZ/XXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "https://slack.com/services/new/incoming-webhook",
              "description": "Setup a new webhook, then copy the \"Webhook URL\".",
              "extendedDescription": "You will need to be logged in to Slack, or sign up for an account if you haven't already."
            },
            "friendlyName": "Webook URL",
            "type": "string"
          },
          "username": {
            "description": "The username to use when posting",
            "example": "someboty",
            "friendlyName": "Username",
            "type": "string"
          },
          "channel": {
            "description": "The Slack channel where the post should be sent",
            "example": "#general",
            "friendlyName": "Channel",
            "required": true,
            "type": "string"
          },
          "message": {
            "description": "The message to post",
            "example": "Good morning, boys and girls!",
            "friendlyName": "Message",
            "required": true,
            "type": "string"
          },
          "iconEmoji": {
            "example": ":ghost:",
            "friendlyName": "Icon Emoji",
            "description": "The bot icon to display next to the post.",
            "whereToGet": "http://www.emoji-cheat-sheet.com/",
            "type": "string"
          },
          "linkNames": {
            "example": true,
            "friendlyName": "Link names?",
            "description": "Whether or not create links out of channel names and usernames",
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Specified subdomain and webhook token combination does not match any known Slack accounts"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n    Http.sendHttpRequest({\n      url: inputs.webhookUrl,\n      method: 'post',\n      params: {\n        channel: inputs.channel,\n        text: inputs.message,\n        link_names: inputs.linkNames ? 1 : 0,\n        icon_emoji: inputs.iconEmoji,\n        username: inputs.username\n      }\n    }).exec({\n      success: exits.success,\n      notFound: exits.notFound,\n      error: exits.error\n    });\n  ",
        "environment": [],
        "extendedDescription": "Unless otherwise configured, this machine posts to the \"#general\" channel.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-slack/post-to-channel",
        "docsUrl": "http://node-machine.org/machinepack-slack/post-to-channel",
        "defaultExit": "success",
        "machinepack": 23,
        "id": 93,
        "createdAt": "2015-02-16T23:51:37.000Z",
        "updatedAt": "2015-07-02T00:09:54.000Z"
      }
    ],
    "identity": "machinepack-slack",
    "version": "1.0.1",
    "latestVersionPublishedAt": "2015-07-02T00:00:00.000Z",
    "variableName": "Slack",
    "friendlyName": "Slack",
    "description": "Use the Slack API via Node machines.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_slack.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-slack",
    "docsUrl": "http://node-machine.org/machinepack-slack",
    "npmUrl": "http://npmjs.org/package/machinepack-slack",
    "npmPackageName": "machinepack-slack",
    "githubUrl": "http://github.com/balderdashy/machinepack-slack/",
    "sourceUrl": "http://github.com/balderdashy/machinepack-slack/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.3.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": "mikermcneil"
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 23,
    "createdAt": "2015-02-16T23:51:37.000Z",
    "updatedAt": "2015-07-02T00:09:54.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "verify-address",
        "variableName": "verifyAddress",
        "friendlyName": "Verify Address",
        "cacheable": null,
        "sync": null,
        "description": "Verify one or more addresses using the SmartyStreets API",
        "inputs": {
          "authId": {
            "required": true,
            "example": "ffffffff-1111-37f9-aaa2-abcdefghijkl",
            "description": "Your SmartyStreet Auth ID",
            "whereToGet": {
              "url": "https://smartystreets.com/account#keys",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "authToken": {
            "required": true,
            "example": "ljadfolaj2lkjasdiosadfhlksdalkdasjfsdlkfjklsjf8yoihaksdfh/USDF",
            "description": "Your SmartyStreet Auth Token",
            "whereToGet": {
              "url": "https://smartystreets.com/account#keys",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "input_id": {
            "example": "address-123",
            "description": "A unique identifier for this address used in your application; this field will be copied into the output.",
            "type": "string"
          },
          "street": {
            "required": true,
            "example": "123 Main Street",
            "description": "The street line of the address, or an entire address",
            "type": "string"
          },
          "street2": {
            "example": "North",
            "description": "Any extra address information",
            "type": "string"
          },
          "secondary": {
            "example": "Suite 2A",
            "description": "Apartment, suite, or office number",
            "type": "string"
          },
          "city": {
            "example": "Doylestown",
            "description": "The city name",
            "type": "string"
          },
          "state": {
            "example": "PA or Pennsylvania",
            "description": "The state name or abbreviation",
            "type": "string"
          },
          "zipcode": {
            "example": "18901",
            "description": "The ZIP Code",
            "type": "string"
          },
          "lastline": {
            "example": "Doylestown, PA 18901",
            "description": "City, state, and ZIP Code combined",
            "type": "string"
          },
          "addressee": {
            "example": "Jane Doe",
            "description": "The name of the recipient, firm, or company at this address",
            "type": "string"
          },
          "urbanization": {
            "example": "San Juan",
            "description": "Only used in Puerto Rico",
            "type": "string"
          },
          "candidates": {
            "example": "1, 5, or 10 (max value)",
            "description": "The maximum number of valid addresses returned when the input is ambiguous",
            "extendedDescription": "The max value is 10.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      url: 'https://api.smartystreets.com/street-address',\n      method: 'get',\n      params: {\n        'auth-id': inputs.authId,\n        'auth-token': inputs.authToken,\n        input_id: inputs.input_id,\n        street: inputs.street,\n        street2: inputs.street2 || '',\n        secondary: inputs.secondary || '',\n        city: inputs.city || '',\n        state: inputs.state || '',\n        zipcode: inputs.zipcode || '',\n        lastline: inputs.lastline || '',\n        addressee: inputs.addressee || '',\n        urbanization: inputs.urbanization || '',\n        candidates: inputs.candidates || 10\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).exec({\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        var json = JSON.parse(result.body);\n        return exits.error(json);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        var json = JSON.parse(result.body);\n        return exits.error(json);\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        var json = JSON.parse(result.body);\n        return exits.error(json);\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        var json = JSON.parse(result.body);\n        return exits.error(json);\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        var json = JSON.parse(result.body);\n        return exits.error(json);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Unexpected connection error; could not send or receive HTTP request.');\n      },\n      // OK.\n      success: function(result) {\n        var json = JSON.parse(result.body);\n        return exits.success(json);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Read the docs here: https://smartystreets.com/docs/address",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-smartystreets/verify-address",
        "docsUrl": "http://node-machine.org/machinepack-smartystreets/verify-address",
        "defaultExit": "success",
        "machinepack": 57,
        "id": 229,
        "createdAt": "2015-03-17T02:09:38.000Z",
        "updatedAt": "2015-04-24T17:59:34.000Z"
      },
      {
        "identity": "verify-city-state-zip",
        "variableName": "verifyCityStateZip",
        "friendlyName": "Verify City State Zip",
        "cacheable": null,
        "sync": null,
        "description": "Look up and verify city, state, and ZIP Code combinations",
        "inputs": {
          "authId": {
            "required": true,
            "example": "ffffffff-1111-37f9-aaa2-abcdefghijkl",
            "description": "Your SmartyStreet Auth ID",
            "whereToGet": {
              "url": "https://smartystreets.com/account#keys",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "authToken": {
            "required": true,
            "example": "ljadfolaj2lkjasdiosadfhlksdalkdasjfsdlkfjklsjf8yoihaksdfh/USDF",
            "description": "Your SmartyStreet Auth Token",
            "whereToGet": {
              "url": "https://smartystreets.com/account#keys",
              "description": "",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "city": {
            "example": "Doylestown",
            "description": "The city name",
            "extendedDescription": "You must provide a ZIP code and/or a city/state combination.  You cannot provide city alone.",
            "type": "string"
          },
          "state": {
            "example": "PA or Pennsylvania",
            "description": "The state name or abbreviation",
            "type": "string"
          },
          "zipcode": {
            "example": "18901",
            "description": "The 5-digit ZIP Code",
            "type": "string"
          },
          "input_id": {
            "example": "address-123",
            "description": "A unique identifier for this address used in your application; this field will be copied into the output.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "missingParams": {
            "description": "You must provide a ZIP code and/or City/State combination"
          },
          "cityAlone": {
            "description": "You cannot just provide a city"
          },
          "blank": {
            "description": "Blank lookup (you must provide a ZIP code and/or City/State combination"
          },
          "invalidState": {
            "description": "Invalid State name or abbreviation."
          },
          "invalidCity": {
            "description": "Invalid City for the given State."
          },
          "invalidZipcode": {
            "description": "Invalid ZIP Code"
          },
          "conflict": {
            "description": "Conflicting ZIP Code/City/State information"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var Http = require('machinepack-http');\n\n    if (!inputs.city && !inputs.state && !inputs.zipcode) {\n      return exits.missingParams();\n    }\n    if (inputs.city && (!inputs.state && !inputs.zipcode)) {\n      return exits.cityAlone();\n    }\n\n    var city = inputs.city || '';\n    var state = inputs.state || '';\n    var zipcode = inputs.zipcode || '';\n\n    Http.sendHttpRequest({\n      url: 'https://api.smartystreets.com/zipcode',\n      method: 'get',\n      params: {\n        'auth-id': inputs.authId,\n        'auth-token': inputs.authToken,\n        input_id: inputs.input_id,\n        city: inputs.city || '',\n        state: inputs.state || '',\n        zipcode: inputs.zipcode || ''\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).exec({\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n      // 404 status code returned from server\n      notFound: function(result) {\n        return exits.error(result);\n      },\n      // 400 status code returned from server\n      badRequest: function(result) {\n        return exits.error(result);\n      },\n      // 403 status code returned from server\n      forbidden: function(result) {\n        return exits.error(result);\n      },\n      // 401 status code returned from server\n      unauthorized: function(result) {\n        return exits.error(result);\n      },\n      // 5xx status code returned from server (this usually means something went wrong on the other end)\n      serverError: function(result) {\n        return exits.error(result);\n      },\n      // Unexpected connection error: could not send or receive HTTP request.\n      requestFailed: function() {\n        return exits.error('Unexpected connection error; could not send or receive HTTP request.');\n      },\n      // OK.\n      success: function(result) {\n        var json = JSON.parse(result.body);\n        console.log(json[0]);\n        // Input that doesn't yield a match is returned with a status and reason:\n        if (json[0].status || json[0].reason) {\n          var status = json[0].status;\n          var reason = json[0].reason;\n          switch (status) {\n            case 'blank':\n              return exits.blank(json);\n              break;\n            case 'invalid_state':\n              return exits.invalidState(json);\n              break;\n            case 'invalid_city':\n              return exits.invalidCity(json);\n              break;\n            case 'invalid_zipcode':\n              return exits.invalidZipcode(json);\n              break;\n            case 'conflict':\n              return exits.conflict(json);\n              break;\n          }\n        }\n        return exits.success(json);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Read the docs here: https://smartystreets.com/docs/city-state-zip.  Each combination of city/state or ZIP is accepted, except for city alone.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-smartystreets/verify-city-state-zip",
        "docsUrl": "http://node-machine.org/machinepack-smartystreets/verify-city-state-zip",
        "defaultExit": "success",
        "machinepack": 57,
        "id": 230,
        "createdAt": "2015-03-17T02:09:38.000Z",
        "updatedAt": "2015-04-24T17:59:34.000Z"
      }
    ],
    "identity": "machinepack-smartystreets",
    "version": "1.0.1",
    "latestVersionPublishedAt": "2015-04-24T00:00:00.000Z",
    "variableName": "SmartyStreets",
    "friendlyName": "SmartyStreets",
    "description": "Interact with the SmartyStreets.com address API",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-smartystreets",
    "docsUrl": "http://node-machine.org/machinepack-smartystreets",
    "npmUrl": "http://npmjs.org/package/machinepack-smartystreets",
    "npmPackageName": "machinepack-smartystreets",
    "githubUrl": "https://bitbucket.org/mstralka/machinepack-smartystreets/",
    "sourceUrl": "https://bitbucket.org/mstralka/machinepack-smartystreets/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "mstralka",
        "email": "mstralka@vorenusventures.com"
      }
    ],
    "id": 57,
    "createdAt": "2015-03-17T02:09:37.000Z",
    "updatedAt": "2015-04-24T17:59:34.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "join",
        "variableName": "join",
        "friendlyName": "Join room",
        "cacheable": null,
        "sync": null,
        "description": "Subscribes the specified sockets to a room.",
        "inputs": {
          "roomName": {
            "friendlyName": "Room name",
            "example": "myChatRoom",
            "description": "The name of the room to join.",
            "required": true,
            "type": "string"
          },
          "socketIds": {
            "friendlyName": "Socket IDs",
            "example": [
              "a82ghda99319gadgaa3249103"
            ],
            "description": "Unique identifiers of the sockets to subscribe to the room.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    env.sails.sockets.join(\n      inputs.socketIds,\n      inputs.roomName\n    );\n    return exits.success();\n  ",
        "environment": [
          "sails"
        ],
        "extendedDescription": "Subscribes the sockets to the room with the specified name.  Any messages subsequently broadcast to the room will be received by those sockets.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/join",
        "docsUrl": "http://node-machine.org/machinepack-sockets/join",
        "defaultExit": "success",
        "machinepack": 32,
        "id": 112,
        "createdAt": "2015-02-16T23:51:53.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      },
      {
        "identity": "broadcast",
        "variableName": "broadcast",
        "friendlyName": "Send to room",
        "cacheable": null,
        "sync": null,
        "description": "Broadcast a message to all connected sockets in the specified room.",
        "inputs": {
          "eventName": {
            "friendlyName": "Message name",
            "description": "The name (aka \"event name\") to use for the message (just an arbitrary label)",
            "example": "news",
            "required": true,
            "type": "string"
          },
          "data": {
            "example": "*",
            "friendlyName": "Message data",
            "description": "Data to send with the message.",
            "type": "string"
          },
          "roomName": {
            "friendlyName": "Room",
            "example": "myChatRoom",
            "description": "The name of the room where this message will be broadcasted.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    env.sails.sockets.broadcast(\n      inputs.roomName,\n      inputs.eventName || 'message',\n      inputs.data || null\n    );\n    return exits.success();\n  ",
        "environment": [
          "sails"
        ],
        "extendedDescription": "Note that this machine does not wait for any kind of acknowledgement of message delivery, so it is immediate/synchronous.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/broadcast",
        "docsUrl": "http://node-machine.org/machinepack-sockets/broadcast",
        "defaultExit": "success",
        "machinepack": 32,
        "id": 113,
        "createdAt": "2015-02-16T23:51:53.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      },
      {
        "identity": "leave",
        "variableName": "leave",
        "friendlyName": "Leave room",
        "cacheable": null,
        "sync": null,
        "description": "Unsubscribes the specified sockets from a room.",
        "inputs": {
          "roomName": {
            "friendlyName": "Room name",
            "example": "myChatRoom",
            "description": "The name of the room to leave.",
            "required": true,
            "type": "string"
          },
          "socketIds": {
            "friendlyName": "Socket IDs",
            "example": [
              "a82ghda99319gadgaa3249103"
            ],
            "description": "Unique identifiers of the sockets to subscribe to the room.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    env.sails.sockets.leave(\n      inputs.socketIds,\n      inputs.roomName\n    );\n    return exits.success();\n  ",
        "environment": [
          "sails"
        ],
        "extendedDescription": "Unsubscribes the sockets from the room with the specified name.  Any messages subsequently broadcast to the room will no longer be received by those sockets.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/leave",
        "docsUrl": "http://node-machine.org/machinepack-sockets/leave",
        "defaultExit": "success",
        "machinepack": 32,
        "id": 114,
        "createdAt": "2015-02-16T23:51:53.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      },
      {
        "identity": "blast",
        "variableName": "blast",
        "friendlyName": "Send to all",
        "cacheable": null,
        "sync": null,
        "description": "Blast out a message to all connected sockets.",
        "inputs": {
          "eventName": {
            "friendlyName": "Message name",
            "description": "The name (aka \"event name\") to use for the message (just an arbitrary label)",
            "example": "news",
            "required": true,
            "type": "string"
          },
          "data": {
            "example": "*",
            "friendlyName": "Message data",
            "description": "Data to send with the message.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    env.sails.sockets.blast(\n      inputs.eventName || 'message',\n      inputs.data || null\n    );\n    return exits.success();\n  ",
        "environment": [
          "sails"
        ],
        "extendedDescription": "This will send a message to EVERY socket connected to an app, as opposed to \"Broadcast\" which only sends messages to a specific room.  Note that this machine does not wait for any kind of acknowledgement of message delivery, so it is immediate/synchronous.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/blast",
        "docsUrl": "http://node-machine.org/machinepack-sockets/blast",
        "defaultExit": "success",
        "machinepack": 32,
        "id": 115,
        "createdAt": "2015-02-16T23:51:53.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      },
      {
        "identity": "emit",
        "variableName": "emit",
        "friendlyName": "Send to sockets",
        "cacheable": null,
        "sync": null,
        "description": "Send a message to one or more connected sockets.",
        "inputs": {
          "socketIds": {
            "friendlyName": "Recipients (socket IDs)",
            "example": [
              "a82ghda99319gadgaa3249103"
            ],
            "description": "Unique identifiers of the sockets who will receive this message.",
            "required": true,
            "type": "array"
          },
          "eventName": {
            "friendlyName": "Message name",
            "description": "The name (aka \"event name\") to use for the message (just an arbitrary label)",
            "example": "news",
            "required": true,
            "type": "string"
          },
          "data": {
            "example": "*",
            "friendlyName": "Message data",
            "description": "Data to send with the message.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    env.sails.sockets.emit(\n      inputs.socketIds,\n      inputs.eventName || 'message',\n      inputs.data || null\n    );\n    return exits.success();\n  ",
        "environment": [
          "sails"
        ],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/emit",
        "docsUrl": "http://node-machine.org/machinepack-sockets/emit",
        "defaultExit": "success",
        "machinepack": 32,
        "id": 116,
        "createdAt": "2015-02-16T23:51:53.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      },
      {
        "identity": "get-socket-id",
        "variableName": "getSocketId",
        "friendlyName": "Get requesting socket ID",
        "cacheable": true,
        "sync": true,
        "description": "Get the unique ID of the socket making this virtual HTTP request.",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "abc123",
            "isDefault": true,
            "type": "string"
          },
          "reqNotCompatible": {
            "description": "This request did not originate from Socket.io."
          }
        },
        "fn": "    if (!env.req.isSocket){\n      return exits.reqNotCompatible();\n    }\n    return exits.success(env.sails.sockets.id(env.req.socket));\n  ",
        "environment": [
          "req",
          "sails"
        ],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/get-socket-id",
        "docsUrl": "http://node-machine.org/machinepack-sockets/get-socket-id",
        "defaultExit": "success",
        "machinepack": 32,
        "id": 117,
        "createdAt": "2015-02-16T23:51:53.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      },
      {
        "identity": "connect-client-socket",
        "variableName": "connectClientSocket",
        "friendlyName": "Connect client socket",
        "cacheable": null,
        "sync": null,
        "description": "Connect a Socket.io client to a Sails.js server.",
        "inputs": {
          "eventListeners": {
            "description": "A mapping of event listeners for client socket events.",
            "example": [
              {
                "name": "foobar",
                "fn": "->"
              }
            ],
            "defaultsTo": [],
            "type": "array"
          },
          "baseUrl": {
            "description": "The base URL for the Sails.js server",
            "example": "http://localhost:1337",
            "required": true,
            "type": "string"
          },
          "timeout": {
            "description": "The max time to wait before giving up on initial connection (in miliseconds)",
            "example": 5000,
            "defaultsTo": 5000,
            "type": "number"
          }
        },
        "exits": {
          "tookTooLong": {
            "description": "The socket took too long to connect.  Are you sure your internet connection is working?  Or maybe the server is not online, or not accepting WebSocket traffic.",
            "extendedDescription": "It is also possible the server is just slow, in which case you should increase the `timeout` option."
          },
          "success": {
            "description": "OK.",
            "variableName": "socket",
            "example": "===",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var SocketIOClient = require('socket.io-client');\n    var SailsIOClient = require('sails.io.js');\n\n    // Instantiate the socket client (`io`)\n    // (we must explicitly pass in the socket.io client when using this library from Node.js)\n    var io = SailsIOClient(SocketIOClient);\n\n    // Set some options:\n    io.sails.autoConnect = false; // <= prevent a socket from being automatically connected\n    io.sails.environment = 'production';    // <= disable log output\n\n    var socket = io.sails.connect(inputs.baseUrl, {\n      multiplex: false,          //<= prevent weird entanglement if this happens to get required more than once\n      transports: ['websocket']  //<= only use WebSockets (no need for long-polling, etc-- this isn't a browser.)\n    });\n\n\n    // Set up a timeout for the initial socket connection request,\n    // as well as a spin-lock (`isDoneAlready`) to prevent accidentally\n    // firing `success` more than once if `connect` fires again for some\n    // reason (e.g. on reconnect).  This also prevents `success` from firing\n    // an extra time if the timeout pops before the initial `connect` event does.\n    var isDoneAlready;\n    var alarm = setTimeout(function socketConnectionTimedOut(){\n      if (isDoneAlready){\n        return;\n      }\n      isDoneAlready = true;\n      // TODO: also unbind connection event for performance reasons (i.e. socket.off())\n      try {\n        socket.disconnect();\n      }\n      catch (e) {\n        return exits.error('Socket took too long, and then there was an additional error disconnecting it:\\n'+e.stack);\n      }\n      return exits.tookTooLong();\n    }, inputs.timeout);\n    socket.on('connect', function (){\n      if (isDoneAlready){\n        return;\n      }\n      isDoneAlready = true;\n      clearTimeout(alarm);\n      return exits.success(socket);\n    });\n\n\n    // Bind provided socket event handlers.\n    inputs.eventListeners.forEach(function (eventBinding){\n      socket.on(eventBinding.name, eventBinding.fn);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sockets/connect-client-socket",
        "docsUrl": "http://node-machine.org/machinepack-sockets/connect-client-socket",
        "defaultExit": null,
        "machinepack": 32,
        "id": 633,
        "createdAt": "2015-07-06T02:49:49.000Z",
        "updatedAt": "2015-07-13T08:39:32.000Z"
      }
    ],
    "identity": "machinepack-sockets",
    "version": "1.2.1",
    "latestVersionPublishedAt": "2015-07-13T00:00:00.000Z",
    "variableName": "Socketio",
    "friendlyName": "Socket.io",
    "description": "Publish messages to rooms and/or sockets and more using Sails & Socket.io.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-sockets",
    "docsUrl": "http://node-machine.org/machinepack-sockets",
    "npmUrl": "http://npmjs.org/package/machinepack-sockets",
    "npmPackageName": "machinepack-sockets",
    "githubUrl": "http://github.com/sgress454/machinepack-sockets/",
    "sourceUrl": "http://github.com/sgress454/machinepack-sockets/",
    "testsUrl": "https://travis-ci.org/sgress454/machinepack-sockets",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "sails.io.js",
        "semverRange": "^0.11.5"
      },
      {
        "name": "socket.io-client",
        "semverRange": "^1.3.5"
      }
    ],
    "contributors": [
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 32,
    "createdAt": "2015-02-16T23:51:53.000Z",
    "updatedAt": "2015-07-13T08:39:32.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "insertion-sort",
        "variableName": "insertionSort",
        "friendlyName": "Insertion Sort",
        "cacheable": null,
        "sync": null,
        "description": "Sort an array using Insertion sort algorithm. ",
        "inputs": {
          "array": {
            "example": [
              5,
              3,
              1,
              4,
              2
            ],
            "description": "Array to be sorted.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "sortedArray",
            "description": "OK.",
            "example": [
              1,
              2,
              3,
              4,
              5
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    for(var i = 1 ; i < inputs.array.length ; i++){\n      var value = inputs.array[i]; \n      var hole_position = i ;\n      while( hole_position > 0 &&  inputs.array[hole_position - 1] > value ){\n        inputs.array[hole_position] = inputs.array[hole_position - 1];\n        hole_position--;\n      }\n      inputs.array[hole_position] = value ;      \n    }\n    return exits.success(inputs.array);\n  ",
        "environment": [],
        "extendedDescription": "Best case : O(n) , Worst case : O(n2)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sort/insertion-sort",
        "docsUrl": "http://node-machine.org/machinepack-sort/insertion-sort",
        "defaultExit": "success",
        "machinepack": 136,
        "id": 599,
        "createdAt": "2015-06-22T01:09:33.000Z",
        "updatedAt": "2015-07-06T06:29:52.000Z"
      },
      {
        "identity": "selection-sort",
        "variableName": "selectionSort",
        "friendlyName": "Selection Sort",
        "cacheable": null,
        "sync": null,
        "description": "Sort an array with Selection sort algorithm ",
        "inputs": {
          "array": {
            "example": [
              5,
              3,
              1,
              4,
              2
            ],
            "description": "Array to be sorted.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "sortedArray",
            "description": "OK.",
            "example": [
              1,
              2,
              3,
              4,
              5
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    \n    for(var i = 0 ; i <= inputs.array.length - 2  ; i++){\n      var minimumIndexValue = i ;\n      for(var j = i + 1 ; j <= inputs.array.length - 1 ; j++ ){\n        if(inputs.array[j] < inputs.array[minimumIndexValue])\n          minimumIndexValue = j ;\n      }   \n      var temp = inputs.array[i];\n      inputs.array[i] = inputs.array[minimumIndexValue];\n      inputs.array[minimumIndexValue] = temp;  \n    }\n    \n    return exits.success(inputs.array);\n  ",
        "environment": [],
        "extendedDescription": "Time complexity is O(n2)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sort/selection-sort",
        "docsUrl": "http://node-machine.org/machinepack-sort/selection-sort",
        "defaultExit": "success",
        "machinepack": 136,
        "id": 600,
        "createdAt": "2015-06-22T01:39:51.000Z",
        "updatedAt": "2015-07-06T06:29:52.000Z"
      },
      {
        "identity": "bubble-sort",
        "variableName": "bubbleSort",
        "friendlyName": "Bubble Sort",
        "cacheable": null,
        "sync": null,
        "description": "Sort an array using Bubble sort algorithm",
        "inputs": {
          "array": {
            "example": [
              5,
              3,
              1,
              4,
              2
            ],
            "description": "Array to be sorted.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "sortedArray",
            "description": "OK.",
            "example": [
              1,
              2,
              3,
              4,
              5
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    \n    for(var i = 0 ; i < inputs.array.length - 1 ; i++ ){\n      for(var j = 0 ; j < inputs.array.length - i - 1; j++){\n        if(inputs.array[j] > inputs.array[j+1]){\n          var temp = inputs.array[j];\n          inputs.array[j] = inputs.array[j + 1];\n          inputs.array[j + 1] = temp ; \n        }\n      }\n    }\n    \n    return exits.success(inputs.array);\n  ",
        "environment": [],
        "extendedDescription": "Time complexity is O(n2)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sort/bubble-sort",
        "docsUrl": "http://node-machine.org/machinepack-sort/bubble-sort",
        "defaultExit": "success",
        "machinepack": 136,
        "id": 601,
        "createdAt": "2015-06-22T02:29:30.000Z",
        "updatedAt": "2015-07-06T06:29:52.000Z"
      },
      {
        "identity": "merge-sort",
        "variableName": "mergeSort",
        "friendlyName": "Merge Sort",
        "cacheable": null,
        "sync": null,
        "description": "Sort an array using Merge sort algorithm",
        "inputs": {
          "array": {
            "example": [
              5,
              3,
              1,
              4,
              2,
              8,
              7,
              6
            ],
            "description": "Array to be sorted.",
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "sortedArray",
            "description": "OK.",
            "example": [
              1,
              2,
              3,
              4,
              5
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    \n    var merge = function(arr){\n      var arrLength = arr.length;\n      if(arrLength < 2 ) return arr; \n      var mid = arrLength / 2 ;\n      var left = new Array(Math.floor(mid));\n      var right = new Array(Math.floor(arrLength - mid));\n      //split the array into two \n      for (var i = 0; i < arr.length; i++){\n        if(i < mid ) left[i] = arr[i]; \n        else right[i % left.length ] = arr[i]; \n      }\n      //apply merge logic \n      var sortedLeft = merge(left);\n      var sortedRight = merge(right);\n      return mergeTwoArrays(sortedLeft , sortedRight);         \n    };\n    \n    var mergeTwoArrays = function(left,right){\n      var leftFlag = 0 ;\n      var rightFlag = 0 ;\n      var answerArrFlag = 0 ;\n      var answerArray = new Array(left.length + right.length);\n      while(leftFlag < left.length && rightFlag < right.length ){\n        if(left[leftFlag] < right[rightFlag]){\n          answerArray[answerArrFlag] = left[leftFlag];\n          leftFlag++;\n        }else if( right[rightFlag] < left[leftFlag] ){\n          answerArray[answerArrFlag] = right[rightFlag];\n          rightFlag++;\n        }else{\n          //both are equal \n          answerArray[answerArrFlag] = left[leftFlag];\n          answerArrFlag++; leftFlag++;\n          answerArray[answerArrFlag] = right[rightFlag]; rightFlag++;\n        }\n        answerArrFlag++;\n      }\n      if(leftFlag == left.length){\n       for(var j = rightFlag ; j < right.length ;j++){ \n        answerArray[answerArrFlag] = right[j];answerArrFlag++;\n       }\n      }else{\n         for(var j = leftFlag ; j < left.length ;j++){ \n        answerArray[answerArrFlag] = left[j];answerArrFlag++;\n       }\n      }\n      //console.log(answerArray);\n      return answerArray;\n    }; \n    var answer = merge(inputs.array);\n    return exits.success(answer);\n  ",
        "environment": [],
        "extendedDescription": "Time Complexity O(nlog n)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-sort/merge-sort",
        "docsUrl": "http://node-machine.org/machinepack-sort/merge-sort",
        "defaultExit": "success",
        "machinepack": 136,
        "id": 639,
        "createdAt": "2015-07-06T06:29:52.000Z",
        "updatedAt": "2015-07-06T06:29:52.000Z"
      }
    ],
    "identity": "machinepack-sort",
    "version": "1.3.0",
    "latestVersionPublishedAt": "2015-07-06T00:00:00.000Z",
    "variableName": "Sort",
    "friendlyName": "Sort",
    "description": "Implementation of sorting algorithms as node machines.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-sort",
    "docsUrl": "http://node-machine.org/machinepack-sort",
    "npmUrl": "http://npmjs.org/package/machinepack-sort",
    "npmPackageName": "machinepack-sort",
    "githubUrl": "http://github.com/scriptnull/machinepack-sort/",
    "sourceUrl": "http://github.com/scriptnull/machinepack-sort/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "scriptnull",
        "email": "vishnubharathi04@gmail.com"
      }
    ],
    "id": 136,
    "createdAt": "2015-06-22T01:09:33.000Z",
    "updatedAt": "2015-07-06T06:29:52.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": true,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular SoundCloud user account.",
        "inputs": {
          "clientId": {
            "example": "cb4917402e7e92b3908cfaf84f52fe45",
            "description": "The unique identifier for your Soundcloud app  (i.e. this is the \"Client ID\" listed on your app's dashboard page in the SoundCloud developer portal, e.g. http://soundcloud.com/you/apps)",
            "required": true,
            "type": "string"
          },
          "clientSecret": {
            "example": "d0db89af37eef3185a29f0acfed46a9f",
            "description": "The developer \"secret\" for your SoundCloud app (i.e. this is the \"Client Secret\" listed on your app's dashboard page in the SoundCloud developer portal)",
            "required": true,
            "type": "string"
          },
          "grantType": {
            "example": [
              "authorization_code"
            ],
            "description": "The OAuth `code` generated by SoundCloud and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": false,
            "type": "array"
          },
          "code": {
            "example": "51edf90c46322a805ada32a33f1cc30f",
            "description": "The OAuth `code` generated by SoundCloud and sent to the `callbackUrl` if the user chooses to grant your app the requested permissions",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/soundcloud/callback",
            "description": "The redirect URL that was used when generating the provided `code`",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "token": "04u7h-4cc355-70k3n",
              "scope": "non-expiring"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n\r\n    var request = require('request');\r\n\r\n    request.post({\r\n      url: 'https://api.soundcloud.com/oauth2/token',\r\n      json: {\r\n        client_id: inputs.clientId,\r\n        client_secret: inputs.clientSecret,\r\n        grant_type: inputs.grantType || 'authorization_code',\r\n        code: inputs.code,\r\n        redirect_uri: inputs.callbackUrl\r\n      },\r\n      headers: {}\r\n    }, function(err, response, body) {\r\n        if (err) {\r\n          return exits.error(err);\r\n        }\r\n\r\n        if (response.statusCode > 299 || response.statusCode < 200) {\r\n          return exits.error(response.statusCode);\r\n        }\r\n\r\n        // Parse AccessToken from the response body\r\n        try {\r\n          //var data = JSON.parse(body);\r\n          //console.log(body);\r\n          //var accessToken = response.access_token;\r\n          return exits.success({\r\n            token: body.access_token,\r\n            scope: body.scope\r\n          });\r\n        }\r\n        catch (e) {\r\n          return exits.error(e);\r\n        }\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": "Note that you must first have a valid `code` from the user proving that they're OK with this.\nYou can get a code by redirecting the user to the url generated by calling the `getLoginUrl(...)` machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-soundcloud/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-soundcloud/get-access-token",
        "defaultExit": "success",
        "machinepack": 89,
        "id": 333,
        "createdAt": "2015-04-11T11:49:41.000Z",
        "updatedAt": "2015-04-12T21:19:16.000Z"
      },
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login URL",
        "cacheable": true,
        "sync": null,
        "description": "Get the URL on SoundCloud that a user should visit to authorize the specified SoundCloud app (i.e. your app).",
        "inputs": {
          "clientId": {
            "example": "abc123jdhs3h4js",
            "description": "The unique identifier for your SoundCloud app. It's listed on the application settings page.",
            "required": true,
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/soundcloud/callback",
            "description": "The URL in your app where users will be sent after authorization.",
            "required": true,
            "type": "string"
          },
          "responseType": {
            "example": [
              "code"
            ],
            "description": "(code, token_and_code)",
            "type": "array"
          },
          "scope": {
            "example": "non-expiring",
            "description": "Must be `*` or `non-expiring`.",
            "type": "string"
          },
          "display": {
            "example": "popup",
            "description": "Can specify a value of `popup` for mobile optimized screen",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "https://soundcloud.com/connect?client_id=215798311808508&redirect_uri=http://localhost:1337/auth/soundcloud/callback&response_type=code&scope=non-expiring",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n\r\n    var util = require('util');\r\n    var url = 'https://soundcloud.com/connect';\r\n    inputs.scope = inputs.scope || [];\r\n\r\n    // Generate a semi-random string to use for the state\r\n    var state = (Math.random() + 1).toString(36).substring(7);\r\n\r\n    try {\r\n      return exits.success(util.format(\r\n        'https://soundcloud.com/connect?client_id=%s&redirect_uri=%s&response_type=%s&scope=%s&state=%s',\r\n        inputs.clientId, inputs.callbackUrl, inputs.responseType, inputs.scope, state\r\n      ));\r\n    }\r\n    catch(e) {\r\n      return exits.error(e);\r\n    }\r\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your SoundCloud app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-soundcloud/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-soundcloud/get-login-url",
        "defaultExit": "success",
        "machinepack": 89,
        "id": 334,
        "createdAt": "2015-04-11T11:49:41.000Z",
        "updatedAt": "2015-04-12T21:19:16.000Z"
      },
      {
        "identity": "get-current-user",
        "variableName": "getCurrentUser",
        "friendlyName": "Get current user",
        "cacheable": true,
        "sync": null,
        "description": "Get the SoundCloud profile data for a user by access token.",
        "inputs": {
          "accessToken": {
            "description": "A valid access token that can be used to access the SoundCloud api.",
            "example": "AQDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "id": 123,
              "permalink": "sbahn-sounds",
              "username": "Doctor Wilson",
              "uri": "http://api.soundcloud.com/comments/32562",
              "permalink_url": "http://soundcloud.com/bryan/sbahn-sounds",
              "avatar_url": "http://i1.sndcdn.com/avatars-000011353294-n0axp1-large.jpg",
              "country": "Germany",
              "full_name": "Tom Wilson",
              "city": "Berlin",
              "description": "Buskers playing in the S-Bahn station in Berlin",
              "discogs_name": "myrandomband",
              "myspace_name": "myrandomband",
              "website": "http://facebook.com/myrandomband",
              "website_title": "myrandomband on Facebook",
              "online": true,
              "track_count": 12,
              "playlist_count": 1,
              "followers_count": 416,
              "followings_count": 174,
              "public_favorites_count": 26,
              "plan": "Pro Plus",
              "private_tracks_count": 63,
              "private_playlists_count": 3,
              "primary_email_confirmed": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n\r\n    var request = require('request');\r\n\r\n    request.get({\r\n      url: 'https://api.soundcloud.com/me.json',\r\n      qs: {\r\n        'oauth_token': inputs.accessToken\r\n      },\r\n      json: true,\r\n      headers: {}\r\n    }, function(err, response, body) {\r\n       if (err) {\r\n        return exits.error(err);\r\n      }\r\n      if (response.statusCode > 299 || response.statusCode < 200) {\r\n        return exits.error(response.statusCode);\r\n      }\r\n\r\n       // Parse profile data from the response body\r\n        try {\r\n          return exits.success(body);\r\n        }\r\n        catch (e) {\r\n          return exits.error(e);\r\n        }\r\n    });\r\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-soundcloud/get-current-user",
        "docsUrl": "http://node-machine.org/machinepack-soundcloud/get-current-user",
        "defaultExit": "success",
        "machinepack": 89,
        "id": 335,
        "createdAt": "2015-04-11T11:49:41.000Z",
        "updatedAt": "2015-04-12T21:19:16.000Z"
      }
    ],
    "identity": "machinepack-soundcloud",
    "version": "0.3.1",
    "latestVersionPublishedAt": "2015-04-12T00:00:00.000Z",
    "variableName": "SoundCloud",
    "friendlyName": "SoundCloud",
    "description": "Communicate with SoundCloud to authenticate, get profile data, tracks, playlists, and more.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://a-v2.sndcdn.com/assets/images/sc-icons/ios-a62dfc8f.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-soundcloud",
    "docsUrl": "http://node-machine.org/machinepack-soundcloud",
    "npmUrl": "http://npmjs.org/package/machinepack-soundcloud",
    "npmPackageName": "machinepack-soundcloud",
    "githubUrl": "http://github.com/vandermerwed/machinepack-soundcloud/",
    "sourceUrl": "http://github.com/vandermerwed/machinepack-soundcloud/",
    "testsUrl": "https://travis-ci.org/vandermerwed/machinepack-soundcloud",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.6.0"
      },
      {
        "name": "machine",
        "semverRange": "^4.0.4"
      },
      {
        "name": "request",
        "semverRange": "^2.55.0"
      }
    ],
    "contributors": [
      {
        "name": "vandermerwed",
        "email": "daniel@rokkit200.co"
      }
    ],
    "id": 89,
    "createdAt": "2015-04-11T11:49:41.000Z",
    "updatedAt": "2015-04-12T21:19:16.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login URL",
        "cacheable": true,
        "sync": null,
        "description": "Get the URL on Spotify that a user should visit to authorize the specified Spotify app (i.e. your app).",
        "inputs": {
          "clientId": {
            "example": "abc123jdhs3h4js",
            "description": "The clientId for your Spotify app. The client ID provided to you by Spotify when you register your application.",
            "required": true,
            "type": "string"
          },
          "redirectUri": {
            "example": "https://example.com/callback?code=NApCCg..BkWtQ&state=profile%2Factivity",
            "description": "The URI to redirect to after the user grants/denies permission. This URI needs to have been entered in the Redirect URI whitelist that you specified when you registered your application.",
            "required": true,
            "type": "string"
          },
          "responseType": {
            "example": [
              "code"
            ],
            "description": "(code, token_and_code)",
            "type": "array"
          },
          "state": {
            "example": "34fFs29kd09",
            "description": "The state can be useful for correlating requests and responses. Because your redirect_uri can be guessed, using a state value can increase your assurance that an incoming connection is the result of an authentication request. If you generate a random string or encode the hash of some client state (e.g., a cookie) in this state variable, you can validate the response to additionally ensure that the request and response originated in the same browser.",
            "type": "string"
          },
          "scope": {
            "example": "*",
            "description": "A space-separated list of scopes: see Using Scopes. If no scopes are specified, authorization will be granted only to access publicly available information: that is, only information normally visible in the Spotify desktop, web and mobile players. ",
            "type": "string"
          },
          "dialog": {
            "example": "false",
            "description": "Whether or not to force the user to approve the app again if theyâve already done so. If false (default), a user who has already approved the application may be automatically redirected to the URI specified by redirect_uri. If true, the user will not be automatically redirected and will have to approve the app again.",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": "https://accounts.spotify.com/authorize/?client_id=5fe01282e44241328a84e7c5cc169165&response_type=code&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback&scope=user-read-private%20user-read-email&state=34fFs29kd09",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var util = require('util');\n    var url = 'https://accounts.spotify.com';\n    inputs.scope = inputs.scope || [];\n\n    // Generate a semi-random string to use for the state\n    var state = (Math.random() + 1).toString(36).substring(7);\n\n    try {\n      return exits.success(util.format(\n        'https://accounts.spotify.com/authorize/?client_id=%s&response_type=%s&redirect_uri=%s&scope=%s&state=%s',\n        inputs.clientId, inputs.responseType, inputs.redirectUri, inputs.scope, state\n      ));\n    }\n    catch(e) {\n      return exits.error(e);\n    }\n  ",
        "environment": [],
        "extendedDescription": "This is the URL where you typically redirect a user in order for them to grant access to your Spotify app.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-spotify/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-spotify/get-login-url",
        "defaultExit": "success",
        "machinepack": 96,
        "id": 367,
        "createdAt": "2015-04-25T02:29:47.000Z",
        "updatedAt": "2015-04-27T04:19:31.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get Access Token",
        "cacheable": null,
        "sync": null,
        "description": "Get access token to use with requests to Spotify Web API.",
        "inputs": {
          "clientId": {
            "example": "abc123jdhs3h4js",
            "description": "The clientId for your Spotify app. The client ID provided to you by Spotify when you register your application.",
            "required": true,
            "type": "string"
          },
          "clientSecret": {
            "example": "87kljf66jlf9jj98q89f7s8i",
            "description": "Secure key for your Spotify App.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var request = require('request'); // \"Request\" library\n\n    var redirect_uri = 'http://localhost:8888/callback'; // Your redirect uri\n\n    // your application requests authorization\n    var authOptions = {\n      url: 'https://accounts.spotify.com/api/token',\n      headers: {\n        'Authorization': 'Basic ' + (new Buffer(inputs.clientId + ':' + inputs.clientSecret).toString('base64'))\n      },\n      form: {\n        grant_type: 'client_credentials'\n      },\n      json: true\n    };\n\n    request.post(authOptions, function(error, response, body) {\n      if (!error && response.statusCode === 200) {\n        // Return token to access the Spotify Web API\n        return exits.success(body.access_token);\n      } else {\n        return exits.error(error)\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "Get access token using your Client ID and Client Secret for use with requests to Spotify Web API.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-spotify/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-spotify/get-access-token",
        "defaultExit": "success",
        "machinepack": 96,
        "id": 368,
        "createdAt": "2015-04-25T02:29:47.000Z",
        "updatedAt": "2015-04-27T04:19:31.000Z"
      }
    ],
    "identity": "machinepack-spotify",
    "version": "0.0.3",
    "latestVersionPublishedAt": "2015-04-27T00:00:00.000Z",
    "variableName": "Spotify",
    "friendlyName": "Spotify",
    "description": "Communicate with the Spotify API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://a5.mzstatic.com/us/r30/Purple7/v4/bd/87/ae/bd87aec8-6c6c-eb2b-2534-03a319d2787a/icon175x175.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-spotify",
    "docsUrl": "http://node-machine.org/machinepack-spotify",
    "npmUrl": "http://npmjs.org/package/machinepack-spotify",
    "npmPackageName": "machinepack-spotify",
    "githubUrl": "http://github.com/prescottprue/machinepack-spotify/",
    "sourceUrl": "http://github.com/prescottprue/machinepack-spotify/",
    "testsUrl": "https://travis-ci.org/prescottprue/machinepack-spotify",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "Prescott Prue",
        "email": ""
      },
      {
        "name": "prescottprue",
        "email": "sprue.dev@gmail.com"
      }
    ],
    "id": 96,
    "createdAt": "2015-04-22T17:20:49.000Z",
    "updatedAt": "2015-04-27T04:19:31.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "run-ssh-command",
        "variableName": "runSshCommand",
        "friendlyName": "Run SSH Command",
        "cacheable": null,
        "sync": null,
        "description": "Run a command on a remote server via SSH. Requires Host, Username, Password and ommand.",
        "inputs": {
          "hostName": {
            "example": "127.0.0.1",
            "description": "The hostname or IP of the server you would like to SSH into. Do not include the port.",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": "22",
            "description": "The port you wish to connect through on the remote server. This is usually 22 by default.",
            "required": true,
            "type": "string"
          },
          "userName": {
            "example": "user1",
            "description": "The username of the account you would like to SSH into the remote server with.",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "",
            "description": "The password for your user account on the remote server.",
            "required": true,
            "type": "string"
          },
          "command": {
            "example": "mkdir testfolder",
            "description": "The command you wish to execute on the remote machine. For SFTP transfers, use the SFTP function.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "Connection Successful.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var Client = require('ssh2').Client;\n    // Debugging? Un-comment the console.log lines.\n    var conn = new Client();\n\n    conn.on('ready', function() {\n    // console.log('Client :: ready');\n    conn.exec(inputs.command, function(err, stream) {\n      if (err) throw err;\n      stream.on('close', function(code, signal) {\n        // console.log('Stream :: close :: code: ' + code + ', signal: ' + signal);\n        conn.end();\n      }).on('data', function(data) {\n        // console.log('STDOUT: ' + data);\n      }).stderr.on('data', function(data) {\n        // console.log('STDERR: ' + data);\n      });\n    });\n  }).connect({\n    host: inputs.hostName,\n    port: inputs.port,\n    username: inputs.userName,\n    password: inputs.password\n  });\n\n\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ssh/run-ssh-command",
        "docsUrl": "http://node-machine.org/machinepack-ssh/run-ssh-command",
        "defaultExit": "success",
        "machinepack": 76,
        "id": 293,
        "createdAt": "2015-03-29T20:29:14.000Z",
        "updatedAt": "2015-04-23T12:39:17.000Z"
      },
      {
        "identity": "run-ssh-command-keys",
        "variableName": "runSshCommandKeys",
        "friendlyName": "Run SSH Command w/ Keys",
        "cacheable": null,
        "sync": null,
        "description": "Run a command on a remote server via SSH. Requires Host, Username, Password and ommand.",
        "inputs": {
          "hostName": {
            "example": "127.0.0.1",
            "description": "The hostname or IP of the server you would like to SSH into. Do not include the port.",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": "22",
            "description": "The port you wish to connect through on the remote server. This is usually 22 by default.",
            "required": true,
            "type": "string"
          },
          "userName": {
            "example": "user1",
            "description": "The username of the account you would like to SSH into the remote server with.",
            "required": true,
            "type": "string"
          },
          "privatekey": {
            "example": "",
            "description": "The location of your private key on the local server. DO NOT enter the key its self as text!",
            "required": true,
            "type": "string"
          },
          "command": {
            "example": "mkdir testfolder",
            "description": "The command you wish to execute on the remote machine. For SFTP transfers, use the SFTP function.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "Connection Successful.",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var Client = require('ssh2').Client;\n    // Debugging? Un-comment the console.log lines.\n    var conn = new Client();\n\n    conn.on('ready', function() {\n    // console.log('Client :: ready');\n    conn.exec(inputs.command, function(err, stream) {\n      if (err) throw err;\n      stream.on('close', function(code, signal) {\n        // console.log('Stream :: close :: code: ' + code + ', signal: ' + signal);\n        conn.end();\n      }).on('data', function(data) {\n        // console.log('STDOUT: ' + data);\n      }).stderr.on('data', function(data) {\n        // console.log('STDERR: ' + data);\n      });\n    });\n  }).connect({\n    host: inputs.hostName,\n    port: inputs.port,\n    username: inputs.userName,\n    privateKey: require('fs').readFileSync(inputs.privateKey)\n  });\n\n\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-ssh/run-ssh-command-keys",
        "docsUrl": "http://node-machine.org/machinepack-ssh/run-ssh-command-keys",
        "defaultExit": "success",
        "machinepack": 76,
        "id": 360,
        "createdAt": "2015-04-23T12:39:17.000Z",
        "updatedAt": "2015-04-23T12:39:17.000Z"
      }
    ],
    "identity": "machinepack-ssh",
    "version": "2.0.0",
    "latestVersionPublishedAt": "2015-04-23T00:00:00.000Z",
    "variableName": "SSH",
    "friendlyName": "SSH",
    "description": "Use SSH to send any command to a remote server with or without private keys.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://tiberius.delta9.pl/k/i/ssh-picture.jpg",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-ssh",
    "docsUrl": "http://node-machine.org/machinepack-ssh",
    "npmUrl": "http://npmjs.org/package/machinepack-ssh",
    "npmPackageName": "machinepack-ssh",
    "githubUrl": "http://github.com/nilefrater/machinepack-ssh/",
    "sourceUrl": "http://github.com/nilefrater/machinepack-ssh/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.6.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "ssh2",
        "semverRange": "^0.4.4"
      }
    ],
    "contributors": [
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 76,
    "createdAt": "2015-03-29T20:29:14.000Z",
    "updatedAt": "2015-04-23T12:39:17.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-tests",
        "variableName": "getTests",
        "friendlyName": "Get Tests",
        "cacheable": true,
        "sync": null,
        "description": "Get all Tests connected to your StatusCake account.",
        "inputs": {
          "statusCakeUser": {
            "example": "mcavoy",
            "description": "The user ID of your StatusCake account,",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "example": "phae6aesa5ohgh1vov7aeM7Kaec2eeca",
            "description": "Your StatusCake API key.",
            "required": true,
            "whereToGet": {
              "url": "https://www.statuscake.com/App/APIKey.php",
              "description": "Copy \"Below is your API Key\" from your dashboard."
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNotUser": {
            "description": "Invalid or unprovided API key or username. All calls must have a valid StatusCake API key and username."
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "TestID": 378573,
                "Paused": false,
                "TestType": "HTTP",
                "WebsiteName": "node-statuscake test",
                "ContactGroup": null,
                "ContactID": 0,
                "Public": 0,
                "Status": "Up",
                "NormalisedResponse": 0,
                "Uptime": 100
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    var statuscake = require(\"statuscake\");\n    statuscake\n      .username(inputs.statusCakeUser)\n      .key(inputs.apiKey)\n      .tests(function (err, data) {\n        if (err) {\n          return exits.error(err);\n        }\n        if (undefined !== data.ErrNo && 0 === data.ErrNo) {\n          return exits.wrongOrNotUser(data.Error);\n        }\n        return exits.success(data);\n      });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": "http://statuscake.com/api/Tests/Get%20All%20Tests.md",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-statuscake/get-tests",
        "docsUrl": "http://node-machine.org/machinepack-statuscake/get-tests",
        "defaultExit": "success",
        "machinepack": 83,
        "id": 315,
        "createdAt": "2015-04-04T05:29:23.000Z",
        "updatedAt": "2015-04-04T05:49:37.000Z"
      },
      {
        "identity": "get-tests-details",
        "variableName": "getTestsDetails",
        "friendlyName": "Get Tests details",
        "cacheable": true,
        "sync": null,
        "description": "Get detail information about a Test.",
        "inputs": {
          "statusCakeUser": {
            "example": "mcavoy",
            "description": "The user ID of your StatusCake account,",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "example": "phae6aesa5ohgh1vov7aeM7Kaec2eeca",
            "description": "Your StatusCake API key.",
            "required": true,
            "type": "string"
          },
          "id": {
            "example": 34567,
            "description": "ID of the StatusCake Test.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNotUser": {
            "description": "Invalid or unprovided API key or username. All calls must have a valid StatusCake API key and username."
          },
          "success": {
            "description": "OK.",
            "example": {
              "Method": "GET",
              "TestID": 378573,
              "TestType": "HTTP",
              "Paused": false,
              "WebsiteName": "node-statuscake test",
              "URI": "https://www.npmjs.com/package/statuscake",
              "ContactGroup": null,
              "ContactID": 0,
              "Status": "Up",
              "Tags": [
                "devel"
              ],
              "Uptime": 0,
              "CheckRate": 86400,
              "Timeout": 40,
              "LogoImage": "",
              "Confirmation": "3",
              "WebsiteHost": "",
              "NodeLocations": [
                ""
              ],
              "FindString": "",
              "DoNotFind": false,
              "LastTested": "2015-04-03 10:39:20",
              "NextLocation": "UNSET",
              "Processing": false,
              "ProcessingState": "Complete",
              "ProcessingOn": "PL1",
              "DownTimes": "0",
              "Sensitive": false
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var statuscake = require(\"statuscake\");\n    statuscake\n      .username(inputs.statusCakeUser)\n      .key(inputs.apiKey)\n      .testsDetails(inputs.id, function (err, data) {\n        if (err) return exits.error(err);\n        if (undefined !== data.ErrNo && 0 === data.ErrNo) {\n          return exits.wrongOrNotUser(data.Error);\n        }\n        return exits.success(data);\n      });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": "http://statuscake.com/api/Tests/Get%20Detailed%20Test%20Data.md",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-statuscake/get-tests-details",
        "docsUrl": "http://node-machine.org/machinepack-statuscake/get-tests-details",
        "defaultExit": "success",
        "machinepack": 83,
        "id": 316,
        "createdAt": "2015-04-04T05:29:23.000Z",
        "updatedAt": "2015-04-04T05:49:37.000Z"
      }
    ],
    "identity": "machinepack-statuscake",
    "version": "0.0.4",
    "latestVersionPublishedAt": "2015-04-04T00:00:00.000Z",
    "variableName": "StatusCake",
    "friendlyName": "StatusCake",
    "description": "Work with StatusCake API to get Tests, Contact Groups, Alerts, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-statuscake",
    "docsUrl": "http://node-machine.org/machinepack-statuscake",
    "npmUrl": "http://npmjs.org/package/machinepack-statuscake",
    "npmPackageName": "machinepack-statuscake",
    "githubUrl": "http://github.com/pm5/machinepack-statuscake/",
    "sourceUrl": "http://github.com/pm5/machinepack-statuscake/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "statuscake",
        "semverRange": "^0.1.0"
      }
    ],
    "contributors": [
      {
        "name": "Pomin Wu",
        "email": "pomin5@gmail.com"
      },
      {
        "name": "pm5",
        "email": "pomin5@gmail.com"
      }
    ],
    "id": 83,
    "createdAt": "2015-04-04T04:49:30.000Z",
    "updatedAt": "2015-04-04T05:49:37.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "get-news-for-app",
        "variableName": "getNewsForApp",
        "friendlyName": "Get News for Steam app",
        "cacheable": null,
        "sync": null,
        "description": "Fetch news feeds for each Steam game",
        "inputs": {
          "appid": {
            "description": "AppID of the game you want the news of.",
            "example": 400,
            "required": true,
            "type": "number"
          },
          "count": {
            "description": "How many news entries you want to get returned.",
            "example": 3,
            "type": "number"
          },
          "maxlength": {
            "description": "Maximum length of each news entry.",
            "example": 300,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "appnews": {
                "appid": 400,
                "newsitems": []
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamNews/GetNewsForApp/v0002/',\n      method: 'get',\n      params: {\n        appid: inputs.appid,\n        count: inputs.count,\n        maxlength: inputs.maxlength,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body);\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    })\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-news-for-app",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-news-for-app",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 245,
        "createdAt": "2015-03-17T15:59:57.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-global-achievement-percentage-for-app",
        "variableName": "getGlobalAchievementPercentageForApp",
        "friendlyName": "Get global achievement percentage for app",
        "cacheable": null,
        "sync": null,
        "description": "Returns on global achievements overview of a specific game in percentages.",
        "inputs": {
          "gameid": {
            "description": "AppID of the game you want the percentages of.",
            "example": 400,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "achievementpercentages": {
                "achievements": []
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUserStats/GetGlobalAchievementPercentagesForApp/v0002/',\n      method: 'get',\n      params: {\n        gameid: inputs.gameid,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body);\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-global-achievement-percentage-for-app",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-global-achievement-percentage-for-app",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 258,
        "createdAt": "2015-03-19T15:49:29.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-global-stats-for-game",
        "variableName": "getGlobalStatsForGame",
        "friendlyName": "Get global stats for game",
        "cacheable": null,
        "sync": null,
        "description": "Returns on global statistics of a specific game",
        "inputs": {
          "appid": {
            "description": "AppID of the game you want the percentages of.",
            "example": 400,
            "required": true,
            "type": "number"
          },
          "name": {
            "description": "Name of the achievement as defined in Steamworks.",
            "example": [
              "global.map.emp_isle"
            ],
            "required": true,
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "globalstats": {},
              "result": 1
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    var params = {\n      appid: inputs.appid,\n      count: inputs.name.length,\n      format: 'json'\n    };\n\n    inputs.name.forEach(function (val, idx) {\n      var key = 'name[' + idx + ']';\n      params[key] = val;\n    });\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUserStats/GetGlobalStatsForGame/v0001/',\n      method: 'get',\n      params: params\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body).response;\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    })\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-global-stats-for-game",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-global-stats-for-game",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 261,
        "createdAt": "2015-03-20T15:39:43.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-player-summaries",
        "variableName": "getPlayerSummaries",
        "friendlyName": "Get player summaries",
        "cacheable": null,
        "sync": null,
        "description": "Returns basic profile information for a list of 64-bit Steam IDs.",
        "inputs": {
          "steamids": {
            "description": "Array of SteamIDs",
            "example": [
              "76561197960435530"
            ],
            "required": true,
            "type": "array"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "players": [
                {
                  "steamid": "76561197960435530",
                  "communityvisibilitystate": 3,
                  "profilestate": 1,
                  "personaname": "Robin",
                  "lastlogoff": 1426915786,
                  "profileurl": "http://steamcommunity.com/id/robinwalker/",
                  "avatar": "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/f1/f1dd60a188883caf82d0cbfccfe6aba0af1732d4.jpg",
                  "avatarmedium": "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/f1/f1dd60a188883caf82d0cbfccfe6aba0af1732d4_medium.jpg",
                  "avatarfull": "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/f1/f1dd60a188883caf82d0cbfccfe6aba0af1732d4_full.jpg",
                  "personastate": 0,
                  "realname": "Robin Walker",
                  "primaryclanid": "103582791429521412",
                  "timecreated": 1063407589,
                  "personastateflags": 0,
                  "loccountrycode": "US",
                  "locstatecode": "WA",
                  "loccityid": 3961
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUser/GetPlayerSummaries/v0002/',\n      method: 'get',\n      params: {\n        steamids: inputs.steamids.join(),\n        key: inputs.key,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body).response;\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-player-summaries",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-player-summaries",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 270,
        "createdAt": "2015-03-21T12:39:39.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-friend-list",
        "variableName": "getFriendList",
        "friendlyName": "Get friend list",
        "cacheable": null,
        "sync": null,
        "description": "Returns the friend list of any Steam user, provided his Steam Community profile visibility is set to \"Public\".",
        "inputs": {
          "steamid": {
            "description": "64 bit Steam ID to return friend list for.",
            "example": "76561197960435530",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "relationship": {
            "description": "Relationship filter. Possibles values: all, friend.",
            "example": "friend",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "friendslist": {
                "friends": [
                  {
                    "steamid": "76561197960265731",
                    "relationship": "friend",
                    "friend_since": 0
                  }
                ]
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUser/GetFriendList/v0001/',\n      method: 'get',\n      params: {\n        steamid: inputs.steamid,\n        key: inputs.key,\n        relationship: inputs.relationship,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body);\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-friend-list",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-friend-list",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 273,
        "createdAt": "2015-03-22T11:39:47.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-player-achievements",
        "variableName": "getPlayerAchievements",
        "friendlyName": "Get player achievements",
        "cacheable": null,
        "sync": null,
        "description": "Returns a list of achievements for this user by app id",
        "inputs": {
          "steamid": {
            "description": "64 bit Steam ID to return achievements for.",
            "example": "76561197960435530",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "appid": {
            "description": "The ID for the game you're requesting.",
            "example": 400,
            "required": true,
            "type": "number"
          },
          "l": {
            "description": "Language. If specified, it will return language data for the requested language.",
            "example": "en_US",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "playerstats": {
                "steamID": "76561197972495328",
                "gameName": "Team Fortress 2",
                "achievements": [
                  {
                    "apiname": "TF_PLAY_GAME_EVERYCLASS",
                    "achieved": 1
                  }
                ],
                "success": true
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUserStats/GetPlayerAchievements/v0001/',\n      method: 'get',\n      params: {\n        steamid: inputs.steamid,\n        key: inputs.key,\n        appid: inputs.appid,\n        l: inputs.l,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body);\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-player-achievements",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-player-achievements",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 274,
        "createdAt": "2015-03-23T15:59:48.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-owned-games",
        "variableName": "getOwnedGames",
        "friendlyName": "Get owned games",
        "cacheable": null,
        "sync": null,
        "description": "GetOwnedGames returns a list of games a player owns along with some playtime information, if the profile is publicly visible. Private, friends-only, and other privacy settings are not supported unless you are asking for your own personal details (ie the WebAPI key you are using is linked to the steamid you are requesting).",
        "inputs": {
          "steamid": {
            "description": "The SteamID of the account.",
            "example": "76561197960434622",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "include_appinfo": {
            "description": "Include game name and logo information in the output. The default is to return appids only.",
            "example": 1,
            "type": "number"
          },
          "include_played_free_games": {
            "description": "By default, free games like Team Fortress 2 are excluded (as technically everyone owns them). If include_played_free_games is set, they will be returned if the player has played them at some point. This is the same behavior as the games list on the Steam Community.",
            "example": 1,
            "type": "number"
          },
          "appids_filter": {
            "description": "You can optionally filter the list to a set of appids. Note that these cannot be passed as a URL parameter, instead you must use the JSON format described in Steam_Web_API#Calling_Service_interfaces.",
            "example": [
              440,
              500,
              550
            ],
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "game_count": 1,
              "games": [
                {
                  "appid": 10,
                  "name": "Counter-Strike",
                  "playtime_forever": 32,
                  "img_icon_url": "6b0312cda02f5f777efa2f3318c307ff9acafbb5",
                  "img_logo_url": "af890f848dd606ac2fd4415de3c3f5e7a66fcb9f",
                  "has_community_visible_stats": true
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    var params = {\n      steamid: inputs.steamid,\n      key: inputs.key,\n      include_appinfo: inputs.include_appinfo,\n      include_played_free_games: inputs.include_played_free_games,\n      format: 'json'\n    };\n\n    if (inputs.appids_filter) {\n      params.appids_filter = '[' + inputs.appids_filter.join() + ']';\n    }\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'IPlayerService/GetOwnedGames/v0001/',\n      method: 'get',\n      params: params\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body).response;\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-owned-games",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-owned-games",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 275,
        "createdAt": "2015-03-24T04:49:21.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-recently-played-games",
        "variableName": "getRecentlyPlayedGames",
        "friendlyName": "Get recently played games",
        "cacheable": null,
        "sync": null,
        "description": "GetRecentlyPlayedGames returns a list of games a player has played in the last two weeks, if the profile is publicly visible. Private, friends-only, and other privacy settings are not supported unless you are asking for your own personal details (ie the WebAPI key you are using is linked to the steamid you are requesting).",
        "inputs": {
          "steamid": {
            "description": "64 bit Steam ID to return achievements for.",
            "example": "76561197960435530",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "count": {
            "description": "Optionally limit to a certain number of games (the number of games a person has played in the last 2 weeks is typically very small)",
            "example": 2,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "total_count": 1,
              "games": [
                {
                  "appid": 570,
                  "name": "Dota 2",
                  "playtime_2weeks": 1927,
                  "playtime_forever": 125905,
                  "img_icon_url": "0bbb630d63262dd66d2fdd0f7d37e8661a410075",
                  "img_logo_url": "d4f836839254be08d8e9dd333ecc9a01782c26d2"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'IPlayerService/GetRecentlyPlayedGames/v0001/',\n      method: 'get',\n      params: {\n        steamid: inputs.steamid,\n        key: inputs.key,\n        count: inputs.count,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body).response;\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-recently-played-games",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-recently-played-games",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 279,
        "createdAt": "2015-03-25T14:39:49.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "is-playing-shared-game",
        "variableName": "isPlayingSharedGame",
        "friendlyName": "Is playing shared game",
        "cacheable": null,
        "sync": null,
        "description": "IsPlayingSharedGame returns the original owner's SteamID if a borrowing account is currently playing this game. If the game is not borrowed or the borrower currently doesn't play this game, the result is always 0.",
        "inputs": {
          "steamid": {
            "description": "The SteamID of the account playing.",
            "example": "76561197960435530",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "appid_playing": {
            "description": "The AppID of the game currently playing.",
            "example": "240",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "lender_steamid": "0"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'IPlayerService/IsPlayingSharedGame/v0001/',\n      method: 'get',\n      params: {\n        steamid: inputs.steamid,\n        key: inputs.key,\n        appid_playing: inputs.appid_playing,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body).response;\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/is-playing-shared-game",
        "docsUrl": "http://node-machine.org/machinepack-steam/is-playing-shared-game",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 286,
        "createdAt": "2015-03-28T15:29:32.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-schema-for-game",
        "variableName": "getSchemaForGame",
        "friendlyName": "Get schema for game",
        "cacheable": null,
        "sync": null,
        "description": "GetSchemaForGame returns gamename, gameversion and availablegamestats(achievements and stats).",
        "inputs": {
          "appid": {
            "description": "The AppID of the game you want stats of",
            "example": "620",
            "required": true,
            "type": "string"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "game": {
                "gameName": "Portal 2",
                "gameVersion": "1108170002",
                "availableGameStats": {
                  "achievements": [],
                  "stats": []
                }
              }
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUserStats/GetSchemaForGame/v2/',\n      method: 'get',\n      params: {\n        appid: inputs.appid,\n        key: inputs.key,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body);\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-schema-for-game",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-schema-for-game",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 296,
        "createdAt": "2015-03-30T12:09:31.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      },
      {
        "identity": "get-player-bans",
        "variableName": "getPlayerBans",
        "friendlyName": "Get player bans",
        "cacheable": null,
        "sync": null,
        "description": "GetPlayerBans returns Community, VAC, and Economy ban statuses for given players.",
        "inputs": {
          "steamids": {
            "description": "Array of SteamIDs",
            "example": [
              "76561197960435530"
            ],
            "required": true,
            "type": "array"
          },
          "key": {
            "description": "Steam API Key",
            "example": "XXXXXXXXXXXXXXXXXXXXXXX",
            "required": true,
            "whereToGet": {
              "url": "http://steamcommunity.com/dev/apikey/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "players": [
                {
                  "SteamId": "76561197960435530",
                  "CommunityBanned": false,
                  "VACBanned": false,
                  "NumberOfVACBans": 0,
                  "DaysSinceLastBan": 0,
                  "EconomyBan": "none"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'http://api.steampowered.com/',\n      url: 'ISteamUser/GetPlayerBans/v1/',\n      method: 'get',\n      params: {\n        steamids: inputs.steamids.join(),\n        key: inputs.key,\n        format: 'json'\n      }\n    })\n    .exec({\n      success: function (res) {\n        var response = JSON.parse(res.body);\n        return exits.success(response);\n      },\n      error: function (err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-steam/get-player-bans",
        "docsUrl": "http://node-machine.org/machinepack-steam/get-player-bans",
        "defaultExit": "success",
        "machinepack": 64,
        "id": 298,
        "createdAt": "2015-03-31T05:49:21.000Z",
        "updatedAt": "2015-03-31T05:49:21.000Z"
      }
    ],
    "identity": "machinepack-steam",
    "version": "0.1.10",
    "latestVersionPublishedAt": "2015-03-31T00:00:00.000Z",
    "variableName": "Steam",
    "friendlyName": "Steam",
    "description": "Communicate with Steam Web API to query Steam information.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-steam",
    "docsUrl": "http://node-machine.org/machinepack-steam",
    "npmUrl": "http://npmjs.org/package/machinepack-steam",
    "npmPackageName": "machinepack-steam",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "shernshiou",
        "email": "shernshiou@gmail.com"
      }
    ],
    "id": 64,
    "createdAt": "2015-03-17T15:59:57.000Z",
    "updatedAt": "2015-03-31T05:49:21.000Z",
    "numMachines": 11
  },
  {
    "machines": [
      {
        "identity": "create-read",
        "variableName": "createRead",
        "friendlyName": "Create read",
        "cacheable": null,
        "sync": true,
        "description": "Create a read stream",
        "inputs": {
          "path": {
            "friendlyName": "path",
            "description": "A path file",
            "example": "tmp.log",
            "required": false,
            "type": "string",
            "name": "path"
          },
          "text": {
            "friendlyName": "text",
            "description": "A text",
            "example": "lorem ipsum",
            "required": false,
            "type": "string",
            "name": "text"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "pathError": {
            "description": "File does not exist."
          },
          "noStreamError": {
            "description": "does not exist."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var fs = require('fs'),\n      util = require('util');\n    if (inputs.path && !fs.existsSync(inputs.path))\n      return exits.pathError();\n    else if (!inputs.text)\n      inputs.text = '';\n\n    try {\n      return exits.success(\n        inputs.path\n        ?\n        fs.createReadStream(inputs.path)\n        :\n        require('resumer')().queue(inputs.text).end()\n      );\n    } catch (err) { return exits.error(err); }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/create-read",
        "docsUrl": "http://node-machine.org/machinepack-stream/create-read",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 352,
        "createdAt": "2015-04-19T22:49:47.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "create-write",
        "variableName": "createWrite",
        "friendlyName": "Create write",
        "cacheable": null,
        "sync": true,
        "description": "Create Write Stream",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          },
          "path": {
            "friendlyName": "path",
            "description": "A destination path file",
            "example": "tmp.log",
            "required": true,
            "type": "string",
            "name": "path"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n    try {\n      return exits.success( (inputs.stream||process.stdin).pipe(require('fs').createWriteStream(inputs.path)) );\n    } catch (err) {\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/create-write",
        "docsUrl": "http://node-machine.org/machinepack-stream/create-write",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 353,
        "createdAt": "2015-04-19T22:49:47.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "zip",
        "variableName": "zip",
        "friendlyName": "Zip",
        "cacheable": null,
        "sync": true,
        "description": "Zip a stream",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n    try {\n      return exits.success( inputs.stream ? inputs.stream.pipe(require('zlib').createGzip()) : require('zlib').createGzip())\n    } catch (err) {\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/zip",
        "docsUrl": "http://node-machine.org/machinepack-stream/zip",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 354,
        "createdAt": "2015-04-20T18:59:39.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "unzip",
        "variableName": "unzip",
        "friendlyName": "Unzip",
        "cacheable": null,
        "sync": true,
        "description": "Unzip a stream",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n    try {\n      return exits.success( inputs.stream ? inputs.stream.pipe(require('zlib').createGunzip()) : require('zlib').createGunzip())\n    } catch (err) {\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/unzip",
        "docsUrl": "http://node-machine.org/machinepack-stream/unzip",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 355,
        "createdAt": "2015-04-20T18:59:39.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "md",
        "variableName": "md",
        "friendlyName": "Md",
        "cacheable": null,
        "sync": true,
        "description": "Markdown",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    var MdStream = require('../lib/stream-transformer.js').simple()\n      , marked = require('marked');\n\n    try {\n      var mstream = new MdStream(marked);\n      return exits.success( inputs.stream ? inputs.stream.pipe(mstream) : mstream);\n    } catch (err) { return exits.error(err); }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/md",
        "docsUrl": "http://node-machine.org/machinepack-stream/md",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 356,
        "createdAt": "2015-04-20T18:59:39.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "minify",
        "variableName": "minify",
        "friendlyName": "Minify",
        "cacheable": null,
        "sync": true,
        "description": "Minify html",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    var MinifyStream = require('../lib/stream-transformer.js').simple()\n      , minify = require('html-minifier').minify;\n\n    try {\n      var mstream = new MinifyStream(minify);\n      return exits.success( inputs.stream ? inputs.stream.pipe(mstream) : mstream);\n    } catch (err) { return exits.error(err); }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/minify",
        "docsUrl": "http://node-machine.org/machinepack-stream/minify",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 357,
        "createdAt": "2015-04-20T21:29:45.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "stringify",
        "variableName": "stringify",
        "friendlyName": "Stringify",
        "cacheable": null,
        "sync": null,
        "description": "a toString method",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": true,
            "name": "stream",
            "type": "*"
          },
          "write": {
            "example": ".tmp/test.log",
            "description": "a path for writing file ",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "example": "a content text",
            "name": "success",
            "friendlyName": "success",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    var strm = inputs.stream || process.stdin\n      , str = '';\n    strm.on('data', function(chunk){\n      if (chunk !== null) {\n        str += chunk.toString();\n      }\n    });\n    strm.on('end', function(){\n      return exits.success( str );\n    });\n    if (inputs.write) {\n      var machine = require('machine')\n        , streamWrite = machine.build(require('./create-write'));\n      streamWrite({path:inputs.write, stream:inputs.stream}).execSync();\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/stringify",
        "docsUrl": "http://node-machine.org/machinepack-stream/stringify",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 361,
        "createdAt": "2015-04-23T18:29:53.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "replace",
        "variableName": "replace",
        "friendlyName": "Replace",
        "cacheable": null,
        "sync": true,
        "description": "Search and replace",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          },
          "search": {
            "friendlyName": "search",
            "description": "A string or a string's array to search",
            "typeclass": "*",
            "required": true,
            "name": "search",
            "type": "*"
          },
          "replace": {
            "friendlyName": "replace",
            "description": "A string, replace",
            "example": "abc",
            "required": false,
            "name": "replace",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    var Transform = require('stream').Transform\n      , util = require('util');\n\n    var ReplaceStream = function() {\n      if ( !(this instanceof ReplaceStream) )\n        return( new ReplaceStream() );\n      Transform.call(this, {objectMode: true});\n    };\n    util.inherits(ReplaceStream, Transform);\n\n    ReplaceStream.prototype._transform = function(chunk, encoding, callback) {\n      if (util.isArray(inputs.search)) {\n        var str = chunk.toString();\n        for(var i=0,len=inputs.search.length; i<len; i++){\n          str = str.split(inputs.search[i]).join(inputs.replace||\"\");\n        }\n        this.push(str);\n      } else\n        this.push(chunk.toString().split(inputs.search).join(inputs.replace||\"\"));\n      callback();\n    };\n\n    try {\n      return exits.success( inputs.stream ? inputs.stream.pipe(new ReplaceStream()) : new ReplaceStream())\n    } catch (err) {\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/replace",
        "docsUrl": "http://node-machine.org/machinepack-stream/replace",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 371,
        "createdAt": "2015-04-25T15:19:50.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      },
      {
        "identity": "insert",
        "variableName": "insert",
        "friendlyName": "Insert",
        "cacheable": null,
        "sync": true,
        "description": "Insert content before or after a string",
        "inputs": {
          "stream": {
            "friendlyName": "stream",
            "description": "A readable stream",
            "typeclass": "*",
            "required": false,
            "name": "stream",
            "type": "*"
          },
          "text": {
            "friendlyName": "text",
            "description": "Insert a string before of after a string",
            "example": "a string to insert",
            "required": true,
            "name": "text",
            "type": "string"
          },
          "after": {
            "friendlyName": "after",
            "description": "a string or string's array to search and insert text after",
            "typeclass": "*",
            "required": false,
            "name": "after",
            "type": "*"
          },
          "before": {
            "friendlyName": "before",
            "description": "a string or string's array to search and insert text before",
            "typeclass": "*",
            "required": false,
            "name": "before",
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorNotStream": {
            "description": "It's not a valid stream"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    if (inputs.stream && require('isstream')(inputs.stream) !== true)\n      return exits.errorNotStream({error: \"It's not a valid stream\"});\n\n    var Transform = require('stream').Transform\n      , util = require('util');\n\n    var InsertStream = function() {\n      if ( !(this instanceof InsertStream) )\n        return( new InsertStream() );\n      Transform.call(this, {objectMode: true});\n    };\n    util.inherits(InsertStream, Transform);\n\n    var transformer = function(str, val, by, before){\n      var res = str+\"\";\n      if (util.isArray(val)) {\n        for(var i=0,len=val.length; i<len; i++){\n          res = res.split(val[i]).join(\n            before ? by + val[i] : val[i] + by\n          );\n        }\n      } else\n        res = res.split(val).join(before ? by + val : val + by);\n      return res;\n    }\n\n    InsertStream.prototype._transform = function(chunk, encoding, callback) {\n      var str = chunk.toString();\n      if (inputs.before)\n        str = transformer(str, inputs.before, inputs.text, true );\n      if (inputs.after)\n        str = transformer(str, inputs.after, inputs.text );\n      this.push(str);\n      callback();\n    };\n\n    try {\n      return exits.success( inputs.stream ? inputs.stream.pipe(new InsertStream()) : new InsertStream())\n    } catch (err) {\n      return exits.error(err);\n    }\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stream/insert",
        "docsUrl": "http://node-machine.org/machinepack-stream/insert",
        "defaultExit": "success",
        "machinepack": 95,
        "id": 372,
        "createdAt": "2015-04-25T15:19:50.000Z",
        "updatedAt": "2016-08-02T10:59:29.000Z"
      }
    ],
    "identity": "machinepack-stream",
    "version": "0.1.11",
    "latestVersionPublishedAt": "2016-08-02T00:00:00.000Z",
    "variableName": "Stream",
    "friendlyName": "Stream",
    "description": "work with stream readable, writable",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-stream",
    "docsUrl": "http://node-machine.org/machinepack-stream",
    "npmUrl": "http://npmjs.org/package/machinepack-stream",
    "npmPackageName": "machinepack-stream",
    "githubUrl": "http://github.com/wi2/machinepack-stream/",
    "sourceUrl": "http://github.com/wi2/machinepack-stream/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "html-minifier",
        "semverRange": "^3.0.2"
      },
      {
        "name": "isstream",
        "semverRange": "^0.1.2"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-0"
      },
      {
        "name": "marked",
        "semverRange": "^0.3.6"
      },
      {
        "name": "resumer",
        "semverRange": "0.0.0"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": ""
      }
    ],
    "id": 95,
    "createdAt": "2015-04-19T22:49:47.000Z",
    "updatedAt": "2016-08-02T10:59:29.000Z",
    "numMachines": 9
  },
  {
    "machines": [
      {
        "identity": "match",
        "variableName": "match",
        "friendlyName": "Search string using regexp",
        "cacheable": true,
        "sync": true,
        "description": "Search a string using a regular expression and return the first match.",
        "inputs": {
          "string": {
            "friendlyName": "String to search",
            "example": "hello world",
            "description": "The string to search (i.e. \"haystack\")",
            "required": true,
            "type": "string"
          },
          "regexp": {
            "friendlyName": "Regular expression",
            "example": "world",
            "description": "The regular expression to match against (i.e. \"metal detector\")",
            "extendedDescription": "The regular expression should be specified as a string WIHOUUT including leading or trailing slashes or modifiers like /gi.",
            "required": true,
            "type": "string"
          },
          "caseInsensitive": {
            "friendlyName": "Case insensitive?",
            "description": "Whether or not you care about uppercase/lowercase letters.",
            "extendedDescription": "This will build the regular expression using the `/i` modifier.",
            "example": true,
            "advanced": true,
            "defaultsTo": true,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "match found",
            "outputDescription": "The matched substring.",
            "example": {
              "found": "world",
              "at": 6
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          },
          "invalidRegexp": {
            "friendlyName": "invalid regexp",
            "description": "Provided regular expression is invalid (cannot be instantiated into a RegExp object)"
          },
          "notFound": {
            "friendlyName": "no match found",
            "description": "No match found."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    // Case-insensitive by default\n    if (_.isUndefined(inputs.caseInsensitive)) {\n      inputs.caseInsensitive = true;\n    }\n\n    // Check that the regexp is valid\n    var regexp;\n    try {\n\n      regexp = inputs.regexp;\n\n      /////////////////////////////////////////////////////////\n      // Skip this-- we want users to be able to provide an actual\n      // regexp with all the things (i.e. should be able to use the\n      // star and dot and ? operators, etc)\n      /////////////////////////////////////////////////////////\n      // Then escape the provided string before instantiating\n      // regexp = _.escapeRegExp(regexp);\n      /////////////////////////////////////////////////////////\n\n      // Then construct it\n      // (and if relevant, enable case-insensitivity)\n      if (inputs.caseInsensitive) {\n        regexp = new RegExp(regexp, 'i');\n      }\n      else {\n        regexp = new RegExp(regexp);\n      }\n    } catch (e) {\n      return exits.invalidRegexp(e);\n    }\n\n    var matches = inputs.string.match(regexp);\n    if (!matches) {\n      return exits.notFound();\n    }\n\n    return exits.success({\n      found: matches[0],\n      at: matches.index\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/match",
        "docsUrl": "http://node-machine.org/machinepack-strings/match",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 417,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "construct",
        "variableName": "construct",
        "friendlyName": "Construct string",
        "cacheable": true,
        "sync": true,
        "description": "Cast the specified value to a string, if it isn't one already.",
        "inputs": {
          "value": {
            "description": "The value to convert",
            "example": "===",
            "readOnly": true,
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "String",
            "outputDescription": "A string constructed from the provided value.",
            "example": "some string",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.value);\n  ",
        "environment": [],
        "extendedDescription": "Behind the scenes, this uses RTTC data type coercion. For example, 5 is converted to \"5\".",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/construct",
        "docsUrl": "http://node-machine.org/machinepack-strings/construct",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 420,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "capitalize",
        "variableName": "capitalize",
        "friendlyName": "Capitalize a string",
        "cacheable": true,
        "sync": true,
        "description": "Capitalize the first (or any) letter in a string.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "villeriÃ±o",
            "description": "The string to capitalize.",
            "required": true,
            "type": "string"
          },
          "at": {
            "friendlyName": "Which letter?",
            "description": "The index of the letter to capitalize within the string",
            "extendedDescription": "Strings are indexed starting from the left at 0.",
            "example": 0,
            "defaultsTo": 0,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "VilleriÃ±o",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    // If a custom character index was NOT specified, just\n    // capitalize the string.\n    if (_.isUndefined(inputs.at)) {\n      return exits.success(\n        _.capitalize(inputs.string)\n      );\n    }\n\n    // Otherwise, do some surgery:\n    return exits.success(\n      inputs.string.slice(0, inputs.at) +\n      inputs.string.slice(inputs.at, inputs.at+1).toUpperCase() +\n      inputs.string.slice(inputs.at+1)\n    );\n\n  ",
        "environment": [],
        "extendedDescription": "If the character at the specified position in a string is not a letter, it will be left as-is.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/capitalize",
        "docsUrl": "http://node-machine.org/machinepack-strings/capitalize",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 423,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "length",
        "variableName": "length",
        "friendlyName": "Length",
        "cacheable": true,
        "sync": true,
        "description": "Determine the length of a string (i.e. count the number of characters)",
        "inputs": {
          "string": {
            "example": "guido villeriÃ±o",
            "description": "The string whose characters will be counted.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": 15,
            "description": "OK.",
            "isDefault": true,
            "type": "number"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.string.length);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/length",
        "docsUrl": "http://node-machine.org/machinepack-strings/length",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 424,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "trunc",
        "variableName": "trunc",
        "friendlyName": "Truncate string",
        "cacheable": null,
        "sync": null,
        "description": "If the string is longer than the given maximum length, chop off characters from the end.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "Christian van der Henst",
            "description": "The string to truncate.",
            "required": true,
            "type": "string"
          },
          "maxLength": {
            "friendlyName": "Max length",
            "description": "The maximum number of characters (including the \"...\")",
            "example": 15,
            "defaultsTo": 30,
            "type": "number"
          },
          "omission": {
            "friendlyName": "Omission substring",
            "description": "The substring to append to our string indicating characters were omitted.",
            "example": "...",
            "defaultsTo": "...",
            "type": "string"
          },
          "pretty": {
            "friendlyName": "Make pretty?",
            "description": "Whether or not to attempt to make the truncated string look more natural.",
            "extendedDescription": "This truncates trailing spaces and punctuation, and also avoids chopping words in half.",
            "example": true,
            "defaultsTo": true,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "Christian van...",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    var opts = {\n      length: inputs.maxLength,\n      omission: inputs.omission\n    };\n    if (inputs.pretty){\n      opts.separator = /[^0-9a-z]?\\s+/i;\n    }\n\n    var truncated = _.trunc(inputs.string, opts);\n    return exits.success(truncated);\n  ",
        "environment": [],
        "extendedDescription": "By default, this machine will reduce the string to a maximum of 30 characters, including a 3-character elipses (\"...\") added to the end.  An additional default behavior of this machine (which can be disabled by disabling the `pretty` option) is to omit trailing spaces and punctuation, and also avoid chopping words in half.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/trunc",
        "docsUrl": "http://node-machine.org/machinepack-strings/trunc",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 425,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "trim",
        "variableName": "trim",
        "friendlyName": "Trim whitespace",
        "cacheable": null,
        "sync": null,
        "description": "Trim trailing and leading whitespace from a string.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "   I went to the store to get some more milk.     ",
            "description": "The string to trim.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "I went to the store to get some more milk.",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    var trimmed = _.trim(inputs.string);\n    return exits.success(trimmed);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/trim",
        "docsUrl": "http://node-machine.org/machinepack-strings/trim",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 426,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "replace",
        "variableName": "replace",
        "friendlyName": "Replace using regexp",
        "cacheable": true,
        "sync": true,
        "description": "Replace parts of a string that match a given regular expression with the specified replacement.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "Hello world!",
            "description": "The string to modify.",
            "required": true,
            "type": "string"
          },
          "regexp": {
            "friendlyName": "Regular expression",
            "example": "World",
            "description": "The regular expression to match against (i.e. \"metal detector\")",
            "extendedDescription": "The regular expression should be specified as a string WIHOUUT including leading or trailing slashes or modifiers like /gi.",
            "required": true,
            "type": "string"
          },
          "replacement": {
            "friendlyName": "Replacement",
            "description": "The string to use when replacing matches.",
            "extendedDescription": "Note that you can use match expressions (e.g. \"$1\", \"$2\", etc.) to express the values of capture groups.",
            "example": "Mumbai",
            "required": true,
            "type": "string"
          },
          "caseInsensitive": {
            "friendlyName": "Case insensitive?",
            "description": "Whether or not you care about uppercase/lowercase letters.",
            "extendedDescription": "This will build the regular expression using the `/i` modifier.",
            "example": true,
            "advanced": true,
            "defaultsTo": true,
            "type": "boolean"
          },
          "global": {
            "friendlyName": "Replace all?",
            "description": "Whether or not to replace all substrings that match the regular expression, or just the first.",
            "extendedDescription": "This will build the regular expression using the `/g` modifier.",
            "example": true,
            "advanced": true,
            "defaultsTo": false,
            "type": "boolean"
          },
          "multiline": {
            "friendlyName": "Multiline?",
            "description": "Whether to treat beginning and end characters (^ and $) as matching each line delimited by \\n or \\r.",
            "extendedDescription": "This will build the regular expression using the `/m` modifier.",
            "example": true,
            "advanced": true,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "The modified string.",
            "example": "Hello Mumbai!",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "invalidRegexp": {
            "friendlyName": "invalid regexp",
            "description": "Provided regular expression is invalid (cannot be instantiated into a RegExp object)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    // Case-insensitive by default\n    if (_.isUndefined(inputs.caseInsensitive)) {\n      inputs.caseInsensitive = true;\n    }\n\n    // Check that the regexp is valid\n    var regexp;\n    try {\n\n      regexp = inputs.regexp;\n\n      /////////////////////////////////////////////////////////\n      // Skip this-- we want users to be able to provide an actual\n      // regexp with all the things (i.e. should be able to use the\n      // star and dot and ? operators, etc)\n      /////////////////////////////////////////////////////////\n      // Then escape the provided string before instantiating\n      // regexp = _.escapeRegExp(regexp);\n      /////////////////////////////////////////////////////////\n\n      // Then construct it\n      // (and if relevant, enable case-insensitivity)\n      var modifiers = '';\n      if (inputs.caseInsensitive) {\n        modifiers += 'i';\n      }\n      if (inputs.global) {\n        modifiers += 'g';\n      }\n      if (inputs.multiline) {\n        modifiers += 'm';\n      }\n      if (modifiers.length) {\n        regexp = new RegExp(regexp, modifiers);\n      }\n      else {\n        regexp = new RegExp(regexp);\n      }\n    } catch (e) {\n      return exits.invalidRegexp(e);\n    }\n\n    var newString = inputs.string.replace(regexp, inputs.replacement);\n\n    return exits.success(newString);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/replace",
        "docsUrl": "http://node-machine.org/machinepack-strings/replace",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 428,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "split",
        "variableName": "split",
        "friendlyName": "Split using regexp",
        "cacheable": true,
        "sync": true,
        "description": "Split a string into an array of strings using a regular expression.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "Hello world!",
            "description": "The string to split.",
            "required": true,
            "type": "string"
          },
          "regexp": {
            "friendlyName": "Regular expression",
            "example": "\\s",
            "description": "The regular expression for detecting delimiters which mark the end of each string segment.",
            "extendedDescription": "The regular expression should be specified as a string WIHOUUT including leading or trailing slashes or modifiers like /gi.",
            "required": true,
            "type": "string"
          },
          "caseInsensitive": {
            "friendlyName": "Case insensitive?",
            "description": "Whether or not you care about uppercase/lowercase letters.",
            "extendedDescription": "This will build the regular expression using the `/i` modifier.",
            "example": true,
            "advanced": true,
            "defaultsTo": true,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "An array of substrings.",
            "example": [
              "Hello"
            ],
            "description": "OK.",
            "isDefault": true,
            "type": "array"
          },
          "invalidRegexp": {
            "friendlyName": "invalid regexp",
            "description": "Provided regular expression is invalid (cannot be instantiated into a RegExp object)"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    // Case-insensitive by default\n    if (_.isUndefined(inputs.caseInsensitive)) {\n      inputs.caseInsensitive = true;\n    }\n\n    // Check that the regexp is valid\n    var regexp;\n    try {\n\n      regexp = inputs.regexp;\n\n      /////////////////////////////////////////////////////////\n      // Skip this-- we want users to be able to provide an actual\n      // regexp with all the things (i.e. should be able to use the\n      // star and dot and ? operators, etc)\n      /////////////////////////////////////////////////////////\n      // Then escape the provided string before instantiating\n      // regexp = _.escapeRegExp(regexp);\n      /////////////////////////////////////////////////////////\n\n      // Then construct it\n      // (and if relevant, enable case-insensitivity)\n      if (inputs.caseInsensitive) {\n        regexp = new RegExp(regexp, 'i');\n      }\n      else {\n        regexp = new RegExp(regexp);\n      }\n    } catch (e) {\n      return exits.invalidRegexp(e);\n    }\n\n    var substrings = inputs.string.split(regexp);\n\n    return exits.success(substrings);\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/split",
        "docsUrl": "http://node-machine.org/machinepack-strings/split",
        "defaultExit": "success",
        "machinepack": 106,
        "id": 429,
        "createdAt": "2015-05-01T22:39:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "deburr",
        "variableName": "deburr",
        "friendlyName": "Deburr a string",
        "cacheable": true,
        "sync": true,
        "description": "Replace special alphabetical characters such as umlauts and accents with their basic, boring equivalents.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "description": "The string to clean up.",
            "example": "dÃ©jÃ  vu, GÃ¼nther. Just more of your saÃ.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "deja vu, Gunther. Just more of your sass.",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    return exits.success(_.deburr(inputs.string));\n  ",
        "environment": [],
        "extendedDescription": "Technically, this converts \"latin-1 supplementary characters\" to basic letters and removes combining diacritical marks.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/deburr",
        "docsUrl": "http://node-machine.org/machinepack-strings/deburr",
        "defaultExit": null,
        "machinepack": 106,
        "id": 459,
        "createdAt": "2015-05-07T12:29:37.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "slice",
        "variableName": "slice",
        "friendlyName": "Slice",
        "cacheable": true,
        "sync": true,
        "description": "Get a substring of consecutive characters from the string.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "description": "The string to slice.",
            "example": "McGee",
            "required": true,
            "type": "string"
          },
          "start": {
            "friendlyName": "Start from (index)",
            "description": "The index of the first item to include in the new substring.",
            "extendedDescription": "This index should be zero or a positive number.",
            "example": 2,
            "required": true,
            "type": "number"
          },
          "end": {
            "friendlyName": "End with (index)",
            "description": "The index of the last item to include in the new substring.",
            "extendedDescription": "This index should be zero or a positive number. Omitting this input value will include the rest of the string.",
            "example": 5,
            "min": 0,
            "type": "number"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Slice",
            "outputDescription": "The desired slice of the string.",
            "example": "Gee",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    if (inputs.start < 0) {\n      return exits.error('`start` index must be least zero.');\n    }\n    if (_.isUndefined(inputs.end)) {\n      return exits.success(inputs.string.slice(inputs.start));\n    }\n\n    if (inputs.end < 0) {\n      return exits.error('`end` index must be least zero.');\n    }\n    // Increment `end` by 1 (since the third arg to `_.slice` is exclusive)\n    return exits.success(inputs.string.slice(inputs.start, inputs.end+1));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/slice",
        "docsUrl": "http://node-machine.org/machinepack-strings/slice",
        "defaultExit": null,
        "machinepack": 106,
        "id": 460,
        "createdAt": "2015-05-07T12:49:56.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "at",
        "variableName": "at",
        "friendlyName": "Character at...",
        "cacheable": true,
        "sync": true,
        "description": "Get a character from a string at a particular position.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "villeriÃ±o",
            "description": "The source string.",
            "required": true,
            "type": "string"
          },
          "at": {
            "friendlyName": "At...",
            "description": "The index to look up within the string",
            "extendedDescription": "Strings are indexed starting from the left at 0.",
            "example": 7,
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "notFound": {
            "description": "The string doesn't have a character at the specified index (i.e. it's too short)"
          },
          "success": {
            "friendlyName": "then",
            "description": "OK.",
            "example": "Ã±",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.string.slice(inputs.at, inputs.at+1));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/at",
        "docsUrl": "http://node-machine.org/machinepack-strings/at",
        "defaultExit": null,
        "machinepack": 106,
        "id": 461,
        "createdAt": "2015-05-07T12:49:56.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "join",
        "variableName": "join",
        "friendlyName": "Join",
        "cacheable": true,
        "sync": true,
        "description": "Combine an array of strings into one new string.",
        "inputs": {
          "strings": {
            "description": "The array of strings to join.",
            "example": [
              "foo"
            ],
            "required": true,
            "type": "array"
          },
          "separator": {
            "description": "The optional separator to insert between each string.",
            "defaultsTo": "",
            "example": ",",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "The concatenated result string.",
            "example": "foo",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var result = inputs.strings.join(inputs.separator||'');\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/join",
        "docsUrl": "http://node-machine.org/machinepack-strings/join",
        "defaultExit": null,
        "machinepack": 106,
        "id": 472,
        "createdAt": "2015-05-08T22:39:39.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "template",
        "variableName": "template",
        "friendlyName": "Template",
        "cacheable": true,
        "sync": true,
        "description": "Render some data into a template string.",
        "inputs": {
          "templateStr": {
            "friendlyName": "Template",
            "description": "The string to use as a template.",
            "example": "Hi there, Miss <%= me.lastName %>!",
            "required": true,
            "type": "string"
          },
          "data": {
            "friendlyName": "Template data",
            "description": "A dictionary of data which will be accessible from the template.",
            "extendedDescription": "Each key will be a variable accessible in the template.  For instance, if you supply an array `[{name:\"Chandra\"}, {name:\"Mary\"}]` as the key \"friends\", then you will be able to access `friends` from the template; i.e. `<ul><% _.each(friends, function (friend){ %><li><%= friend.name %></li> <%}); %></ul>`  Use `<%= %>` to inject the contents of a variable as-is, `<%- %>` to HTML-escape them first, or `<% %>` to execute some JavaScript code.",
            "example": {},
            "defaultsTo": {},
            "readOnly": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Rendered",
            "outputDescription": "The rendered result string from the template.",
            "example": "Hi there, Miss Piggy!",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "missingData": {
            "friendlyName": "missing data",
            "description": "One or more variables used in the template were not provided in the template data.",
            "outputFriendlyName": "Info",
            "example": {
              "message": "Some variables (`me`,`friends`) were used in template \"/code/machine/docs/.type-table.tpl\", but not provided in the template data dictionary.",
              "missingVariables": [
                "me"
              ]
            },
            "type": "object"
          },
          "couldNotRender": {
            "description": "Could not render the template due to invalid or unparseable syntax."
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n\n    // Build template function outside of our loop below.\n    var templateFn = _.template(inputs.templateStr, {\n      imports: {\n        util: util,\n        _: _\n      }\n    });\n\n    // Now attempt to render the Lodash template.\n    // Templates are provided access to the Node.js `util` library,\n    // as well as `_` (Lodash itself).\n    // If the rendering fails because of a missing variable, try again\n    // with a fake variable inserted until the errors go away, or until\n    // we reach MAX_NUM_ITERATIONS.\n    var result;\n    var missingVars = [];\n    var morePotentiallyActionableErrorsExist = true;\n    var mostRecentTemplateErr;\n    var numIterations = 0;\n    var MAX_NUM_ITERATIONS = 10;\n    var dataWithFakeValues = _.cloneDeep(inputs.data||{});\n    while (numIterations < MAX_NUM_ITERATIONS && morePotentiallyActionableErrorsExist) {\n\n      // Track iterations to prevent this loop from spinning out of control.\n      numIterations++;\n\n      try {\n        // Attempt to render template and data into a single string using Lodash\n        result = templateFn(dataWithFakeValues);\n\n        // If we made it here, there were no errors rendering the template.\n        morePotentiallyActionableErrorsExist = false;\n\n      }\n      catch (e) {\n        // Recognize lodash template error (scope variable not defined)\n        var isTplError = _.isObject(e) && (e.name === 'ReferenceError' || e.type === 'not_defined');\n        // In Node v0.10.x, the error will have a handy arguments array.  In Node v0.12.0, we'll have to\n        // pull the missing var from the error message, where it'll be the first word\n        var missingVar = (_.isArray(e.arguments) && e.arguments[0]) || (e.message.split(' ')[0]);\n\n        // If this is not a recognizable missing variable error, or if\n        // the name of the scope variable cannot be determined, then\n        // we need to stop.\n        if (!isTplError || !missingVar) {\n          mostRecentTemplateErr = e;\n          morePotentiallyActionableErrorsExist = false;\n        }\n        // Otherwise we can put a fake value in for the variable in\n        // order to deduce other missing variables for more complete\n        // error feedback.\n        else {\n          missingVars.push(missingVar);\n          dataWithFakeValues[missingVar] = {};\n        }\n      }\n    }\n\n\n    // If at least one missing variable was found, show it and use the\n    // `missingData` exit.\n    if (missingVars.length > 0) {\n\n      // There should never be duplicates, but just in case:\n      missingVars = _.uniq(missingVars);\n\n      return exits.missingData({\n        message: util.format('%s were used in template \"%s\", but not provided in the template data dictionary.', (missingVars.length>1?'Some variables':'A variable') + ' (' + _.map(missingVars, function (varName){return '`'+varName+'`';}).join(',')+')', inputs.source),\n        missingVariables: missingVars\n      });\n    }\n    // Otherwise if the only template error was some other unrecognized thing,\n    // exit out of the `couldNotRender` exit.\n    else if (mostRecentTemplateErr) {\n      return exits.couldNotRender(mostRecentTemplateErr);\n    }\n\n    // If we made it here, everything w/ the _.template() call worked.\n    // Return the rendered result string.\n    return exits.success(result);\n\n  ",
        "environment": [],
        "extendedDescription": "Uses Lodash template syntax (e.g. `<%= %>`, `<%- %>`, `<% %>`)  Also provides access to the Node.js core utility module (as `util`), as well as Lodash itself (as `_`).",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/template",
        "docsUrl": "http://node-machine.org/machinepack-strings/template",
        "defaultExit": null,
        "machinepack": 106,
        "id": 478,
        "createdAt": "2015-05-10T15:09:29.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "ensure-uniq",
        "variableName": "ensureUniq",
        "friendlyName": "Ensure uniqueness",
        "cacheable": true,
        "sync": true,
        "description": "Make a unique, but still human-readable, version of a string vs. a set of existing strings by adding a number to the end.",
        "inputs": {
          "string": {
            "friendlyName": "Unique string",
            "example": "Siri",
            "description": "The string to ensure the uniqueness of.",
            "required": true,
            "type": "string"
          },
          "existingStrings": {
            "friendlyName": "Existing strings",
            "description": "The set of existing strings to check uniqueness against.",
            "example": [
              "Siri"
            ],
            "required": true,
            "type": "array"
          },
          "caseSensitive": {
            "friendlyName": "Case sensitive?",
            "description": "Whether or not the uniqueness check should be case-sensitive (care about uppercase vs. lowercase letters)",
            "example": false,
            "defaultsTo": false,
            "type": "boolean"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Unique",
            "example": "Siri2",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var _ = require('lodash');\n\n    var potentiallyUniqueStr = inputs.string;\n\n    // The string is not unique until none of the other strings in the set have the same name.\n    while (_.any(inputs.existingStrings, function doesItMatch(existingStr) {\n      // Either case-sensitive or not.\n      if (inputs.caseSensitive) {\n        return existingStr === potentiallyUniqueStr;\n      }\n      return existingStr.toLowerCase() === potentiallyUniqueStr.toLowerCase();\n    }) ){\n\n      // If the last part of the string is one or more numerals, we'll take a pass at incrementing\n      // that existing number rather than just chaining more numbers onto the end.\n      if (potentiallyUniqueStr.match(/[0-9]+$/g)) {\n        potentiallyUniqueStr = potentiallyUniqueStr.replace(/[0-9]+$/, function(substr, index) {\n          return ''+((+substr) + 1);\n        });\n      }\n      // If not, just add a big fat \"2\" onto the end.\n      else {\n        potentiallyUniqueStr += '2';\n      }\n    }\n\n    return exits.success(potentiallyUniqueStr);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/ensure-uniq",
        "docsUrl": "http://node-machine.org/machinepack-strings/ensure-uniq",
        "defaultExit": null,
        "machinepack": 106,
        "id": 498,
        "createdAt": "2015-05-16T17:19:40.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "to-stream",
        "variableName": "toStream",
        "friendlyName": "To stream",
        "cacheable": null,
        "sync": true,
        "description": "Convert a string into a readable stream of data.",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "foo bar baz",
            "description": "The string to convert.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Stream",
            "outputDescription": "A Readable stream representing a string.",
            "extendedDescription": "Note that this result stream is _not flowing_.  In other words, it is _paused_, which means you don't have to worry about using it immediately (i.e. don't worry about a tick of the event loop elapsing). Also keep in mind that the stream returned is a modern (streams2) Node Readable instance.",
            "example": "===",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var string__ = new require('stream').Readable();\n    string__._read = function () {};\n    string__.push(inputs.string);\n    string__.push(null);\n    return exits.success(string__);\n  ",
        "environment": [],
        "extendedDescription": "The stream that is returned is a modern (streams2) Node Readable instance. In other words it is _paused_ until it is used.",
        "moreInfoUrl": "http://stackoverflow.com/a/22085851/486547",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/to-stream",
        "docsUrl": "http://node-machine.org/machinepack-strings/to-stream",
        "defaultExit": null,
        "machinepack": 106,
        "id": 683,
        "createdAt": "2015-12-13T05:00:18.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "random",
        "variableName": "random",
        "friendlyName": "Random",
        "cacheable": null,
        "sync": true,
        "description": "Generate a random, alphanumeric string which is probabalistically-unique.",
        "inputs": {},
        "exits": {
          "success": {
            "outputFriendlyName": "Random",
            "outputDescription": "Random alphanumeric string, consisting only of numerals [0-9] and lowercase letters [a-z].",
            "example": "1a17d9af25aef464b46481d901ba2005",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Hat = require('hat');\n\n    // Provide a pseudo-guarantee of uniqueness by using a process-global \"rack\" to store past tokens.\n    // (note this is stored as a proprety of the module exports of this machine-- meaning it is a property on\n    // the machine def. NEVER COUNT ON THESE TOKENS BEING ANYTHING MORE THAN \"PROBABLY\" UNIQUE!!)\n    module.exports._rack = module.exports._rack || Hat.rack();\n\n    // Generate and return the new probably-unique token.\n    var token = module.exports._rack();\n    return exits.success(token);\n  ",
        "environment": [],
        "extendedDescription": "Internally, this method uses the [hat](https://github.com/substack/node-hat) package from [Substack](https://github.com/substack).  If you are interested in learning more about psuedo-random number/string generators, you might be interested in reading the Wikipedia list of [random number generator algorithms](http://en.wikipedia.org/wiki/List_of_random_number_generators).",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/random",
        "docsUrl": "http://node-machine.org/machinepack-strings/random",
        "defaultExit": null,
        "machinepack": 106,
        "id": 722,
        "createdAt": "2016-03-13T14:19:51.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "to-lower-case",
        "variableName": "toLowerCase",
        "friendlyName": "To lowercase",
        "cacheable": true,
        "sync": true,
        "description": "Convert all uppercase letters to lowercase in the specified string.",
        "inputs": {
          "string": {
            "example": "Some stuff and THINGS 235823523",
            "description": "The string to lowercase.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "some stuff and things 235823523",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.string.toLowerCase());\n  ",
        "environment": [],
        "extendedDescription": "Returns a version of the string with lowercase characters replaced with uppercase characters -- this is equivalent to using `toLowerCase()` in JavaScript.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/to-lower-case",
        "docsUrl": "http://node-machine.org/machinepack-strings/to-lower-case",
        "defaultExit": null,
        "machinepack": 106,
        "id": 723,
        "createdAt": "2016-03-13T14:19:51.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "to-upper-case",
        "variableName": "toUpperCase",
        "friendlyName": "To uppercase",
        "cacheable": true,
        "sync": true,
        "description": "Convert all lowercase letters to uppercase in the specified string.",
        "inputs": {
          "string": {
            "example": "Some stuff and THINGS 235823523",
            "description": "The string to uppercase.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "SOME STUFF AND THINGS 235823523",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(inputs.string.toUpperCase());\n  ",
        "environment": [],
        "extendedDescription": "Returns a version of the string with uppercase characters replaced with lowercase characters -- this is equivalent to using `toUpperCase()` in JavaScript.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/to-upper-case",
        "docsUrl": "http://node-machine.org/machinepack-strings/to-upper-case",
        "defaultExit": null,
        "machinepack": 106,
        "id": 724,
        "createdAt": "2016-03-13T14:19:51.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "to-kebab-case",
        "variableName": "toKebabCase",
        "friendlyName": "To kebab-case",
        "cacheable": true,
        "sync": true,
        "description": "Convert a string to kebab-case (dashes instead of spaces/underscores/varying capitalization).",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "fooBar_baz bong___",
            "description": "The string to convert.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "The kebab-cased (i.e. dash-delimited) string, lower-cased, with underscores and spaces removed.",
            "example": "foo-bar-baz-bong",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n    return exits.success(_.kebabCase(inputs.string));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/to-kebab-case",
        "docsUrl": "http://node-machine.org/machinepack-strings/to-kebab-case",
        "defaultExit": null,
        "machinepack": 106,
        "id": 725,
        "createdAt": "2016-03-13T14:19:51.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      },
      {
        "identity": "to-camel-case",
        "variableName": "toCamelCase",
        "friendlyName": "To camel-case",
        "cacheable": true,
        "sync": true,
        "description": "Convert a string to camel-case (varying capitalization instead of spaces/underscores/dashes).",
        "inputs": {
          "string": {
            "friendlyName": "String",
            "example": "foo-bar-baz",
            "description": "The string to convert (dash-delimited or otherwise)",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "example": "fooBarBaz",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _ = require('lodash');\n\n    return exits.success(_.camelCase(inputs.string));\n  ",
        "environment": [],
        "extendedDescription": "Returns a version of the string with dashes removed, using medial capitalization to separate words instead. See http://en.wikipedia.org/wiki/CamelCase for more information.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-strings/to-camel-case",
        "docsUrl": "http://node-machine.org/machinepack-strings/to-camel-case",
        "defaultExit": null,
        "machinepack": 106,
        "id": 726,
        "createdAt": "2016-03-13T14:19:51.000Z",
        "updatedAt": "2016-07-13T16:10:10.000Z"
      }
    ],
    "identity": "machinepack-strings",
    "version": "5.1.0",
    "latestVersionPublishedAt": "2016-07-13T00:00:00.000Z",
    "variableName": "Strings",
    "friendlyName": "Strings",
    "description": "Work with strings.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-strings",
    "docsUrl": "http://node-machine.org/machinepack-strings",
    "npmUrl": "http://npmjs.org/package/machinepack-strings",
    "npmPackageName": "machinepack-strings",
    "githubUrl": "http://github.com/treelinehq/machinepack-strings/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-strings/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "~1.0.3"
      },
      {
        "name": "hat",
        "semverRange": "0.0.3"
      },
      {
        "name": "lodash",
        "semverRange": "3.10.1"
      },
      {
        "name": "machine",
        "semverRange": "~12.1.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "sgress454@treeline.io"
      }
    ],
    "id": 106,
    "createdAt": "2015-05-01T22:39:29.000Z",
    "updatedAt": "2016-07-13T16:10:10.000Z",
    "numMachines": 20
  },
  {
    "machines": [
      {
        "identity": "create-card",
        "variableName": "createCard",
        "friendlyName": "Save new card",
        "cacheable": false,
        "sync": null,
        "description": "Create a new card for a customer",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "token": {
            "description": "The Stripe token for the card, as returned by the Stripe.js SDK",
            "whereToGet": {
              "moreInfoUrl": "https://stripe.com/docs/stripe.js"
            },
            "example": "tok_someCardIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of the customer who this card belongs to",
            "whereToGet": {
              "description": "Create a customer."
            },
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "variableName": "newCard",
            "example": {
              "id": "card_14Ye1j2eZvKYlo2CJOPrAfPP",
              "object": "card",
              "last4": "4242",
              "brand": "Visa",
              "funding": "credit",
              "exp_month": 12,
              "exp_year": 2016,
              "fingerprint": "Xt5EWLLDS7FJjR1c",
              "country": "US",
              "name": "My Visa",
              "address_line1": "123 Fake St",
              "address_line2": "Apt 100",
              "address_city": "Austin",
              "address_state": "TX",
              "address_zip": "78701",
              "address_country": "United States",
              "cvc_check": "pass",
              "address_line1_check": "pass",
              "address_zip_check": "pass",
              "customer": "cus_4i4AvLpWDpiivV"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.customers.createCard(inputs.customer, {card: inputs.token}, function(err, card) {\n      if (err) return exits.error(err);\n      return exits.success(card);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Creating a new credit card will not change the card owner's existing default credit card; you should update the customer or recipient with a new default_card for that. If the card's owner has no default credit card, the added credit card will become the default.  Whenever you create a new card for a customer, Stripe will automatically validate the card.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/create-card",
        "docsUrl": "http://node-machine.org/machinepack-stripe/create-card",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 98,
        "createdAt": "2015-02-16T23:51:43.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "capture-charge",
        "variableName": "captureCharge",
        "friendlyName": "Capture a charge",
        "cacheable": false,
        "sync": null,
        "description": "Capture the payment of a previously-created charge in Stripe.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "charge": {
            "description": "The Stripe id of an \"uncaptured\" charge",
            "example": "ch_14ziQH2eZvKYlo2Ci0BoqQvT",
            "whereToGet": {
              "description": "Create a charge with the \"capture\" option set to false."
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, invalid API key, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.charges.capture(inputs.charge, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This is the second half of the two-step payment flow, where first you created a charge with the \"capture\" option set to false.  Uncaptured payments expire exactly seven days after they are created. If they are not captured by that point in time, they will be marked as refunded and will no longer be capturable.",
        "moreInfoUrl": "https://stripe.com/docs/api#capture_charge",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/capture-charge",
        "docsUrl": "http://node-machine.org/machinepack-stripe/capture-charge",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 99,
        "createdAt": "2015-02-16T23:51:43.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "create-customer",
        "variableName": "createCustomer",
        "friendlyName": "Create customer",
        "cacheable": false,
        "sync": null,
        "description": "Create a new customer in Stripe",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "description": {
            "description": "Arbitrary string to attach to the customer in Stripe",
            "example": "sdjasnd928u8duasd",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "variableName": "newCustomer",
            "example": {
              "id": "cus_4kmLwU2PvQBeqq",
              "object": "customer",
              "created": 1410377376,
              "livemode": false,
              "description": "Customer for weatherforensics@wdtinc.com",
              "email": "foo@foo.com",
              "delinquent": false,
              "metadata": {},
              "subscriptions": {
                "object": "list",
                "total_count": 0,
                "has_more": false,
                "url": "/v1/customers/cus_4kmLwU2PvQBeqq/subscriptions"
              },
              "discount": 0,
              "account_balance": 0,
              "currency": "usd",
              "cards": {
                "object": "list",
                "total_count": 1,
                "has_more": false,
                "url": "/v1/customers/cus_4kmLwU2PvQBeqq/cards",
                "data": [
                  {
                    "id": "card_14bGkv2eZvKYlo2Co1ndeHIy",
                    "object": "card",
                    "last4": "4242",
                    "brand": "Visa",
                    "funding": "credit",
                    "exp_month": 9,
                    "exp_year": 2014,
                    "fingerprint": "Xt5EWLLDS7FJjR1c",
                    "country": "US",
                    "name": "test",
                    "address_line1": "2324 SW 137th Street",
                    "address_line2": "",
                    "address_city": "73170",
                    "address_state": "OK",
                    "address_zip": "73170",
                    "address_country": "US",
                    "cvc_check": "pass",
                    "address_line1_check": "pass",
                    "address_zip_check": "pass",
                    "customer": "cus_4kmLwU2PvQBeqq"
                  }
                ]
              },
              "default_card": "card_14bGkv2eZvKYlo2Co1ndeHIy"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, invalid API key, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      description: inputs.description\n    };\n\n    stripe.customers.create(options, function(err, customer) {\n      if (err) return exits.error(err);\n      return exits.success(customer);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/create-customer",
        "docsUrl": "http://node-machine.org/machinepack-stripe/create-customer",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 100,
        "createdAt": "2015-02-16T23:51:43.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "list-cards",
        "variableName": "listCards",
        "friendlyName": "List cards",
        "cacheable": true,
        "sync": null,
        "description": "List all cards in Stripe for a customer.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of the customer whose cards will be listed",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "variableName": "cards",
            "example": {
              "object": "list",
              "url": "/v1/customers/cu_14YepJ2eZvKYlo2CUJrwelj2/cards",
              "has_more": false,
              "data": [
                {
                  "id": "card_14Yfhj2eZvKYlo2CDMqmQSc6",
                  "object": "card",
                  "last4": "4242",
                  "brand": "Visa",
                  "funding": "credit",
                  "exp_month": 8,
                  "exp_year": 2016,
                  "fingerprint": "Xt5EWLLDS7FJjR1c",
                  "country": "US",
                  "name": "c_brennan@me.com",
                  "address_line1": "123 Fake St",
                  "address_line2": "Apt 100",
                  "address_city": "Austin",
                  "address_state": "TX",
                  "address_zip": 78701,
                  "address_country": "United States",
                  "cvc_check": "pass",
                  "address_line1_check": "pass",
                  "address_zip_check": "pass",
                  "customer": "cus_4i4zVBclvGqTAN"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.customers.listCards(inputs.customer, function(err, response) {\n      if (err) return exits.error(err);\n      return exits.success(response);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://stripe.com/docs/api#list_cards",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/list-cards",
        "docsUrl": "http://node-machine.org/machinepack-stripe/list-cards",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 101,
        "createdAt": "2015-02-16T23:51:43.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "delete-card",
        "variableName": "deleteCard",
        "friendlyName": "Delete card",
        "cacheable": false,
        "sync": null,
        "description": "Delete a card in Stripe for a customer",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "card": {
            "description": "The Stripe id of the card to delete",
            "example": "card_14t5VD2eZvKYlo2CbhcljD3Y",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, card does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.customers.deleteCard(inputs.customer, inputs.card, function(err, response) {\n      if (err) return exits.error(err);\n      if (response.deleted === false) return exits.error(new Error('E_CARD_NOT_DELETED'));\n      return exits.success(response);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://stripe.com/docs/api#delete_card",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/delete-card",
        "docsUrl": "http://node-machine.org/machinepack-stripe/delete-card",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 102,
        "createdAt": "2015-02-16T23:51:43.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "create-charge",
        "variableName": "createCharge",
        "friendlyName": "Create charge",
        "cacheable": false,
        "sync": null,
        "description": "Create a new charge for a customer",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "amount": {
            "description": "The amount to charge, in the smallest currency unit (e.g. 500 to charge $5.00)",
            "extendedDescription": "A positive integer in the smallest currency unit (e.g 100 cents to charge $1.00, or 1 to charge Â¥1, a 0-decimal currency) representing how much to charge the card. The minimum amount is $0.50 (or equivalent in charge currency).",
            "example": 500,
            "required": true,
            "type": "number"
          },
          "currency": {
            "description": "3-letter ISO code for currency.",
            "example": "usd",
            "required": true,
            "type": "string"
          },
          "card": {
            "description": "The Stripe id of a saved card to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "tok_someCardIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "capture": {
            "description": "Whether to capture payment immediately, or just authorize it.",
            "extendedDescription": "If the payment is not captured, you will need to capture it within 7 days in order for payment to be collected.",
            "example": true,
            "required": true,
            "type": "boolean"
          },
          "description": {
            "description": "An arbitrary string to attach to the charge object in Stripe.",
            "extendedDescription": "It is displayed when in the web interface alongside the charge. Note that if you use Stripe to send automatic email receipts to your customers, your receipt emails will include the description of the charge(s) that they are describing.",
            "example": "This notable charge was for several gallons of mayonnaise!",
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of an existing customer to charge.",
            "example": "cus_4kmLwU2PvQBeqq",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "newCharge",
            "example": {
              "id": "ch_16AL6A2eZvKYlo2CLDZnoiSU",
              "object": "charge",
              "created": 1433511782,
              "livemode": false,
              "paid": true,
              "status": "succeeded",
              "amount": 99,
              "currency": "usd",
              "refunded": false,
              "source": {
                "id": "card_14Rjcz2eZvKYlo2C4xiaguSo",
                "object": "card",
                "last4": "4242",
                "brand": "Visa",
                "funding": "credit",
                "exp_month": 8,
                "exp_year": 2015,
                "country": "US",
                "name": "My Visa",
                "address_line1": "123 Fake St",
                "address_line2": "Apt 100",
                "address_city": "Austin",
                "address_state": "TX",
                "address_zip": 78701,
                "address_country": "United States",
                "cvc_check": "pass",
                "address_line1_check": "pasS",
                "address_zip_check": "pass",
                "dynamic_last4": 1234,
                "metadata": {},
                "customer": "cus_4avTrwptEHCD5w"
              },
              "captured": true,
              "balance_transaction": "txn_1680Ie2eZvKYlo2CZ2PMxNpk",
              "amount_refunded": 0,
              "customer": "cus_4avTrwptEHCD5w",
              "invoice": "in_16AJzV2eZvKYlo2CQWIMEIo3",
              "description": "abc",
              "dispute": "abc",
              "metadata": {},
              "statement_descriptor": "Run Club",
              "fraud_details": {},
              "receipt_email": "foo@foo.com",
              "receipt_number": "abc123",
              "shipping": "shipping",
              "destination": "dest",
              "application_fee": 0,
              "refunds": {
                "object": "list",
                "total_count": 0,
                "has_more": false,
                "url": "/v1/charges/ch_16AL6A2eZvKYlo2CLDZnoiSU/refunds",
                "data": []
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      amount: inputs.amount,\n      currency: inputs.currency,\n      card: inputs.card,\n      description: inputs.description || '',\n      capture: inputs.capture\n    };\n\n    // Add customer if it's sent in\n    if (inputs.customer) {\n      options.customer = inputs.customer;\n    }\n\n    stripe.charges.create(options, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "To charge a credit card, you create a new charge object. If your API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/create-charge",
        "docsUrl": "http://node-machine.org/machinepack-stripe/create-charge",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 103,
        "createdAt": "2015-02-16T23:51:43.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "subscribe-customer",
        "variableName": "subscribeCustomer",
        "friendlyName": "Subscibe Customer",
        "cacheable": false,
        "sync": null,
        "description": "Subscribe a customer to a pre-existing plan.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "plan": {
            "description": "The plan id to subscribe the customer to.",
            "extendedDescription": "You can find this in your stripe control panel after creating a subscription.",
            "example": "premium",
            "required": true,
            "type": "string"
          },
          "quantity": {
            "description": "If using a plan with multiple users or other dynamic elements, specify the quantity.",
            "example": 20,
            "required": true,
            "type": "number"
          },
          "card": {
            "description": "The Stripe id of a saved card to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "tok_someCardIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of an existing customer to subscribe to the plan.",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "newSubscription",
            "example": {
              "id": "sub_6EOW9GHkrQ53Z2",
              "plan": {
                "interval": "month",
                "name": "Gold Plan",
                "created": 1431566401,
                "amount": 2000,
                "currency": "gbp",
                "id": "gold",
                "object": "plan",
                "livemode": false,
                "interval_count": 1,
                "trial_period_days": 0,
                "metadata": {},
                "statement_descriptor": "foo"
              },
              "object": "subscription",
              "start": 1431505346,
              "status": "active",
              "customer": "cus_654EF6eI4JFErdS",
              "cancel_at_period_end": false,
              "current_period_start": 1431507646,
              "current_period_end": 1434186046,
              "ended_at": 0,
              "trial_start": 0,
              "trial_end": 0,
              "canceled_at": 0,
              "quantity": 2,
              "application_fee_percent": 0,
              "discount": 0,
              "tax_percent": 0,
              "metadata": {}
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      plan: inputs.plan,\n      quantity: inputs.quantity,\n      card: inputs.card\n    };\n\n\n    stripe.customers.createSubscription(inputs.customer, options, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "To subscribe a customer, you must first create a customer object with a saved card and a subscription plan (You can do this in your Stripe control panel). If your API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/subscribe-customer",
        "docsUrl": "http://node-machine.org/machinepack-stripe/subscribe-customer",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 565,
        "createdAt": "2015-06-05T14:09:47.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "update-subscription",
        "variableName": "updateSubscription",
        "friendlyName": "Update Subscription",
        "cacheable": false,
        "sync": null,
        "description": "Update a customer's subscription to change plan or quantity.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "plan": {
            "description": "The plan ID to subscribe the customer to.",
            "extendedDescription": "You can find this in your stripe control panel after creating a subscription.",
            "example": "premium",
            "required": true,
            "type": "string"
          },
          "quantity": {
            "description": "If using a plan with multiple users or other dynamic elements, specify the quantity.",
            "example": 20,
            "required": false,
            "type": "number"
          },
          "sub": {
            "description": "The subscription ID of the specific customer's plan.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "sub_someSubIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "prorate": {
            "description": "Should the subscription be prorated during the switch? true/false",
            "extendedDescription": "A pro-rata example situation can be seen here: https://stripe.com/docs/subscriptions#changing-a-customers-subscriptions",
            "example": "true",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe ID of an existing customer whom is subscribed to the plan.",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "updatedSubscription",
            "example": {
              "id": "sub_6EOW9IIKIM3Z2",
              "plan": {
                "interval": "month",
                "name": "Gold Plan",
                "created": 1431126401,
                "amount": 2000,
                "currency": "gbp",
                "id": "gold",
                "object": "plan",
                "livemode": false,
                "interval_count": 1,
                "trial_period_days": 0,
                "metadata": {},
                "statement_descriptor": 0
              },
              "object": "subscription",
              "start": 1431503203,
              "status": "active",
              "customer": "cus_6E4F9eI4JFErtsE",
              "cancel_at_period_end": false,
              "current_period_start": 1431507646,
              "current_period_end": 1434186046,
              "ended_at": 0,
              "trial_start": 0,
              "trial_end": 0,
              "canceled_at": 0,
              "quantity": 48,
              "application_fee_percent": 0,
              "discount": 0,
              "tax_percent": 0,
              "metadata": {}
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      plan: inputs.plan,\n      quantity: inputs.quantity,\n      prorate: inputs.prorate\n    };\n\n\n    stripe.customers.updateSubscription(inputs.customer, inputs.sub, options, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "To subscribe a customer, you must first create a customer object with a saved card and a subscription plan (You can do this in your Stripe control panel). If your API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways. Until this has been done, you cannot update a subscription (In other words, don't use this machine to create a subscription)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/update-subscription",
        "docsUrl": "http://node-machine.org/machinepack-stripe/update-subscription",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 566,
        "createdAt": "2015-06-05T14:09:47.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "cancel-subscription",
        "variableName": "cancelSubscription",
        "friendlyName": "Cancel Subscription",
        "cacheable": false,
        "sync": null,
        "description": "Cancel an existing subscription attached to a customer.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "sub": {
            "description": "The subscription ID of the specific customers plan you wish to cancel.",
            "extendedDescription": "When you create a subscription for a customer, this will have a specific ID. You must still provide the customer ID to successfully cancel the subscription.",
            "example": "sub_someSubIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "instant": {
            "description": "(true/false) Should the subscription be cancelled instantly, or at the end of the subscription period?",
            "extendedDescription": "True/false - More information: https://stripe.com/docs/api#cancel_subscription",
            "example": "true",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of an existing customer whom is subscribed to the plan.",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "cancelledSubscription",
            "example": {
              "id": "sub_6PefH3obLtjcCV",
              "plan": {
                "interval": "year",
                "name": "New plan name",
                "created": 1432558607,
                "amount": 2000,
                "currency": "usd",
                "id": "rhohub-gold-year",
                "object": "plan",
                "livemode": false,
                "interval_count": 1,
                "trial_period_days": 3,
                "metadata": {},
                "statement_descriptor": "None"
              },
              "object": "subscription",
              "start": 1434104747,
              "status": "canceled",
              "customer": "cus_6PdfAh2dIpK9G0",
              "cancel_at_period_end": false,
              "current_period_start": 1434104747,
              "current_period_end": 1465727147,
              "ended_at": "None",
              "trial_start": "None",
              "trial_end": "None",
              "canceled_at": "None",
              "quantity": 1,
              "application_fee_percent": 5,
              "discount": 5,
              "tax_percent": 5,
              "metadata": {}
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      at_period_end: inputs.instant\n    };\n\n\n    stripe.customers.cancelSubscription(inputs.customer, inputs.sub, options, function(err, confirmation) {\n      if (err) return exits.error(err);\n      return exits.success(confirmation);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "To subscribe a customer, you must first create a customer object with a saved card and a subscription plan (You can do this in your Stripe control panel). If your API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways. Once this subscription is attached, you may use this machine to cancel the subscription at any time.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/cancel-subscription",
        "docsUrl": "http://node-machine.org/machinepack-stripe/cancel-subscription",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 621,
        "createdAt": "2015-06-30T23:09:52.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "retrieve-subscription-details",
        "variableName": "retrieveSubscriptionDetails",
        "friendlyName": "Retrieve Subscription Details",
        "cacheable": false,
        "sync": null,
        "description": "Retrieve details of a specific, active subsription for a customer.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "sub": {
            "description": "The subscription ID of the specific customer's plan you wish to retrieve details for.",
            "extendedDescription": "When you create a subscription for a customer, this will have a specific ID.",
            "example": "sub_someSubIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of an existing customer whom is subscribed to the plan.",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "SubscriptionDetails",
            "example": {
              "id": "sub_6PefH3obLtjcCV",
              "plan": {
                "interval": "year",
                "name": "New plan name",
                "created": 1432558607,
                "amount": 2000,
                "currency": "usd",
                "id": "rhohub-gold-year",
                "object": "plan",
                "livemode": false,
                "interval_count": 1,
                "trial_period_days": null,
                "metadata": {},
                "statement_descriptor": null
              },
              "object": "subscription",
              "start": 1434104747,
              "status": "active",
              "customer": "cus_6PdfAh2dIpK9G0",
              "cancel_at_period_end": false,
              "current_period_start": 1434104747,
              "current_period_end": 1465727147,
              "ended_at": null,
              "trial_start": null,
              "trial_end": null,
              "canceled_at": null,
              "quantity": 1,
              "application_fee_percent": null,
              "discount": null,
              "tax_percent": null,
              "metadata": {}
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n\n    stripe.customers.retrieveSubscription(inputs.customer, inputs.sub, function(err, confirmation) {\n      if (err) return exits.error(err);\n      return exits.success(confirmation);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "By default, you can see the 10 most recent active subscriptions stored on a customer directly on the customer object, but you can also retrieve details about a specific active subscription for a customer.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/retrieve-subscription-details",
        "docsUrl": "http://node-machine.org/machinepack-stripe/retrieve-subscription-details",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 622,
        "createdAt": "2015-06-30T23:09:52.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      },
      {
        "identity": "one-off-charge",
        "variableName": "oneOffCharge",
        "friendlyName": "One-Off Charge",
        "cacheable": false,
        "sync": null,
        "description": "Create a new charge without storing customer or card objects in Stripe.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "amount": {
            "description": "The amount to charge, in the smallest currency unit (e.g. 500 to charge $5.00)",
            "extendedDescription": "A positive integer in the smallest currency unit (e.g 100 cents to charge $1.00, or 1 to charge Â¥1, a 0-decimal currency) representing how much to charge the card. The minimum amount is $0.50 (or equivalent in charge currency).",
            "example": 500,
            "required": true,
            "type": "number"
          },
          "currency": {
            "description": "3-letter ISO code for currency.",
            "example": "usd",
            "required": true,
            "type": "string"
          },
          "cardnumber": {
            "description": "The Credit Card number to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "4242424242424242",
            "required": true,
            "type": "string"
          },
          "cardexpmonth": {
            "description": "The credit card expiration month.",
            "example": 12,
            "required": true,
            "type": "number"
          },
          "cardexpyear": {
            "description": "The credit card expiration year.",
            "example": 2016,
            "required": true,
            "type": "number"
          },
          "cardcvc": {
            "description": "The credit card CVC.",
            "example": "123",
            "required": true,
            "type": "string"
          },
          "description": {
            "description": "An arbitrary string to attach to the charge object in Stripe.",
            "extendedDescription": "It is displayed when in the web interface alongside the charge. Note that if you use Stripe to send automatic email receipts to your customers, your receipt emails will include the description of the charge(s) that they are describing.",
            "example": "This notable charge was for several gallons of mayonnaise!",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "newCharge",
            "example": {
              "id": "ch_15snH1EzNPZriN1fcZdf93yd",
              "object": "charge",
              "created": 1429330183,
              "livemode": false,
              "paid": true,
              "status": "succeeded",
              "amount": 400,
              "currency": "usd",
              "refunded": false,
              "source": {
                "id": "card_15snH1EzNPZriN1fnGOVlXd2",
                "object": "card",
                "last4": "4242",
                "brand": "Visa",
                "funding": "credit",
                "exp_month": 12,
                "exp_year": 2017,
                "fingerprint": "IbpuqGziWHHlfWgO",
                "country": "US",
                "name": null,
                "address_line1": null,
                "address_line2": null,
                "address_city": null,
                "address_state": null,
                "address_zip": null,
                "address_country": null,
                "cvc_check": "pass",
                "address_line1_check": null,
                "address_zip_check": null,
                "dynamic_last4": null,
                "metadata": {},
                "customer": null
              },
              "captured": true,
              "balance_transaction": "txn_15snH1EzNPZriN1fGyl94sFF",
              "failure_message": null,
              "failure_code": null,
              "amount_refunded": 0,
              "customer": null,
              "invoice": null,
              "description": "Charge for test@example.com",
              "dispute": null,
              "metadata": {},
              "statement_descriptor": null,
              "fraud_details": {},
              "receipt_email": null,
              "receipt_number": null,
              "shipping": null,
              "application_fee": null,
              "refunds": {
                "object": "list",
                "total_count": 0,
                "has_more": false,
                "url": "/v1/charges/ch_15snH1EzNPZriN1fcZdf93yd/refunds"
              }
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n\n      // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n      var stripe = require(\"stripe\")(\n          inputs.apiKey\n      );\n\n      stripe.charges.create({\n        amount: inputs.amount,\n        currency: \"usd\",\n        source: {\n            number:   inputs.cardnumber,\n            exp_month:inputs.cardexpmonth,\n            exp_year: inputs.cardexpyear,\n            cvc: inputs.cardcvc\n        },\n          description: inputs.description\n      }, function(err, charge) {\n          // asynchronously called\n          if (err) return exits.error(err);\n          return exits.success(charge);\n      });\n  ",
        "environment": [],
        "extendedDescription": "If your Stripe API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe/one-off-charge",
        "docsUrl": "http://node-machine.org/machinepack-stripe/one-off-charge",
        "defaultExit": "success",
        "machinepack": 26,
        "id": 623,
        "createdAt": "2015-06-30T23:09:52.000Z",
        "updatedAt": "2015-06-30T23:09:52.000Z"
      }
    ],
    "identity": "machinepack-stripe",
    "version": "0.6.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Stripe",
    "friendlyName": "Stripe",
    "description": "Communicate with the Stripe API to charge credit cards, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://nilefrater.co.uk/images/stripe_logo_160.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-stripe",
    "docsUrl": "http://node-machine.org/machinepack-stripe",
    "npmUrl": "http://npmjs.org/package/machinepack-stripe",
    "npmPackageName": "machinepack-stripe",
    "githubUrl": "http://github.com/particlebanana/machinepack-stripe/",
    "sourceUrl": "http://github.com/particlebanana/machinepack-stripe/",
    "testsUrl": "https://travis-ci.org/particlebanana/machinepack-stripe",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "stripe",
        "semverRange": "~3.3.4"
      }
    ],
    "contributors": [
      {
        "name": "Nick Crumrine",
        "email": ""
      },
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "Scott Gress",
        "email": ""
      },
      {
        "name": "Cody Stoltman",
        "email": ""
      },
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 26,
    "createdAt": "2015-02-16T23:51:42.000Z",
    "updatedAt": "2015-06-30T23:09:52.000Z",
    "numMachines": 11
  },
  {
    "machines": [
      {
        "identity": "capture-charge",
        "variableName": "captureCharge",
        "friendlyName": "Capture a charge",
        "cacheable": false,
        "sync": null,
        "description": "Capture the payment of a previously-created charge in Stripe.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "charge": {
            "description": "The Stripe id of an \"uncaptured\" charge",
            "example": "ch_14ziQH2eZvKYlo2Ci0BoqQvT",
            "whereToGet": {
              "description": "Create a charge with the \"capture\" option set to false."
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, invalid API key, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.charges.capture(inputs.charge, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This is the second half of the two-step payment flow, where first you created a charge with the \"capture\" option set to false.  Uncaptured payments expire exactly seven days after they are created. If they are not captured by that point in time, they will be marked as refunded and will no longer be capturable.",
        "moreInfoUrl": "https://stripe.com/docs/api#capture_charge",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/capture-charge",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/capture-charge",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 501,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      },
      {
        "identity": "create-card",
        "variableName": "createCard",
        "friendlyName": "Save new card",
        "cacheable": false,
        "sync": null,
        "description": "Create a new card for a customer",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "token": {
            "description": "The Stripe token for the card, as returned by the Stripe.js SDK",
            "whereToGet": {
              "moreInfoUrl": "https://stripe.com/docs/stripe.js"
            },
            "example": "tok_someCardIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of the customer who this card belongs to",
            "whereToGet": {
              "description": "Create a customer."
            },
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "variableName": "newCard",
            "example": {
              "id": "card_14Ye1j2eZvKYlo2CJOPrAfPP",
              "object": "card",
              "last4": "4242",
              "brand": "Visa",
              "funding": "credit",
              "exp_month": 12,
              "exp_year": 2016,
              "fingerprint": "Xt5EWLLDS7FJjR1c",
              "country": "US",
              "name": null,
              "address_line1": null,
              "address_line2": null,
              "address_city": null,
              "address_state": null,
              "address_zip": null,
              "address_country": null,
              "cvc_check": "pass",
              "address_line1_check": null,
              "address_zip_check": null,
              "customer": "cus_4i4AvLpWDpiivV"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.customers.createCard(inputs.customer, {card: inputs.token}, function(err, card) {\n      if (err) return exits.error(err);\n      return exits.success(card);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "Creating a new credit card will not change the card owner's existing default credit card; you should update the customer or recipient with a new default_card for that. If the card's owner has no default credit card, the added credit card will become the default.  Whenever you create a new card for a customer, Stripe will automatically validate the card.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/create-card",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/create-card",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 502,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      },
      {
        "identity": "create-charge",
        "variableName": "createCharge",
        "friendlyName": "Create charge",
        "cacheable": false,
        "sync": null,
        "description": "Create a new charge for a customer",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "amount": {
            "description": "The amount to charge, in the smallest currency unit (e.g. 500 to charge $5.00)",
            "extendedDescription": "A positive integer in the smallest currency unit (e.g 100 cents to charge $1.00, or 1 to charge Â¥1, a 0-decimal currency) representing how much to charge the card. The minimum amount is $0.50 (or equivalent in charge currency).",
            "example": 500,
            "required": true,
            "type": "number"
          },
          "currency": {
            "description": "3-letter ISO code for currency.",
            "example": "usd",
            "required": true,
            "type": "string"
          },
          "card": {
            "description": "The Stripe id of a saved card to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "tok_someCardIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "capture": {
            "description": "Whether to capture payment immediately, or just authorize it.",
            "extendedDescription": "If the payment is not captured, you will need to capture it within 7 days in order for payment to be collected.",
            "example": true,
            "required": true,
            "type": "boolean"
          },
          "description": {
            "description": "An arbitrary string to attach to the charge object in Stripe.",
            "extendedDescription": "It is displayed when in the web interface alongside the charge. Note that if you use Stripe to send automatic email receipts to your customers, your receipt emails will include the description of the charge(s) that they are describing.",
            "example": "This notable charge was for several gallons of mayonnaise!",
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of an existing customer to charge.",
            "example": "cus_4kmLwU2PvQBeqq",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "newCharge",
            "example": {
              "id": "ch_14Yged2eZvKYlo2CcRXx8khJ",
              "object": "charge",
              "created": 1409761843,
              "livemode": false,
              "paid": true,
              "amount": 500,
              "currency": "usd",
              "refunded": false,
              "card": {
                "id": "card_14Yged2eZvKYlo2CacpQy0aC",
                "object": "card",
                "last4": "4242",
                "brand": "Visa",
                "funding": "credit",
                "exp_month": 1,
                "exp_year": 2050,
                "fingerprint": "Xt5EWLLDS7FJjR1c",
                "country": "US",
                "name": null,
                "address_line1": null,
                "address_line2": null,
                "address_city": null,
                "address_state": null,
                "address_zip": null,
                "address_country": null,
                "cvc_check": "pass",
                "address_line1_check": null,
                "address_zip_check": null,
                "customer": null
              },
              "captured": true,
              "refunds": {
                "object": "list",
                "total_count": 0,
                "has_more": false,
                "url": "/v1/charges/ch_14Yged2eZvKYlo2CcRXx8khJ/refunds"
              },
              "balance_transaction": "txn_14WGN92eZvKYlo2Ccrcqvafr",
              "failure_message": null,
              "failure_code": null,
              "amount_refunded": 0,
              "customer": null,
              "invoice": null,
              "description": null,
              "dispute": null,
              "statement_description": null,
              "receipt_email": null
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      amount: inputs.amount,\n      currency: inputs.currency,\n      card: inputs.card,\n      description: inputs.description || '',\n      capture: inputs.capture\n    };\n\n    // Add customer if it's sent in\n    if (inputs.customer) {\n      options.customer = inputs.customer;\n    }\n\n    stripe.charges.create(options, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "To charge a credit card, you create a new charge object. If your API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/create-charge",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/create-charge",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 503,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      },
      {
        "identity": "create-customer",
        "variableName": "createCustomer",
        "friendlyName": "Create customer",
        "cacheable": false,
        "sync": null,
        "description": "Create a new customer in Stripe",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "description": {
            "description": "Arbitrary string to attach to the customer in Stripe",
            "example": "sdjasnd928u8duasd",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "variableName": "newCustomer",
            "example": {
              "id": "cus_4kmLwU2PvQBeqq",
              "object": "customer",
              "created": 1410377376,
              "livemode": false,
              "description": "Customer for weatherforensics@wdtinc.com",
              "email": null,
              "delinquent": false,
              "metadata": {},
              "subscriptions": {
                "object": "list",
                "total_count": 0,
                "has_more": false,
                "url": "/v1/customers/cus_4kmLwU2PvQBeqq/subscriptions"
              },
              "discount": null,
              "account_balance": 0,
              "currency": "usd",
              "cards": {
                "object": "list",
                "total_count": 1,
                "has_more": false,
                "url": "/v1/customers/cus_4kmLwU2PvQBeqq/cards",
                "data": [
                  {
                    "id": "card_14bGkv2eZvKYlo2Co1ndeHIy",
                    "object": "card",
                    "last4": "4242",
                    "brand": "Visa",
                    "funding": "credit",
                    "exp_month": 9,
                    "exp_year": 2014,
                    "fingerprint": "Xt5EWLLDS7FJjR1c",
                    "country": "US",
                    "name": "test",
                    "address_line1": "2324 SW 137th Street",
                    "address_line2": "",
                    "address_city": "73170",
                    "address_state": "OK",
                    "address_zip": "73170",
                    "address_country": "US",
                    "cvc_check": "pass",
                    "address_line1_check": "pass",
                    "address_zip_check": "pass",
                    "customer": "cus_4kmLwU2PvQBeqq"
                  }
                ]
              },
              "default_card": "card_14bGkv2eZvKYlo2Co1ndeHIy"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, invalid API key, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      description: inputs.description\n    };\n\n    stripe.customers.create(options, function(err, customer) {\n      if (err) return exits.error(err);\n      return exits.success(customer);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/create-customer",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/create-customer",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 504,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      },
      {
        "identity": "delete-card",
        "variableName": "deleteCard",
        "friendlyName": "Delete card",
        "cacheable": false,
        "sync": null,
        "description": "Delete a card in Stripe for a customer",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "card": {
            "description": "The Stripe id of the card to delete",
            "example": "card_14t5VD2eZvKYlo2CbhcljD3Y",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, card does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.customers.deleteCard(inputs.customer, inputs.card, function(err, response) {\n      if (err) return exits.error(err);\n      if (response.deleted === false) return exits.error(new Error('E_CARD_NOT_DELETED'));\n      return exits.success(response);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://stripe.com/docs/api#delete_card",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/delete-card",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/delete-card",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 505,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      },
      {
        "identity": "list-cards",
        "variableName": "listCards",
        "friendlyName": "List cards",
        "cacheable": true,
        "sync": null,
        "description": "List all cards in Stripe for a customer.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of the customer whose cards will be listed",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "variableName": "cards",
            "example": {
              "object": "list",
              "url": "/v1/customers/cu_14YepJ2eZvKYlo2CUJrwelj2/cards",
              "has_more": false,
              "data": [
                {
                  "id": "card_14Yfhj2eZvKYlo2CDMqmQSc6",
                  "object": "card",
                  "last4": "4242",
                  "brand": "Visa",
                  "funding": "credit",
                  "exp_month": 8,
                  "exp_year": 2016,
                  "fingerprint": "Xt5EWLLDS7FJjR1c",
                  "country": "US",
                  "name": "c_brennan@me.com",
                  "address_line1": null,
                  "address_line2": null,
                  "address_city": null,
                  "address_state": null,
                  "address_zip": null,
                  "address_country": null,
                  "cvc_check": "pass",
                  "address_line1_check": null,
                  "address_zip_check": null,
                  "customer": "cus_4i4zVBclvGqTAN"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    stripe.customers.listCards(inputs.customer, function(err, response) {\n      if (err) return exits.error(err);\n      return exits.success(response);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": "https://stripe.com/docs/api#list_cards",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/list-cards",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/list-cards",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 506,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      },
      {
        "identity": "subscribe-customer",
        "variableName": "subscribeCustomer",
        "friendlyName": "Subscibe Customer",
        "cacheable": false,
        "sync": null,
        "description": "Subscribe a customer to a pre-existing plan.",
        "inputs": {
          "apiKey": {
            "description": "Your Stripe API key",
            "whereToGet": {
              "url": "https://dashboard.stripe.com/account/apikeys",
              "description": "Copy either \"Test Secret Key\" or \"Live Secret Key\" from your Stripe dashboard.",
              "extendedDescription": "Make sure you are logged in to your Stripe account, or create an account if you have not already done so."
            },
            "example": "somestring837483749blah",
            "required": true,
            "type": "string"
          },
          "plan": {
            "description": "The plan id to subscribe the customer to.",
            "extendedDescription": "You can find this in your stripe control panel after creating a subscription.",
            "example": "premium",
            "required": true,
            "type": "string"
          },
          "quantity": {
            "description": "If using a plan with multiple users or other dynamic elements, specify the quantity.",
            "example": 20,
            "required": true,
            "type": "number"
          },
          "card": {
            "description": "The Stripe id of a saved card to charge.",
            "extendedDescription": "If you also pass a customer ID, the card must be the ID of a card belonging to the customer. Otherwise, if you do not pass a customer ID, the card you provide must either be a Stripe token, like the ones returned by Stripe.js.",
            "example": "tok_someCardIdjsd2isnsd",
            "required": true,
            "type": "string"
          },
          "customer": {
            "description": "The Stripe id of an existing customer to subscribe to the plan.",
            "example": "cus_4kmLwU2PvQBeqq",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "variableName": "err",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "variableName": "newSubscription",
            "example": {
              "id": "sub_6EOW9GHkrQ53Z2",
              "plan": {
                "interval": "month",
                "name": "Gold Plan",
                "created": 1431566401,
                "amount": 2000,
                "currency": "gbp",
                "id": "gold",
                "object": "plan",
                "livemode": false,
                "interval_count": 1,
                "trial_period_days": null,
                "metadata": {},
                "statement_descriptor": null
              },
              "object": "subscription",
              "start": 1431505346,
              "status": "active",
              "customer": "cus_654EF6eI4JFErdS",
              "cancel_at_period_end": false,
              "current_period_start": 1431507646,
              "current_period_end": 1434186046,
              "ended_at": null,
              "trial_start": null,
              "trial_end": null,
              "canceled_at": null,
              "quantity": 2,
              "application_fee_percent": null,
              "discount": null,
              "tax_percent": null,
              "metadata": {}
            },
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    // TODO: handle more specific exits (i.e. rate limit, customer does not exist, etc.)\n\n    var stripe = require('stripe')(inputs.apiKey);\n\n    // Get the base options\n    var options = {\n      plan: inputs.plan,\n      quantity: inputs.quantity,\n      card: inputs.card\n    };\n\n\n    stripe.customers.createSubscription(inputs.customer, options, function(err, charge) {\n      if (err) return exits.error(err);\n      return exits.success(charge);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "To subscribe a customer, you must first create a customer object with a saved card and a subscription plan (You can do this in your Stripe control panel). If your API key is in test mode, the supplied card won't actually be charged, though everything else will occur as if in live mode. (Stripe assumes that the charge would have completed successfully).  Also note that you can use one of the [test cards provided by Stripe](https://stripe.com/docs/testing#cards), each of which always fails in one predetermined ways.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions/subscribe-customer",
        "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions/subscribe-customer",
        "defaultExit": "success",
        "machinepack": 118,
        "id": 507,
        "createdAt": "2015-05-18T19:39:45.000Z",
        "updatedAt": "2015-05-18T19:39:45.000Z"
      }
    ],
    "identity": "machinepack-stripe-subscriptions",
    "version": "0.3.3",
    "latestVersionPublishedAt": "2015-05-18T00:00:00.000Z",
    "variableName": "Stripe",
    "friendlyName": "Stripe",
    "description": "Communicate with the Stripe API to start and stop stripe subscriptions.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "http://wiki.redcomponent.com/images/2/25/Stripe_logo_160.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-stripe-subscriptions",
    "docsUrl": "http://node-machine.org/machinepack-stripe-subscriptions",
    "npmUrl": "http://npmjs.org/package/machinepack-stripe-subscriptions",
    "npmPackageName": "machinepack-stripe-subscriptions",
    "githubUrl": "http://github.com/particlebanana/machinepack-stripe/",
    "sourceUrl": "http://github.com/particlebanana/machinepack-stripe/",
    "testsUrl": "",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "bluebird",
        "semverRange": "^2.9.25"
      },
      {
        "name": "machine",
        "semverRange": "^1.0.0"
      },
      {
        "name": "stripe",
        "semverRange": "^2.9.0"
      }
    ],
    "contributors": [
      {
        "name": "Nick Crumrine",
        "email": ""
      },
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "Scott Gress",
        "email": ""
      },
      {
        "name": "Cody Stoltman",
        "email": ""
      },
      {
        "name": "Nile Frater",
        "email": ""
      },
      {
        "name": "nilefrater",
        "email": "nile.frater@gmail.com"
      }
    ],
    "id": 118,
    "createdAt": "2015-05-18T19:39:45.000Z",
    "updatedAt": "2015-05-18T19:39:45.000Z",
    "numMachines": 7
  },
  {
    "machines": [
      {
        "identity": "create-sprite",
        "variableName": "createSprite",
        "friendlyName": "Create sprite",
        "cacheable": true,
        "sync": true,
        "description": "Create an SVGs sprite from multiple SVG source files.",
        "inputs": {
          "svgs": {
            "description": "An array of SVGs to put into the sprite.",
            "required": true,
            "typeclass": "array",
            "type": "array"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "function createSprite( inputs, exits ) {\n\tvar $spriteDocument = cheerio.load( '<svg><defs></defs></svg>', { xmlMode: true } );\n\tvar $spriteSvg = $spriteDocument( 'svg' );\n\tvar $spriteDefs = $spriteDocument( 'defs' ).first();\n\n\tinputs.svgs.forEach( function ( svg ) {\nvar $svgDocument = cheerio.load( svg.content, {\n\tnormalizeWhitespace: true,\n\txmlMode:             true\n} );\n\nremoveEmptyElements( $svgDocument );\n\nvar $svg = $svgDocument( 'svg' );\nvar $svgTitle = $svgDocument( 'title' );\nvar $svgDescription = $svgDocument( 'desc' );\nvar $svgDefs = $svgDocument( 'defs' ).first();\n\n$spriteDefs.append( $svgDefs.html() );\n$svgDefs.remove();\n\nvar title = $svgTitle.first().html();\nvar description = $svgDescription.first().html();\n\n// remove title and description as we will re-add them when\n// generating the symbol\n$svgTitle.remove();\n$svgDescription.remove();\n\n// if there is no title, use the provided id\ntitle = title || svg.id;\n\n$symbolDocument = generateSymbol( svg.id, $svg, title, description );\n\n// append the generated <symbol> to the SVG sprite\n$spriteSvg.append( $symbolDocument.html() );\n\t} );\n\n\treturn exits.success( $spriteDocument.html() );\n}",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-svg-sprite/create-sprite",
        "docsUrl": "http://node-machine.org/machinepack-svg-sprite/create-sprite",
        "defaultExit": "success",
        "machinepack": 100,
        "id": 375,
        "createdAt": "2015-04-26T07:19:32.000Z",
        "updatedAt": "2015-05-17T15:09:29.000Z"
      }
    ],
    "identity": "machinepack-svg-sprite",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2015-05-17T00:00:00.000Z",
    "variableName": "SVGsprite",
    "friendlyName": "SVG sprite",
    "description": "Create an SVGs sprite from multiple SVG source files.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-svg-sprite",
    "docsUrl": "http://node-machine.org/machinepack-svg-sprite",
    "npmUrl": "http://npmjs.org/package/machinepack-svg-sprite",
    "npmPackageName": "machinepack-svg-sprite",
    "githubUrl": "http://github.com/sullinger/machinepack-svg-sprite/",
    "sourceUrl": "http://github.com/sullinger/machinepack-svg-sprite/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "cheerio",
        "semverRange": "^0.19.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "sullinger",
        "email": "stefan@slicemenice.de"
      }
    ],
    "id": 100,
    "createdAt": "2015-04-26T07:19:32.000Z",
    "updatedAt": "2015-05-17T15:09:29.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "read",
        "variableName": "read",
        "friendlyName": "Read",
        "cacheable": null,
        "sync": true,
        "description": "Create a read stream with a source path",
        "inputs": {
          "source": {
            "example": "samples/test.png",
            "description": "a source path",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "errorFileNotFind": {
            "description": "File Not Find"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var helper = require(\"../lib/helper.js\");\n    if (helper.fileExist(inputs.source)) {\n      return exits.success( helper.read(inputs.source));\n\n    } else {\n      return exits.errorFileNotFind();\n\n    }\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-thumb/read",
        "docsUrl": "http://node-machine.org/machinepack-thumb/read",
        "defaultExit": "success",
        "machinepack": 72,
        "id": 276,
        "createdAt": "2015-03-24T22:29:46.000Z",
        "updatedAt": "2015-03-26T23:59:34.000Z"
      },
      {
        "identity": "write",
        "variableName": "write",
        "friendlyName": "Write",
        "cacheable": null,
        "sync": true,
        "description": "Write your file in destination path",
        "inputs": {
          "destination": {
            "example": "samples/test-blur.png",
            "description": "a destination path",
            "required": true,
            "type": "string"
          },
          "done": {
            "typeclass": "*",
            "description": "a callback after writing",
            "required": false,
            "type": "*"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var helper = require('../lib/helper.js');\n\n    return exits.success( helper.write(inputs.destination) );\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-thumb/write",
        "docsUrl": "http://node-machine.org/machinepack-thumb/write",
        "defaultExit": "success",
        "machinepack": 72,
        "id": 277,
        "createdAt": "2015-03-24T22:29:46.000Z",
        "updatedAt": "2015-03-26T23:59:34.000Z"
      },
      {
        "identity": "to",
        "variableName": "to",
        "friendlyName": "To",
        "cacheable": null,
        "sync": true,
        "description": "Transform an convert image (PNG, JPG) with crop, resize, blur, rotate, flip, ...",
        "inputs": {
          "blur": {
            "example": 2,
            "description": "a number",
            "required": false,
            "type": "number"
          },
          "width": {
            "example": 120,
            "description": "a with of thumb",
            "required": false,
            "type": "number"
          },
          "height": {
            "example": 120,
            "description": "a height of thumb",
            "required": false,
            "type": "number"
          },
          "size": {
            "example": "120x250",
            "description": "a string  [width]x[height]",
            "required": false,
            "type": "string"
          },
          "source": {
            "example": "samples/test.png",
            "description": "a source path",
            "required": false,
            "type": "string"
          },
          "destination": {
            "example": "samples/test-blur.png",
            "description": "a destination path",
            "required": false,
            "type": "string"
          },
          "done": {
            "typeclass": "*",
            "description": "a callback after writing",
            "required": false,
            "type": "*"
          },
          "quality": {
            "example": 2,
            "description": "a number (1-100)",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var helper = require(\"../lib/helper.js\")\n      , stream;\n\n    if (inputs.source && inputs.destination) {\n      stream = helper.read(inputs.source)\n        .pipe( helper.convert(inputs) )\n        .pipe( helper.write(inputs.destination) )\n        .on('close', inputs.done);\n\n    } else if (inputs.source) {\n      stream = helper.read(inputs.source)\n        .pipe( helper.convert(inputs) )\n\n    } else if (inputs.destination) {\n      stream = process.stdin\n        .pipe( helper.convert(inputs) );\n      //need to separate this pipe for working.\n      stream\n        .pipe( helper.write(inputs.destination) )\n        .on('close', inputs.done);\n\n    }\n\n    return exits.success( stream||helper.convert(inputs) );\n  ",
        "environment": [],
        "extendedDescription": "Base on : https://github.com/mash/node-imagemagick-native. See Test file example (npm test)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-thumb/to",
        "docsUrl": "http://node-machine.org/machinepack-thumb/to",
        "defaultExit": "success",
        "machinepack": 72,
        "id": 278,
        "createdAt": "2015-03-24T22:29:46.000Z",
        "updatedAt": "2015-03-26T23:59:34.000Z"
      },
      {
        "identity": "multiple",
        "variableName": "multiple",
        "friendlyName": "Multiple",
        "cacheable": null,
        "sync": true,
        "description": "generate multiple thumbs for an image",
        "inputs": {
          "source": {
            "example": "samples/test.png",
            "description": "a source path",
            "required": false,
            "type": "string"
          },
          "schema": {
            "typeclass": "array",
            "description": "a schema of thumb source",
            "required": true,
            "type": "array"
          },
          "done": {
            "typeclass": "*",
            "description": "a callback after writing",
            "required": false,
            "type": "*"
          },
          "quality": {
            "example": 2,
            "description": "a number (1-100)",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    var _ = require(\"lodash\")\n      , helper = require(\"../lib/helper.js\")\n      , stream\n      , first;\n\n    //we store a first stream\n    first = inputs.schema.shift();\n    stream = helper.read(inputs.source)\n      .pipe( helper.convert(first) );\n\n    //simply enqueue other schema\n    for(var i=0, len=inputs.schema.length; i<len; i++) {\n      _.assign(inputs.schema[i], {source: inputs.source});\n    }\n    helper.enqueue(stream, inputs.schema, inputs.done);\n\n    //end with the first stream\n    stream\n      .pipe( helper.write( helper.dest(inputs.source, first.name)) );\n\n    return exits.success(stream);\n  ",
        "environment": [],
        "extendedDescription": "look tests/test.js for example",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-thumb/multiple",
        "docsUrl": "http://node-machine.org/machinepack-thumb/multiple",
        "defaultExit": "success",
        "machinepack": 72,
        "id": 284,
        "createdAt": "2015-03-26T23:59:34.000Z",
        "updatedAt": "2015-03-26T23:59:34.000Z"
      }
    ],
    "identity": "machinepack-thumb",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2015-03-26T00:00:00.000Z",
    "variableName": "Thumb",
    "friendlyName": "Thumb",
    "description": "Easy Generate thumb file with ImageMagick native",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-thumb",
    "docsUrl": "http://node-machine.org/machinepack-thumb",
    "npmUrl": "http://npmjs.org/package/machinepack-thumb",
    "npmPackageName": "machinepack-thumb",
    "githubUrl": "http://github.com/wi2/machinepack-thumb/",
    "sourceUrl": "http://github.com/wi2/machinepack-thumb/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "imagemagick-native",
        "semverRange": "^1.7.0"
      },
      {
        "name": "isstream",
        "semverRange": "^0.1.2"
      },
      {
        "name": "lodash",
        "semverRange": "^3.6.0"
      },
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": "contact@wi2prod.fr"
      }
    ],
    "id": 72,
    "createdAt": "2015-03-24T22:29:46.000Z",
    "updatedAt": "2015-03-26T23:59:34.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get",
        "variableName": "get",
        "friendlyName": "Get",
        "cacheable": null,
        "sync": null,
        "description": "List all or one (project, client, person, ...)",
        "inputs": {
          "account": {
            "example": "myaccount",
            "description": "account name",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "gfg12DF",
            "description": "your token",
            "required": true,
            "type": "string"
          },
          "model": {
            "example": "project",
            "description": "name of the model",
            "required": true,
            "type": "string"
          },
          "id": {
            "example": 125031,
            "description": "id of the model",
            "required": false,
            "type": "number"
          },
          "params": {
            "typeclass": "dictionary",
            "description": "params object for filtering",
            "required": false,
            "type": "dictionary"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    require('../lib/helper.js').fn(inputs, exits);\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-timetask/get",
        "docsUrl": "http://node-machine.org/machinepack-timetask/get",
        "defaultExit": "success",
        "machinepack": 70,
        "id": 262,
        "createdAt": "2015-03-20T16:59:43.000Z",
        "updatedAt": "2016-09-02T15:53:24.000Z"
      },
      {
        "identity": "add",
        "variableName": "add",
        "friendlyName": "Add",
        "cacheable": null,
        "sync": null,
        "description": "Add (project, task, time,...)",
        "inputs": {
          "account": {
            "example": "myaccount",
            "description": "account name",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "gfg12DF",
            "description": "your token",
            "required": true,
            "type": "string"
          },
          "model": {
            "example": "project",
            "description": "name of the model",
            "required": true,
            "type": "string"
          },
          "params": {
            "example": {
              "name": "Mon Atelier"
            },
            "description": "params object",
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    require('../lib/helper.js').fn(inputs, exits, 'post');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-timetask/add",
        "docsUrl": "http://node-machine.org/machinepack-timetask/add",
        "defaultExit": "success",
        "machinepack": 70,
        "id": 263,
        "createdAt": "2015-03-20T16:59:43.000Z",
        "updatedAt": "2016-09-02T15:53:24.000Z"
      },
      {
        "identity": "remove",
        "variableName": "remove",
        "friendlyName": "Remove",
        "cacheable": null,
        "sync": null,
        "description": "Remove (project, task, time,...)",
        "inputs": {
          "account": {
            "example": "myaccount",
            "description": "account name",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "gfg12DF",
            "description": "your token",
            "required": true,
            "type": "string"
          },
          "model": {
            "example": "project",
            "description": "name of the model",
            "required": true,
            "type": "string"
          },
          "params": {
            "example": {
              "name": "Mon Atelier"
            },
            "description": "params object",
            "required": true,
            "type": "object"
          },
          "id": {
            "example": 125031,
            "description": "id of the model",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    require('../lib/helper.js').fn(inputs, exits, 'delete');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-timetask/remove",
        "docsUrl": "http://node-machine.org/machinepack-timetask/remove",
        "defaultExit": "success",
        "machinepack": 70,
        "id": 264,
        "createdAt": "2015-03-20T16:59:43.000Z",
        "updatedAt": "2016-09-02T15:53:24.000Z"
      },
      {
        "identity": "update",
        "variableName": "update",
        "friendlyName": "Update",
        "cacheable": null,
        "sync": null,
        "description": "Update (project, task, time,...)",
        "inputs": {
          "account": {
            "example": "myaccount",
            "description": "account name",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "gfg12DF",
            "description": "your token",
            "required": true,
            "type": "string"
          },
          "model": {
            "example": "project",
            "description": "name of the model",
            "required": true,
            "type": "string"
          },
          "params": {
            "example": {
              "name": "Mon Atelier"
            },
            "description": "params object",
            "required": true,
            "type": "object"
          },
          "id": {
            "example": 125031,
            "description": "id of the model",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "    require('../lib/helper.js').fn(inputs, exits, 'put');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-timetask/update",
        "docsUrl": "http://node-machine.org/machinepack-timetask/update",
        "defaultExit": "success",
        "machinepack": 70,
        "id": 265,
        "createdAt": "2015-03-20T16:59:43.000Z",
        "updatedAt": "2016-09-02T15:53:24.000Z"
      }
    ],
    "identity": "machinepack-timetask",
    "version": "0.1.3",
    "latestVersionPublishedAt": "2016-09-02T00:00:00.000Z",
    "variableName": "Timetask",
    "friendlyName": "Timetask",
    "description": "Communicate with the Timetask API to get times, projects, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-timetask",
    "docsUrl": "http://node-machine.org/machinepack-timetask",
    "npmUrl": "http://npmjs.org/package/machinepack-timetask",
    "npmPackageName": "machinepack-timetask",
    "githubUrl": "http://github.com/wi2/machinepack-timetask/",
    "sourceUrl": "http://github.com/wi2/machinepack-timetask/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^4.15.0"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.0.1"
      }
    ],
    "contributors": [
      {
        "name": "wi2",
        "email": "contact@wi2prod.fr"
      }
    ],
    "id": 70,
    "createdAt": "2015-03-20T16:59:43.000Z",
    "updatedAt": "2016-09-02T15:53:24.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "get-user-profile",
        "variableName": "getUserProfile",
        "friendlyName": "Get user profile",
        "cacheable": false,
        "sync": false,
        "description": "Get a user's Treehouse profile information.",
        "inputs": {
          "username": {
            "example": "chalkers",
            "description": "The Treehouse username.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "notFound": {
            "description": "Treehouse profile not found."
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var Http = require('machinepack-http');\n\n    Http.sendHttpRequest({\n      baseUrl: 'https://teamtreehouse.com',\n      url: '/' + inputs.username + '.json',\n      method: 'get'\n    }).exec({\n      error: function(err) {\n        return exits.error('An unexpected error occured.');\n      },\n\n      notFound: function(result) {\n        return exits.notFound('Treehouse profile not found.');\n      },\n\n      success: function(result) {\n        var responseBody;\n\n        try {\n          responseBody = JSON.parse(result.body);\n        } catch(e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n\n        return exits.success(responseBody);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-treehouse/get-user-profile",
        "docsUrl": "http://node-machine.org/machinepack-treehouse/get-user-profile",
        "defaultExit": null,
        "machinepack": 131,
        "id": 567,
        "createdAt": "2015-06-05T18:49:28.000Z",
        "updatedAt": "2015-06-05T19:09:33.000Z"
      }
    ],
    "identity": "machinepack-treehouse",
    "version": "1.0.1",
    "latestVersionPublishedAt": "2015-06-05T00:00:00.000Z",
    "variableName": "Treehouse",
    "friendlyName": "Treehouse",
    "description": "Communicate with the Treehouse API to get profile data.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-treehouse",
    "docsUrl": "http://node-machine.org/machinepack-treehouse",
    "npmUrl": "http://npmjs.org/package/machinepack-treehouse",
    "npmPackageName": "machinepack-treehouse",
    "githubUrl": "http://github.com/grntartaglia/machinepack-treehouse/",
    "sourceUrl": "http://github.com/grntartaglia/machinepack-treehouse/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.2.0"
      }
    ],
    "contributors": [
      {
        "name": "Gabriel Tartaglia",
        "email": ""
      },
      {
        "name": "grntartaglia",
        "email": "ga.tartaglia96@gmail.com"
      }
    ],
    "id": 131,
    "createdAt": "2015-06-05T18:49:28.000Z",
    "updatedAt": "2015-06-05T19:09:33.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "broken-route-page",
        "variableName": "brokenRoutePage",
        "friendlyName": "Broken route (HTML)",
        "cacheable": true,
        "sync": null,
        "description": "Get the HTML for a page explaining that there was a compile error.",
        "inputs": {},
        "exits": {
          "success": {
            "variableName": "html",
            "example": "<html>...</html>",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n    var Filesystem = require('machinepack-fs');\n\n    Filesystem.read({\n      source: path.resolve(__dirname, '../html/broken-route.html')\n    }).exec({\n      error: exits.error,\n      success: exits.success\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-treeline-errors/broken-route-page",
        "docsUrl": "http://node-machine.org/machinepack-treeline-errors/broken-route-page",
        "defaultExit": null,
        "machinepack": 116,
        "id": 499,
        "createdAt": "2015-05-16T22:09:36.000Z",
        "updatedAt": "2015-05-16T22:09:36.000Z"
      }
    ],
    "identity": "machinepack-treeline-errors",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-05-16T00:00:00.000Z",
    "variableName": "TreelineErrors",
    "friendlyName": "Treeline Errors",
    "description": "Tools for handling Treeline errors in userland applications and packages.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-treeline-errors",
    "docsUrl": "http://node-machine.org/machinepack-treeline-errors",
    "npmUrl": "http://npmjs.org/package/machinepack-treeline-errors",
    "npmPackageName": "machinepack-treeline-errors",
    "githubUrl": "http://github.com/treelinehq/machinepack-treeline-errors/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-treeline-errors/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-treeline-errors",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^7.0.0"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^4.0.0"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 116,
    "createdAt": "2015-05-16T22:09:36.000Z",
    "updatedAt": "2015-05-16T22:09:36.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-board-lists",
        "variableName": "getBoardLists",
        "friendlyName": "Get board lists",
        "cacheable": false,
        "sync": false,
        "description": "Retrieve all lists for a given board",
        "inputs": {
          "boardId": {
            "example": "\"xeRDSK8Z\" (Hint: You can get this from the boards URL: https://trello.com/b/this_value_here",
            "description": "The id of the board",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "        var nodeTrello = require('node-trello'),\n            config = require('../config/auth.json'),\n            trello = new nodeTrello(config.apiKey, config.token),\n            boardId = inputs.boardId;\n\n        return trello.get('/1/boards/' + boardId + '/lists', function(err, data) {\n            if (err) {\n                return exits.error(err);\n            } else {\n                return exits.success(data);\n            }\n        });\n    ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-trello/get-board-lists",
        "docsUrl": "http://node-machine.org/machinepack-trello/get-board-lists",
        "defaultExit": null,
        "machinepack": 163,
        "id": 716,
        "createdAt": "2016-03-09T21:29:43.000Z",
        "updatedAt": "2016-03-09T21:29:43.000Z"
      },
      {
        "identity": "move-list-to-board",
        "variableName": "moveListToBoard",
        "friendlyName": "move list to board",
        "cacheable": false,
        "sync": false,
        "description": "Move the cards from one list, to another list on a specified board",
        "inputs": {
          "listIdToMove": {
            "example": "56cacebe81d9018832646c98 (24 character id)",
            "description": "The id of the list to move the cards from",
            "required": true,
            "type": "string"
          },
          "boardIdToMoveTo": {
            "example": "56cace9be1e1f1cb119a7cb8 (24 character id)",
            "description": "The id of the board to move the list to",
            "required": true,
            "type": "string"
          },
          "listIdToMoveTo": {
            "example": "56cb3aa6327c4611996cec8c (24 character id)",
            "description": "The id of the list to populate with the old lists cards",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "successNoCardsMoved": {
            "description": "Sucessful, but no cards were in the list"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "        var nodeTrello = require('node-trello'),\n            config = require('../config/auth.json'),\n            trello = new nodeTrello(config.apiKey, config.token),\n            listIdToMove = inputs.listIdToMove,\n            boardIdToMoveTo = inputs.boardIdToMoveTo,\n            listIdToMoveTo = inputs.listIdToMoveTo;\n\n        return trello.post('/1/lists/' + listIdToMove + '/moveAllCards', {\n            idBoard: boardIdToMoveTo,\n            idList: listIdToMoveTo\n        }, function(err, data) {\n            if (err) {\n                return exits.error(err);\n            } else {\n                if (data.length) {\n                    return exits.successNoCardsMoved();\n                } else {\n                    return exits.success(data);\n                }\n            }\n        });\n    ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-trello/move-list-to-board",
        "docsUrl": "http://node-machine.org/machinepack-trello/move-list-to-board",
        "defaultExit": null,
        "machinepack": 163,
        "id": 717,
        "createdAt": "2016-03-09T21:29:43.000Z",
        "updatedAt": "2016-03-09T21:29:43.000Z"
      }
    ],
    "identity": "machinepack-trello",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2016-03-09T00:00:00.000Z",
    "variableName": "Trello",
    "friendlyName": "Trello",
    "description": "Machinepack for interacting with the trello api",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-trello",
    "docsUrl": "http://node-machine.org/machinepack-trello",
    "npmUrl": "http://npmjs.org/package/machinepack-trello",
    "npmPackageName": "machinepack-trello",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^4.6.1"
      },
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "node-trello",
        "semverRange": "^1.1.2"
      }
    ],
    "contributors": [
      {
        "name": "TWKilgallon",
        "email": ""
      },
      {
        "name": "tkilgallon",
        "email": "tomkilgallon@googlemail.com"
      }
    ],
    "id": 163,
    "createdAt": "2016-03-09T21:29:43.000Z",
    "updatedAt": "2016-03-09T21:29:43.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "send-message",
        "variableName": "sendMessage",
        "friendlyName": "Send message",
        "cacheable": null,
        "sync": null,
        "description": "Send a message using the Twilio API",
        "inputs": {
          "accountSid": {
            "example": "DZe5eafd3c69b1e74example5852c04a9102",
            "description": "The \"account sid\" associated with your Twilio account.",
            "whereToGet": {
              "url": "https://www.twilio.com/user/account/voice-messaging",
              "description": "Visit your Twilio dashboard's main page. Click \"Show API Credentials\", then copy and paste your \"ACCOUNT SID\"."
            },
            "required": true,
            "type": "string"
          },
          "authToken": {
            "example": "Dafd4example5852c3c69bZe5e1e704a9102",
            "description": "The \"auth token\" associated with your Twilio account.",
            "whereToGet": {
              "url": "https://www.twilio.com/user/account/voice-messaging",
              "description": "Visit your Twilio dashboard's main page. Click \"Show API Credentials\", then copy and paste your \"AUTH TOKEN\"."
            },
            "required": true,
            "type": "string"
          },
          "body": {
            "example": "Example message",
            "description": "This is the body of the message being sent",
            "type": "string"
          },
          "mediaUrl": {
            "example": "http://imgur.com/somePic.jpg",
            "description": "This is the URL of an image to send",
            "type": "string"
          },
          "from": {
            "example": "+16155551234",
            "description": "This is the 'From' phone number you'd like to use to send the SMS.",
            "extendedDescription": "This phone number is assigned to you by Twilio. If omitted, the first available number will be used.",
            "type": "string"
          },
          "to": {
            "example": "+16155556789",
            "description": "This is the 'To' phone number the message is sending to.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "void": true,
            "isCatchall": true,
            "type": "error"
          },
          "noPhoneNumbersAvailable": {
            "description": "No sender (\"From\") phone numbers are available to your Twilio account."
          },
          "noBodyOrMediaSpecified": {
            "description": "Either a \"body\" or \"mediaUrl\" (or both) must be specified"
          },
          "success": {
            "description": "OK.",
            "void": true,
            "isDefault": true
          }
        },
        "fn": "\n    // Either body or mediaUrl (or both) must be present\n    if (!inputs.body && !inputs.mediaUrl) {\n      return exits.noBodyOrMediaSpecified();\n    }\n\n    var client = require('twilio')(inputs.accountSid, inputs.authToken);\n    var listPhoneNumbers = require('machine').build(require('./list-phone-numbers'));\n    var listPotentialPhoneNumbers = require('machine').build(require('./list-potential-numbers'));\n\n    // If no \"from\" number was provided, we'll look for one\n    (function getFromNumber(exits){\n      if (inputs.from) {\n        return exits.success(inputs.from);\n      }\n\n      listPhoneNumbers({\n        accountSid: inputs.accountSid,\n        authToken: inputs.authToken\n      }).exec({\n        error: function (err){\n          return exits.error(err);\n        },\n        success: function (phoneNumbers){\n\n          // Use the first phone number associated w/ our account.\n          if (phoneNumbers.length > 0) {\n            return exits.success(phoneNumbers[0]);\n          }\n\n          // If this turns up empty, attempt to procure\n          // a phone number using `list-potential-numbers` if necessary.\n          listPotentialPhoneNumbers({\n            accountSid: inputs.accountSid,\n            authToken: inputs.authToken\n          }).exec({\n            error: function (err){\n              return exits.error(err);\n            },\n            success: function (potentialPhoneNumbers){\n              // If there are no potential phone numbers, bail out.\n              if (phoneNumbers.length === 0) {\n                return exits.notFound();\n              }\n\n              // TODO:Try to acquire any one of them\n              // TODO:If that works, use it\n              // Otherwise bail out\n              return exits.notFound();\n            }\n          }); // </listPotentialPhoneNumbers>\n        }\n      });// </listPhoneNumbers>\n    })({\n      error: function (err){\n        return exits.error(err);\n      },\n      notFound: function (){\n        return exits.noPhoneNumbersAvailable();\n      },\n      success: function (from){\n        var message = {\n          to: inputs.to,\n          from: from\n        };\n        if (inputs.body) {\n          message.body = inputs.body;\n        }\n        if (inputs.mediaUrl) {\n          message.mediaUrl = inputs.mediaUrl;\n        }\n        client.messages.create(message, function(err, response) {\n          if (err) return exits.error(err);\n          return exits.success(response);\n        });\n      }\n    });// </getFromPhoneNumber>\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twilio/send-message",
        "docsUrl": "http://node-machine.org/machinepack-twilio/send-message",
        "defaultExit": "success",
        "machinepack": 27,
        "id": 104,
        "createdAt": "2015-02-16T23:51:45.000Z",
        "updatedAt": "2015-06-09T21:39:23.000Z"
      },
      {
        "identity": "list-phone-numbers",
        "variableName": "listPhoneNumbers",
        "friendlyName": "List phone numbers",
        "cacheable": null,
        "sync": null,
        "description": "List the available phone numbers for a particular account.",
        "inputs": {
          "accountSid": {
            "example": "DZe5eafd3c69b1e74example5852c04a9102",
            "description": "The \"account sid\" associated with your Twilio account.",
            "whereToGet": {
              "url": "https://www.twilio.com/user/account/voice-messaging",
              "description": "Visit your Twilio dashboard's main page. Click \"Show API Credentials\", then copy and paste your \"ACCOUNT SID\"."
            },
            "required": true,
            "type": "string"
          },
          "authToken": {
            "example": "Dafd4example5852c3c69bZe5e1e704a9102",
            "description": "The \"auth token\" associated with your Twilio account.",
            "whereToGet": {
              "url": "https://www.twilio.com/user/account/voice-messaging",
              "description": "Visit your Twilio dashboard's main page. Click \"Show API Credentials\", then copy and paste your \"AUTH TOKEN\"."
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              "+15128459328"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var client = require('twilio')(inputs.accountSid, inputs.authToken);\n\n    client.incomingPhoneNumbers.list({}, function(err, response) {\n      if (err) return exits.error(err);\n      try {\n        var numbers = _.pluck(response.incomingPhoneNumbers, 'phone_number');\n        return exits.success(numbers);\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twilio/list-phone-numbers",
        "docsUrl": "http://node-machine.org/machinepack-twilio/list-phone-numbers",
        "defaultExit": "success",
        "machinepack": 27,
        "id": 204,
        "createdAt": "2015-03-12T14:09:37.000Z",
        "updatedAt": "2015-06-09T21:39:23.000Z"
      },
      {
        "identity": "list-potential-numbers",
        "variableName": "listPotentialNumbers",
        "friendlyName": "List potential numbers",
        "cacheable": null,
        "sync": null,
        "description": "List the phone numbers potentially available (but not yet provisioned) to your Twilio account.",
        "inputs": {
          "accountSid": {
            "example": "DZe5eafd3c69b1e74example5852c04a9102",
            "description": "The \"account sid\" associated with your Twilio account.",
            "whereToGet": {
              "url": "https://www.twilio.com/user/account/voice-messaging",
              "description": "Visit your Twilio dashboard's main page. Click \"Show API Credentials\", then copy and paste your \"ACCOUNT SID\"."
            },
            "required": true,
            "type": "string"
          },
          "authToken": {
            "example": "Dafd4example5852c3c69bZe5e1e704a9102",
            "description": "The \"auth token\" associated with your Twilio account.",
            "whereToGet": {
              "url": "https://www.twilio.com/user/account/voice-messaging",
              "description": "Visit your Twilio dashboard's main page. Click \"Show API Credentials\", then copy and paste your \"AUTH TOKEN\"."
            },
            "required": true,
            "type": "string"
          },
          "country": {
            "description": "The ISO country code of phone numbers to return.",
            "example": "US",
            "defaultsTo": "US",
            "type": "string"
          },
          "type": {
            "description": "The type of phone numbers to return- \"local\", \"mobile\", or \"tollFree\". If omitted, defaults to \"local\".",
            "example": "local",
            "defaultsTo": "local",
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              "+15128459328"
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var _ = require('lodash');\n    var client = require('twilio')(inputs.accountSid, inputs.authToken);\n\n    client.availablePhoneNumbers(inputs.country||'US')[inputs.type||'local'].list({}, function(err, response) {\n      if (err) return exits.error(err);\n\n      try {\n        var numbers = _.pluck(response.availablePhoneNumbers, 'phone_number');\n        return exits.success(numbers);\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n    });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twilio/list-potential-numbers",
        "docsUrl": "http://node-machine.org/machinepack-twilio/list-potential-numbers",
        "defaultExit": "success",
        "machinepack": 27,
        "id": 205,
        "createdAt": "2015-03-12T14:09:37.000Z",
        "updatedAt": "2015-06-09T21:39:23.000Z"
      }
    ],
    "identity": "machinepack-twilio",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-06-09T00:00:00.000Z",
    "variableName": "Twilio",
    "friendlyName": "Twilio",
    "description": "Interact with the Twilio API; buy numbers, release numbers, send messages, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_twilio.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-twilio",
    "docsUrl": "http://node-machine.org/machinepack-twilio",
    "npmUrl": "http://npmjs.org/package/machinepack-twilio",
    "npmPackageName": "machinepack-twilio",
    "githubUrl": "http://github.com/parkeragee/machinepack-twilio/",
    "sourceUrl": "http://github.com/parkeragee/machinepack-twilio/",
    "testsUrl": "https://travis-ci.org/parkeragee/machinepack-twilio",
    "machineDir": "machines",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^4.0.0"
      },
      {
        "name": "twilio",
        "semverRange": "1.10.0"
      },
      {
        "name": "lodash",
        "semverRange": "^3.4.0"
      }
    ],
    "contributors": [
      {
        "name": "Parker Agee",
        "email": ""
      },
      {
        "name": "parkeragee",
        "email": "parker@parkeragee.com"
      }
    ],
    "id": 27,
    "createdAt": "2015-02-16T23:51:44.000Z",
    "updatedAt": "2015-06-09T21:39:23.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "format-lookup",
        "variableName": "formatLookup",
        "friendlyName": "Format Lookup",
        "cacheable": null,
        "sync": null,
        "description": "Reformat numbers provided into local format",
        "inputs": {
          "phoneNumber": {
            "example": "209 525-6325",
            "description": "Phone number you wish to validate.",
            "required": true,
            "type": "string"
          },
          "accountSid": {
            "example": "AC2b6da5680e4cdd77db1a679e8c7a42f3",
            "description": "Twilio Accoutn SID.",
            "required": true,
            "type": "string"
          },
          "authToken": {
            "example": "4135d4dba945c3d883d260148860aaaa",
            "description": "Your Twilio Auth Token.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "wrongOrNoKey": {
            "description": "Invalid or unprovided API key. All calls must have a key."
          },
          "success": {
            "description": "OK.",
            "example": "(209) 525-6325",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    var request = require('request');\n    var auth = \"Basic \" + new Buffer(inputs.accountSid+\":\"+inputs.authToken).toString(\"base64\");\n    request.get(\n      {\n        url: 'https://lookups.twilio.com/v1/PhoneNumbers/'+inputs.phoneNumber,\n        headers: {\n          \"Authorization\": auth\n        }\n      },\n      function Response(error, response, body){\n        if (error) {\n          return exits.error(error);\n        }\n        console.log(error, response);\n        if (response.statusCode === 401) {\n          return exits.wrongOrNoKey(\"Invalid API or Auth key. All calls must have vailid keys.\");\n        }\n         try {\n          var responseBody = JSON.parse(body);\n        } catch (e) {\n          return exits.error('An error occurred while parsing the body.');\n        }\n        return exits.success(responseBody.national_format);\n      });\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twiliolookup/format-lookup",
        "docsUrl": "http://node-machine.org/machinepack-twiliolookup/format-lookup",
        "defaultExit": "success",
        "machinepack": 81,
        "id": 312,
        "createdAt": "2015-04-03T06:49:30.000Z",
        "updatedAt": "2015-04-03T06:49:30.000Z"
      }
    ],
    "identity": "machinepack-twiliolookup",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-04-03T00:00:00.000Z",
    "variableName": "TwilioLookup",
    "friendlyName": "Twilio Lookup",
    "description": "Validate number format",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-twiliolookup",
    "docsUrl": "http://node-machine.org/machinepack-twiliolookup",
    "npmUrl": "http://npmjs.org/package/machinepack-twiliolookup",
    "npmPackageName": "machinepack-twiliolookup",
    "githubUrl": "http://github.com/ChanceM/machinepack-twiliolookup/",
    "sourceUrl": "http://github.com/ChanceM/machinepack-twiliolookup/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "request",
        "semverRange": "^2.54.0"
      }
    ],
    "contributors": [
      {
        "name": "ChanceM",
        "email": ""
      },
      {
        "name": "chancem",
        "email": "grmoore18@gmail.com"
      }
    ],
    "id": 81,
    "createdAt": "2015-04-03T06:49:30.000Z",
    "updatedAt": "2015-04-03T06:49:30.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-login-url",
        "variableName": "getLoginUrl",
        "friendlyName": "Get login URL",
        "cacheable": null,
        "sync": null,
        "description": "Get the URL on twitter.com that a user should visit to allow/deny the specified Twitter Developer app (i.e. your app).",
        "inputs": {
          "consumerKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The `consumerKey` associated with one of your Twitter developer apps.",
            "required": true,
            "whereToGet": {
              "url": "http://dev.twitter.com/apps",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If you don't have any Twitter apps created yet, you'll need to make one first."
            },
            "type": "string"
          },
          "consumerSecret": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The `consumerSecret` associated with one of your Twitter developer apps.",
            "required": true,
            "whereToGet": {
              "url": "http://dev.twitter.com/apps",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If you don't have any Twitter apps created yet, you'll need to make one first."
            },
            "type": "string"
          },
          "callbackUrl": {
            "example": "http://localhost:1337/auth/callback",
            "description": "The callback URL where the end user will be redirected after visiting the login URL returned by this machine.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "https://twitter.com/oauth/authenticate?oauth_token=80Hl2t3SKgdPLyD0xMxoEPoJP3CEQSXV",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var request = require('request');\n    var qs = require('querystring');\n\n    request.post({\n      url: 'https://api.twitter.com/oauth/request_token',\n      oauth: {\n        callback: inputs.callbackUrl,\n        consumer_key: inputs.consumerKey,\n        consumer_secret: inputs.consumerSecret\n      }\n    }, function(err, response, body) {\n      if (err) {\n        return exits.error(err);\n      }\n      if (response.statusCode > 299 || response.statusCode < 200) {\n        return exits.error(response.statusCode);\n      }\n\n      var access_token = qs.parse(body);\n\n      return exits.success('https://twitter.com/oauth/authenticate?oauth_token=' + access_token.oauth_token);\n\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twitter/get-login-url",
        "docsUrl": "http://node-machine.org/machinepack-twitter/get-login-url",
        "defaultExit": "success",
        "machinepack": 36,
        "id": 140,
        "createdAt": "2015-02-17T19:59:19.000Z",
        "updatedAt": "2015-06-30T23:49:48.000Z"
      },
      {
        "identity": "get-access-token",
        "variableName": "getAccessToken",
        "friendlyName": "Get access token",
        "cacheable": null,
        "sync": null,
        "description": "Generate a new access token for acting on behalf of a particular Twitter user account.",
        "inputs": {
          "consumerKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The `consumerKey` associated with one of your Twitter developer apps.",
            "required": true,
            "whereToGet": {
              "url": "http://dev.twitter.com/apps",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If you don't have any Twitter apps created yet, you'll need to make one first."
            },
            "type": "string"
          },
          "consumerSecret": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The `consumerSecret` associated with one of your Twitter developer apps.",
            "required": true,
            "whereToGet": {
              "url": "http://dev.twitter.com/apps",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If you don't have any Twitter apps created yet, you'll need to make one first."
            },
            "type": "string"
          },
          "oauthToken": {
            "example": "UL1866Vlkl0aZyPw2Kd2u592D17Xl1uE",
            "description": "The token generated by Twitter and provided to the callbackUrl as \"oauth_token\".",
            "extendedDescription": "This is generated by Twitter and passed as a parameter when redirecting users to the callbackUrl you specified- but only if the user chooses to grant your app the requested permissions.",
            "whereToGet": {
              "url": "https://g.twimg.com/dev/sites/default/files/images_documentation/sign-in-flow3-3legged.png",
              "description": "Grab the value of the parameter, e.g. req.param('oauth_token')"
            },
            "required": true,
            "type": "string"
          },
          "oauthVerifier": {
            "example": "xEj5XxGFWe6vPiJFofYgVMZjw6eVc6Mw",
            "description": "The verification code generated by Twitter and provided to the callbackUrl as \"oauth_verifier\".",
            "extendedDescription": "This is generated by Twitter and passed as a parameter when redirecting users to the callbackUrl you specified- but only if the user chooses to grant your app the requested permissions.",
            "whereToGet": {
              "url": "https://g.twimg.com/dev/sites/default/files/images_documentation/sign-in-flow3-3legged.png",
              "description": "Grab the value of the parameter, e.g. req.param('oauth_verifier')"
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "accessToken": "847489329-998DSdafaasdDSF08asdfda08agf6ad6fsdaa08dasdaf76sa5",
              "accessSecret": "SDFSssdfsdf9&SDfSDFSDFSfd9877ssdf",
              "screenName": "johngalt",
              "userId": "54952598"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var request = require('request');\n    var qs = require('querystring');\n\n    request.post({\n      url: 'https://api.twitter.com/oauth/access_token',\n      oauth: {\n        consumer_key: inputs.consumerKey,\n        consumer_secret: inputs.consumerSecret,\n        token: inputs.oauthToken,\n        verifier: inputs.oauthVerifier\n      }\n    }, function(err, response, body) {\n      if (err) {\n        return exits.error(err);\n      }\n      if (response.statusCode > 299 || response.statusCode < 200) {\n        return exits.error(response.statusCode);\n      }\n\n\n      var parsedResponse;\n      try {\n        // oauth_token=3493938-B34829ABLD2NASI242AAGa32&oauth_token_secret=42Ga2gj249gADg9031jgasdGanv2139mmadval14aD&user_id=3493938&screen_name=mikermcneil\n        parsedResponse = qs.parse(body);\n      }\n      catch (e) {\n        return exits.error(e);\n      }\n\n      return exits.success({\n        userId: parsedResponse.user_id,\n        screenName: parsedResponse.screen_name,\n        accessToken: parsedResponse.oauth_token,\n        accessSecret: parsedResponse.oauth_token_secret\n      });\n\n    });\n  ",
        "environment": null,
        "extendedDescription": "This machine should be used from your Twitter callback route (i.e. Twitter will redirect the user back to the `callbackUrl` you specify along with two values: \"oauth_token\" and \"oauth_verifier\".  These two values can then be passed to this machine in order to get the access token which authorizes your app to access this user's Twitter account.)",
        "moreInfoUrl": "https://dev.twitter.com/web/sign-in/implementing",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twitter/get-access-token",
        "docsUrl": "http://node-machine.org/machinepack-twitter/get-access-token",
        "defaultExit": "success",
        "machinepack": 36,
        "id": 141,
        "createdAt": "2015-02-17T19:59:19.000Z",
        "updatedAt": "2015-06-30T23:49:48.000Z"
      },
      {
        "identity": "get-user-profile",
        "variableName": "getUserProfile",
        "friendlyName": "Get user profile",
        "cacheable": null,
        "sync": null,
        "description": "Get a user's Twitter profile information.",
        "inputs": {
          "consumerKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The `consumerKey` associated with one of your Twitter developer apps.",
            "required": true,
            "whereToGet": {
              "url": "http://dev.twitter.com/apps",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If you don't have any Twitter apps created yet, you'll need to make one first."
            },
            "type": "string"
          },
          "consumerSecret": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The `consumerSecret` associated with one of your Twitter developer apps.",
            "required": true,
            "whereToGet": {
              "url": "http://dev.twitter.com/apps",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If you don't have any Twitter apps created yet, you'll need to make one first."
            },
            "type": "string"
          },
          "screenName": {
            "example": "johngalt",
            "description": "The Twitter screen name (i.e. username) of a Twitter account to look up.",
            "required": true,
            "type": "string"
          },
          "accessToken": {
            "example": "QDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJFObCvACVRP-V7sfemiMPBh3TWypvagfZ6aoqfwKCNcBxg8XR_skdYUe5tsY9UzX9Z_8q4mR",
            "description": "The access token for a given user (granted by Twitter)",
            "extendedDescription": "This \"permanent OAuth token\" is how Twitter knows the end user has granted access to your app.",
            "whereToGet": {
              "description": "Run the `getAccessToken` machine in this pack and use the returned `accessToken`."
            },
            "required": true,
            "type": "string"
          },
          "accessSecret": {
            "example": "QDvCav5zRSafS795TckAerUV53xzgqRyrcfYX2i_PJFObCvACVRP-V7sfemiMPBh3TWypvagfZ6aoqfwKCNcBxg8XR_skdYUe5tsY9UzX9Z_8q4mR",
            "description": "The access secret for a given user (granted by Twitter)",
            "extendedDescription": "This \"permanent OAuth secret\" is how Twitter knows the end user has granted access to your app.",
            "whereToGet": {
              "description": "Run the `getAccessToken` machine in this pack and use the returned `accessSecret`."
            },
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "name": "John Galt",
              "screenName": "johngalt",
              "profileImageUrl": "http://pbs.twimg.com/profile_images/3367735923/e3fa48371ed40fb3466fc2cdec18a3aa_normal.jpeg",
              "profileImageUrlHttps": "https://pbs.twimg.com/profile_images/3367735923/e3fa48371ed40fb3466fc2cdec18a3aa_normal.jpeg",
              "bannerImageUrl": "https://pbs.twimg.com/profile_banners/54952598/1354583726",
              "location": "Galt's Gulch",
              "description": "Overall philosophical genius",
              "createdAt": "2009-07-08T16:50:31.000Z",
              "url": "http://t.co/UDSfsSDFd",
              "followersCount": 5050234234,
              "friendsCount": 23423423423,
              "listedCount": 2342,
              "favoritesCount": 124,
              "statusesCount": 23423,
              "utcOffset": -18000,
              "timezone": "Eastern Time (US & Canada)",
              "language": "en",
              "isGeoEnabled": true,
              "isProtected": true,
              "isVerified": true,
              "isSuspended": true
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var request = require('request');\n\n    request.get({\n      url: 'https://api.twitter.com/1.1/users/show.json',\n      qs: (function _determineParams (){\n        // EITHER screen name or user id is required, but NOT BOTH!\n        // (for now we just allow username)\n        var _params = {};\n        if (inputs.screenName) {\n          _params.screen_name = inputs.screenName;\n        }\n        return _params;\n      })(),\n      oauth: {\n        consumer_key: inputs.consumerKey,\n        consumer_secret: inputs.consumerSecret,\n        token: inputs.accessToken,\n        token_secret: inputs.accessSecret\n      },\n      json: true\n    }, function(err, response, body) {\n      if (err) {\n        return exits.error(err);\n      }\n      if (response.statusCode > 299 || response.statusCode < 200) {\n        return exits.error(response.statusCode);\n      }\n\n      return exits.success({\n        name: body.name,\n        screenName: body.screen_name,\n        profileImageUrl: body.profile_image_url,\n        profileImageUrlHttps: body.profile_image_url_https,\n        bannerImageUrl: body.profile_banner_url,\n        location: body.location,\n        description: body.description,\n        url: body.url,\n        followersCount: body.followers_count,\n        friendsCount: body.friends_count,\n        listedCount: body.listed_count,\n        createdAt: (new Date(body.created_at)).toJSON(),\n        favoritesCount: body.favourites_count,\n        utcOffset: body.utc_offset,\n        timezone: body.time_zone,\n        isVerified: body.verified,\n        language: body.lang,\n        isGeoEnabled: body.geo_enabled,\n        statusesCount: body.statuses_count,\n        isProtected: body.protected,\n        isSuspended: body.suspended\n      });\n    });\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-twitter/get-user-profile",
        "docsUrl": "http://node-machine.org/machinepack-twitter/get-user-profile",
        "defaultExit": "success",
        "machinepack": 36,
        "id": 142,
        "createdAt": "2015-02-17T19:59:19.000Z",
        "updatedAt": "2015-06-30T23:49:48.000Z"
      }
    ],
    "identity": "machinepack-twitter",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Twitter",
    "friendlyName": "Twitter",
    "description": "Communicate with the Twitter API to get profile data, tweets, followers, and more.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_twitter.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-twitter",
    "docsUrl": "http://node-machine.org/machinepack-twitter",
    "npmUrl": "http://npmjs.org/package/machinepack-twitter",
    "npmPackageName": "machinepack-twitter",
    "githubUrl": "http://github.com/irlnathan/machinepack-twitter/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-twitter/",
    "testsUrl": "https://travis-ci.org/irlnathan/machinepack-twitter",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "request",
        "semverRange": "^2.53.0"
      }
    ],
    "contributors": [
      {
        "name": "Irl Nathan",
        "email": ""
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 36,
    "createdAt": "2015-02-17T19:59:19.000Z",
    "updatedAt": "2015-06-30T23:49:48.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-price-estimate",
        "variableName": "getPriceEstimate",
        "friendlyName": "Get price estimate",
        "cacheable": null,
        "sync": null,
        "description": "A price estimate for each product offered.",
        "inputs": {
          "apiKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The private Uber API key for this application.",
            "required": true,
            "whereToGet": {
              "url": "https://developer.uber.com/apps/",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": ""
            },
            "type": "string"
          },
          "startLatitude": {
            "example": 37.623908,
            "description": "Latitude component of start location.",
            "required": true,
            "type": "number"
          },
          "startLongitude": {
            "example": -122.381592,
            "description": "Longitude component of start location.",
            "required": true,
            "type": "number"
          },
          "endLatitude": {
            "example": 37.623908,
            "description": "Latitude component of end location.",
            "required": true,
            "type": "number"
          },
          "endLongitude": {
            "example": -122.401213,
            "description": "Longitude component of end location.",
            "required": true,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "rateLimitExceeded": {
            "description": "The rate limit has been exceeded."
          },
          "tooFar": {
            "description": "Distance between two points exceeds 100 miles."
          },
          "invalidApiKey": {
            "description": "Invalid api key."
          },
          "noPriceAvail": {
            "description": "There is no available price for this location."
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "productId": "08f17084-23fd-4103-aa3e-9b660223934b",
                "currencyCode": "USD",
                "displayName": "UberBLACK",
                "estimate": "$23-29",
                "lowEstimate": 23,
                "highEstimate": 29,
                "surgeMultiplier": 1,
                "duration": 640,
                "distance": 5.34
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var Http = require('machinepack-http');\n\n\n    Http.sendHttpRequest({\n      baseUrl: 'https://api.uber.com',\n      url: '/v1/estimates/price',\n      method: 'get',\n      params: {\n        server_token: inputs.apiKey,\n        start_latitude: inputs.startLatitude,\n        start_longitude: inputs.startLongitude,\n        end_latitude: inputs.endLatitude,\n        end_longitude: inputs.endLongitude\n      }\n    }).exec({\n      // OK.\n      success: function(httpResponse) {\n\n        // Parse response body and build up result.\n        var responseBody;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n\n          if (_.isEmpty(responseBody.prices)) {\n            return exits.noPriceAvail('There is no available price for this loctaion.');\n          }\n\n          if (!responseBody.prices) {\n            return exits.error('Unexpected response from Uber API:\\n' + util.inspect(responseBody, false, null));\n          }\n        } catch (e) {\n          return exits.error('Unexpected response from Uber API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n\n        responseBody.prices = _.reduce(responseBody.prices, function(memo, priceMetadata) {\n          memo.push({\n            productId: priceMetadata.product_id,\n            currencyCode: priceMetadata.currency_code,\n            displayName: priceMetadata.display_name,\n            estimate: priceMetadata.estimate,\n            lowEstimate: priceMetadata.low_estimate,\n            highEstimate: priceMetadata.high_estimate,\n            surgeMultiplier: priceMetadata.surge_multiplier,\n            duration: priceMetadata.duration,\n            distance: priceMetadata.distance \n          });\n          return memo;\n        }, []);\n\n\n        return exits.success(responseBody.prices);\n\n      },\n      // Non-2xx status code returned from server\n      notOk: function(httpResponse) {\n\n        try {\n          var responseBody = JSON.parse(httpResponse.body);\n  \n          if (httpResponse.status === 401) {\n            return exits.invalidApiKey('Invalid api key.');\n          }\n          if (httpResponse.status === 422) {\n            return exits.tooFar('Distance between two points exceeds 100 miles.');\n          }\n          if (httpResponse.status === 429 && _.any(responseBody.error.errors, {\n              reason: 'rateLimitExceeded'\n            })) {\n            return exits.rateLimitExceeded();\n          }\n          // Unknown uber error\n          return exits.error(httpResponse);\n        } catch (e) {\n          return exits.error('Unexpected response from Uber API:\\n' + util.inspect(responseBody, false, null) + '\\nParse error:\\n' + util.inspect(e));\n        }\n\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-uber/get-price-estimate",
        "docsUrl": "http://node-machine.org/machinepack-uber/get-price-estimate",
        "defaultExit": "success",
        "machinepack": 30,
        "id": 109,
        "createdAt": "2015-02-16T23:51:50.000Z",
        "updatedAt": "2015-03-25T23:29:40.000Z"
      }
    ],
    "identity": "machinepack-uber",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2015-03-25T00:00:00.000Z",
    "variableName": "Uber",
    "friendlyName": "Uber",
    "description": "Communicate with the Uber API to get price estimates, time estimates, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "https://s3-us-west-1.amazonaws.com/machinepack-icons/machinepack_uber.png",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-uber",
    "docsUrl": "http://node-machine.org/machinepack-uber",
    "npmUrl": "http://npmjs.org/package/machinepack-uber",
    "npmPackageName": "machinepack-uber",
    "githubUrl": "http://github.com/irlnathan/machinepack-uber/",
    "sourceUrl": "http://github.com/irlnathan/machinepack-uber/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^2.0.0"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^1.0.2"
      },
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      }
    ],
    "contributors": [
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      }
    ],
    "id": 30,
    "createdAt": "2015-02-16T23:51:49.000Z",
    "updatedAt": "2015-03-25T23:29:40.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-url",
        "variableName": "getUrl",
        "friendlyName": "Get Url",
        "cacheable": null,
        "sync": null,
        "description": "Get's the URL from URLBOX.io to display the screen capture.",
        "inputs": {
          "apiKey": {
            "example": "ODUfdisauPUdufsoUSF",
            "description": "Your URLBOX.io API key.",
            "required": true,
            "type": "string"
          },
          "secret": {
            "example": "ODUfdisauPUdufsoUSF",
            "description": "Your URLBOX.io secret.",
            "required": true,
            "type": "string"
          },
          "url": {
            "example": "http://www.apple.com",
            "description": "HTTP Encoded target url",
            "required": true,
            "type": "string"
          },
          "width": {
            "example": 1280,
            "description": "Viewport width of the browser.  Default 1280.",
            "required": false,
            "type": "number"
          },
          "height": {
            "example": 1024,
            "description": "Viewport of the height of the browser.  Default 1024.",
            "required": false,
            "type": "number"
          },
          "thumb_width": {
            "example": 200,
            "description": "Width of the generated thumbnail, leave off for full-size screen",
            "required": false,
            "type": "number"
          },
          "user_agent": {
            "example": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.101 Safari/537.36",
            "description": "The user-agent string used to emulate a particular client",
            "required": false,
            "type": "string"
          },
          "wrap": {
            "example": true,
            "description": "Optionally place a screenshot inside an image of an iPhone or other device.",
            "required": false,
            "type": "boolean"
          },
          "delay": {
            "example": 1000,
            "description": "Amount of time to wait in milliseconds before urlbox takes the screen capture.",
            "required": false,
            "type": "number"
          },
          "full_page": {
            "example": true,
            "description": "specify whether to capture the full-length of the website.",
            "required": true,
            "type": "boolean"
          },
          "force": {
            "example": false,
            "description": "Take a fresh screenshot instead of getting a cached version.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n      var crypto = require('crypto');\n      var util = require('util');\n\n      var apiKey = inputs.apiKey;\n      var apiSecret = inputs.secret;\n\n      var encodedUrl = encodeURIComponent(inputs.url);\n      var queryString = \"url=\" + encodedUrl;\n\n      if(inputs.width){\n        queryString += \"&width=\" + inputs.width;\n      }\n      if(inputs.height){\n        queryString += \"&height=\" + inputs.height;\n      }\n      if(inputs.thumb_width){\n        queryString += \"&thumb_width=\" + inputs.thumb_width;\n      }\n      if(inputs.user_agent){\n        queryString += \"&user_agent=\" + inputs.user_agent;\n      }\n      if(inputs.wrap){\n        queryString += \"&wrap=\" + inputs.wrap;\n      }\n      if(inputs.delay){\n        queryString += \"&delay=\" + inputs.delay;\n      }\n      if(inputs.full_page){\n        queryString += \"&full_page=\" + inputs.full_page;\n      }\n      if(inputs.force){\n        queryString += \"&force=\" + inputs.force;\n      }\n\n      var token = crypto.createHmac(\"sha1\", inputs.secret).update(queryString).digest(\"hex\");\n\n      var constructedUrl = util.format('https://api.urlbox.io/v1/%s/%s/png?%s', apiKey, token, queryString);\n\n      return exits.success(constructedUrl);\n\n\n    ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": "http://urlbox.com",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-urlbox/get-url",
        "docsUrl": "http://node-machine.org/machinepack-urlbox/get-url",
        "defaultExit": "success",
        "machinepack": 75,
        "id": 292,
        "createdAt": "2015-03-29T03:16:49.000Z",
        "updatedAt": "2015-03-29T04:20:50.000Z"
      }
    ],
    "identity": "machinepack-urlbox",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-03-29T00:00:00.000Z",
    "variableName": "Urlbox",
    "friendlyName": "Urlbox",
    "description": "This machinepack is a screen capture service.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-urlbox",
    "docsUrl": "http://node-machine.org/machinepack-urlbox",
    "npmUrl": "http://npmjs.org/package/machinepack-urlbox",
    "npmPackageName": "machinepack-urlbox",
    "githubUrl": "http://github.com/texaspacm/machinepack-urlbox/",
    "sourceUrl": "http://github.com/texaspacm/machinepack-urlbox/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      }
    ],
    "contributors": [
      {
        "name": "texaspacm",
        "email": "philip.meyer@gmail.com"
      }
    ],
    "id": 75,
    "createdAt": "2015-03-29T03:16:49.000Z",
    "updatedAt": "2015-03-29T04:20:50.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "parse",
        "variableName": "parse",
        "friendlyName": "Parse URL",
        "cacheable": true,
        "sync": true,
        "description": "Parse metadata from a URL.",
        "inputs": {
          "url": {
            "description": "The URL to parse.",
            "example": "http://user:pass@host.com:8080/p/a/t/h?query=string#hash",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Parsed URL",
            "outputDescription": "Information obtained by parsing the input URL.",
            "outputExample": {
              "protocol": "http:",
              "auth": "user:pass",
              "port": 8080,
              "hostname": "host.com",
              "hash": "hash",
              "search": "?query=string",
              "pathname": "/p/a/t/h",
              "path": "/p/a/t/h?query=string"
            },
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `url`.\n    var Url = require('url');\n\n    // Use the `parse` function of the `url` package to get information about the given URL.\n    var parsedUrl = Url.parse(inputs.url);\n\n    // Attempt to infer port if it doesn't exist.\n    if (!parsedUrl.port) {\n      if (parsedUrl.protocol === 'https:') {\n        parsedUrl.port = 443;\n      }\n      else {\n        parsedUrl.port = 80;\n      }\n    }\n\n    // Return the parsed URL info through the `success` exit.\n    return exits.success(parsedUrl);\n  ",
        "environment": null,
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-urls/parse",
        "docsUrl": "http://node-machine.org/machinepack-urls/parse",
        "defaultExit": "success",
        "machinepack": 29,
        "id": 139,
        "createdAt": "2015-02-17T19:39:30.000Z",
        "updatedAt": "2016-10-06T23:59:39.000Z"
      },
      {
        "identity": "format",
        "variableName": "format",
        "friendlyName": "Format URL",
        "cacheable": true,
        "sync": true,
        "description": "Build a URL from a template string and a set of route parameters.",
        "inputs": {
          "urlTemplate": {
            "friendlyName": "URL template",
            "description": "The URL template, consisting of zero or more colon-prefixed tokens.",
            "example": "/api/v1/user/:id/friends/:friendId",
            "required": true,
            "type": "string"
          },
          "data": {
            "description": "An object of key/value pairs to use as url path parameter values.",
            "example": {},
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Formatted URL",
            "outputDescription": "The result of applying the given route parameters to the input template.",
            "outputExample": "/api/v1/user/7/friends/aba213-a83192bf-d139-e139e",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `lodash`.\n    var _ = require('lodash');\n\n    // Use `replace` with a custom replacer function to substitute actual param values for tokens.\n    var result = inputs.urlTemplate.replace(/(\\:[^\\/\\:\\.]+)/g, function ($all, $1){\n      // Get the name of the param that this token represents.\n      var routeParamName = $1.replace(/^\\:/, '');\n      // If we don't have a value for this param in the `data` input, replace it with an empty string.\n      if (_.isUndefined(inputs.data[routeParamName]) || _.isNull(inputs.data[routeParamName])) {\n        return '';\n      }\n      // Otherwise replace the token with the value for this param in the `data` input.\n      return inputs.data[routeParamName];\n    });\n\n    // Return the result through the `success` exit.\n    return exits.success(result);\n  ",
        "environment": [],
        "extendedDescription": "Template is in the standard express/backbone format.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-urls/format",
        "docsUrl": "http://node-machine.org/machinepack-urls/format",
        "defaultExit": "success",
        "machinepack": 29,
        "id": 493,
        "createdAt": "2015-05-15T13:29:36.000Z",
        "updatedAt": "2016-10-06T23:59:39.000Z"
      },
      {
        "identity": "resolve",
        "variableName": "resolve",
        "friendlyName": "Resolve URL",
        "cacheable": true,
        "sync": true,
        "description": "Build a sanitized, fully-qualified version of the provided URL.",
        "inputs": {
          "url": {
            "friendlyName": "URL",
            "description": "The URL to resolve, with or without the protocol prefix (e.g. \"http://\").",
            "extendedDescription": "If a `baseUrl` is specified, then this URL should be specified as a URL path (e.g. \"/foo\").  Otherwise, this _must_ include the hostname (e.g. `api.example.com`).",
            "example": "www.example.com/search",
            "required": true,
            "type": "string"
          },
          "baseUrl": {
            "friendlyName": "Base URL",
            "description": "Optional base URL to resolve against, with or without the protocol prefix (e.g. \"http://\").",
            "extendedDescription": "If specified, this _must_ include the hostname (e.g. `api.example.com`).  It may also include a path (e.g. `http://api.example.com/pets`).",
            "example": "api.example.com/pets",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Resolved URL",
            "outputDescription": "A sanitized, fully-qualified URL.",
            "outputExample": "http://www.example.com/search",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import the `url` module from Node core.\n    var url = require('url');\n\n    // Import the `path` module from Node core.\n    var path = require('path');\n\n    // Get a handle to this pack.\n    var Urls = require('../');\n\n\n    // Resolve either the `url` or the `baseUrl` (if one was provided.)\n    //\n    // > If a `baseUrl` WAS provided, once it is resolved (and valid),\n    // > treat the primary `url` as a path, and resolve it relative to\n    // > the base URL.\n    var coercedUrl;\n\n    //  â¦âââ  ââ âââââââââ  â¬ â¬â¬âââ¬    â¬ â¬ââââââ  ââââ¬ââââââ¬  â¬â¬ââ¬ââââââ¬â\n    //  ââ â£   ââ´ââââ¤âââââ¤   â âââ¬ââ    ââââââ¤âââ  âââââ¬ââ ââââââ ââââ¤  ââ\n    //  â©â    ââââ´ â´ââââââ  ââââ´âââ´ââ  ââ´ââ´ â´âââ  â´  â´âââââ ââ â´ââ´ââââââ´âooo\n    if (inputs.baseUrl !== undefined) {\n      coercedUrl = inputs.baseUrl;\n\n      // Before proceeding, take care of a few things that aren't handled the same way by `url.parse()`:\n      // â¢ if base URL begins with two slashes (//), then change it to `http://`.\n      if (coercedUrl.match(/^(\\/\\/)/)){\n        coercedUrl = coercedUrl.replace(/^\\/\\//, 'http://');\n      }\n      // â¢ if base URL DOES NOT begin with a protocol-looking thing, then prefix it with `http://`\n      else if (!coercedUrl.match(/^([a-z][a-z0-9]+:\\/\\/)/)) {\n        coercedUrl =  'http://' + coercedUrl;\n      }\n\n      var baseUrlInfo = url.parse(coercedUrl);\n\n      if (baseUrlInfo.search) {\n        throw new Error('The provided base URL (`'+inputs.baseUrl+'`) contains a query string (`'+baseUrlInfo.search+'`).  But it should _never_ contain a query string.  That is only allowed in the primary URL (`url`).');\n      }\n      if (baseUrlInfo.hash) {\n        throw new Error('The provided base URL (`'+inputs.baseUrl+'`) contains a hash/fragment (`'+baseUrlInfo.hash+'`).  But it should _never_ contain a URL fragment.  That is only allowed in the primary URL (`url`).');\n      }\n\n      // Ensure protocol\n      // (set it to `http` if there isn't one)\n      if (!baseUrlInfo.protocol) {\n        baseUrlInfo.protocol = 'http:';\n      }\n\n      // Always make sure `slashes` is set to `true`.\n      baseUrlInfo.slashes = true;\n\n      // Verify hostname.\n      if (!baseUrlInfo.hostname) {\n        throw new Error('The provided base URL (`'+inputs.baseUrl+'`) was not a valid, fully-qualified URL.  Make sure it includes the hostname (e.g. \"example.com\").');\n      }\n\n      // Squish together any repeated adjacent slashes that appear in the path\n      // (e.g. \"http://foo///bar//z/////d.jpg\" => \"http://foo/bar/z/d.jpg\")\n      baseUrlInfo.pathname = baseUrlInfo.pathname.replace(/\\/+/g, '/');\n\n      // Trim trailing slashes in path.\n      baseUrlInfo.pathname = baseUrlInfo.pathname.replace(/\\/*$/, '');\n\n      // Now we need to check that the provided target URL (`url`) is a valid URL path.\n      var targetUrlInfo = url.parse(inputs.url);\n      if (targetUrlInfo.protocol || targetUrlInfo.slashes) {\n        throw new Error('The provided target URL (`'+inputs.url+'`) has an unexpected format.  Because a base URL (`'+inputs.baseUrl+'`) was also specified, the target URL should be provided as a URL path, like \"/foo/bar\".  It should not begin with a protocol like \"http://\".');\n      }\n      // --â¢  Assuming it looks good...\n\n      // Join its path with the existing pathname.\n      //\n      // > Note that we're careful to grab _just the pathname_.\n      // > That's because there might be a querystring or fragment,\n      // > and we don't want to inadvertently double-encode it.\n      baseUrlInfo.pathname = path.join(baseUrlInfo.pathname, targetUrlInfo.pathname);\n\n      // And, one last time, trim trailing slashes in path.\n      baseUrlInfo.pathname = baseUrlInfo.pathname.replace(/\\/*$/, '');\n\n\n      // Next, copy over the querystring and fragment, if they exist.\n      baseUrlInfo.search = targetUrlInfo.search;\n      baseUrlInfo.hash = targetUrlInfo.hash;\n\n\n      // Finally, coallesce all the pieces.\n      coercedUrl = url.format(baseUrlInfo);\n\n    }// â¡\n    //  âââââ¦ââ¦ â¦ââââ¦âââ¦ â¦â¦ââââââ\n    //  â â â â ââ£ââ£ â â¦ââââââââââ£\n    //  âââ â© â© â©ââââ©ââââ©ââ©ââââââooo\n    //  ââ    ââââââ  ââ âââââââââ  â¬ â¬â¬âââ¬    â¬ â¬ââââââ  ââââ¬ââââââ¬  â¬â¬ââ¬ââââââ¬â    ââ\n    //  ââââ  ââââ â  ââ´ââââ¤âââââ¤   â âââ¬ââ    ââââââ¤âââ  âââââ¬ââ ââââââ ââââ¤  ââ  ââââ\n    //  ââ    ââââââ  ââââ´ â´ââââââ  ââââ´âââ´ââ  ââ´ââ´ â´âââ  â´  â´âââââ ââ â´ââ´ââââââ´â    ââ\n    else {\n\n      coercedUrl = inputs.url;\n\n      // Before proceeding, take care of a few things that aren't handled the same way by `url.parse()`:\n      // â¢ if URL begins with two slashes (//), then change it to `http://`.\n      if (coercedUrl.match(/^(\\/\\/)/)){\n        coercedUrl = coercedUrl.replace(/^\\/\\//, 'http://');\n      }\n      // â¢ if URL DOES NOT begin with a protocol-looking thing, then prefix it with `http://`\n      else if (!coercedUrl.match(/^([a-z][a-z0-9]+:\\/\\/)/)) {\n        coercedUrl =  'http://' + coercedUrl;\n      }\n\n      var soloUrlInfo = url.parse(coercedUrl);\n\n      // Ensure protocol\n      // (set it to `http` if there isn't one)\n      if (!soloUrlInfo.protocol) {\n        soloUrlInfo.protocol = 'http:';\n      }\n\n      // Always make sure `slashes` is set to `true`.\n      soloUrlInfo.slashes = true;\n\n      // Verify hostname.\n      if (!soloUrlInfo.hostname) {\n        throw new Error('The provided URL (`'+inputs.url+'`) was not a valid, fully-qualified URL.  Make sure it includes the hostname (e.g. \"example.com\"), or to leave this primary URL as a path (like \"/foo/bar\"), you can also provide a separate base URL (e.g. \"api.example.com/pets\").');\n      }\n\n      // Squish together any repeated adjacent slashes that appear in the path\n      // (e.g. \"http://foo///bar//z/////d.jpg\" => \"http://foo/bar/z/d.jpg\")\n      soloUrlInfo.pathname = soloUrlInfo.pathname.replace(/\\/+/g, '/');\n\n      // Trim trailing slashes in path.\n      soloUrlInfo.pathname = soloUrlInfo.pathname.replace(/\\/*$/, '');\n\n      // Now coallesce all the pieces.\n      coercedUrl = url.format(soloUrlInfo);\n\n    }//</else :: base URL was not provided>\n\n\n    // --â¢\n    // Now, if we made it here, return the fully-qualified URL through\n    // the `success` exit.\n    return exits.success(coercedUrl);\n  ",
        "environment": [],
        "extendedDescription": "Given a URL, this returns a fully-qualified URL with trailing slashes stripped off.  It also infers a protocol, if necessary.  For example, if a valid protocol is provided (e.g. \"https://\") and the original URL contains no trailing slashes, the URL returned will be identical to what was passed in.  If the provided URL begins with \"//\", it will be replaced with \"http://\".  If the provided URL does not start with a usable protocol (e.g. \"google.com\"), then \"http://\" will be prepended.  If the URL cannot be sanitized (e.g. if it is missing a hostname, or altogether malformed), then the `error` exit will be triggered.  In other words, if `/foo/bar` is passed in as the URL (and assuming the optional base URL is not provided), then this machine will fail.\n\n### Resolving relative to a base URL\nOptionally, this machine _also_ allows a base URL (`baseUrl`) to be provided.  This allows a URL path (like `/foo/bar`) to be provided as the primary URL, as long as a valid URL with a hostname is provided as the base URL.  To stick with our example from above, if `/foo/bar` is passed in as the primary URL (`url`), and a valid base URL-- say, `api.example.com/pets` _is also provided_, then, instead of failing, this machine will return `http://api.example.com/pets/foo/bar`.\n\n### URL encoding\n> This also ensures that the provided URL strings do not contain invalid characters by escaping spaces as `%20`, etc.\n> See [the Node.js docs](https://nodejs.org/api/url.html#url_escaped_characters) for reference.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-urls/resolve",
        "docsUrl": "http://node-machine.org/machinepack-urls/resolve",
        "defaultExit": "success",
        "machinepack": 29,
        "id": 494,
        "createdAt": "2015-05-15T13:29:36.000Z",
        "updatedAt": "2016-10-06T23:59:39.000Z"
      },
      {
        "identity": "is-url",
        "variableName": "isUrl",
        "friendlyName": "Is URL?",
        "cacheable": null,
        "sync": true,
        "description": "Determine whether the specified string is a valid, fully-qualified URL.",
        "inputs": {
          "string": {
            "example": "http://www.example.com",
            "description": "The candidate URL to validate.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Valid URL?",
            "outputDescription": "Whether the provided string was a valid, fully qualified URL.",
            "outputExample": true,
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    // From https://gist.github.com/dperini/729294\n    var re_weburl = new RegExp(\n      \"^\" +\n      // protocol identifier\n      \"(?:(?:[a-z][a-z0-9]+)://)\" +\n      // user:pass authentication\n      \"(?:\\\\S+(?::\\\\S*)?@)?\" +\n      \"(?:\" +\n      // IP address exclusion\n      // private & local networks\n      \"(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})\" +\n      \"(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})\" +\n      \"(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})\" +\n      // IP address dotted notation octets\n      // excludes loopback network 0.0.0.0\n      // excludes reserved space >= 224.0.0.0\n      // excludes network & broacast addresses\n      // (first & last IP address of each class)\n      \"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" +\n      \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" +\n      \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" +\n      \"|\" +\n      // host name\n      \"(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)\" +\n      // domain name\n      \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*\" +\n      // TLD identifier (optional, to allow http://localhost)\n      \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))?\" +\n      \")\" +\n      // port number\n      \"(?::\\\\d{2,5})?\" +\n      // resource path\n      \"(?:/\\\\S*)?\" +\n      \"$\", \"i\"\n    );\n\n    // If the input string can pass through the regex above, it's a valid URL,\n    // so we can return `true` through our `success` exit.\n    if (re_weburl.test(inputs.string)) {\n      return exits.success(true);\n    }\n\n    // Otherwise return `false` through the `invalid` exit.\n    return exits.success(false);\n  ",
        "environment": [],
        "extendedDescription": "Validates a _fully qualified_ URL- in other words the protocol (e.g. \"http\") and domain (e.g. \"google.com\") are both required.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-urls/is-url",
        "docsUrl": "http://node-machine.org/machinepack-urls/is-url",
        "defaultExit": null,
        "machinepack": 29,
        "id": 846,
        "createdAt": "2016-10-06T23:59:39.000Z",
        "updatedAt": "2016-10-06T23:59:39.000Z"
      }
    ],
    "identity": "machinepack-urls",
    "version": "6.0.1",
    "latestVersionPublishedAt": "2016-10-06T00:00:00.000Z",
    "variableName": "URLs",
    "friendlyName": "URLs",
    "description": "Machines for working with URL strings.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-urls",
    "docsUrl": "http://node-machine.org/machinepack-urls",
    "npmUrl": "http://npmjs.org/package/machinepack-urls",
    "npmPackageName": "machinepack-urls",
    "githubUrl": "http://github.com/mikermcneil/machinepack-urls/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-urls/",
    "testsUrl": "https://travis-ci.org/mikermcneil/machinepack-urls",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^3.9.2"
      },
      {
        "name": "machine",
        "semverRange": "^13.0.0-11"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "balderdashy",
        "email": "mike@balderdash.co"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      },
      {
        "name": "particlebanana",
        "email": "particlebanana@gmail.com"
      }
    ],
    "id": 29,
    "createdAt": "2015-02-16T23:51:48.000Z",
    "updatedAt": "2016-10-06T23:59:39.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "log",
        "variableName": "log",
        "friendlyName": "Log a message",
        "cacheable": null,
        "sync": true,
        "description": "Output a message to the console",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "description": "The value that will be written to the console.",
            "example": "===",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    console.log(inputs.value);\n    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-util/log",
        "docsUrl": "http://node-machine.org/machinepack-util/log",
        "defaultExit": "success",
        "machinepack": 33,
        "id": 134,
        "createdAt": "2015-02-16T23:51:57.000Z",
        "updatedAt": "2016-07-22T01:10:01.000Z"
      },
      {
        "identity": "hash",
        "variableName": "hash",
        "friendlyName": "Hash",
        "cacheable": true,
        "sync": true,
        "description": "Generate unique string from the provided value.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "example": "*",
            "description": "The value for which to calculate a unique hash string.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "example": "e003c89cdf35cdf46d8239b4692436364b7259f9",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    var hashFn = require('object-hash');\n    var hash = hashFn(inputs.value);\n    return exits.success(hash);\n\n  ",
        "environment": [],
        "extendedDescription": "Useful for checksums (error-checking) and hash keys (caching, etc.) Uses the crypto module from Node core via `object-hash` on NPM (see http://npmjs.org/package/object-hash)",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-util/hash",
        "docsUrl": "http://node-machine.org/machinepack-util/hash",
        "defaultExit": "success",
        "machinepack": 33,
        "id": 529,
        "createdAt": "2015-05-24T21:29:45.000Z",
        "updatedAt": "2016-07-22T01:10:01.000Z"
      },
      {
        "identity": "inspect",
        "variableName": "inspect",
        "friendlyName": "Inspect",
        "cacheable": true,
        "sync": true,
        "description": "Pretty-print any value into a more-readable string.",
        "inputs": {
          "value": {
            "friendlyName": "Value",
            "example": "===",
            "description": "The value that will be formatted into a more-readable string.",
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "prettified",
            "example": "...[{'foo': ['bar']}]...",
            "description": "OK.",
            "isDefault": true,
            "type": "string"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var util = require('util');\n    var isError = require('lodash.iserror');\n    var isObject = require('lodash.isobject');\n\n    if (isError(inputs.value)) {\n      return exits.success(util.inspect(inputs.value.stack));\n    }\n    if (isObject(inputs.value)) {\n      return exits.success(util.inspect(inputs.value, {depth: null}));\n    }\n    return exits.success(util.inspect(inputs.value));\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-util/inspect",
        "docsUrl": "http://node-machine.org/machinepack-util/inspect",
        "defaultExit": null,
        "machinepack": 33,
        "id": 530,
        "createdAt": "2015-05-24T21:29:45.000Z",
        "updatedAt": "2016-07-22T01:10:01.000Z"
      },
      {
        "identity": "coalesce",
        "variableName": "coalesce",
        "friendlyName": "Coalesce values (?:)",
        "cacheable": true,
        "sync": true,
        "description": "Return the first value if it is defined, otherwise the second.",
        "inputs": {
          "a": {
            "friendlyName": "Preferred value",
            "description": "The preferred value to use, if it's defined. Must be the same type as the alternate.",
            "example": "===",
            "type": "string"
          },
          "b": {
            "friendlyName": "Alternate value",
            "description": "The backup/alternate value to use in case the preferred value is not defined.",
            "example": "===",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputDescription": "Either the preferred value or the secondary value.",
            "like": "b",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success(typeof inputs.a !== 'undefined' ? inputs.a : inputs.b);\n  ",
        "environment": [],
        "extendedDescription": "The two values must have compatible types!  For example, \"foo\" is compatible with \"bar\", but it is not compatible with `{}`.  Also note that, in JavaScript, this is equivalent to `typeof a!==\"undefined\" ? a : b`, not `a||b`.  In other words, if the preferred value is false, zero, or the empty string, it will still be used.  The alternate value will only be used if the preferred value is **not defined**.",
        "moreInfoUrl": "http://en.wikipedia.org/wiki/Null_coalescing_operator",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-util/coalesce",
        "docsUrl": "http://node-machine.org/machinepack-util/coalesce",
        "defaultExit": null,
        "machinepack": 33,
        "id": 531,
        "createdAt": "2015-05-24T21:29:45.000Z",
        "updatedAt": "2016-07-22T01:10:01.000Z"
      },
      {
        "identity": "require",
        "variableName": "require",
        "friendlyName": "Require",
        "cacheable": null,
        "sync": true,
        "description": "Load (`require()`) a Node.js module located at the specified path and return whatever it exports.",
        "inputs": {
          "path": {
            "description": "The absolute path to a Node.js module, or the absolute path to the directory of an NPM package.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path from the context of the current working directory.",
            "example": "/code/machinepack-twitter",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "outputFriendlyName": "Exports",
            "outputDescription": "The data exported from a Node.js module (usually a function, a machinepack, or a constant.)",
            "outputExample": "===",
            "description": "OK.",
            "isDefault": true
          },
          "moduleNotFound": {
            "description": "No module exists at the specified path."
          },
          "couldNotLoad": {
            "description": "A file exists at the specified path, but it could not be loaded as a Node.js module.",
            "extendedDescription": "This usually means that either the module has bugs (e.g. trying to require a module with a typo), or that the file at the specified path is not actually a Node.js module at all (e.g. trying to require a stylesheet, or a PHP file). See the JavaScript error returned from this exit for more information.",
            "outputFriendlyName": "Error",
            "outputDescription": "A JavaScript Error with more information about why this `require()` failed.",
            "outputExample": "==="
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var path = require('path');\n\n    var absPath = path.resolve(process.cwd(), inputs.path);\n    try {\n      var result = require(absPath);\n      return exits.success(result);\n    }\n    catch (e) {\n      if (e.code === 'MODULE_NOT_FOUND') { return exits.moduleNotFound(e); }\n      else { return exits.couldNotLoad(e); }\n    }\n  ",
        "environment": [],
        "extendedDescription": "By default, the **require cache will not be cleared**.  To learn more about what that means, check out [the section on the require cache in the official Node.js docs](https://nodejs.org/api/modules.html#modules_caching).\n\nAlso note that this method uses the default behavior of `requiree()` in Node.js, so beware of circular/cyclical dependencies!  See [Modules/Cycles in the Node.js docs](https://nodejs.org/api/modules.html#modules_cycles) for more information.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-util/require",
        "docsUrl": "http://node-machine.org/machinepack-util/require",
        "defaultExit": null,
        "machinepack": 33,
        "id": 810,
        "createdAt": "2016-07-22T00:20:06.000Z",
        "updatedAt": "2016-07-22T01:10:01.000Z"
      }
    ],
    "identity": "machinepack-util",
    "version": "6.1.2",
    "latestVersionPublishedAt": "2016-07-22T00:00:00.000Z",
    "variableName": "Util",
    "friendlyName": "Util",
    "description": "Miscellaneous utilities for everyday tasks with arrays, dictionaries, strings, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-util",
    "docsUrl": "http://node-machine.org/machinepack-util",
    "npmUrl": "http://npmjs.org/package/machinepack-util",
    "npmPackageName": "machinepack-util",
    "githubUrl": "http://github.com/treelinehq/machinepack-util/",
    "sourceUrl": "http://github.com/treelinehq/machinepack-util/",
    "testsUrl": "https://travis-ci.org/treelinehq/machinepack-util",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "browserify-transform-machinepack",
        "semverRange": "^1.0.3"
      },
      {
        "name": "lodash",
        "semverRange": "3.10.1"
      },
      {
        "name": "lodash.iserror",
        "semverRange": "3.1.1"
      },
      {
        "name": "lodash.isobject",
        "semverRange": "3.0.2"
      },
      {
        "name": "machine",
        "semverRange": "^12.3.0"
      },
      {
        "name": "object-hash",
        "semverRange": "0.5.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      },
      {
        "name": "sgress454",
        "email": "scott@balderdash.co"
      }
    ],
    "id": 33,
    "createdAt": "2015-02-16T23:51:56.000Z",
    "updatedAt": "2016-07-22T01:10:01.000Z",
    "numMachines": 5
  },
  {
    "machines": [
      {
        "identity": "list-torrents",
        "variableName": "listTorrents",
        "friendlyName": "List Torrents",
        "cacheable": false,
        "sync": false,
        "description": "List all Torrents from the uTorrent client.",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var createClient = Machine.build(require('./create-client'));\n    var client = createClient({\n      host: inputs.host,\n      port: inputs.port,\n      username: inputs.username,\n      password: inputs.password,\n    }).execSync();\n    // console.log(client, typeof client.call, client.call);\n    client.call(\"list\", function(err, data) {\n      if (err) {\n        return exists.error(err);\n      }\n      var torrents = data.torrents;\n      torrents = torrents.map(function(info) {\n        return {\n          hash: info[0],\n          name: info[2],\n          percentDone: info[4] / 1000,\n          eta: info[10],\n          torrentUrl: info[19],\n          status: info[21],\n          downloadDir: info[26]\n        };\n      });\n      return exits.success(torrents);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/list-torrents",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/list-torrents",
        "defaultExit": null,
        "machinepack": 171,
        "id": 771,
        "createdAt": "2016-04-12T03:39:57.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "get-torrent-details",
        "variableName": "getTorrentDetails",
        "friendlyName": "Get Torrent Details",
        "cacheable": false,
        "sync": false,
        "description": "Get details of a Torrent from uTorrent client.",
        "inputs": {},
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "function (inputs, exits\n    /**/\n  ) {\n    return exits.success();\n  }",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/get-torrent-details",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/get-torrent-details",
        "defaultExit": null,
        "machinepack": 171,
        "id": 772,
        "createdAt": "2016-04-12T03:39:57.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "create-client",
        "variableName": "createClient",
        "friendlyName": "Create Client",
        "cacheable": false,
        "sync": true,
        "description": "Create a client instance for uTorrent API",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "example": {
              "rootUrl": "http://localhost:26085/gui",
              "username": "admin",
              "password": "12345",
              "token": "",
              "cookies": {},
              "setCredentials": "->",
              "fetchToken": "->",
              "call": "->",
              "makeCall": "->",
              "makeRequest": "->"
            },
            "isDefault": true,
            "type": "object"
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var client = new uTorrent(inputs.host, inputs.port);\n    client.setCredentials(inputs.username, inputs.password);\n    return exits.success(client);\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/create-client",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/create-client",
        "defaultExit": null,
        "machinepack": 171,
        "id": 773,
        "createdAt": "2016-04-12T03:39:57.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "add-torrent-url",
        "variableName": "addTorrentUrl",
        "friendlyName": "Add Torrent URL",
        "cacheable": false,
        "sync": false,
        "description": "Add a torrent URL to the uTorrent client.",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          },
          "torrentUrl": {
            "example": "",
            "required": true,
            "type": "string"
          },
          "downloadDir": {
            "example": 0,
            "required": false,
            "type": "number"
          },
          "path": {
            "example": "/dir/path/",
            "description": "Download directory path relative to downloadDir index",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var createClient = Machine.build(require('./create-client'));\n    var client = createClient({\n      host: inputs.host,\n      port: inputs.port,\n      username: inputs.username,\n      password: inputs.password,\n    }).execSync();\n    var options = {\n      's': inputs.torrentUrl,\n      'download_dir': inputs.downloadDir || 0,\n      'path': inputs.path || ''\n    };\n    client.call('add-url', options, function(err, data) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/add-torrent-url",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/add-torrent-url",
        "defaultExit": null,
        "machinepack": 171,
        "id": 774,
        "createdAt": "2016-04-12T03:39:57.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "add-torrent",
        "variableName": "addTorrent",
        "friendlyName": "Add Torrent",
        "cacheable": false,
        "sync": false,
        "description": "Add a Torrent file to the uTorrent client.",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          },
          "torrentContents": {
            "example": "Torrent Contents",
            "required": true,
            "type": "string"
          },
          "downloadDir": {
            "example": 0,
            "required": false,
            "type": "number"
          },
          "path": {
            "example": "/dir/path/",
            "description": "Download directory path relative to downloadDir index",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var createClient = Machine.build(require('./create-client'));\n    var client = createClient({\n      host: inputs.host,\n      port: inputs.port,\n      username: inputs.username,\n      password: inputs.password,\n    }).execSync();\n    var options = {\n      'torrent_file': inputs.torrentContents,\n      'download_dir': inputs.downloadDir || 0,\n      'path': inputs.path || ''\n    };\n    client.call('add-file', options, function(err, data) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(data);\n    });\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/add-torrent",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/add-torrent",
        "defaultExit": null,
        "machinepack": 171,
        "id": 803,
        "createdAt": "2016-07-04T17:59:38.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "start-torrent",
        "variableName": "startTorrent",
        "friendlyName": "Start Torrent",
        "cacheable": false,
        "sync": false,
        "description": "Start downloading the torrent specified by the hash parameter.",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          },
          "hash": {
            "example": "",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var createClient = Machine.build(require('./create-client'));\n    var client = createClient({\n      host: inputs.host,\n      port: inputs.port,\n      username: inputs.username,\n      password: inputs.password,\n    }).execSync();\n    var options = {\n      'hash': inputs.hash\n    };\n    client.call('start', options, function (err, data) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/start-torrent",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/start-torrent",
        "defaultExit": null,
        "machinepack": 171,
        "id": 806,
        "createdAt": "2016-07-19T02:49:44.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "stop-torrent",
        "variableName": "stopTorrent",
        "friendlyName": "Stop Torrent",
        "cacheable": false,
        "sync": false,
        "description": "Stop downloading the torrent specified by the hash parameter.",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          },
          "hash": {
            "example": "",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var createClient = Machine.build(require('./create-client'));\n    var client = createClient({\n      host: inputs.host,\n      port: inputs.port,\n      username: inputs.username,\n      password: inputs.password,\n    }).execSync();\n    var options = {\n      'hash': inputs.hash\n    };\n    client.call('stop', options, function (err, data) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/stop-torrent",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/stop-torrent",
        "defaultExit": null,
        "machinepack": 171,
        "id": 807,
        "createdAt": "2016-07-19T02:49:44.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      },
      {
        "identity": "remove-torrent",
        "variableName": "removeTorrent",
        "friendlyName": "Remove Torrent",
        "cacheable": false,
        "sync": false,
        "description": "Remove the torrent specified by the hash parameter from the download list.",
        "inputs": {
          "host": {
            "example": "localhost",
            "required": true,
            "type": "string"
          },
          "port": {
            "example": 26085,
            "required": true,
            "type": "number"
          },
          "username": {
            "example": "admin",
            "required": true,
            "type": "string"
          },
          "password": {
            "example": "12345",
            "required": true,
            "type": "string"
          },
          "hash": {
            "example": "",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var Machine = require('machine');\n    var createClient = Machine.build(require('./create-client'));\n    var client = createClient({\n      host: inputs.host,\n      port: inputs.port,\n      username: inputs.username,\n      password: inputs.password,\n    }).execSync();\n    var options = {\n      'hash': inputs.hash\n    };\n    client.call('remove', options, function (err, data) {\n      if (err) {\n        return exits.error(err);\n      }\n      return exits.success(data);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent/remove-torrent",
        "docsUrl": "http://node-machine.org/machinepack-utorrent/remove-torrent",
        "defaultExit": null,
        "machinepack": 171,
        "id": 808,
        "createdAt": "2016-07-19T02:49:44.000Z",
        "updatedAt": "2016-07-19T02:49:44.000Z"
      }
    ],
    "identity": "machinepack-utorrent",
    "version": "0.1.2",
    "latestVersionPublishedAt": "2016-07-19T00:00:00.000Z",
    "variableName": "UTorrent",
    "friendlyName": "UTorrent",
    "description": "Communicate with uTorrent client API to list and add torrents.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-utorrent",
    "docsUrl": "http://node-machine.org/machinepack-utorrent",
    "npmUrl": "http://npmjs.org/package/machinepack-utorrent",
    "npmPackageName": "machinepack-utorrent",
    "githubUrl": "http://github.com/Glavin001/machinepack-utorrent/",
    "sourceUrl": "http://github.com/Glavin001/machinepack-utorrent/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "utorrent-api",
        "semverRange": "^0.1.5"
      }
    ],
    "contributors": [
      {
        "name": "Glavin Wiechert",
        "email": "glavin.wiechert@gmail.com"
      },
      {
        "name": "glavin001",
        "email": "glavin.wiechert@gmail.com"
      }
    ],
    "id": 171,
    "createdAt": "2016-04-12T03:39:57.000Z",
    "updatedAt": "2016-07-19T02:49:44.000Z",
    "numMachines": 8
  },
  {
    "machines": [
      {
        "identity": "connect",
        "variableName": "connect",
        "friendlyName": "Connect",
        "cacheable": null,
        "sync": null,
        "description": "Lease a database connection, perform some logic, then release it back from whence it came.",
        "inputs": {
          "datastore": {
            "description": "The identity of the datastore to use.",
            "example": "larrysMySQLCluster",
            "required": true,
            "type": "string"
          },
          "during": {
            "description": "A function with custom logic to run once the connection is established.",
            "extendedDescription": "This function will be provided access to the active database connection.",
            "example": "->",
            "required": true,
            "contract": {
              "inputs": {
                "connection": {
                  "example": "==="
                }
              },
              "exits": {
                "success": {
                  "outputFriendlyName": "Result",
                  "outputDescription": "The data (if any) returned from the connection callback.",
                  "outputExample": "==="
                }
              }
            },
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Result",
            "outputDescription": "The result data (if any) sent back by the provided logic (`during`).",
            "outputExample": "===",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `isObject` and `isUndefined` Lodash functions.\n    var _isObject = require('lodash.isobject');\n    var _isUndefined = require('lodash.isundefined');\n\n    // If we can't access the ORM, leave through the `error` exit.\n    if (!_isObject(env.sails.hooks.orm)) {\n      return exits.error(new Error('`sails.hooks.orm` cannot be accessed; please ensure this machine is being run in a compatible habitat.'));\n    }\n\n    // Attempt to load the specified datastore, or else leave through the `error` exit.\n    var Datastore = env.sails.hooks.orm.datastores[inputs.datastore];\n    if (!_isObject(Datastore)) {\n      return exits.error(new Error('Unrecognized datastore (`'+inputs.datastore+'`).  Please check your `config/datastores.js` file to verify that a datastore with this identity exists.'));\n    }\n\n    // Start building the deferred object.\n    var pending = Datastore.connect(function _duringConnection(connection, done) {\n      inputs.during({ connection: connection }).exec(done);\n    });\n\n    // Use metadata if provided.\n    if (!_isUndefined(inputs.meta)) {\n      pending = pending.meta(inputs.meta);\n    }\n\n    // Now kick everything off.\n    // This acquires the connection, runs the provided query,\n    // and releases the connection when finished.\n    pending.exec(function afterwards(err, result, meta) {\n      // Forward any errors to the `error` exit.\n      if (err) {\n        return exits.error(err);\n      }\n      // Otherwise return the result of the `during` logic through the `success` exit.\n      return exits.success(result);\n    });\n    //\n    // Note that, behind the scenes, Waterline is doing:\n    //\n    // Datastore.driver.getConnection({manager: Datastore.manager})\n    // _duringConnection()\n    // Datastore.driver.releaseConnection()\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-waterline/connect",
        "docsUrl": "http://node-machine.org/machinepack-waterline/connect",
        "defaultExit": null,
        "machinepack": 181,
        "id": 831,
        "createdAt": "2016-08-04T00:49:56.000Z",
        "updatedAt": "2016-08-04T00:49:56.000Z"
      },
      {
        "identity": "query",
        "variableName": "query",
        "friendlyName": "Query",
        "cacheable": null,
        "sync": null,
        "description": "Compile a radar query statement into the native dialect for a database, then send the native query.",
        "inputs": {
          "datastore": {
            "description": "The identity of the datastore to use.",
            "example": "larrysMySQLCluster",
            "required": true,
            "type": "string"
          },
          "statement": {
            "description": "A radar query statement to compile and send to the database.",
            "example": {},
            "required": true,
            "type": "object"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "moreInfoUrl": "https://github.com/particlebanana/waterline-query-docs/blob/master/docs/results.md",
            "outputFriendlyName": "Query result",
            "outputDescription": "A normalized version of the result data from the database.",
            "outputExample": "===",
            "isDefault": true
          },
          "queryFailed": {
            "description": "The database returned an error when attempting to execute the native query compiled from the specified Radar statement.",
            "extendedDescription": "The resulting footprint conforms to one of a handful of standardized footprint types expected by the Waterline driver interface.\nIf the error cannot be normalized into any other more specific footprint, then the catchall footprint will be returned.\nThe footprint (`footprint`) will be coerced to a JSON-serializable dictionary if it isn't one already (see [rttc.dehydrate()](https://github.com/node-machine/rttc#dehydratevalue-allownullfalse-dontstringifyfunctionsfalse)).\nThat means any Error instances therein will be converted to stacktrace strings.",
            "moreInfoUrl": "https://github.com/particlebanana/waterline-query-docs/blob/master/docs/errors.md",
            "outputFriendlyName": "Footprint",
            "outputDescription": "A normalized \"footprint\" dictionary representing the error from the database.",
            "outputExample": {}
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "\n    // Import `isObject` and `isUndefined` Lodash functions.\n    var _isObject = require('lodash.isobject');\n    var _isUndefined = require('lodash.isundefined');\n\n    // If we can't access the ORM, leave through the `error` exit.\n    if (!_isObject(env.sails.hooks.orm)) {\n      return exits.error(new Error('`sails.hooks.orm` cannot be accessed; please ensure this machine is being run in a compatible habitat.'));\n    }\n\n    // Attempt to load the specified datastore, or else leave through the `error` exit.\n    var Datastore = env.sails.hooks.orm.datastores[inputs.datastore];\n    if (!_isObject(Datastore)) {\n      return exits.error(new Error('Unrecognized datastore (`'+inputs.datastore+'`).  Please check your `config/datastores.js` file to verify that a datastore with this identity exists.'));\n    }\n\n    // Start building the deferred object.\n    var pending = Datastore.query(inputs.statement);\n\n    // Use metadata if provided.\n    if (!_isUndefined(inputs.meta)) {\n      pending = pending.meta(inputs.meta);\n    }\n\n    // Use existing connection if one was provided.\n    if (!_isUndefined(inputs.connection)) {\n      pending = pending.usingConnection(inputs.connection);\n    }\n\n    // Now kick everything off.\n    // This acquires the connection, runs the provided query,\n    // and releases the connection when finished.\n    pending.exec(function afterwards(err, result, meta) {\n      // If there were any errors running the query...\n      if (err) {\n        // Note that we use `exits()` here instead of `exits.error()`.\n        // This allows the `queryFailed` exit to be traversed automatically if the `err` has `exit: \"queryFailed\"`.\n        // In this case, `err.output` will be used as the actual output.  All of this behavior is built-in to the\n        // machine runner.\n        return exits(err);\n      }\n      // Otherwise return the query result through the `success` exit.\n      return exits.success(result);\n    });\n    //\n    // Note that, behind the scenes, Waterline is doing:\n    //\n    // Datastore.driver.compileQuery()\n    // Datastore.driver.getConnection({manager: Datastore.manager})\n    // Datastore.driver.sendNativeQuery()\n    // |\n    // |_ Datastore.driver.parseNativeQueryResult()\n    // |  Datastore.driver.releaseConnection()\n    //-or-\n    // |_ Datastore.driver.parseNativeQueryError()\n    //    Datastore.driver.releaseConnection()\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-waterline/query",
        "docsUrl": "http://node-machine.org/machinepack-waterline/query",
        "defaultExit": null,
        "machinepack": 181,
        "id": 832,
        "createdAt": "2016-08-04T00:49:56.000Z",
        "updatedAt": "2016-08-04T00:49:56.000Z"
      },
      {
        "identity": "transaction",
        "variableName": "transaction",
        "friendlyName": "Transaction",
        "cacheable": null,
        "sync": null,
        "description": "Begin a transaction, perform some logic, then either commit the transaction if everything worked, or roll it back if there were any errors.",
        "inputs": {
          "datastore": {
            "description": "The identity of the datastore to use.",
            "example": "larrysMySQLCluster",
            "required": true,
            "type": "string"
          },
          "during": {
            "description": "A function with custom logic to run once a database connection is established and a transaction has begun.",
            "extendedDescription": "This function will be provided access to the active database connection.",
            "example": "->",
            "required": true,
            "contract": {
              "inputs": {
                "connection": {
                  "example": "==="
                }
              },
              "exits": {
                "success": {
                  "outputFriendlyName": "Result",
                  "outputDescription": "The data (if any) returned from the transaction callback.",
                  "outputExample": "==="
                }
              }
            },
            "type": "string"
          }
        },
        "exits": {
          "success": {
            "description": "OK.",
            "outputFriendlyName": "Result",
            "outputDescription": "The result data sent back by the provided logic (`during`).",
            "outputExample": "===",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    var _isObject = require('lodash.isobject');\n    var _isUndefined = require('lodash.isundefined');\n\n    if (!_isObject(env.sails.hooks.orm)) {\n      return exits.error(new Error('`sails.hooks.orm` cannot be accessed; please ensure this machine is being run in a compatible habitat.'));\n    }\n\n    var Datastore = env.sails.hooks.orm.datastores[inputs.datastore];\n    if (!_isObject(Datastore)) {\n      return exits.error(new Error('Unrecognized datastore (`'+inputs.datastore+'`).  Please check your `config/datastores.js` file to verify that a datastore with this identity exists.'));\n    }\n\n    // Start building the deferred object.\n    var pending = Datastore.transaction(function _duringTransaction(connection, done) {\n      inputs.during({ connection: connection }).exec(done);\n    });\n\n    // Use metadata if provided.\n    if (!_isUndefined(inputs.meta)) {\n      pending = pending.meta(inputs.meta);\n    }\n\n    // Use existing connection if one was provided.\n    if (!_isUndefined(inputs.connection)) {\n      pending = pending.usingConnection(inputs.connection);\n    }\n\n    // Now kick everything off.\n    // This begins the transaction, runs the provided logic,\n    // and either commits or rolls back as is appropriate.\n    pending.exec(function afterwards(err, result, meta) {\n      // Forward any errors to the `error` exit.\n      if (err) {\n        return exits.error(err);\n      }\n      // Otherwise return the result of the `during` logic through the `success` exit.\n      return exits.success(result);\n    });\n    //\n    // Note that, behind the scenes, Waterline is doing:\n    //\n    // Datastore.driver.getConnection({manager: Datastore.manager})\n    // Datastore.driver.beginTransaction()\n    // _duringTransaction()\n    // |\n    // |_ Datastore.driver.commitTransaction()\n    // |  Datastore.driver.releaseConnection()\n    //-or-\n    // |_ Datastore.driver.rollbackTransaction()\n    //    Datastore.driver.releaseConnection()\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-waterline/transaction",
        "docsUrl": "http://node-machine.org/machinepack-waterline/transaction",
        "defaultExit": null,
        "machinepack": 181,
        "id": 833,
        "createdAt": "2016-08-04T00:49:56.000Z",
        "updatedAt": "2016-08-04T00:49:56.000Z"
      }
    ],
    "identity": "machinepack-waterline",
    "version": "0.1.1",
    "latestVersionPublishedAt": "2016-08-04T00:00:00.000Z",
    "variableName": "Waterline",
    "friendlyName": "Waterline",
    "description": "A database-agnostic connectivity library for sending queries, managing dynamic db connections, committing/rolling back transactions, and more.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-waterline",
    "docsUrl": "http://node-machine.org/machinepack-waterline",
    "npmUrl": "http://npmjs.org/package/machinepack-waterline",
    "npmPackageName": "machinepack-waterline",
    "githubUrl": "",
    "sourceUrl": "",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash.isobject",
        "semverRange": "3.0.2"
      },
      {
        "name": "lodash.isundefined",
        "semverRange": "3.0.1"
      },
      {
        "name": "machine",
        "semverRange": "^12.3.0"
      }
    ],
    "contributors": [
      {
        "name": "Mike McNeil",
        "email": ""
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 181,
    "createdAt": "2016-08-04T00:49:55.000Z",
    "updatedAt": "2016-08-04T00:49:55.000Z",
    "numMachines": 3
  },
  {
    "machines": [
      {
        "identity": "get-current-weather",
        "variableName": "getCurrentWeather",
        "friendlyName": "Get current weather",
        "cacheable": false,
        "sync": false,
        "description": "This machine will get the current weather at your location.",
        "inputs": {},
        "exits": {
          "success": {
            "variableName": "result",
            "description": "OK.",
            "isDefault": true
          },
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          }
        },
        "fn": "    return exits.success();\n  ",
        "environment": [],
        "extendedDescription": null,
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-weather/get-current-weather",
        "docsUrl": "http://node-machine.org/machinepack-weather/get-current-weather",
        "defaultExit": null,
        "machinepack": 122,
        "id": 543,
        "createdAt": "2015-05-28T23:29:43.000Z",
        "updatedAt": "2015-05-28T23:29:43.000Z"
      }
    ],
    "identity": "machinepack-weather",
    "version": "1.2.0",
    "latestVersionPublishedAt": "2015-06-04T00:00:00.000Z",
    "variableName": "Weather",
    "friendlyName": "Weather",
    "description": "Communicate with the forecast.io API to get weather forecasts.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-weather",
    "docsUrl": "http://node-machine.org/machinepack-weather",
    "npmUrl": "http://npmjs.org/package/machinepack-weather",
    "npmPackageName": "machinepack-weather",
    "githubUrl": "http://github.com/samhagman/machinepack-weather/",
    "sourceUrl": "http://github.com/samhagman/machinepack-weather/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "babel",
        "semverRange": "^5.4.7"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      }
    ],
    "contributors": [
      {
        "name": "samhagman",
        "email": "samuel.hagman@gmail.com"
      }
    ],
    "id": 122,
    "createdAt": "2015-05-28T23:29:43.000Z",
    "updatedAt": "2015-06-04T02:10:07.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "get-current-forecast",
        "variableName": "getCurrentForecast",
        "friendlyName": "Get current forecast",
        "cacheable": true,
        "sync": false,
        "description": "Get the current weather at a specific latitude and longitude.",
        "inputs": {
          "lat": {
            "example": "42.3507282",
            "description": "The latitude of the location you are trying to forecast.",
            "required": true,
            "type": "string"
          },
          "lng": {
            "example": "-71.13212709999999",
            "description": "The longitude of the location you are trying to forecast.",
            "required": true,
            "type": "string"
          },
          "options": {
            "example": {
              "units": "si",
              "exclude": [
                "currently",
                "minutely",
                "hourly",
                "daily",
                "alerts",
                "flags"
              ],
              "extend": "hourly",
              "lang": "es"
            },
            "description": "An object with keys representing the query parameters accepted by the forecast.io API. (https://developer.forecast.io/docs/v2#options)",
            "required": false,
            "type": "object"
          },
          "apiKey": {
            "example": "ab1d526c3c074c2a48c25476c19a9d0a",
            "description": "This is your Forecast.io API Key.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLatOrLong": {
            "description": "You have passed in an invalid latitude or longitude."
          },
          "invalidAPIKey": {
            "description": "Your Forecast.io API key is not valid."
          },
          "invalidOptions": {
            "description": "You passed an invalid options object"
          },
          "success": {
            "description": "OK.",
            "example": "{}",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "function fn(inputs, exits) {\n\n        /**\n         * Make a GET request to the forecast.io API and return the result\n         * @param lat\n         * @param lng\n         * @param {string} queryString\n         * @returns {Object}\n         */\n        function getCurrentForecast(lat, lng, queryString) {\n\n            try {\n                return new Promise(function (resolve) {\n\n                    var apiEndpoint = 'https://api.forecast.io/forecast/' + inputs.apiKey + '/' + lat + ',' + lng + '?' + queryString;\n\n                    request(apiEndpoint, function (error, response, body) {\n                        if (!error && response.statusCode === 200) {\n                            try {\n                                // If response wrapped in callback, do not JSON.parse response, it isn't valid JSON\n                                if (inputs.options.callback) {\n                                    resolve(body);\n                                } else {\n                                    resolve(JSON.parse(body));\n                                }\n                            } catch (e) {\n                                return exits.error('There was an error parsing forecast.io\\'s response: ' + e);\n                            }\n                        } else {\n                            if (response.statusCode === 403) {\n                                return exits.invalidAPIKey();\n                            } else if (response.statusCode === 400) {\n                                return exits.error('There was an error formatting a valid API request, please open an issue at github.com/samhagman/machinepack-forecast.io with the options you tried to pass.');\n                            } else {\n                                return exits.error('An error was returned from the forecast.io API with HTTP status code: ' + response.statusCode);\n                            }\n                        }\n                    });\n                });\n            } catch (e) {\n                return exits.error('An error occurred while attempting to make a request to forecast.io: ' + e.message);\n            }\n        }\n\n        /**\n         * Validates the inputs\n         * @returns {boolean}\n         */\n        function validateInputs() {\n\n            /**\n             * Regular expression to match valid latitude and longitude points.\n             * @type {RegExp}\n             */\n            var latLongRegEx = /^[-+]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?),\\s*[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$/;\n            var validUnits = ['us', 'si', 'ca', 'uk', 'auto'];\n            var validExcludes = ['currently', 'minutely', 'hourly', 'daily', 'alerts', 'flags'];\n\n            // If no API key\n            if (!inputs.apiKey) {\n                return exits.invalidAPIKey(': ' + inputs.apiKey);\n            }\n            // If latitude or longitude is invalid\n            else if (!(inputs.lat + ', ' + inputs.lng).match(latLongRegEx)) {\n                return exits.invalidLatOrLong();\n            } else if (inputs.options.units !== '' && !_.includes(validUnits, inputs.options.units)) {\n                return exits.invalidOptions('Your units option (' + inputs.options.units + ') is not a valid value: ' + validUnits);\n            } else if (inputs.options.exclude.length !== 0 && _.difference(inputs.options.exclude, validExcludes).length !== 0) {\n                return exits.invalidOptions('Your exclude option (' + inputs.options.exclude + ') is not a valid value: ' + validExcludes);\n            } else {\n                return true;\n            }\n        }\n\n        /**\n         * Turns the inputs.options object into query string parameters for the API request\n         * @returns {string}\n         */\n        function stringifyOptions() {\n            try {\n                var queryStrings = [];\n\n                if (inputs.options.callback) {\n                    queryStrings.push('callback=' + inputs.options.callback);\n                }\n                if (inputs.options.units) {\n                    queryStrings.push('units=' + inputs.options.units);\n                }\n                if (inputs.options.exclude.length !== 0) {\n                    queryStrings.push('exclude=' + inputs.options.exclude.join(','));\n                }\n                if (inputs.options.lang) {\n                    queryStrings.push('lang=' + inputs.options.lang);\n                }\n                return queryStrings.join(',');\n            } catch (e) {\n                return exits.error('Error turning options object into query string parameters: ' + e);\n            }\n        }\n\n        // Validate the inputs and then get the weather\n        try {\n            if (validateInputs()) {\n\n                // Turn options object into query string parameters\n                var stringifiedOptions = inputs.options ? stringifyOptions() : '';\n\n                // Get the forecast from forecast.io\n                getCurrentForecast(inputs.lat, inputs.lng, stringifiedOptions).then(function (weather) {\n                    return exits.success(weather);\n                })['catch'](function (err) {\n                    return exits.error('An error occurred while getting the weather from forecast.io: ' + err.message);\n                });\n            }\n        } catch (e) {\n            return exits.error('An unexpected error occurred: ' + e);\n        }\n    }",
        "environment": [],
        "extendedDescription": "This is purely a convenience function, you could just pass the current time/date into the get-forecast function.",
        "moreInfoUrl": "https://developer.forecast.io/docs/v2",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-forecast.io/get-current-forecast",
        "docsUrl": "http://node-machine.org/machinepack-forecast.io/get-current-forecast",
        "defaultExit": "success",
        "machinepack": 132,
        "id": 569,
        "createdAt": "2015-06-10T00:19:40.000Z",
        "updatedAt": "2015-09-07T21:00:19.000Z"
      },
      {
        "identity": "get-forecast",
        "variableName": "getForecast",
        "friendlyName": "Get current forecast",
        "cacheable": true,
        "sync": false,
        "description": "Retrieves the forecast of a specific latitude and longitude at a specific time",
        "inputs": {
          "lat": {
            "example": "42.3507282",
            "description": "The latitude of the location you are trying to forecast.",
            "required": true,
            "type": "string"
          },
          "lng": {
            "example": "-71.13212709999999",
            "description": "The longitude of the location you are trying to forecast.",
            "required": true,
            "type": "string"
          },
          "time": {
            "example": "2013-05-06T12:00:00-0400",
            "description": "Any valid Moment.js time (http://momentjs.com)",
            "required": true,
            "type": "string"
          },
          "timeFormat": {
            "example": "YYYY-MM-DD",
            "description": "Any valid Moment.js time format (http://momentjs.com)",
            "required": true,
            "type": "string"
          },
          "options": {
            "example": {
              "units": "si",
              "exclude": [
                "currently",
                "minutely",
                "hourly",
                "daily",
                "alerts",
                "flags"
              ],
              "extend": "hourly",
              "lang": "es"
            },
            "description": "An object with keys representing the query parameters accepted by the forecast.io API. (https://developer.forecast.io/docs/v2#options)",
            "required": false,
            "type": "object"
          },
          "apiKey": {
            "example": "ab1d526c3c074c2a48c25476c19a9d0a",
            "description": "This is your Forecast.io API Key.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidLatOrLong": {
            "description": "You have passed in an invalid latitude or longitude."
          },
          "invalidAPIKey": {
            "description": "Your Forecast.io API key is not valid."
          },
          "invalidOptions": {
            "description": "You passed an invalid options object"
          },
          "success": {
            "description": "OK.",
            "example": "{}",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "function fn(inputs, exits) {\n\n        /**\n         * Make a GET request to the forecast.io API and return the result\n         * @param lat\n         * @param lng\n         * @param time\n         * @param {string} queryString\n         * @returns {Object}\n         */\n        function getForecast(lat, lng, time, queryString) {\n\n            try {\n                return new Promise(function (resolve) {\n\n                    var apiEndpoint = 'https://api.forecast.io/forecast/' + inputs.apiKey + '/' + lat + ',' + lng + ',' + time + queryString;\n\n                    request(apiEndpoint, function (error, response, body) {\n                        if (!error && response.statusCode === 200) {\n                            try {\n                                // If response wrapped in callback, do not JSON.parse response, it isn't valid JSON\n                                if (inputs.options && inputs.options.callback) {\n                                    resolve(body);\n                                } else {\n                                    resolve(JSON.parse(body));\n                                }\n                            } catch (e) {\n                                return exits.error('There was an error parsing forecast.io\\'s response: ' + e);\n                            }\n                        } else {\n                            if (response.statusCode === 403) {\n                                return exits.invalidAPIKey();\n                            } else if (response.statusCode === 400) {\n                                return exits.error('There was an error formatting a valid API request, please open an issue at github.com/samhagman/machinepack-forecast.io with the options you tried to pass.');\n                            } else {\n                                return exits.error('An error was returned from the forecast.io API with HTTP status code: ' + response.statusCode);\n                            }\n                        }\n                    });\n                });\n            } catch (e) {\n                return exits.error('An error occurred while attempting to make a request to forecast.io: ' + e.message);\n            }\n        }\n\n        /**\n         * Validates the inputs\n         * @returns {boolean}\n         */\n        function validateInputs() {\n\n            /**\n             * Regular expression to match valid latitude and longitude points.\n             * @type {RegExp}\n             */\n            var latLongRegEx = /^[-+]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?),\\s*[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$/;\n            var validUnits = ['us', 'si', 'ca', 'uk', 'auto'];\n            var validExcludes = ['currently', 'minutely', 'hourly', 'daily', 'alerts', 'flags'];\n            var validLanguages = ['ar', 'bs', 'de', 'en', 'es', 'fr', 'it', 'nl', 'pl', 'pt', 'ru', 'sv', 'tet', 'tr', 'x-pig-latin', 'zh'];\n\n            // If no API key\n            if (!inputs.apiKey) {\n                return exits.invalidAPIKey(': ' + inputs.apiKey);\n            }\n            // If latitude or longitude is invalid\n            else if (!(inputs.lat + ', ' + inputs.lng).match(latLongRegEx)) {\n                return exits.invalidLatOrLong();\n            } else if (inputs.options) {\n\n                if (inputs.options.units !== '' && !_.includes(validUnits, inputs.options.units)) {\n                    return exits.invalidOptions('Your units option (' + inputs.options.units + ') is not a valid value: ' + validUnits);\n                } else if (inputs.options.exclude.length !== 0 && _.difference(inputs.options.exclude, validExcludes).length !== 0) {\n                    return exits.invalidOptions('Your exclude option (' + inputs.options.exclude + ') is not a valid value: ' + validExcludes);\n                } else if (!_.includes(validLanguages, inputs.options.lang)) {\n                    return exits.invalidOptions('Your language option (' + inputs.options.lang + ') is not a valid value: ' + validLanguages);\n                } else if (!moment(inputs.time).isValid()) {\n                    return exits.invalidOptions('Your time input (' + inputs.time + ') is an invalid date format as accepted by the Moment.js library.');\n                }\n            } else {\n                return true;\n            }\n        }\n\n        /**\n         * Turns the inputs.options object into query string parameters for the API request\n         * @returns {string}\n         */\n        function stringifyOptions() {\n            try {\n                var queryStrings = [];\n                if (inputs.options) {\n                    if (inputs.options.callback) {\n                        queryStrings.push('callback=' + inputs.options.callback);\n                    }\n                    if (inputs.options.units) {\n                        queryStrings.push('units=' + inputs.options.units);\n                    }\n                    if (inputs.options.exclude.length !== 0) {\n                        queryStrings.push('exclude=' + inputs.options.exclude.join(','));\n                    }\n                    if (inputs.options.lang) {\n                        queryStrings.push('lang=' + inputs.options.lang);\n                    }\n                    return '?' + queryStrings.join(',');\n                } else {\n                    return '';\n                }\n            } catch (e) {\n                return exits.error('Error turning options object into query string parameters: ' + e);\n            }\n        }\n\n        // Validate the inputs and then get the weather\n        try {\n            if (validateInputs()) {\n\n                // Turn options object into query string parameters\n                var stringifiedOptions = inputs.options ? stringifyOptions() : '';\n\n                // Get the forecast from forecast.io\n                getForecast(inputs.lat, inputs.lng, moment(inputs.time, inputs.timeFormat).format('X'), stringifiedOptions).then(function (weather) {\n                    return exits.success(weather);\n                })['catch'](function (err) {\n                    return exits.error('An error occurred while getting the weather from forecast.io: ' + err.message);\n                });\n            }\n        } catch (e) {\n            return exits.error('An unexpected error occurred: ' + e);\n        }\n    }",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": "https://developer.forecast.io/docs/v2",
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-forecast.io/get-forecast",
        "docsUrl": "http://node-machine.org/machinepack-forecast.io/get-forecast",
        "defaultExit": "success",
        "machinepack": 132,
        "id": 570,
        "createdAt": "2015-06-10T00:19:40.000Z",
        "updatedAt": "2015-09-07T21:00:19.000Z"
      }
    ],
    "identity": "machinepack-forecast.io",
    "version": "3.0.0",
    "latestVersionPublishedAt": "2015-09-07T00:00:00.000Z",
    "variableName": "Weather",
    "friendlyName": "Weather",
    "description": "Communicate with the forecast.io API to get weather forecasts.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-forecast.io",
    "docsUrl": "http://node-machine.org/machinepack-forecast.io",
    "npmUrl": "http://npmjs.org/package/machinepack-forecast.io",
    "npmPackageName": "machinepack-forecast.io",
    "githubUrl": "http://github.com/samhagman/machinepack-forecast.io/",
    "sourceUrl": "http://github.com/samhagman/machinepack-forecast.io/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "babel",
        "semverRange": "^5.4.7"
      },
      {
        "name": "bluebird",
        "semverRange": "^2.9.27"
      },
      {
        "name": "lodash",
        "semverRange": "^3.9.3"
      },
      {
        "name": "machine",
        "semverRange": "^9.0.0"
      },
      {
        "name": "moment",
        "semverRange": "^2.10.3"
      },
      {
        "name": "request",
        "semverRange": "^2.57.0"
      }
    ],
    "contributors": [
      {
        "name": "Samuel Hagman",
        "email": ""
      },
      {
        "name": "samhagman",
        "email": "samuel.hagman@gmail.com"
      }
    ],
    "id": 132,
    "createdAt": "2015-06-10T00:09:40.000Z",
    "updatedAt": "2015-09-07T21:00:19.000Z",
    "numMachines": 2
  },
  {
    "machines": [
      {
        "identity": "app-details",
        "variableName": "appDetails",
        "friendlyName": "Application Details",
        "cacheable": null,
        "sync": null,
        "description": "Get details about a WePay application.",
        "inputs": {
          "clientId": {
            "example": 123456,
            "description": "The integer client ID issued to the app, found on your application's dashboard",
            "required": true,
            "type": "number"
          },
          "clientSecret": {
            "example": "6446c521bd",
            "description": "The string client secret issued to the app, found on your application's dashboard",
            "required": true,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "api_version": 567235,
              "client_id": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
              "state": "BEARER",
              "status": 1209600,
              "theme_object": {},
              "gaq_domains": ""
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay request settings\n    var wepay_settings = {\n      'client_id': inputs.clientId,\n      'client_secret': inputs.clientSecret\n      // 'api_version': 'API_VERSION'\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_settings);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/app',\n    {\n      'client_id': inputs.clientId,\n      'client_secret': inputs.clientSecret\n    },\n    function(response) {\n\n      var responseObj = JSON.parse(String(response));\n\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Look up details about a WePay application by client id and secret",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/app-details",
        "docsUrl": "http://node-machine.org/machinepack-wepay/app-details",
        "defaultExit": null,
        "machinepack": 172,
        "id": 778,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "user-details",
        "variableName": "userDetails",
        "friendlyName": "User Details",
        "cacheable": null,
        "sync": null,
        "description": "Look up details about a user by access token.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to send confirmation to.",
            "required": true,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "user_id": 12345,
              "first_name": "Bill",
              "last_name": "Clerico",
              "email": "api@wepay.com",
              "state": "registered",
              "callback_uri": "https://www.everribbon.com/ipn/12345"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay request settings\n    var wepay_settings = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_settings);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/user', {}, function onResponse(response) {\n\n      var responseObj = JSON.parse(String(response));\n\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Look up the details of the user associated with the access token you are using to make the call.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/user-details",
        "docsUrl": "http://node-machine.org/machinepack-wepay/user-details",
        "defaultExit": null,
        "machinepack": 172,
        "id": 779,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "user-callback",
        "variableName": "userCallback",
        "friendlyName": "User Callback URI",
        "cacheable": null,
        "sync": null,
        "description": "Add callback_uri to user.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want IPNs for.",
            "required": true,
            "type": "string"
          },
          "callbackUri": {
            "example": "https://www.wepay.com/ipn/12345",
            "description": "The callback_uri you want to receive IPNs on. Must be a full URI.",
            "required": true,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "user_id": 12345,
              "first_name": "Bill",
              "last_name": "Clerico",
              "email": "api@wepay.com",
              "state": "registered",
              "callback_uri": "https://www.everribbon.com/ipn/12345"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay request settings\n    var wepay_settings = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_settings);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/user/modify', {\n      'callback_uri': inputs.callbackUri\n    }, function onResponse(response) {\n\n      var responseObj = JSON.parse(String(response));\n\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "If you add a callback_uri you will receive IPNs with the user_id each time the user revokes their access_token or is deleted.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/user-callback",
        "docsUrl": "http://node-machine.org/machinepack-wepay/user-callback",
        "defaultExit": null,
        "machinepack": 172,
        "id": 780,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "account-create",
        "variableName": "accountCreate",
        "friendlyName": "Create Account",
        "cacheable": null,
        "sync": null,
        "description": "Create a new payment account.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to create a payment account for.",
            "required": true,
            "type": "string"
          },
          "name": {
            "example": "My Payment Account",
            "description": "The name of the account you want to create.",
            "required": true,
            "type": "string"
          },
          "description": {
            "example": "My payment account is for money.",
            "description": "The description of the account you want to create.",
            "required": true,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          },
          "referenceId": {
            "example": "ABCD1234",
            "description": "The reference id of the account. Can be any string, but must be unique for the application/user pair.",
            "required": false,
            "type": "string"
          },
          "type": {
            "example": "business",
            "description": "The type of account you are creating. Can be \"nonprofit\", \"business\", or \"personal\".",
            "required": false,
            "type": "string"
          },
          "imageUri": {
            "example": "http://s3.amazonaws.com/myphoto.jpg",
            "description": "The uri for an image that you want to use for the accounts icon. This image will be used in the co-branded checkout process.",
            "required": false,
            "type": "string"
          },
          "gaqDomains": {
            "example": [
              "mydomain.com",
              "myotherdomain.com"
            ],
            "description": "An array of Google Analytics domains associated with the account. See the analytics tutorial (https://stage.wepay.com/developer/reference/analytics) for more details.",
            "required": false,
            "type": "array"
          },
          "themeObject": {
            "example": {},
            "description": "The theme structure (a JSON object, not a JSON serialized string) you want to be used for account's flows and emails. See https://stage.wepay.com/deeloper/reference/structures#theme.",
            "required": false,
            "type": "object"
          },
          "mcc": {
            "example": 7392,
            "description": "The mcc code that is relevant to the type of account this is. See the mcc reference page (https://stage.wepay.com/developer/reference/mcc) for more information.",
            "required": false,
            "type": "number"
          },
          "callbackUri": {
            "example": "https://www.baggins.com/callback",
            "description": "The uri that will receive IPNs for this account. You will receive an IPN whenever the account is verified or deleted.",
            "required": false,
            "type": "string"
          },
          "country": {
            "example": "US",
            "description": "The account's country of origin 2-letter ISO code (e.g. \"US\" or \"CA\")",
            "required": false,
            "type": "string"
          },
          "currencies": {
            "example": [
              "USD"
            ],
            "description": "Array of supported currency strings for this account (e.g. [\"USD\"]) Both \"USD\" and \"CAD\" are currently supported. Only one currency string per account is allowed at this time.",
            "required": false,
            "type": "array"
          },
          "countryOptions": {
            "example": {},
            "description": "{\"debit_opt_in\":true|false}. Used for Canadian accounts only.",
            "required": false,
            "type": "object"
          },
          "feeScheduleSlot": {
            "example": 9,
            "description": "The custom fee schedule value to use for the merchant. Values start at 0, not 1. Passing null will remove the custom fee schedule. NOTE: Use of this parameter requires permission from WePay.",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "account_id": 12345,
              "name": "Example account",
              "state": "active",
              "description": "this account is just an example.",
              "owner_user_id": 539291,
              "reference_id": "123abc",
              "type": "personal",
              "create_time": 1367958263,
              "disablement_time": "null",
              "country": "US",
              "currencies": [
                "USD"
              ],
              "balances": [
                {
                  "currency": "USD",
                  "balance": 390.5,
                  "incoming_pending_amount": 635.3,
                  "outgoing_pending_amount": 210,
                  "reserved_amount": 0,
                  "disputed_amount": 0,
                  "withdrawal_period": "daily",
                  "withdrawal_type": "ach",
                  "withdrawal_next_time": 1370112217,
                  "withdrawal_bank_name": "WellsFargo XXXXX3102"
                }
              ],
              "statuses": [
                {
                  "currency": "USD",
                  "incoming_payments_status": "ok",
                  "outgoing_payments_status": "ok",
                  "account_review_status": "pending"
                }
              ],
              "image_uri": "https://stage.wepay.com/img/logo.png",
              "action_reasons": [
                "bank_account",
                "kyc"
              ],
              "supported_card_types": [
                "visa",
                "mastercard",
                "american_express",
                "discover",
                "jcb",
                "diners_club"
              ],
              "disabled_reasons": [
                "country_not_supported",
                "fraud",
                "high_risk_chargeback",
                "no_settlement_path",
                "reported_user",
                "tos_violation"
              ],
              "fee_schedule": [
                {
                  "slot": 9,
                  "description": "2.9% + $0.30",
                  "currency": "USD"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'name': inputs.name,\n      'description': inputs.description,\n      'reference_id': inputs.referenceId || undefined,\n      'type': inputs.type || undefined,\n      'image_uri': inputs.imageUri || undefined,\n      'gaq_domains': inputs.gaqDomains || undefined,\n      'theme_object': inputs.themeObject || undefined,\n      'mcc': inputs.mcc || undefined,\n      'callback_uri': inputs.callbackUri || undefined,\n      'country': inputs.country || undefined,\n      'currencies': inputs.currencies || undefined,\n      'country_options': inputs.countryOptions || undefined,\n      'fee_schedule_slot': inputs.feeScheduleSlot || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/account/create', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Create a new payment account for the user associated with the access token used to make this call.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/account-create",
        "docsUrl": "http://node-machine.org/machinepack-wepay/account-create",
        "defaultExit": null,
        "machinepack": 172,
        "id": 783,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "account-details",
        "variableName": "accountDetails",
        "friendlyName": "Account Details",
        "cacheable": null,
        "sync": null,
        "description": "Look up the details of a payment account on WePay.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to create a payment account for.",
            "required": true,
            "type": "string"
          },
          "accountId": {
            "example": 12345,
            "description": "The string access token of the user you want to create a payment account for.",
            "required": true,
            "type": "number"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "account_id": 12345,
              "name": "Example account",
              "state": "active",
              "description": "this account is just an example.",
              "owner_user_id": 539291,
              "reference_id": "123abc",
              "type": "personal",
              "create_time": 1367958263,
              "disablement_time": "null",
              "country": "US",
              "currencies": [
                "USD"
              ],
              "balances": [
                {
                  "currency": "USD",
                  "balance": 390.5,
                  "incoming_pending_amount": 635.3,
                  "outgoing_pending_amount": 210,
                  "reserved_amount": 0,
                  "disputed_amount": 0,
                  "withdrawal_period": "daily",
                  "withdrawal_type": "ach",
                  "withdrawal_next_time": 1370112217,
                  "withdrawal_bank_name": "WellsFargo XXXXX3102"
                }
              ],
              "statuses": [
                {
                  "currency": "USD",
                  "incoming_payments_status": "ok",
                  "outgoing_payments_status": "ok",
                  "account_review_status": "pending"
                }
              ],
              "image_uri": "https://stage.wepay.com/img/logo.png",
              "action_reasons": [
                "bank_account",
                "kyc"
              ],
              "supported_card_types": [
                "visa",
                "mastercard",
                "american_express",
                "discover",
                "jcb",
                "diners_club"
              ],
              "disabled_reasons": [
                "country_not_supported",
                "fraud",
                "high_risk_chargeback",
                "no_settlement_path",
                "reported_user",
                "tos_violation"
              ],
              "fee_schedule": [
                {
                  "slot": 9,
                  "description": "2.9% + $0.30",
                  "currency": "USD"
                }
              ]
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    // requred\n    var wepay_params = {\n      'account_id': inputs.accountId\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/account', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Look up the details of a payment account on WePay. The payment account must belong to the user associated with the access token used to make the call.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/account-details",
        "docsUrl": "http://node-machine.org/machinepack-wepay/account-details",
        "defaultExit": null,
        "machinepack": 172,
        "id": 784,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "account-find",
        "variableName": "accountFind",
        "friendlyName": "Find Accounts",
        "cacheable": null,
        "sync": null,
        "description": "Find existing payment accounts. No params for all accounts by access token.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to find a payment account for.",
            "required": true,
            "type": "string"
          },
          "name": {
            "example": "My Payment Account",
            "description": "The name of the account you want to search for.",
            "required": false,
            "type": "string"
          },
          "referenceId": {
            "example": "1234abcd",
            "description": "The reference ID of the account you are searching for.",
            "required": false,
            "type": "string"
          },
          "sortOrder": {
            "example": "DESC",
            "description": "Sort the results of the search by time created. Use \"DESC\" for most recent to least recent. Use \"ASC\" for least recent to most recent. Defaults to \"DESC\".",
            "required": false,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "account_id": 12345,
                "name": "Example account",
                "state": "active",
                "description": "this account is just an example.",
                "owner_user_id": 539291,
                "reference_id": "123abc",
                "type": "personal",
                "create_time": 1367958263,
                "disablement_time": "null",
                "country": "US",
                "currencies": [
                  "USD"
                ],
                "balances": [
                  {
                    "currency": "USD",
                    "balance": 390.5,
                    "incoming_pending_amount": 635.3,
                    "outgoing_pending_amount": 210,
                    "reserved_amount": 0,
                    "disputed_amount": 0,
                    "withdrawal_period": "daily",
                    "withdrawal_next_time": 1370112217,
                    "withdrawal_bank_name": "WellsFargo XXXXX3102"
                  }
                ],
                "statuses": [
                  {
                    "currency": "USD",
                    "incoming_payments_status": "ok",
                    "outgoing_payments_status": "ok",
                    "account_review_status": "pending"
                  }
                ],
                "image_uri": "https://stage.wepay.com/img/logo.png",
                "action_reasons": [
                  "bank_account",
                  "kyc"
                ],
                "disabled_reasons": [
                  "country_not_supported",
                  "fraud",
                  "high_risk_chargeback",
                  "no_settlement_path",
                  "reported_user",
                  "tos_violation"
                ]
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    // requred\n    var wepay_params = {\n      'name': inputs.name || undefined,\n      'reference_id': inputs.referenceId || undefined,\n      'sort_order': inputs.sortOrder || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/account/find', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Search the accounts of the user associated with the access token used to make the call.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/account-find",
        "docsUrl": "http://node-machine.org/machinepack-wepay/account-find",
        "defaultExit": null,
        "machinepack": 172,
        "id": 785,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "account-modify",
        "variableName": "accountModify",
        "friendlyName": "Modify Account",
        "cacheable": null,
        "sync": null,
        "description": "Modify an existing payment account.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to create a payment account for.",
            "required": true,
            "type": "string"
          },
          "accountId": {
            "example": 12345,
            "description": "The unique ID of the account you want to modify.",
            "required": true,
            "type": "number"
          },
          "name": {
            "example": "My new payment account name",
            "description": "The name for the account.",
            "required": false,
            "type": "string"
          },
          "description": {
            "example": "My new payment account description",
            "description": "The description for the account.",
            "required": false,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          },
          "referenceId": {
            "example": "ABCD1234",
            "description": "The reference id of the account. Can be any string, but must be unique for the application/user pair.",
            "required": false,
            "type": "string"
          },
          "imageUri": {
            "example": "http://s3.amazonaws.com/myphoto.jpg",
            "description": "The uri for an image that you want to use for the accounts icon. This image will be used in the co-branded checkout process.",
            "required": false,
            "type": "string"
          },
          "gaqDomains": {
            "example": [
              "mydomain.com",
              "myotherdomain.com"
            ],
            "description": "An array of Google Analytics domains associated with the account. See the analytics tutorial for more details.",
            "required": false,
            "type": "array"
          },
          "themeObject": {
            "example": {},
            "description": "The theme structure you want to be used for account's flows and emails. See https://stage.wepay.com/deeloper/reference/structures#theme.",
            "required": false,
            "type": "object"
          },
          "callbackUri": {
            "example": "https://www.baggins.com/callback",
            "description": "The uri that will receive IPNs for this account. You will receive an IPN whenever the account is verified or deleted.",
            "required": false,
            "type": "string"
          },
          "countryOptions": {
            "example": {},
            "description": "{\"debit_opt_in\":true|false}. Used for Canadian accounts only.",
            "required": false,
            "type": "object"
          },
          "feeScheduleSlot": {
            "example": 9,
            "description": "The custom fee schedule value to use for the merchant. Values start at 0, not 1. Passing null will remove the custom fee schedule. NOTE: Use of this parameter requires permission from WePay.",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "name": "Example Account",
              "description": "This is just an example WePay account.",
              "reference_id": "abc123",
              "image_uri": "https://stage.wepay.com/img/logo.png",
              "country": "US",
              "currencies": [
                "USD"
              ],
              "fee_schedule_slot": 9
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'account_id': inputs.accountId,\n      'name': inputs.name || undefined,\n      'description': inputs.description || undefined,\n      'reference_id': inputs.referenceId || undefined,\n      'image_uri': inputs.imageUri || undefined,\n      'gaq_domains': inputs.gaqDomains || undefined,\n      'theme_object': inputs.themeObject || undefined,\n      'callback_uri': inputs.callbackUri || undefined,\n      'country_options': inputs.countryOptions || undefined,\n      'fee_schedule_slot': inputs.feeScheduleSlot || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/account/modify', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Update the specified properties. If reference_id is passed, it must be unique for the user/application pair.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/account-modify",
        "docsUrl": "http://node-machine.org/machinepack-wepay/account-modify",
        "defaultExit": null,
        "machinepack": 172,
        "id": 786,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "account-delete",
        "variableName": "accountDelete",
        "friendlyName": "Delete Account",
        "cacheable": null,
        "sync": null,
        "description": "Delete an existing payment account.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user with permission to delete this account.",
            "required": true,
            "type": "string"
          },
          "accountId": {
            "example": 12345,
            "description": "The unique ID of the account you want to delete.",
            "required": true,
            "type": "number"
          },
          "reason": {
            "example": "No longer being used.",
            "description": "Reason for deleting the account.",
            "required": false,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "account_id": 12345,
              "state": "deleted"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'account_id': inputs.accountId,\n      'reason': inputs.reason || undefined\n    };\n\n    // Instantiate new wepay instance with options\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/account/delete', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Delete the account specified. The user associated with the access token used must have permission to delete the account. An account may not be deleted if it has a balance or pending payments.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/account-delete",
        "docsUrl": "http://node-machine.org/machinepack-wepay/account-delete",
        "defaultExit": null,
        "machinepack": 172,
        "id": 787,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "account-get-uri",
        "variableName": "accountGetUri",
        "friendlyName": "Get Account URI",
        "cacheable": null,
        "sync": null,
        "description": "Get account URI to update account at WePay.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "String access token of the user with permission to delete this account.",
            "required": true,
            "type": "string"
          },
          "accountId": {
            "example": 12345,
            "description": "Unique ID of the account you want to delete.",
            "required": true,
            "type": "number"
          },
          "mode": {
            "example": "regular",
            "description": "Mode the process will be displayed in. The options are 'iframe' or 'regular'. Choose iframe if you would like to frame the process on your site. Mode defaults to 'regular'.",
            "required": false,
            "type": "string"
          },
          "redirectUri": {
            "example": "https://www.baggins.com/updated",
            "description": "URI the user will be redirected to after completing the process.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "account_id": 12345,
              "uri": "http://stage.wepay.com/api/account_update_uri/12345"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    // requred\n    var wepay_params = {\n      'account_id': inputs.accountId,\n      'mode': inputs.mode || undefined,\n      'redirect_uri': inputs.redirectUri || undefined\n    };\n\n    // Instantiate new wepay instance with options\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/account/get_update_uri', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Add or update all incomplete items for an account like KYC info, bank account, etc. It will return a URL that a user can visit to update info for his or her account.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/account-get-uri",
        "docsUrl": "http://node-machine.org/machinepack-wepay/account-get-uri",
        "defaultExit": null,
        "machinepack": 172,
        "id": 788,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "checkout-create",
        "variableName": "checkoutCreate",
        "friendlyName": "Create Checkout",
        "cacheable": null,
        "sync": null,
        "description": "Create a checkout for an account.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user accepting the checkout payment.",
            "required": true,
            "type": "string"
          },
          "accountId": {
            "example": 1548718026,
            "description": "The unique ID of the account you want to create a checkout for.",
            "required": true,
            "type": "number"
          },
          "shortDescription": {
            "example": "2 dozen bisquits",
            "description": "A short description of what is being paid for. Max 255 chars.",
            "required": true,
            "type": "string"
          },
          "type": {
            "example": "goods",
            "description": "The checkout type (one of the following: goods, service, donation, event or personal). Must be in lowercase.",
            "required": true,
            "type": "string"
          },
          "amount": {
            "example": 9.99,
            "description": "The amount that the payer will pay.",
            "required": true,
            "type": "number"
          },
          "currency": {
            "example": "USD",
            "description": "The currency used. Possible values: USD, CAD",
            "required": true,
            "type": "string"
          },
          "longDescription": {
            "example": "This recipe will produce the biggest biscuits in the history of the world! Serve these gems with butter, preserves, gravy or they can also be used as dinner rolls...you get the picture.",
            "description": "A long description of what is being paid for. Max 2047 chars.",
            "required": false,
            "type": "string"
          },
          "emailMessage": {
            "example": {},
            "description": "Specifies a short message to send to the payee and payer when a checkout is successful. More at https://stage.wepay.com/developer/reference/structures#email_message",
            "required": false,
            "type": "object"
          },
          "fee": {
            "example": {},
            "description": "Specify whether an app fee will be collected and who should pay the app fee. For EMV transactions, this parameter must be present. More at https://stage.wepay.com/developer/reference/structures#fee",
            "required": false,
            "type": "object"
          },
          "callbackUri": {
            "example": "https://www.baggins.com/callback",
            "description": "The uri that will receive any instant payment notifications sent. Needs to be a full uri (ex https://www.wepay.com ) and must NOT be localhost or 127.0.0.1 or include wepay.com.",
            "required": false,
            "type": "string"
          },
          "autoCapture": {
            "example": false,
            "description": "A boolean value (true or false) default is true.",
            "extendedDescription": "A boolean value (true or false) default is true. If set to false then the payment will not automatically be released to the account and will be held by WePay in payment state \"reserved\". To release funds to the account you must call /checkout/capture. If you do not capture the funds within 14 days then the payment will be automatically cancelled or refunded.",
            "required": false,
            "type": "boolean"
          },
          "referenceId": {
            "example": "1234abcd",
            "description": "Reference id for this checkout.",
            "required": false,
            "type": "string"
          },
          "uniqueId": {
            "example": "abcdef123456",
            "description": "Customer-generated unique_id. WePay will only process a single call with a given unique_id. Platforms can use this to prevent duplicates, e.g. when retrying if a call times out. See below for tips on handling errors.",
            "required": false,
            "type": "string"
          },
          "hostedCheckout": {
            "example": {},
            "description": "Use this to have payers enter payment information on a WePay hosted checkout URL. Send either hosted_checkout or payment_method parameter. Do not send both parameters at the same time. If neither parameter is specified, default behavior will be hosted_checkout. Full example object at https://stage.wepay.com/developer/reference/structures#hosted_checkout.",
            "required": false,
            "type": "object"
          },
          "paymentMethod": {
            "example": {},
            "description": "Use this to pay using previously acquired payment information, such as a preapproval or a credit card.",
            "extendedDescription": "Use this to pay using previously acquired payment information, such as a preapproval or a credit card. Send either hosted_checkout or payment_method parameter. Do not send both parameters at the same time. If neither parameter is specified, default behavior will be hosted_checkout.",
            "required": false,
            "type": "object"
          },
          "deliveryType": {
            "example": "none",
            "description": "Delivery type for checkout. Possible values: none, fully_delivered, point_of_sale, shipping, donation, subscription, partial_prepayment, full_prepayment. Must be in lower case.",
            "required": false,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "checkout_id": 649945633,
              "account_id": 1548718026,
              "type": "donation",
              "short_description": "test",
              "currency": "USD",
              "amount": 20,
              "state": "new",
              "soft_descriptor": "WPY*Wolverine",
              "auto_capture": true,
              "create_time": 1439582388,
              "delivery_type": "point_of_sale",
              "long_description": "test",
              "callback_uri": "http://www.test.com",
              "reference_id": "null",
              "fee": {
                "app_fee": 1,
                "fee_payer": "payer",
                "processing_fee": 0
              },
              "gross": 0,
              "chargeback": {
                "amount_charged_back": 0,
                "dispute_uri": "null"
              },
              "refund": {
                "amount_refunded": 0,
                "refund_reason": "null"
              },
              "hosted_checkout": {
                "checkout_uri": "http://wepay.com/api/iframe/649945633/51e59317/api_checkout?iframe=1",
                "redirect_uri": "http://www.test.com",
                "shipping_fee": 2,
                "require_shipping": true,
                "shipping_address": "null",
                "theme_object": {
                  "theme_id": 96914023,
                  "name": "test",
                  "primary_color": "ffffff",
                  "secondary_color": "000000",
                  "background_color": "ffffff",
                  "button_color": "000000"
                },
                "mode": "iframe"
              },
              "payer": {
                "name": "null",
                "email": "null",
                "home_address": "null"
              },
              "npo_information": {
                "legal_name": "org name",
                "ein": "343644743"
              },
              "payment_error": "null"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'account_id': inputs.accountId,\n      'short_description': inputs.shortDescription,\n      'type': inputs.type,\n      'amount': inputs.amount,\n      'currency': inputs.currency,\n      'long_description': inputs.longDescription || undefined,\n      'email_message': inputs.emailMessage || undefined,\n      'fee': inputs.fee || undefined,\n      'callback_uri': inputs.callbackUri || undefined,\n      'auto_capture': inputs.autoCapture ? true : false, // Booleans need ternary or false evaluated to undefined\n      'reference_id': inputs.referenceId || undefined,\n      'unique_id': inputs.uniqueId || undefined,\n      'hosted_checkout': inputs.hostedCheckout || undefined,\n      'payment_method': inputs.paymentMethod || undefined,\n      'delivery_type': inputs.deliveryType || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/checkout/create', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "There are two ways to have your customers make a payment. You can have the checkout url hosted by WePay or you can use a previously acquired payment method, such as a preapproval or a credit card.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/checkout-create",
        "docsUrl": "http://node-machine.org/machinepack-wepay/checkout-create",
        "defaultExit": null,
        "machinepack": 172,
        "id": 789,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "checkout-capture",
        "variableName": "checkoutCapture",
        "friendlyName": "Capture Checkout",
        "cacheable": null,
        "sync": null,
        "description": "Capture a checkout that was not auto captured.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to capture a payment for.",
            "required": true,
            "type": "string"
          },
          "checkoutId": {
            "example": 12345,
            "description": "The unique ID of the checkout to be captured.",
            "required": true,
            "type": "number"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "checkout_id": 12345,
              "state": "captured"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    // requred\n    var wepay_params = {\n      'checkout_id': inputs.checkoutId\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/checkout/capture', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "If auto_capture was set to false when the checkout was created, you will need to make this call to release funds to the account. Until you make this call the money will be held by WePay and if you do not capture the funds within 14 days then the payment will be automatically cancelled or refunded. You can only make this call if the checkout is in state 'reserved'.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/checkout-capture",
        "docsUrl": "http://node-machine.org/machinepack-wepay/checkout-capture",
        "defaultExit": null,
        "machinepack": 172,
        "id": 790,
        "createdAt": "2016-04-24T19:49:38.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "user-register",
        "variableName": "userRegister",
        "friendlyName": "User Register",
        "cacheable": null,
        "sync": null,
        "description": "Register a new user account that can accept payments.",
        "inputs": {
          "clientId": {
            "example": 123456,
            "description": "The integer client ID issued to the app, found on your application's dashboard",
            "required": true,
            "type": "number"
          },
          "clientSecret": {
            "example": "6446c521bd",
            "description": "The string client secret issued to the app, found on your application's dashboard",
            "required": true,
            "type": "string"
          },
          "email": {
            "example": "bilbo@baggins.com",
            "description": "The email of the user you want to register",
            "required": true,
            "type": "string"
          },
          "scope": {
            "example": "manage_accounts,collect_payments,view_user,send_money,preapprove_payments",
            "description": "A comma separated list of permissions.",
            "required": true,
            "type": "string"
          },
          "firstName": {
            "example": "Bilbo",
            "description": "The first name of the user you want to register",
            "required": true,
            "type": "string"
          },
          "lastName": {
            "example": "Baggins",
            "description": "The last name of the user you want to register",
            "required": true,
            "type": "string"
          },
          "originalIp": {
            "example": "74.125.224.84",
            "description": "The IP address of the user you want to register",
            "required": true,
            "type": "string"
          },
          "originalDevice": {
            "example": "Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.102 Safari/534.13",
            "description": "The user-agent (for web) or the IMEI (for mobile) of the user you want to register",
            "required": true,
            "type": "string"
          },
          "tosAcceptanceTime": {
            "example": 1209600,
            "description": "A Unix timestamp referencing the time the user accepted WePay's terms of service.",
            "required": true,
            "type": "number"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          },
          "redirectUri": {
            "example": "https://www.baggins.com/thanks",
            "description": "The uri the user will be redirected to after they have confirmed they wanted to be registered on WePay. By default this will be your application's homepage.",
            "required": false,
            "type": "string"
          },
          "callbackUri": {
            "example": "https://www.baggins.com/callback",
            "description": "The callback_uri you want to receive IPNs on. Must be a full URI.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "user_id": 567235,
              "access_token": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
              "token_type": "BEARER",
              "expires_in": 1209600
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'client_id': inputs.clientId,\n      'client_secret': inputs.clientSecret\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'client_id': inputs.clientId,\n      'client_secret': inputs.clientSecret,\n      'email': inputs.email,\n      'scope': inputs.scope,\n      'first_name': inputs.firstName,\n      'last_name': inputs.lastName,\n      'original_ip': inputs.originalIp,\n      'original_device': inputs.originalDevice,\n      'tos_acceptance_time': inputs.tosAcceptanceTime,\n      'direct_uri': inputs.redirectUri || undefined,\n      'callback_uri': inputs.callbackUri || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/user/register', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Register a new user account with WePay and returns an access token.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/user-register",
        "docsUrl": "http://node-machine.org/machinepack-wepay/user-register",
        "defaultExit": null,
        "machinepack": 172,
        "id": 791,
        "createdAt": "2016-04-25T22:30:05.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "user-confirm",
        "variableName": "userConfirm",
        "friendlyName": "User Confirmation Send",
        "cacheable": null,
        "sync": null,
        "description": "Send confirmation email to users registered with Register User machine.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to send confirmation to.",
            "required": true,
            "type": "string"
          },
          "emailMessage": {
            "example": "Welcome to my <strong>application</strong>",
            "description": "A short message that will be included in the email to the user.",
            "required": true,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "user_id": 12345,
              "first_name": "Bill",
              "last_name": "Clerico",
              "email": "api@wepay.com",
              "state": "registered"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay request settings\n    var wepay_settings = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_settings);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/user/send_confirmation',\n    {\n      'email_message': inputs.emailMessage\n    },\n    function(response) {\n\n      var responseObj = JSON.parse(String(response));\n\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "For users who were registered via the /user/register call, this API call must be used to send the registration confirmation email. This call can also be used later to resend the registration confirmation email as needed.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/user-confirm",
        "docsUrl": "http://node-machine.org/machinepack-wepay/user-confirm",
        "defaultExit": null,
        "machinepack": 172,
        "id": 792,
        "createdAt": "2016-04-25T22:30:05.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "checkout-find",
        "variableName": "checkoutFind",
        "friendlyName": "Find Checkout",
        "cacheable": null,
        "sync": null,
        "description": "Search for checkouts associated with an account. Returns an array of matching checkouts.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user accepting the checkout payment.",
            "required": true,
            "type": "string"
          },
          "accountId": {
            "example": 1548718026,
            "description": "The unique ID of the account you want to create a checkout for.",
            "required": true,
            "type": "number"
          },
          "start": {
            "example": 10,
            "description": "The start position for your search (default 0).",
            "required": false,
            "type": "number"
          },
          "limit": {
            "example": 25,
            "description": "The maximum number of returned entries (default 50).",
            "required": false,
            "type": "number"
          },
          "referenceId": {
            "example": "123abc",
            "description": "The unique reference id of the checkout (set by Create Checkout machine).",
            "required": false,
            "type": "string"
          },
          "state": {
            "example": "active",
            "description": "What state the checkout is in.",
            "required": false,
            "whereToGet": {
              "url": "https://www.wepay.com/developer/reference/checkout#states",
              "description": "View a list of possible states in WePay docs."
            },
            "type": "string"
          },
          "preapprovalId": {
            "example": 123,
            "description": "The ID of the preapproval that was used to create the checkout. Useful if you want to look up all of the payments for an auto_recurring preapproval.",
            "required": false,
            "type": "number"
          },
          "startTime": {
            "example": 1209600,
            "description": "All checkouts after a given unix timestamp.",
            "required": false,
            "type": "number"
          },
          "endTime": {
            "example": 1209600,
            "description": "All checkouts before a given unix timestamp.",
            "required": false,
            "type": "number"
          },
          "sortOrder": {
            "example": "DESC",
            "description": "Sort the results of the search by time created. Use \"DESC\" for most recent to least recent. Use \"ASC\" for least recent to most recent. Defaults to \"DESC\".",
            "required": false,
            "type": "string"
          },
          "shippingFee": {
            "example": 2.99,
            "description": "All checkouts that have the given shipping fee.",
            "required": false,
            "type": "number"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "checkout_id": 513220415,
                "account_id": 1548718026,
                "type": "donation",
                "short_description": "test payment",
                "currency": "USD",
                "amount": 20,
                "state": "captured",
                "soft_descriptor": "WPY*Wolverine",
                "auto_capture": true,
                "create_time": 1439582902,
                "delivery_type": "point_of_sale",
                "gross": 23.96,
                "long_description": "This is a test payment.",
                "reference_id": "123abc",
                "callback_uri": "http://www.example.com",
                "fee": {
                  "app_fee": 1,
                  "fee_payer": "payer",
                  "processing_fee": 0.96
                },
                "chargeback": {
                  "amount_charged_back": 0,
                  "dispute_uri": "http://wepay.com/dispute/payer_create/148/81bdda6feea880d5d586"
                },
                "refund": {
                  "amount_refunded": 0,
                  "refund_reason": "null"
                },
                "hosted_checkout": {
                  "checkout_uri": "http://wepay.com/api/iframe/513220415/8a8d959e/api_checkout?iframe=1",
                  "redirect_uri": "http://www.test.com",
                  "shipping_fee": 2,
                  "require_shipping": true,
                  "shipping_address": {
                    "name": "Test Smith",
                    "address1": "Main Street",
                    "address2": "",
                    "city": "Sunnyvale",
                    "country": "US",
                    "state": "CA",
                    "zip": "94085"
                  },
                  "theme_object": {
                    "theme_id": 21146702,
                    "name": "test",
                    "primary_color": "ffffff",
                    "secondary_color": "000000",
                    "background_color": "ffffff",
                    "button_color": "000000"
                  },
                  "mode": "iframe"
                },
                "payer": {
                  "email": "test@test.com",
                  "name": "Test Smith",
                  "home_address": "null"
                },
                "npo_information": "null",
                "payment_error": "null"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'account_id': inputs.accountId,\n      'start': inputs.start || undefined,\n      'limit': inputs.limit || undefined,\n      'reference_id': inputs.referenceId || undefined,\n      'state': inputs.state || undefined,\n      'preapproval_id': inputs.preapprovalId || undefined,\n      'start_time': inputs.startTime || undefined,\n      'end_time': inputs.endTime || undefined,\n      'sort_order': inputs.sortOrder || undefined,\n      'shipping_fee': inputs.shippingFee || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/checkout/find', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "An array of checkouts matching the search parameters. Each element of the array will include the same data as returned from the Create Checkout machine.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/checkout-find",
        "docsUrl": "http://node-machine.org/machinepack-wepay/checkout-find",
        "defaultExit": null,
        "machinepack": 172,
        "id": 793,
        "createdAt": "2016-04-25T22:30:05.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "checkout-refund",
        "variableName": "checkoutRefund",
        "friendlyName": "Refund Checkout",
        "cacheable": null,
        "sync": null,
        "description": "Refunds the payment associated with the checkout created by the application. Checkout must be in \"captured\" state.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user issuing the checkout refund.",
            "required": true,
            "type": "string"
          },
          "checkoutId": {
            "example": 1548718026,
            "description": "The unique ID of the checkout you want to refund.",
            "required": true,
            "type": "number"
          },
          "refundReason": {
            "example": "Accidental payment",
            "description": "The reason the payment is being refunded.",
            "required": true,
            "type": "string"
          },
          "amount": {
            "example": 4.99,
            "description": "The total amount that will be refunded back to the payer.",
            "extendedDescription": "Note that this amount must be less than the \"net\" of the transaction. To perform a full refund, do not pass the amount parameter.",
            "required": false,
            "type": "number"
          },
          "appFee": {
            "example": 1.99,
            "description": "The portion of the \"amount\" that will be refunded as an app_fee refund.",
            "required": false,
            "type": "number"
          },
          "payerEmailMessage": {
            "example": "Here is your refund.",
            "description": "A short message that will be included in the payment refund email to the payer.",
            "required": false,
            "type": "string"
          },
          "payeeEmailMessage": {
            "example": "A refund was issued.",
            "description": "A short message that will be included in the payment refund email to the payee.",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "checkout_id": 12345,
              "state": "refunded"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    var wepay_params = {\n      'account_id': inputs.accountId,\n      'checkout_id': inputs.checkoutId,\n      'refund_reason': inputs.refundReason,\n      'amount': inputs.amount || undefined,\n      'app_fee': inputs.appFee || undefined,\n      'payer_email_message': inputs.payerEmailMessage || undefined,\n      'payee_email_message': inputs.payeeEmailMessage || undefined\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/checkout/refund', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "Refunds the payment associated with the checkout created by the application. Checkout must be in \"captured\" state.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/checkout-refund",
        "docsUrl": "http://node-machine.org/machinepack-wepay/checkout-refund",
        "defaultExit": null,
        "machinepack": 172,
        "id": 794,
        "createdAt": "2016-04-25T22:30:05.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "checkout-details",
        "variableName": "checkoutDetails",
        "friendlyName": "Checkout Details",
        "cacheable": null,
        "sync": null,
        "description": "Get details about a checkout.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to capture a payment for.",
            "required": true,
            "type": "string"
          },
          "checkoutId": {
            "example": 12345,
            "description": "The unique ID of the checkout to get details for.",
            "required": true,
            "type": "number"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "checkout_id": 649945633,
              "account_id": 1548718026,
              "type": "donation",
              "short_description": "test",
              "currency": "USD",
              "amount": 20,
              "state": "new",
              "soft_descriptor": "WPY*Wolverine",
              "auto_capture": true,
              "create_time": 1439582388,
              "delivery_type": "point_of_sale",
              "long_description": "test",
              "callback_uri": "http://www.test.com",
              "reference_id": "null",
              "fee": {
                "app_fee": 1,
                "fee_payer": "payer",
                "processing_fee": 0
              },
              "gross": 0,
              "chargeback": {
                "amount_charged_back": 0,
                "dispute_uri": "null"
              },
              "refund": {
                "amount_refunded": 0,
                "refund_reason": "null"
              },
              "hosted_checkout": {
                "checkout_uri": "http://wepay.com/api/iframe/649945633/51e59317/api_checkout?iframe=1",
                "redirect_uri": "http://www.test.com",
                "shipping_fee": 2,
                "require_shipping": true,
                "shipping_address": "null",
                "theme_object": {
                  "theme_id": 96914023,
                  "name": "test",
                  "primary_color": "ffffff",
                  "secondary_color": "000000",
                  "background_color": "ffffff",
                  "button_color": "000000"
                },
                "mode": "iframe"
              },
              "payer": {
                "name": "null",
                "email": "null",
                "home_address": "null"
              },
              "npo_information": {
                "legal_name": "org name",
                "ein": "343644743"
              },
              "payment_error": "null"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    // requred\n    var wepay_params = {\n      'checkout_id': inputs.checkoutId\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/checkout', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "This machine allows you to lookup the details of a specific checkout on WePay using the checkout_id. Response parameters marked \"if available\" will only show up if they have values.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/checkout-details",
        "docsUrl": "http://node-machine.org/machinepack-wepay/checkout-details",
        "defaultExit": null,
        "machinepack": 172,
        "id": 799,
        "createdAt": "2016-05-06T02:30:03.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      },
      {
        "identity": "checkout-cancel",
        "variableName": "checkoutCancel",
        "friendlyName": "Checkout Cancel",
        "cacheable": null,
        "sync": null,
        "description": "Cancel a checkout.",
        "inputs": {
          "accessToken": {
            "example": "604f39f41e364951ced74070c6e8bfa49d346cdfee6191b03c2c2d9c9cda9184",
            "description": "The string access token of the user you want to capture a payment for.",
            "required": true,
            "type": "string"
          },
          "checkoutId": {
            "example": 12345,
            "description": "The unique ID of the checkout to get details for.",
            "required": true,
            "type": "number"
          },
          "cancelReason": {
            "example": "Product was defective. Do not want.",
            "description": "The reason the payment is being cancelled.",
            "required": true,
            "type": "string"
          },
          "useProduction": {
            "example": false,
            "description": "Use WePay production API - payments will be charged. Defaults to WePay staging - payments are not charged.",
            "required": false,
            "type": "boolean"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "checkout_id": 12345,
              "state": "cancelled"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "    /**\n    * Module Dependencies\n    */\n\n    var wepay = require('wepay').WEPAY;\n\n    // wepay object options\n    var wepay_options = {\n      'access_token': inputs.accessToken\n      // 'api_version': 'API_VERSION'\n    };\n\n    // wepay request params\n    // requred\n    var wepay_params = {\n      'checkout_id': inputs.checkoutId,\n      'cancel_reason': inputs.cancelReason\n    };\n\n    // Instantiate new wepay instance with settings\n    var wp = new wepay(wepay_options);\n\n    // Set API environment\n    if(inputs.useProduction){\n      wp.use_production();\n    }\n    else{\n      wp.use_staging();\n    }\n\n    wp.call('/checkout/cancel', wepay_params, function onResponse(response) {\n\n      // Convert buffer respond to JSON object\n      var responseObj = JSON.parse(String(response));\n\n      // Catch error\n      if(responseObj.error){\n        return exits.error(responseObj);\n      }\n      // Else success\n      else{\n        return exits.success(responseObj);\n      }\n\n    });\n  ",
        "environment": [],
        "extendedDescription": "This machine allows you to lookup the details of a specific checkout on WePay using the checkout_id. Response parameters marked \"if available\" will only show up if they have values.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-wepay/checkout-cancel",
        "docsUrl": "http://node-machine.org/machinepack-wepay/checkout-cancel",
        "defaultExit": null,
        "machinepack": 172,
        "id": 800,
        "createdAt": "2016-05-06T02:30:03.000Z",
        "updatedAt": "2016-05-06T02:30:03.000Z"
      }
    ],
    "identity": "machinepack-wepay",
    "version": "0.1.4",
    "latestVersionPublishedAt": "2016-05-06T00:00:00.000Z",
    "variableName": "WePay",
    "friendlyName": "WePay",
    "description": "Communicate with WePay API to register users, create accounts and accept payments.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-wepay",
    "docsUrl": "http://node-machine.org/machinepack-wepay",
    "npmUrl": "http://npmjs.org/package/machinepack-wepay",
    "npmPackageName": "machinepack-wepay",
    "githubUrl": "http://github.com/lukeheath/machinepack-wepay/",
    "sourceUrl": "http://github.com/lukeheath/machinepack-wepay/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^10.0.0"
      },
      {
        "name": "wepay",
        "semverRange": "0.0.5"
      }
    ],
    "contributors": [
      {
        "name": "Luke Heath",
        "email": ""
      },
      {
        "name": "lukeheath",
        "email": "luke@lukeheath.com"
      }
    ],
    "id": 172,
    "createdAt": "2016-04-24T19:49:38.000Z",
    "updatedAt": "2016-05-06T02:30:03.000Z",
    "numMachines": 17
  },
  {
    "machines": [],
    "identity": "machinepack-yelp",
    "version": "1.0.0",
    "latestVersionPublishedAt": "2015-05-17T00:00:00.000Z",
    "variableName": "Yelp",
    "friendlyName": "Yelp",
    "description": "Work with yelp 2.0 API.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-yelp",
    "docsUrl": "http://node-machine.org/machinepack-yelp",
    "npmUrl": "http://npmjs.org/package/machinepack-yelp",
    "npmPackageName": "machinepack-yelp",
    "githubUrl": "http://github.com/johntom/machinepack-yelp/",
    "sourceUrl": "http://github.com/johntom/machinepack-yelp/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "yelp",
        "semverRange": "^0.2.0"
      }
    ],
    "contributors": [
      {
        "name": "johntom",
        "email": "jrt@gtz.com"
      }
    ],
    "id": 117,
    "createdAt": "2015-05-17T16:29:39.000Z",
    "updatedAt": "2015-05-17T16:29:39.000Z",
    "numMachines": 0
  },
  {
    "machines": [
      {
        "identity": "get-play-count",
        "variableName": "getPlayCount",
        "friendlyName": "Get play count",
        "cacheable": true,
        "sync": null,
        "description": "Display the number of views of a Youtube Video.",
        "inputs": {
          "url": {
            "example": "https://www.youtube.com/watch?v=TruIq5IxuiU",
            "description": "The URL of a Youtube Video.",
            "required": true,
            "type": "string"
          },
          "apiKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The private Google API key for this application.",
            "required": true,
            "protect": true,
            "whereToGet": {
              "url": "https://console.developers.google.com/project/hip-cycling-830/apiui/credential",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If the key type you need does not already exist, create an API key by selecting Create New Key and then selecting \"Server API Key\". Then enter the additional data required for that key type.  Also make sure the YouTube API is enabled here: https://console.developers.google.com/project/hip-cycling-830/apiui/apiview/youtube"
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "rateLimitExceeded": {
            "description": "The rate limit has been exceeded."
          },
          "invalidUrl": {
            "description": "Unable to parse a video id from the provided YouTube URL."
          },
          "success": {
            "description": "OK.",
            "extendedDescription": "Counts are reflected as strings to prevent integer overflow issues.",
            "example": {
              "viewCount": "19255096",
              "likeCount": "116321"
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var Machine = require('machine');\n    var Http = require('machinepack-http');\n\n    // The Youtube API URL setup\n    var BASE_URL = Machine.build(require('./get-base-url')).execSync();\n\n    // Get the id of the video from the URL\n    var videoId = Machine.build(require('./parse-video-id')).configure({\n      url: inputs.url\n    }).execSync();\n\n    Http.sendHttpRequest({\n      baseUrl: BASE_URL,\n      method: 'get',\n      url: '/videos',\n      params: {\n        part: 'contentDetails,statistics',\n        id: videoId,\n        key: inputs.apiKey\n      }\n    }).exec({\n      // OK.\n      success: function(httpResponse) {\n\n        // Parse response body and build up result.\n        var responseBody;\n        var result;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n          result = {\n            viewCount: responseBody.items[0].statistics.viewCount,\n            likeCount: responseBody.items[0].statistics.likeCount\n          };\n        } catch (e) {\n          return exits.error('Unexpected response from YouTube API:\\n'+util.inspect(responseBody, false, null)+'\\nParse error:\\n'+util.inspect(e));\n        }\n\n        return exits.success(result);\n\n      },\n      // Non-2xx status code returned from server\n      notOk: function(httpResponse) {\n\n        try {\n          var responseBody = JSON.parse(httpResponse.body);\n          if (httpResponse.status === 403 && _.any(responseBody.error.errors, {\n              reason: 'rateLimitExceeded'\n            })) {\n            return exits.rateLimitExceeded();\n          }\n          // Unknown youtube error\n          return exits.error(httpResponse);\n        } catch (e) {\n          return exits.error('Unexpected response from YouTube API:\\n'+util.inspect(responseBody, false, null)+'\\nParse error:\\n'+util.inspect(e));\n        }\n\n      },\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-youtube/get-play-count",
        "docsUrl": "http://node-machine.org/machinepack-youtube/get-play-count",
        "defaultExit": "success",
        "machinepack": 28,
        "id": 105,
        "createdAt": "2015-02-16T23:51:46.000Z",
        "updatedAt": "2015-04-27T17:09:49.000Z"
      },
      {
        "identity": "parse-video-id",
        "variableName": "parseVideoId",
        "friendlyName": "Parse video ID",
        "cacheable": true,
        "sync": true,
        "description": "Parse the video ID from the provided YouTube.com URL.",
        "inputs": {
          "url": {
            "example": "https://www.youtube.com/watch?v=TruIq5IxuiU",
            "description": "The URL of a Youtube Video.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "invalidUrl": {
            "description": "Unable to parse a video id from the provided YouTube URL."
          },
          "success": {
            "description": "OK.",
            "example": "TruIq5IxuiU",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "\n    var URL = require('url');\n    var QS = require('querystring');\n\n    try {\n      var videoId = QS.parse(URL.parse(inputs.url).query).v;\n      return exits.success(videoId);\n    }\n    catch (e) {\n      return exits.invalidUrl(e);\n    }\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-youtube/parse-video-id",
        "docsUrl": "http://node-machine.org/machinepack-youtube/parse-video-id",
        "defaultExit": "success",
        "machinepack": 28,
        "id": 376,
        "createdAt": "2015-04-27T15:00:03.000Z",
        "updatedAt": "2015-04-27T17:09:49.000Z"
      },
      {
        "identity": "get-base-url",
        "variableName": "getBaseUrl",
        "friendlyName": "Get base URL",
        "cacheable": true,
        "sync": true,
        "description": "Return the base URL for the YouTube API.",
        "inputs": {},
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": "https://www.googleapis.com/youtube/v3",
            "isDefault": true,
            "type": "string"
          }
        },
        "fn": "    return exits.success('https://www.googleapis.com/youtube/v3');\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-youtube/get-base-url",
        "docsUrl": "http://node-machine.org/machinepack-youtube/get-base-url",
        "defaultExit": "success",
        "machinepack": 28,
        "id": 377,
        "createdAt": "2015-04-27T15:00:03.000Z",
        "updatedAt": "2015-04-27T17:09:49.000Z"
      },
      {
        "identity": "search-videos",
        "variableName": "searchVideos",
        "friendlyName": "Search videos",
        "cacheable": true,
        "sync": null,
        "description": "List Youtube videos which match the specified search query.",
        "inputs": {
          "query": {
            "description": "The search query",
            "example": "grumpy cat",
            "required": true,
            "type": "string"
          },
          "limit": {
            "example": 15,
            "description": "The maximum number of results to return.",
            "defaultsTo": 5,
            "max": 50,
            "min": 1,
            "type": "number"
          },
          "apiKey": {
            "example": "xAmBxAmBxAmBkjbyKkjbyKkjbyK",
            "description": "The private Google API key for this application.",
            "required": true,
            "protect": true,
            "whereToGet": {
              "url": "https://console.developers.google.com/project/hip-cycling-830/apiui/credential",
              "description": "Copy and paste an API key, or create one if you haven't already.",
              "extendedDescription": "If the key type you need does not already exist, create an API key by selecting Create New Key and then selecting \"Server API Key\". Then enter the additional data required for that key type.  Also make sure the YouTube API is enabled here: https://console.developers.google.com/project/hip-cycling-830/apiui/apiview/youtube"
            },
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": [
              {
                "id": "INscMGmhmX4",
                "url": "https://youtube.com/watch?v=INscMGmhmX4",
                "title": "The Original Grumpy Cat",
                "description": "Visit Grumpy Cat's Website: www.grumpycats.com New Tshirts at: http://bit.ly/gcteeshirts Twitter @RealGrumpyCat www.twitter.com/RealGrumpyCat Facebook ...",
                "publishedAt": "2012-09-25T14:36:51.000Z"
              }
            ],
            "isDefault": true,
            "type": "array"
          }
        },
        "fn": "\n    var util = require('util');\n    var _ = require('lodash');\n    var Machine = require('machine');\n    var Http = require('machinepack-http');\n\n    // If specified `limit` must be between 1 and 50.\n    if (!_.isUndefined(inputs.limit) && (inputs.limit > 50 || inputs.limit < 1)) {\n      return exits.error('Input value for `limit` should be a number between 1 and 50.');\n    }\n\n    Http.sendHttpRequest({\n      baseUrl: Machine.build(require('./get-base-url')).execSync(),\n      method: 'get',\n      url: '/search',\n      params: {\n        part: 'id,snippet',\n        type: 'video',\n        q: inputs.query,\n        maxResults: inputs.limit || 5,\n        key: inputs.apiKey\n      }\n    }).exec({\n\n      // An unexpected error occurred.\n      error: function(err) {\n        return exits.error(err);\n      },\n\n      // OK.\n      success: function(httpResponse) {\n\n        // Parse response body and build up result.\n        var responseBody;\n        var result;\n        try {\n          responseBody = JSON.parse(httpResponse.body);\n          result = _.reduce(responseBody.items, function (memo, video){\n\n            // Omit results with no video id\n            // (i.e. when the type is something other than youtube#video)\n            if (!video.id.videoId) {\n              return memo;\n            }\n            memo.push({\n              id: video.id.videoId,\n              url: 'https://youtube.com/watch?v='+video.id.videoId,\n              title: video.snippet.title,\n              description: video.snippet.description,\n              publishedAt: video.snippet.publishedAt\n            });\n            return memo;\n          }, []);\n        }\n        catch (e) {\n          return exits.error('Unexpected response from YouTube API:\\n'+util.inspect(responseBody, false, null)+'\\n\\nParse error:\\n'+util.inspect(e));\n        }\n\n        return exits.success(result);\n\n      }\n\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-youtube/search-videos",
        "docsUrl": "http://node-machine.org/machinepack-youtube/search-videos",
        "defaultExit": "success",
        "machinepack": 28,
        "id": 378,
        "createdAt": "2015-04-27T15:00:03.000Z",
        "updatedAt": "2015-04-27T17:09:49.000Z"
      }
    ],
    "identity": "machinepack-youtube",
    "version": "2.2.0",
    "latestVersionPublishedAt": "2015-04-27T00:00:00.000Z",
    "variableName": "Youtube",
    "friendlyName": "Youtube",
    "description": "Communicate with the Youtube API to get video views, etc.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-youtube",
    "docsUrl": "http://node-machine.org/machinepack-youtube",
    "npmUrl": "http://npmjs.org/package/machinepack-youtube",
    "npmPackageName": "machinepack-youtube",
    "githubUrl": "http://github.com/balderdashy/machinepack-youtube/",
    "sourceUrl": "http://github.com/balderdashy/machinepack-youtube/",
    "testsUrl": "",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "lodash",
        "semverRange": "^2.4.1"
      },
      {
        "name": "machine",
        "semverRange": "^4.0.5"
      },
      {
        "name": "machinepack-http",
        "semverRange": "^2.1.0"
      }
    ],
    "contributors": [
      {
        "name": "irl",
        "email": "irlnathan@gmail.com"
      },
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 28,
    "createdAt": "2015-02-16T23:51:46.000Z",
    "updatedAt": "2015-04-27T17:09:49.000Z",
    "numMachines": 4
  },
  {
    "machines": [
      {
        "identity": "create-ticket",
        "variableName": "createTicket",
        "friendlyName": "Say hello",
        "cacheable": null,
        "sync": null,
        "description": "Log a hello message with a generated secret code and other information",
        "inputs": {
          "username": {
            "example": "matt@machines.edu",
            "description": "The email of a Zendesk user account",
            "required": true,
            "type": "string"
          },
          "token": {
            "example": "fjPCIjPEjCBfgwlfjPCIjPEjCBfgwl",
            "description": "API token for access",
            "required": true,
            "type": "string"
          },
          "remoteUri": {
            "example": "https://machines.zendesk.com/api/v2",
            "description": "API for your zendesk instance",
            "required": true,
            "type": "string"
          },
          "requestorName": {
            "example": "Customer",
            "description": "Name of ticket requestor",
            "required": true,
            "type": "string"
          },
          "requestorEmail": {
            "example": "customer@gmail.com",
            "description": "Email of ticket requestor",
            "required": true,
            "type": "string"
          },
          "subject": {
            "example": "I need help with assembly",
            "description": "Short title for ticket",
            "required": true,
            "type": "string"
          },
          "tags": {
            "example": [],
            "description": "Array of tags for ticket",
            "required": false,
            "type": "array"
          },
          "comment": {
            "example": "When I opened the box the parts were missing. I need new parts.",
            "description": "Detailed comment for ticket",
            "required": false,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "example": {},
            "description": "OK.",
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var zendesk = require('node-zendesk');\n\n    var client = zendesk.createClient({\n      username: inputs.username,\n      token: inputs.token,\n      remoteUri: inputs.remoteUri\n    });\n\n    var ticket = {\n      'ticket': {\n        requester: {\n          name: inputs.requestorName,\n          email: inputs.requestorEmail,\n        },\n        tags: inputs.tags,\n        subject: inputs.subject,\n        comment: {\n          body: inputs.comment || '<no comment provided>'\n        }\n      }\n    };\n\n    console.log(ticket);\n\n    client.tickets.create(ticket, function(err, req, result) {\n      if (err) {\n        exits.error(err);\n      }\n      exits.success(result);\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "This example machine is part of machinepack-boilerplate, used to introduce everyone to machines.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-zendesk/create-ticket",
        "docsUrl": "http://node-machine.org/machinepack-zendesk/create-ticket",
        "defaultExit": "success",
        "machinepack": 114,
        "id": 485,
        "createdAt": "2015-05-13T21:49:19.000Z",
        "updatedAt": "2015-05-13T21:49:19.000Z"
      }
    ],
    "identity": "machinepack-zendesk",
    "version": "0.1.0",
    "latestVersionPublishedAt": "2015-05-13T00:00:00.000Z",
    "variableName": "Zendesk",
    "friendlyName": "Zendesk",
    "description": "Work with zendesk.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-zendesk",
    "docsUrl": "http://node-machine.org/machinepack-zendesk",
    "npmUrl": "http://npmjs.org/package/machinepack-zendesk",
    "npmPackageName": "machinepack-zendesk",
    "githubUrl": "/",
    "sourceUrl": "/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "machine",
        "semverRange": "^3.0.0"
      },
      {
        "name": "node-zendesk",
        "semverRange": "^1.1.2"
      }
    ],
    "contributors": [
      {
        "name": "facultymatt",
        "email": "matt@facultycreative.com"
      }
    ],
    "id": 114,
    "createdAt": "2015-05-13T21:49:19.000Z",
    "updatedAt": "2015-05-13T21:49:19.000Z",
    "numMachines": 1
  },
  {
    "machines": [
      {
        "identity": "unzip",
        "variableName": "unzip",
        "friendlyName": "Unzip",
        "cacheable": null,
        "sync": null,
        "description": "Unzip the specified .zip file and write the decompressed files/directories as contents of the specified destination directory.",
        "inputs": {
          "source": {
            "example": "/Users/mikermcneil/stuff.zip",
            "description": "The path (relative or absolute) to the .zip archive.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path using the current working directory.",
            "required": true,
            "type": "string"
          },
          "destination": {
            "example": "/Users/mikermcneil/my-stuff",
            "description": "The path (relative or absolute) to a directory where contents should be extracted.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path using the current working directory.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "isDefault": true
          }
        },
        "fn": "\n    var path = require('path');\n    var fs = require('fs');\n    var unzip = require('unzip');\n    var Filesystem = require('machinepack-fs');\n\n    var sourceArchive = path.resolve(inputs.source);\n    var destinationDir = path.resolve(inputs.destination);\n\n    // Ensure the parent directory exists.\n    Filesystem.ensureDir({\n      dir: destinationDir\n    }).exec({\n\n      // An unexpected error occurred.\n      error: exits.error,\n\n      // OK.\n      success: function() {\n\n        var srcStream = fs.createReadStream(sourceArchive);\n        var drainStream = unzip.Extract({ path: destinationDir });\n        drainStream.once('close', function (){ return exits.success(); });\n        drainStream.once('error', function (err){ return exits.error(err); });\n        srcStream.once('error', function (err){ return exits.error(err); });\n        srcStream.pipe(drainStream);\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-zip/unzip",
        "docsUrl": "http://node-machine.org/machinepack-zip/unzip",
        "defaultExit": "success",
        "machinepack": 31,
        "id": 110,
        "createdAt": "2015-02-16T23:51:52.000Z",
        "updatedAt": "2015-06-30T16:49:41.000Z"
      },
      {
        "identity": "zip",
        "variableName": "zip",
        "friendlyName": "Zip",
        "cacheable": null,
        "sync": null,
        "description": "Compress the specified source files or directories into a .zip file.",
        "inputs": {
          "sources": {
            "example": [
              "/Users/mikermcneil/foo/api/"
            ],
            "description": "The paths (relative or absolute) to the files or directories to zip.",
            "extendedDescription": "If a relative paths are provided, they will be resolved to an absolute path using the current working directory.",
            "required": true,
            "type": "array"
          },
          "destination": {
            "example": "/Users/mikermcneil/my-app.zip",
            "description": "The path (relative or absolute) where the .zip file should be written.",
            "extendedDescription": "If a relative path is provided, it will be resolved to an absolute path using the current working directory.",
            "required": true,
            "type": "string"
          }
        },
        "exits": {
          "error": {
            "description": "An unexpected error occurred.",
            "isCatchall": true,
            "type": "error"
          },
          "success": {
            "description": "OK.",
            "example": {
              "bytesWritten": 3523523
            },
            "isDefault": true,
            "type": "object"
          }
        },
        "fn": "\n    var path = require('path');\n    var fs = require('fs');\n    var _ = require('lodash');\n    var Archiver = require('archiver');\n    var Filesystem = require('machinepack-fs');\n\n    var srcPaths = _.map(inputs.sources, function (sourcePath){\n      return path.resolve(sourcePath);\n    });\n    var zipFileDestination = path.resolve(inputs.destination);\n    var zipFileParentPath = path.resolve(zipFileDestination, '..');\n\n    // Ensure the parent directory exists.\n    Filesystem.ensureDir({\n      dir: zipFileParentPath\n    }).exec({\n\n      // An unexpected error occurred.\n      error: exits.error,\n\n      // OK.\n      success: function() {\n\n        var archive = Archiver('zip');\n\n        var outputStream = fs.createWriteStream(zipFileDestination);\n        outputStream.once('close', function() {\n          return exits.success({\n            bytesWritten: archive.pointer()\n          });\n        });\n        outputStream.once('error', function (err) {\n          return exits.error(err);\n        });\n        archive.once('error', function (err) {\n          return exits.error(err);\n        });\n\n        archive.pipe(outputStream);\n\n        archive.bulk(_.map(srcPaths, function convertPathIntoArchiverBulkInstr(srcPath){\n          // Get (1) srcPath's parent and (2) the relative path to our srcPath from its parent\n          var srcParent = path.resolve(srcPath, '..');\n          var srcRelative = path.relative(srcParent, srcPath);\n          return { src: [ srcRelative, path.join(srcRelative, '**') ], cwd: srcParent, expand: true };\n        }));\n\n        archive.finalize();\n\n      }\n    });\n\n  ",
        "environment": [],
        "extendedDescription": "If something already exists at the specified destination (where the .zip file is going to go), it will be overwritten. If any of the specified sources do not exist, they will be ignored.",
        "moreInfoUrl": null,
        "videoUrl": null,
        "videoSrc": null,
        "iconSrc": null,
        "nodeMachineUrl": "http://node-machine.org/machinepack-zip/zip",
        "docsUrl": "http://node-machine.org/machinepack-zip/zip",
        "defaultExit": "success",
        "machinepack": 31,
        "id": 111,
        "createdAt": "2015-02-16T23:51:52.000Z",
        "updatedAt": "2015-06-30T16:49:41.000Z"
      }
    ],
    "identity": "machinepack-zip",
    "version": "1.1.0",
    "latestVersionPublishedAt": "2015-06-30T00:00:00.000Z",
    "variableName": "Zip",
    "friendlyName": "Zip",
    "description": "Zip and unzip files or directories in Node.js.",
    "extendedDescription": "",
    "moreInfoUrl": "",
    "iconSrc": "",
    "readmeHtml": null,
    "nodeMachineUrl": "http://node-machine.org/machinepack-zip",
    "docsUrl": "http://node-machine.org/machinepack-zip",
    "npmUrl": "http://npmjs.org/package/machinepack-zip",
    "npmPackageName": "machinepack-zip",
    "githubUrl": "http://github.com/mikermcneil/machinepack-zip/",
    "sourceUrl": "http://github.com/mikermcneil/machinepack-zip/",
    "testsUrl": "https://travis-ci.org/",
    "machineDir": "machines/",
    "author": "",
    "dependencies": [
      {
        "name": "archiver",
        "semverRange": "^0.14.2"
      },
      {
        "name": "lodash",
        "semverRange": "^3.2.0"
      },
      {
        "name": "machine",
        "semverRange": "^10.3.1"
      },
      {
        "name": "machinepack-fs",
        "semverRange": "^2.1.0"
      },
      {
        "name": "unzip",
        "semverRange": "^0.1.11"
      }
    ],
    "contributors": [
      {
        "name": "mikermcneil",
        "email": "michael.r.mcneil@gmail.com"
      }
    ],
    "id": 31,
    "createdAt": "2015-02-16T23:51:51.000Z",
    "updatedAt": "2015-06-30T16:49:41.000Z",
    "numMachines": 2
  }
]